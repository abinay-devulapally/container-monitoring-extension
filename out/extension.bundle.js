/*! For license information please see extension.bundle.js.LICENSE.txt */
(()=>{var e={286:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){"use strict";i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new R(n||[]);return a(o,"_invoke",{value:T(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function E(){}function w(){}var A={};p(A,c,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==r&&o.call(S,c)&&(A=S);var _=w.prototype=b.prototype=Object.create(A);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(i,a,s,c){var u=h(e[i],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var i=f;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var u=h(t,r,n);if("normal"===u.type){if(i=n.done?y:m,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=y,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return E.prototype=w,a(_,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:E,configurable:!0}),E.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(I.prototype),p(I.prototype,u,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new I(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),p(_,l,"Generator"),p(_,c,(function(){return this})),p(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,c,"next",e)}function c(e){o(a,n,i,s,c,"throw",e)}s(void 0)}))}}var s=r(1398),c=r(6928),u=r(6413),l=u.startServer,p=u.stopServer,d=r(9924),h=r(5738);l();var f=null,m=null;e.exports={activate:function(e){var t=s.commands.registerCommand("extension.setApiKey",a(i().mark((function t(){var r,n,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.window.showQuickPick(["ChatGPT API Key","Gemini API Key"],{placeHolder:"Select the type of API key to enter"});case 2:if(r=t.sent){t.next=6;break}return s.window.showWarningMessage("API key input was cancelled."),t.abrupt("return");case 6:return t.next=8,s.window.showInputBox({prompt:"Enter your ".concat(r),ignoreFocusOut:!0,password:!0});case 8:if(!(n=t.sent)){t.next=16;break}return o="ChatGPT API Key"===r?"chatgptApiKey":"geminiApiKey",t.next=13,e.secrets.store(o,n);case 13:s.window.showInformationMessage("".concat(r," saved successfully!")),t.next=17;break;case 16:s.window.showWarningMessage("API key input was cancelled.");case 17:case"end":return t.stop()}}),t)})))),r=s.commands.registerCommand("extension.startMonitoring",(function(){if(f||m)s.window.showInformationMessage("Container Monitoring is already running.");else{var e=[];f=new d(e),m=new h(e),f.run(),m.run(),s.window.showInformationMessage("Container Monitoring Started!")}})),n=s.commands.registerCommand("extension.stopMonitoring",(function(){f&&m?(f.stop(),m.stop(),f=null,m=null,s.window.showInformationMessage("Container Monitoring Stopped!")):s.window.showInformationMessage("Container Monitoring is not running.")})),o=s.commands.registerCommand("extension.openDashboard",a(i().mark((function t(){var r,n,o,a,u,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.window.createWebviewPanel("dashboard","Container Monitoring Dashboard",s.ViewColumn.One,{enableScripts:!0}),t.next=3,e.secrets.get("chatgptApiKey");case 3:return n=t.sent,t.next=6,e.secrets.get("geminiApiKey");case 6:o=t.sent,a=r.webview.asWebviewUri(s.Uri.file(c.join(e.extensionPath,"out","client","client_bundle.js"))),u=r.webview.asWebviewUri(s.Uri.file(c.join(e.extensionPath,"out","client","styles.css"))),l='\n            <!DOCTYPE html>\n            <html lang="en">\n\n            <head>\n                <meta charset="UTF-8">\n                <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                <title>Container Monitoring Dashboard</title>\n                <link href="'.concat(u,'" rel="stylesheet">\n                <script type="module" src="').concat(a,'"><\/script>\n                <script>\n                  window.chatgptApiKey = "').concat(n,'";\n                  window.geminiApiKey = "').concat(o,'";\n                <\/script>\n            </head>\n\n            <body class="bg-gray-950">\n                <div id="root"></div>\n                <div id="portal-root"></div>\n                <script>\n                    console.log(\'Loading bundle.js\');\n                <\/script>\n            </body>\n\n            </html>\n      '),r.webview.html=l;case 11:case"end":return t.stop()}}),t)}))));e.subscriptions.push(t),e.subscriptions.push(r),e.subscriptions.push(n),e.subscriptions.push(o)},deactivate:function(){console.log("Deactivating extension..."),f&&m&&(f.stop(),m.stop(),f=null,m=null),p()}}},7733:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){"use strict";i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new R(n||[]);return a(o,"_invoke",{value:T(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function E(){}function w(){}var A={};p(A,c,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==r&&o.call(S,c)&&(A=S);var _=w.prototype=b.prototype=Object.create(A);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(i,a,s,c){var u=h(e[i],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var i=f;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var u=h(t,r,n);if("normal"===u.type){if(i=n.done?y:m,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=y,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return E.prototype=w,a(_,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:E,configurable:!0}),E.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(I.prototype),p(I.prototype,u,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new I(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),p(_,l,"Generator"),p(_,c,(function(){return this})),p(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,c,"next",e)}function c(e){o(a,n,i,s,c,"throw",e)}s(void 0)}))}}var s=new(r(3841));e.exports={checkHealthyContainers:function(){return a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.listContainers({filters:{health:["healthy"]}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error("Error checking healthy containers:",e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},checkAllContainers:function(){return a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.listContainers();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error("Error checking all containers:",e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},checkUnhealthyContainers:function(){return a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.listContainers({filters:{health:["unhealthy"]}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.error("Error checking unhealthy containers:",e.t0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}},9924:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(){"use strict";a=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new R(n||[]);return o(a,"_invoke",{value:T(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function E(){}function w(){}var A={};p(A,c,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==r&&i.call(S,c)&&(A=S);var _=w.prototype=b.prototype=Object.create(A);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(o,a,s,c){var u=h(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,r,n){var i=f;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var u=h(t,r,n);if("normal"===u.type){if(i=n.done?y:m,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=y,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return E.prototype=w,o(_,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:E,configurable:!0}),E.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(I.prototype),p(I.prototype,u,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new I(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),p(_,l,"Generator"),p(_,c,(function(){return this})),p(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function s(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}var p=r(1398),d=r(857),h=r(7733),f=h.checkHealthyContainers,m=h.checkAllContainers,g=function(){return e=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queue=t,this.raisedAlerts=new Set,this.raisedAlarms=new Set,this.maxRetries=r,this.retryAttempts={},this.notifications=new Map,this.hostname=d.hostname(),this.hostAddress="http://localhost:8000",this.running=!1},t=[{key:"createAlert",value:function(){return{severity:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Warning",host:arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.hostname,service:arguments.length>2?arguments[2]:void 0,details:arguments.length>3?arguments[3]:void 0,isAlarm:arguments.length>4&&void 0!==arguments[4]&&arguments[4],status:arguments.length>5&&void 0!==arguments[5]?arguments[5]:"active"}}},{key:"sendRequest",value:(l=c(a().mark((function e(t,r){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(this.hostAddress,"/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 3:if(!(n=e.sent).ok){e.next=9;break}return console.info("".concat(t.charAt(0).toUpperCase()+t.slice(1)," request executed successfully")),e.abrupt("return");case 9:console.error("Failed to ".concat(t," alert with status code ").concat(n.status));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error ".concat(t," alert: ").concat(e.t0.message));case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(e,t){return l.apply(this,arguments)})},{key:"showNotification",value:function(e,t){try{switch(e){case"info":var r=p.window.showInformationMessage(t);this.notifications.set(t,r);break;case"warn":var n=p.window.showWarningMessage(t);this.notifications.set(t,n);break;case"error":var i=p.window.showErrorMessage(t);this.notifications.set(t,i);break;default:var o=p.window.showInformationMessage(t);this.notifications.set(t,o)}}catch(e){console.error("Error showing notification:",e)}}},{key:"clearNotification",value:(s=c(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.notifications.has(t)&&(r=this.notifications.get(t))&&(r.dispose(),this.notifications.delete(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"processEvent",value:(o=c(a().mark((function e(t){var r,n,i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r="/"===t.service[0]?t.service.slice(1):"",n="Container ".concat(r," HealthCheck failed after retries"),!t.status||this.raisedAlarms.has(t.service)){e.next=9;break}return i=this.createAlert("Critical",void 0,r,n,!0),this.showNotification("error",n),e.next=8,this.sendRequest("api/v1/alerts",i);case 8:this.raisedAlarms.add(t.service);case 9:if(this.raisedAlerts.has(t.service)){e.next=16;break}return o="Container ".concat(r," HealthCheck failed"),s=this.createAlert(void 0,void 0,r,o),this.showNotification("warn",o),e.next=15,this.sendRequest("api/v1/alerts",s);case 15:this.raisedAlerts.add(t.service);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("Error processing event:",e.t0);case 21:case"end":return e.stop()}}),e,this,[[0,18]])}))),function(e){return o.apply(this,arguments)})},{key:"checkAndClearAlerts",value:(n=c(a().mark((function e(){var t,r,n,o,s,c,u,l,p,d,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Set,e.next=4,f();case 4:return e.t1=e.sent.map((function(e){return e.Names[0]})),t=new e.t0(e.t1),e.t2=Set,e.next=9,m();case 9:e.t3=e.sent.map((function(e){return e.Names[0]})),r=new e.t2(e.t3),n="",o=i(this.raisedAlerts),e.prev=13,o.s();case 15:if((s=o.n()).done){e.next=28;break}if(c=s.value,!t.has(c)&&r.has(c)){e.next=26;break}return n=c.startsWith("/")?c.slice(1):"",u=this.createAlert(void 0,void 0,n,"Container ".concat(n," HealthCheck failed"),!1,"cleared"),e.next=22,this.clearNotification("".concat(n," alert cleared"));case 22:return e.next=24,this.sendRequest("api/v1/clear-alert",u);case 24:this.showNotification("info","".concat(n," alert cleared")),this.raisedAlerts.delete(c);case 26:e.next=15;break;case 28:e.next=33;break;case 30:e.prev=30,e.t4=e.catch(13),o.e(e.t4);case 33:return e.prev=33,o.f(),e.finish(33);case 36:l=i(this.raisedAlarms),e.prev=37,l.s();case 39:if((p=l.n()).done){e.next=52;break}if(d=p.value,!t.has(d)&&r.has(d)){e.next=50;break}return n=d.startsWith("/")?d.slice(1):"",h=this.createAlert("Critical",void 0,n,"Container ".concat(n," HealthCheck failed after retries"),!0,"cleared"),e.next=46,this.clearNotification("".concat(n," alarm cleared and healthy"));case 46:return e.next=48,this.sendRequest("api/v1/clear-alert",h);case 48:this.showNotification("info","".concat(n," alarm cleared and healthy")),this.raisedAlarms.delete(d);case 50:e.next=39;break;case 52:e.next=57;break;case 54:e.prev=54,e.t5=e.catch(37),l.e(e.t5);case 57:return e.prev=57,l.f(),e.finish(57);case 60:e.next=65;break;case 62:e.prev=62,e.t6=e.catch(0),console.error("Error checking and clearing alerts:",e.t6);case 65:case"end":return e.stop()}}),e,this,[[0,62],[13,30,33,36],[37,54,57,60]])}))),function(){return n.apply(this,arguments)})},{key:"run",value:(r=c(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.running=!0;case 1:if(!this.running){e.next=24;break}if(e.prev=2,!(this.queue.length>0)){e.next=10;break}return t=this.queue.shift(),console.info("Processing event: ".concat(JSON.stringify(t))),e.next=8,this.processEvent(t);case 8:return e.next=10,new Promise((function(e){return setTimeout(e,3e3)}));case 10:if(!(this.raisedAlerts.size>0||this.raisedAlarms.size>0)){e.next=13;break}return e.next=13,this.checkAndClearAlerts();case 13:return e.next=15,new Promise((function(e){return setTimeout(e,1e4)}));case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(2),console.error("Unexpected error: ".concat(e.t0)),e.next=22,new Promise((function(e){return setTimeout(e,1e3)}));case 22:e.next=1;break;case 24:case"end":return e.stop()}}),e,this,[[2,17]])}))),function(){return r.apply(this,arguments)})},{key:"stop",value:function(){console.log("dockerAlertHandler Process Stopped"),this.running=!1}}],t&&u(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,o,s,l}();e.exports=g},5738:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(){"use strict";i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new R(n||[]);return a(o,"_invoke",{value:T(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function E(){}function w(){}var A={};p(A,c,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==r&&o.call(S,c)&&(A=S);var _=w.prototype=b.prototype=Object.create(A);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(i,a,s,c){var u=h(e[i],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var i=f;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var u=h(t,r,n);if("normal"===u.type){if(i=n.done?y:m,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=y,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return E.prototype=w,a(_,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:E,configurable:!0}),E.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(I.prototype),p(I.prototype,u,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new I(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),p(_,l,"Generator"),p(_,c,(function(){return this})),p(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,c,"next",e)}function c(e){o(a,n,i,s,c,"throw",e)}s(void 0)}))}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,c(n.key),n)}}function c(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}var u=r(2268),l=r(7733),p=l.checkHealthyContainers,d=l.checkUnhealthyContainers,h=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.queue=t,this.maxRetries=2,this.processedContainers=new Set,this.running=!1},t=[{key:"processContainer",value:(o=a(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.processedContainers.has(t.Id)){e.next=2;break}return e.abrupt("return");case 2:r=1;case 3:if(!(r<this.maxRetries)){e.next=22;break}return e.prev=4,e.next=7,p();case 7:if(!e.sent.some((function(e){return e.Id===t.Id}))){e.next=10;break}return e.abrupt("return");case 10:return this.queue.push({service:t.Names[0],status:!1}),e.next=13,new Promise((function(e){return setTimeout(e,4e4)}));case 13:r++,e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(4),console.error("Error processing container:",e.t0),e.abrupt("return");case 20:e.next=3;break;case 22:this.queue.push({service:t.Names[0],status:!0}),this.processedContainers.add(t.Id);case 24:case"end":return e.stop()}}),e,this,[[4,16]])}))),function(e){return o.apply(this,arguments)})},{key:"processUnhealthyContainers",value:(n=a(i().mark((function e(){var t,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:t=e.sent,u.eachLimit(t,5,function(){var e=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.processContainer(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error checking unhealthy containers:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return n.apply(this,arguments)})},{key:"run",value:(r=a(i().mark((function e(){var t,r,n,o=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.running=!0;case 1:if(!this.running){e.next=26;break}return e.prev=2,e.next=5,p();case 5:return t=e.sent,e.next=8,d();case 8:if(r=e.sent,console.log("dockerEventHandler process started"),t.forEach((function(e){return o.processedContainers.delete(e.Id)})),!((n=r.filter((function(e){return!o.processedContainers.has(e)}))).length>0)){e.next=15;break}return e.next=15,this.processUnhealthyContainers(n);case 15:return e.next=17,new Promise((function(e){return setTimeout(e,3e4)}));case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(2),console.error("Error in main process loop:",e.t0),e.next=24,new Promise((function(e){return setTimeout(e,3e4)}));case 24:e.next=1;break;case 26:case"end":return e.stop()}}),e,this,[[2,19]])}))),function(){return r.apply(this,arguments)})},{key:"stop",value:function(){console.log("dockerEventHandler Process Stopped"),this.running=!1}}],t&&s(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r,n,o}();e.exports=h},6413:(e,t,r)=>{var n=["isHomeTenant"],i=["isHomeTenant"],o=["openBrowser","successTemplate","errorTemplate","windowHandle","loopbackClient"];function a(){a=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,i){var o=RegExp(e,n);return t.set(o,i||t.get(e)),O(o,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){var i=n[r];if("number"==typeof i)t[r]=e[i];else{for(var o=0;void 0===e[i[o]]&&o+1<i.length;)o++;t[r]=e[i[o]]}return t}),Object.create(null))}return C(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);if(r){r.groups=n(r,this);var i=r.indices;i&&(i.groups=n(i,this))}return r},r.prototype[Symbol.replace]=function(r,i){if("string"==typeof i){var o=t.get(this);return e[Symbol.replace].call(this,r,i.replace(/\$<([^>]+)>/g,(function(e,t){var r=o[t];return"$"+(Array.isArray(r)?r.join("$"):r)})))}if("function"==typeof i){var a=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=D(e[e.length-1])&&(e=[].slice.call(e)).push(n(e,a)),i.apply(this,e)}))}return e[Symbol.replace].call(this,r,i)},a.apply(this,arguments)}function s(e){return p(e)||y(e)||g(e)||l()}function c(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u(e,t){return p(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||g(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e){if(Array.isArray(e))return e}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return h(e,arguments,T(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),O(r,e)},d(e)}function h(e,t,r){if(I())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&O(i,r.prototype),i}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=g(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}})),e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||y(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function y(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r,n){var i=A(T(1&n?e.prototype:e),t,r);return 2&n?function(e){return i.apply(r,e)}:i}function A(){return A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},A.apply(null,arguments)}function x(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){x(o,n,i,a,s,"next",e)}function s(e){x(o,n,i,a,s,"throw",e)}a(void 0)}))}}function _(e,t,r){return t=T(t),function(e,t){if(t&&("object"==D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(e,I()?Reflect.construct(t,r||[],T(e).constructor):t.apply(e,r))}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}function O(e,t){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},O(e,t)}function N(){"use strict";N=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new O(n||[]);return i(a,"_invoke",{value:k(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d="suspendedStart",h="suspendedYield",f="executing",m="completed",g={};function y(){}function v(){}function b(){}var E={};u(E,a,(function(){return this}));var w=Object.getPrototypeOf,A=w&&w(w(R([])));A&&A!==r&&n.call(A,a)&&(E=A);var x=b.prototype=y.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(i,o,a,s){var c=p(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==D(l)&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function k(t,r,n){var i=d;return function(o,a){if(i===f)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=I(s,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var u=p(t,r,n);if("normal"===u.type){if(i=n.done?m:h,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=m,n.method="throw",n.arg=u.arg)}}}function I(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=p(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,g;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(D(t)+" is not iterable")}return v.prototype=b,i(x,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:v,configurable:!0}),v.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},S(_.prototype),u(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new _(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(x),u(x,c,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function R(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q(n.key),n)}}function M(e,t,r){return t&&L(e.prototype,t),r&&L(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function q(e){var t=function(e){if("object"!=D(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function B(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new j(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function j(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return j=function(e){this.s=e,this.n=e.next},j.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new j(e)}!function(){var t,l,p={252:function(e,t,r){"use strict";r.r(t),r.d(t,{ContainerInstanceManagementClient:function(){return kt},KnownContainerGroupIpAddressType:function(){return u},KnownContainerGroupNetworkProtocol:function(){return c},KnownContainerGroupPriority:function(){return f},KnownContainerGroupRestartPolicy:function(){return s},KnownContainerGroupSku:function(){return h},KnownContainerInstanceOperationsOrigin:function(){return m},KnownContainerNetworkProtocol:function(){return i},KnownDnsNameLabelReusePolicy:function(){return l},KnownGpuSku:function(){return o},KnownLogAnalyticsLogType:function(){return d},KnownOperatingSystemTypes:function(){return p},KnownScheme:function(){return a},getContinuationToken:function(){return y}});var n={};r.r(n),r.d(n,{AzureFileVolume:function(){return te},CachedImages:function(){return Ie},CachedImagesListResult:function(){return ke},Capabilities:function(){return Ce},CapabilitiesCapabilities:function(){return Oe},CapabilitiesListResult:function(){return Te},CloudError:function(){return he},CloudErrorBody:function(){return fe},ConfidentialComputeProperties:function(){return de},Container:function(){return T},ContainerAttachResponse:function(){return _e},ContainerExec:function(){return K},ContainerExecRequest:function(){return Ae},ContainerExecRequestTerminalSize:function(){return xe},ContainerExecResponse:function(){return Se},ContainerGroup:function(){return Ne},ContainerGroupDiagnostics:function(){return ie},ContainerGroupIdentity:function(){return k},ContainerGroupListResult:function(){return A},ContainerGroupProperties:function(){return S},ContainerGroupPropertiesInstanceView:function(){return ne},ContainerGroupSubnetId:function(){return ae},ContainerHttpGet:function(){return $},ContainerPort:function(){return O},ContainerProbe:function(){return G},ContainerPropertiesInstanceView:function(){return q},ContainerState:function(){return B},DeploymentExtensionSpec:function(){return pe},DnsConfiguration:function(){return se},EncryptionProperties:function(){return ce},EnvironmentVariable:function(){return L},Event:function(){return j},GitRepoVolume:function(){return re},GpuResource:function(){return z},HttpHeader:function(){return W},ImageRegistryCredential:function(){return X},InitContainerDefinition:function(){return ue},InitContainerPropertiesDefinitionInstanceView:function(){return le},IpAddress:function(){return J},LogAnalytics:function(){return oe},Logs:function(){return we},Operation:function(){return ge},OperationDisplay:function(){return ye},OperationListResult:function(){return me},Port:function(){return Z},Resource:function(){return x},ResourceLimits:function(){return H},ResourceRequests:function(){return F},ResourceRequirements:function(){return U},SecurityContextCapabilitiesDefinition:function(){return Y},SecurityContextDefinition:function(){return V},Usage:function(){return be},UsageListResult:function(){return ve},UsageName:function(){return Ee},UserAssignedIdentities:function(){return I},Volume:function(){return ee},VolumeMount:function(){return Q}});var i,o,a,s,c,u,l,p,d,h,f,m,g=new WeakMap;function y(e){var t;if("object"==D(e)&&null!==e)return null===(t=g.get(e))||void 0===t?void 0:t.continuationToken}function v(e,t){var r;if("object"==D(e)&&null!==e&&t){var n=null!==(r=g.get(e))&&void 0!==r?r:{};n.continuationToken=t,g.set(e,n)}}!function(e){e.TCP="TCP",e.UDP="UDP"}(i||(i={})),function(e){e.K80="K80",e.P100="P100",e.V100="V100"}(o||(o={})),function(e){e.Http="http",e.Https="https"}(a||(a={})),function(e){e.Always="Always",e.OnFailure="OnFailure",e.Never="Never"}(s||(s={})),function(e){e.TCP="TCP",e.UDP="UDP"}(c||(c={})),function(e){e.Public="Public",e.Private="Private"}(u||(u={})),function(e){e.Unsecure="Unsecure",e.TenantReuse="TenantReuse",e.SubscriptionReuse="SubscriptionReuse",e.ResourceGroupReuse="ResourceGroupReuse",e.Noreuse="Noreuse"}(l||(l={})),function(e){e.Windows="Windows",e.Linux="Linux"}(p||(p={})),function(e){e.ContainerInsights="ContainerInsights",e.ContainerInstanceLogs="ContainerInstanceLogs"}(d||(d={})),function(e){e.Standard="Standard",e.Dedicated="Dedicated",e.Confidential="Confidential"}(h||(h={})),function(e){e.Regular="Regular",e.Spot="Spot"}(f||(f={})),function(e){e.User="User",e.System="System"}(m||(m={}));var b=r(1635),E=r(9834),w=r(3448),A={type:{name:"Composite",className:"ContainerGroupListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"ContainerGroup"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},x={type:{name:"Composite",className:"Resource",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},location:{serializedName:"location",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}},zones:{serializedName:"zones",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},S={type:{name:"Composite",className:"ContainerGroupProperties",modelProperties:{identity:{serializedName:"identity",type:{name:"Composite",className:"ContainerGroupIdentity"}},provisioningState:{serializedName:"properties.provisioningState",readOnly:!0,type:{name:"String"}},containers:{serializedName:"properties.containers",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Container"}}}},imageRegistryCredentials:{serializedName:"properties.imageRegistryCredentials",type:{name:"Sequence",element:{type:{name:"Composite",className:"ImageRegistryCredential"}}}},restartPolicy:{serializedName:"properties.restartPolicy",type:{name:"String"}},ipAddress:{serializedName:"properties.ipAddress",type:{name:"Composite",className:"IpAddress"}},osType:{serializedName:"properties.osType",required:!0,type:{name:"String"}},volumes:{serializedName:"properties.volumes",type:{name:"Sequence",element:{type:{name:"Composite",className:"Volume"}}}},instanceView:{serializedName:"properties.instanceView",type:{name:"Composite",className:"ContainerGroupPropertiesInstanceView"}},diagnostics:{serializedName:"properties.diagnostics",type:{name:"Composite",className:"ContainerGroupDiagnostics"}},subnetIds:{serializedName:"properties.subnetIds",type:{name:"Sequence",element:{type:{name:"Composite",className:"ContainerGroupSubnetId"}}}},dnsConfig:{serializedName:"properties.dnsConfig",type:{name:"Composite",className:"DnsConfiguration"}},sku:{serializedName:"properties.sku",type:{name:"String"}},encryptionProperties:{serializedName:"properties.encryptionProperties",type:{name:"Composite",className:"EncryptionProperties"}},initContainers:{serializedName:"properties.initContainers",type:{name:"Sequence",element:{type:{name:"Composite",className:"InitContainerDefinition"}}}},extensions:{serializedName:"properties.extensions",type:{name:"Sequence",element:{type:{name:"Composite",className:"DeploymentExtensionSpec"}}}},confidentialComputeProperties:{serializedName:"properties.confidentialComputeProperties",type:{name:"Composite",className:"ConfidentialComputeProperties"}},priority:{serializedName:"properties.priority",type:{name:"String"}}}}},k={type:{name:"Composite",className:"ContainerGroupIdentity",modelProperties:{principalId:{serializedName:"principalId",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"tenantId",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",type:{name:"Enum",allowedValues:["SystemAssigned","UserAssigned","SystemAssigned, UserAssigned","None"]}},userAssignedIdentities:{serializedName:"userAssignedIdentities",type:{name:"Dictionary",value:{type:{name:"Composite",className:"UserAssignedIdentities"}}}}}}},I={type:{name:"Composite",className:"UserAssignedIdentities",modelProperties:{principalId:{serializedName:"principalId",readOnly:!0,type:{name:"String"}},clientId:{serializedName:"clientId",readOnly:!0,type:{name:"String"}}}}},T={type:{name:"Composite",className:"Container",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},image:{serializedName:"properties.image",required:!0,type:{name:"String"}},command:{serializedName:"properties.command",type:{name:"Sequence",element:{type:{name:"String"}}}},ports:{serializedName:"properties.ports",type:{name:"Sequence",element:{type:{name:"Composite",className:"ContainerPort"}}}},environmentVariables:{serializedName:"properties.environmentVariables",type:{name:"Sequence",element:{type:{name:"Composite",className:"EnvironmentVariable"}}}},instanceView:{serializedName:"properties.instanceView",type:{name:"Composite",className:"ContainerPropertiesInstanceView"}},resources:{serializedName:"properties.resources",type:{name:"Composite",className:"ResourceRequirements"}},volumeMounts:{serializedName:"properties.volumeMounts",type:{name:"Sequence",element:{type:{name:"Composite",className:"VolumeMount"}}}},livenessProbe:{serializedName:"properties.livenessProbe",type:{name:"Composite",className:"ContainerProbe"}},readinessProbe:{serializedName:"properties.readinessProbe",type:{name:"Composite",className:"ContainerProbe"}},securityContext:{serializedName:"properties.securityContext",type:{name:"Composite",className:"SecurityContextDefinition"}}}}},O={type:{name:"Composite",className:"ContainerPort",modelProperties:{protocol:{serializedName:"protocol",type:{name:"String"}},port:{serializedName:"port",required:!0,type:{name:"Number"}}}}},L={type:{name:"Composite",className:"EnvironmentVariable",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},value:{serializedName:"value",type:{name:"String"}},secureValue:{serializedName:"secureValue",type:{name:"String"}}}}},q={type:{name:"Composite",className:"ContainerPropertiesInstanceView",modelProperties:{restartCount:{serializedName:"restartCount",readOnly:!0,type:{name:"Number"}},currentState:{serializedName:"currentState",type:{name:"Composite",className:"ContainerState"}},previousState:{serializedName:"previousState",type:{name:"Composite",className:"ContainerState"}},events:{serializedName:"events",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Event"}}}}}}},B={type:{name:"Composite",className:"ContainerState",modelProperties:{state:{serializedName:"state",readOnly:!0,type:{name:"String"}},startTime:{serializedName:"startTime",readOnly:!0,type:{name:"DateTime"}},exitCode:{serializedName:"exitCode",readOnly:!0,type:{name:"Number"}},finishTime:{serializedName:"finishTime",readOnly:!0,type:{name:"DateTime"}},detailStatus:{serializedName:"detailStatus",readOnly:!0,type:{name:"String"}}}}},j={type:{name:"Composite",className:"Event",modelProperties:{count:{serializedName:"count",readOnly:!0,type:{name:"Number"}},firstTimestamp:{serializedName:"firstTimestamp",readOnly:!0,type:{name:"DateTime"}},lastTimestamp:{serializedName:"lastTimestamp",readOnly:!0,type:{name:"DateTime"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}}}}},U={type:{name:"Composite",className:"ResourceRequirements",modelProperties:{requests:{serializedName:"requests",type:{name:"Composite",className:"ResourceRequests"}},limits:{serializedName:"limits",type:{name:"Composite",className:"ResourceLimits"}}}}},F={type:{name:"Composite",className:"ResourceRequests",modelProperties:{memoryInGB:{serializedName:"memoryInGB",required:!0,type:{name:"Number"}},cpu:{serializedName:"cpu",required:!0,type:{name:"Number"}},gpu:{serializedName:"gpu",type:{name:"Composite",className:"GpuResource"}}}}},z={type:{name:"Composite",className:"GpuResource",modelProperties:{count:{serializedName:"count",required:!0,type:{name:"Number"}},sku:{serializedName:"sku",required:!0,type:{name:"String"}}}}},H={type:{name:"Composite",className:"ResourceLimits",modelProperties:{memoryInGB:{serializedName:"memoryInGB",type:{name:"Number"}},cpu:{serializedName:"cpu",type:{name:"Number"}},gpu:{serializedName:"gpu",type:{name:"Composite",className:"GpuResource"}}}}},Q={type:{name:"Composite",className:"VolumeMount",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},mountPath:{serializedName:"mountPath",required:!0,type:{name:"String"}},readOnly:{serializedName:"readOnly",type:{name:"Boolean"}}}}},G={type:{name:"Composite",className:"ContainerProbe",modelProperties:{exec:{serializedName:"exec",type:{name:"Composite",className:"ContainerExec"}},httpGet:{serializedName:"httpGet",type:{name:"Composite",className:"ContainerHttpGet"}},initialDelaySeconds:{serializedName:"initialDelaySeconds",type:{name:"Number"}},periodSeconds:{serializedName:"periodSeconds",type:{name:"Number"}},failureThreshold:{serializedName:"failureThreshold",type:{name:"Number"}},successThreshold:{serializedName:"successThreshold",type:{name:"Number"}},timeoutSeconds:{serializedName:"timeoutSeconds",type:{name:"Number"}}}}},K={type:{name:"Composite",className:"ContainerExec",modelProperties:{command:{serializedName:"command",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},$={type:{name:"Composite",className:"ContainerHttpGet",modelProperties:{path:{serializedName:"path",type:{name:"String"}},port:{serializedName:"port",required:!0,type:{name:"Number"}},scheme:{serializedName:"scheme",type:{name:"String"}},httpHeaders:{serializedName:"httpHeaders",type:{name:"Sequence",element:{type:{name:"Composite",className:"HttpHeader"}}}}}}},W={type:{name:"Composite",className:"HttpHeader",modelProperties:{name:{serializedName:"name",type:{name:"String"}},value:{serializedName:"value",type:{name:"String"}}}}},V={type:{name:"Composite",className:"SecurityContextDefinition",modelProperties:{privileged:{serializedName:"privileged",type:{name:"Boolean"}},allowPrivilegeEscalation:{serializedName:"allowPrivilegeEscalation",type:{name:"Boolean"}},capabilities:{serializedName:"capabilities",type:{name:"Composite",className:"SecurityContextCapabilitiesDefinition"}},runAsGroup:{serializedName:"runAsGroup",type:{name:"Number"}},runAsUser:{serializedName:"runAsUser",type:{name:"Number"}},seccompProfile:{serializedName:"seccompProfile",type:{name:"String"}}}}},Y={type:{name:"Composite",className:"SecurityContextCapabilitiesDefinition",modelProperties:{add:{serializedName:"add",type:{name:"Sequence",element:{type:{name:"String"}}}},drop:{serializedName:"drop",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},X={type:{name:"Composite",className:"ImageRegistryCredential",modelProperties:{server:{serializedName:"server",required:!0,type:{name:"String"}},username:{serializedName:"username",type:{name:"String"}},password:{serializedName:"password",type:{name:"String"}},identity:{serializedName:"identity",type:{name:"String"}},identityUrl:{serializedName:"identityUrl",type:{name:"String"}}}}},J={type:{name:"Composite",className:"IpAddress",modelProperties:{ports:{serializedName:"ports",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Port"}}}},type:{serializedName:"type",required:!0,type:{name:"String"}},ip:{serializedName:"ip",type:{name:"String"}},dnsNameLabel:{serializedName:"dnsNameLabel",type:{name:"String"}},autoGeneratedDomainNameLabelScope:{defaultValue:"Unsecure",serializedName:"autoGeneratedDomainNameLabelScope",type:{name:"String"}},fqdn:{serializedName:"fqdn",readOnly:!0,type:{name:"String"}}}}},Z={type:{name:"Composite",className:"Port",modelProperties:{protocol:{serializedName:"protocol",type:{name:"String"}},port:{serializedName:"port",required:!0,type:{name:"Number"}}}}},ee={type:{name:"Composite",className:"Volume",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},azureFile:{serializedName:"azureFile",type:{name:"Composite",className:"AzureFileVolume"}},emptyDir:{serializedName:"emptyDir",type:{name:"Dictionary",value:{type:{name:"any"}}}},secret:{serializedName:"secret",type:{name:"Dictionary",value:{type:{name:"String"}}}},gitRepo:{serializedName:"gitRepo",type:{name:"Composite",className:"GitRepoVolume"}}}}},te={type:{name:"Composite",className:"AzureFileVolume",modelProperties:{shareName:{serializedName:"shareName",required:!0,type:{name:"String"}},readOnly:{serializedName:"readOnly",type:{name:"Boolean"}},storageAccountName:{serializedName:"storageAccountName",required:!0,type:{name:"String"}},storageAccountKey:{serializedName:"storageAccountKey",type:{name:"String"}}}}},re={type:{name:"Composite",className:"GitRepoVolume",modelProperties:{directory:{serializedName:"directory",type:{name:"String"}},repository:{serializedName:"repository",required:!0,type:{name:"String"}},revision:{serializedName:"revision",type:{name:"String"}}}}},ne={type:{name:"Composite",className:"ContainerGroupPropertiesInstanceView",modelProperties:{events:{serializedName:"events",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Event"}}}},state:{serializedName:"state",readOnly:!0,type:{name:"String"}}}}},ie={type:{name:"Composite",className:"ContainerGroupDiagnostics",modelProperties:{logAnalytics:{serializedName:"logAnalytics",type:{name:"Composite",className:"LogAnalytics"}}}}},oe={type:{name:"Composite",className:"LogAnalytics",modelProperties:{workspaceId:{serializedName:"workspaceId",required:!0,type:{name:"String"}},workspaceKey:{serializedName:"workspaceKey",required:!0,type:{name:"String"}},logType:{serializedName:"logType",type:{name:"String"}},metadata:{serializedName:"metadata",type:{name:"Dictionary",value:{type:{name:"String"}}}},workspaceResourceId:{serializedName:"workspaceResourceId",type:{name:"String"}}}}},ae={type:{name:"Composite",className:"ContainerGroupSubnetId",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}}}}},se={type:{name:"Composite",className:"DnsConfiguration",modelProperties:{nameServers:{serializedName:"nameServers",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},searchDomains:{serializedName:"searchDomains",type:{name:"String"}},options:{serializedName:"options",type:{name:"String"}}}}},ce={type:{name:"Composite",className:"EncryptionProperties",modelProperties:{vaultBaseUrl:{serializedName:"vaultBaseUrl",required:!0,type:{name:"String"}},keyName:{serializedName:"keyName",required:!0,type:{name:"String"}},keyVersion:{serializedName:"keyVersion",required:!0,type:{name:"String"}},identity:{serializedName:"identity",type:{name:"String"}}}}},ue={type:{name:"Composite",className:"InitContainerDefinition",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},image:{serializedName:"properties.image",type:{name:"String"}},command:{serializedName:"properties.command",type:{name:"Sequence",element:{type:{name:"String"}}}},environmentVariables:{serializedName:"properties.environmentVariables",type:{name:"Sequence",element:{type:{name:"Composite",className:"EnvironmentVariable"}}}},instanceView:{serializedName:"properties.instanceView",type:{name:"Composite",className:"InitContainerPropertiesDefinitionInstanceView"}},volumeMounts:{serializedName:"properties.volumeMounts",type:{name:"Sequence",element:{type:{name:"Composite",className:"VolumeMount"}}}},securityContext:{serializedName:"properties.securityContext",type:{name:"Composite",className:"SecurityContextDefinition"}}}}},le={type:{name:"Composite",className:"InitContainerPropertiesDefinitionInstanceView",modelProperties:{restartCount:{serializedName:"restartCount",readOnly:!0,type:{name:"Number"}},currentState:{serializedName:"currentState",type:{name:"Composite",className:"ContainerState"}},previousState:{serializedName:"previousState",type:{name:"Composite",className:"ContainerState"}},events:{serializedName:"events",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Event"}}}}}}},pe={type:{name:"Composite",className:"DeploymentExtensionSpec",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},extensionType:{serializedName:"properties.extensionType",type:{name:"String"}},version:{serializedName:"properties.version",type:{name:"String"}},settings:{serializedName:"properties.settings",type:{name:"Dictionary",value:{type:{name:"any"}}}},protectedSettings:{serializedName:"properties.protectedSettings",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},de={type:{name:"Composite",className:"ConfidentialComputeProperties",modelProperties:{ccePolicy:{serializedName:"ccePolicy",type:{name:"String"}}}}},he={type:{name:"Composite",className:"CloudError",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"CloudErrorBody"}}}}},fe={type:{name:"Composite",className:"CloudErrorBody",modelProperties:{code:{serializedName:"code",type:{name:"String"}},message:{serializedName:"message",type:{name:"String"}},target:{serializedName:"target",type:{name:"String"}},details:{serializedName:"details",type:{name:"Sequence",element:{type:{name:"Composite",className:"CloudErrorBody"}}}}}}},me={type:{name:"Composite",className:"OperationListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Operation"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},ge={type:{name:"Composite",className:"Operation",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplay"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"any"}}}},origin:{serializedName:"origin",type:{name:"String"}}}}},ye={type:{name:"Composite",className:"OperationDisplay",modelProperties:{provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}}}}},ve={type:{name:"Composite",className:"UsageListResult",modelProperties:{value:{serializedName:"value",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Usage"}}}}}}},be={type:{name:"Composite",className:"Usage",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},unit:{serializedName:"unit",readOnly:!0,type:{name:"String"}},currentValue:{serializedName:"currentValue",readOnly:!0,type:{name:"Number"}},limit:{serializedName:"limit",readOnly:!0,type:{name:"Number"}},name:{serializedName:"name",type:{name:"Composite",className:"UsageName"}}}}},Ee={type:{name:"Composite",className:"UsageName",modelProperties:{value:{serializedName:"value",readOnly:!0,type:{name:"String"}},localizedValue:{serializedName:"localizedValue",readOnly:!0,type:{name:"String"}}}}},we={type:{name:"Composite",className:"Logs",modelProperties:{content:{serializedName:"content",type:{name:"String"}}}}},Ae={type:{name:"Composite",className:"ContainerExecRequest",modelProperties:{command:{serializedName:"command",type:{name:"String"}},terminalSize:{serializedName:"terminalSize",type:{name:"Composite",className:"ContainerExecRequestTerminalSize"}}}}},xe={type:{name:"Composite",className:"ContainerExecRequestTerminalSize",modelProperties:{rows:{serializedName:"rows",type:{name:"Number"}},cols:{serializedName:"cols",type:{name:"Number"}}}}},Se={type:{name:"Composite",className:"ContainerExecResponse",modelProperties:{webSocketUri:{serializedName:"webSocketUri",type:{name:"String"}},password:{serializedName:"password",type:{name:"String"}}}}},_e={type:{name:"Composite",className:"ContainerAttachResponse",modelProperties:{webSocketUri:{serializedName:"webSocketUri",type:{name:"String"}},password:{serializedName:"password",type:{name:"String"}}}}},ke={type:{name:"Composite",className:"CachedImagesListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"CachedImages"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},Ie={type:{name:"Composite",className:"CachedImages",modelProperties:{osType:{serializedName:"osType",required:!0,type:{name:"String"}},image:{serializedName:"image",required:!0,type:{name:"String"}}}}},Te={type:{name:"Composite",className:"CapabilitiesListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Capabilities"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},Ce={type:{name:"Composite",className:"Capabilities",modelProperties:{resourceType:{serializedName:"resourceType",readOnly:!0,type:{name:"String"}},osType:{serializedName:"osType",readOnly:!0,type:{name:"String"}},location:{serializedName:"location",readOnly:!0,type:{name:"String"}},ipAddressType:{serializedName:"ipAddressType",readOnly:!0,type:{name:"String"}},gpu:{serializedName:"gpu",readOnly:!0,type:{name:"String"}},capabilities:{serializedName:"capabilities",type:{name:"Composite",className:"CapabilitiesCapabilities"}}}}},Oe={type:{name:"Composite",className:"CapabilitiesCapabilities",modelProperties:{maxMemoryInGB:{serializedName:"maxMemoryInGB",readOnly:!0,type:{name:"Number"}},maxCpu:{serializedName:"maxCpu",readOnly:!0,type:{name:"Number"}},maxGpuCount:{serializedName:"maxGpuCount",readOnly:!0,type:{name:"Number"}}}}},Ne={type:{name:"Composite",className:"ContainerGroup",modelProperties:Object.assign(Object.assign({},x.type.modelProperties),S.type.modelProperties)}},Re={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},Pe={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},Le={parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"String"}}},Me={parameterPath:"apiVersion",mapper:{defaultValue:"2023-05-01",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},qe={parameterPath:"resourceGroupName",mapper:{serializedName:"resourceGroupName",required:!0,type:{name:"String"}}},De={parameterPath:"containerGroupName",mapper:{serializedName:"containerGroupName",required:!0,type:{name:"String"}}},Be={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},je={parameterPath:"containerGroup",mapper:Ne},Ue={parameterPath:"resource",mapper:x},Fe={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0},ze={parameterPath:"location",mapper:{serializedName:"location",required:!0,type:{name:"String"}}},He={parameterPath:"containerName",mapper:{serializedName:"containerName",required:!0,type:{name:"String"}}},Qe={parameterPath:"containerExecRequest",mapper:Ae},Ge=r(7307);function Ke(e){var t=e.args,r=e.spec,n=e.sendOperationFn;return{requestMethod:r.httpMethod,requestPath:r.path,sendInitialRequest:function(){return n(t,r)},sendPollRequest:function(e,i){r.requestBody;var o=(0,b.Tt)(r,["requestBody"]);return n(t,Object.assign(Object.assign({},o),{httpMethod:"GET",path:e,abortSignal:null==i?void 0:i.abortSignal}))}}}var $e=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"list",value:function(e){var t=this,r=this.listPagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listPagingPage(e,r)}))}},{key:"listPagingPage",value:function(e,t){return(0,b.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,b.N3)(this._list(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,v(o,i),r.next=10,(0,b.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,b.N3)(this._listNext(i,e));case 15:return n=r.sent,i=n.nextLink,v(a=n.value||[],i),r.next=21,(0,b.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listPagingAll",value:function(e){return(0,b.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=(0,b.xN)(this.listPagingPage(e));case 2:return t.next=4,(0,b.N3)(o.next());case 4:if((i=t.sent).done){t.next=13;break}return a=i.value,t.t0=b.N3,t.delegateYield((0,b.Me)((0,b.xN)(a)),"t1",8);case 8:return t.t2=t.t1,t.next=11,(0,t.t0)(t.t2);case 11:t.next=2;break;case 13:t.next=18;break;case 15:t.prev=15,t.t3=t.catch(0),r={error:t.t3};case 18:if(t.prev=18,t.prev=19,t.t4=i&&!i.done&&(n=o.return),!t.t4){t.next=24;break}return t.next=24,(0,b.N3)(n.call(o));case 24:if(t.prev=24,!r){t.next=27;break}throw r.error;case 27:return t.finish(24);case 28:return t.finish(18);case 29:case"end":return t.stop()}}),t,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"listByResourceGroup",value:function(e,t){var r=this,n=this.listByResourceGroupPagingAll(e,t);return R(R({next:function(){return n.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(n){if(null==n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return r.listByResourceGroupPagingPage(e,t,n)}))}},{key:"listByResourceGroupPagingPage",value:function(e,t,r){return(0,b.AQ)(this,arguments,N().mark((function n(){var i,o,a,s;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null==r?void 0:r.continuationToken){n.next=12;break}return n.next=4,(0,b.N3)(this._listByResourceGroup(e,t));case 4:return i=n.sent,a=i.value||[],o=i.nextLink,v(a,o),n.next=10,(0,b.N3)(a);case 10:return n.next=12,n.sent;case 12:if(!o){n.next=25;break}return n.next=15,(0,b.N3)(this._listByResourceGroupNext(e,o,t));case 15:return i=n.sent,o=i.nextLink,v(s=i.value||[],o),n.next=21,(0,b.N3)(s);case 21:return n.next=23,n.sent;case 23:n.next=12;break;case 25:case"end":return n.stop()}}),n,this)})))}},{key:"listByResourceGroupPagingAll",value:function(e,t){return(0,b.AQ)(this,arguments,N().mark((function r(){var n,i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,a=(0,b.xN)(this.listByResourceGroupPagingPage(e,t));case 2:return r.next=4,(0,b.N3)(a.next());case 4:if((o=r.sent).done){r.next=13;break}return s=o.value,r.t0=b.N3,r.delegateYield((0,b.Me)((0,b.xN)(s)),"t1",8);case 8:return r.t2=r.t1,r.next=11,(0,r.t0)(r.t2);case 11:r.next=2;break;case 13:r.next=18;break;case 15:r.prev=15,r.t3=r.catch(0),n={error:r.t3};case 18:if(r.prev=18,r.prev=19,r.t4=o&&!o.done&&(i=a.return),!r.t4){r.next=24;break}return r.next=24,(0,b.N3)(i.call(a));case 24:if(r.prev=24,!n){r.next=27;break}throw n.error;case 27:return r.finish(24);case 28:return r.finish(18);case 29:case"end":return r.stop()}}),r,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"_list",value:function(e){return this.client.sendOperationRequest({options:e},Ve)}},{key:"_listByResourceGroup",value:function(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},Ye)}},{key:"get",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,containerGroupName:t,options:r},Xe)}},{key:"beginCreateOrUpdate",value:function(e,t,r,n){return(0,b.sH)(this,void 0,void 0,N().mark((function i(){var o,a,s,c=this;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e,t){return(0,b.sH)(c,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},a=Ke({sendOperationFn:function(e,t){return(0,b.sH)(c,void 0,void 0,N().mark((function r(){var n,i,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==a||a(e,t)}})}),r.next=3,o(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,containerGroupName:t,containerGroup:r,options:n},spec:Je}),i.next=4,(0,Ge.Vj)(a,{restoreFrom:null==n?void 0:n.resumeFrom,intervalInMs:null==n?void 0:n.updateIntervalInMs});case 4:return s=i.sent,i.next=7,s.poll();case 7:return i.abrupt("return",s);case 8:case"end":return i.stop()}}),i)})))}},{key:"beginCreateOrUpdateAndWait",value:function(e,t,r,n){return(0,b.sH)(this,void 0,void 0,N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.beginCreateOrUpdate(e,t,r,n);case 2:return i.abrupt("return",i.sent.pollUntilDone());case 3:case"end":return i.stop()}}),i,this)})))}},{key:"update",value:function(e,t,r,n){return this.client.sendOperationRequest({resourceGroupName:e,containerGroupName:t,resource:r,options:n},Ze)}},{key:"beginDelete",value:function(e,t,r){return(0,b.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,b.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=Ke({sendOperationFn:function(e,t){return(0,b.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,containerGroupName:t,options:r},spec:et}),n.next=4,(0,Ge.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginDeleteAndWait",value:function(e,t,r){return(0,b.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginDelete(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"beginRestart",value:function(e,t,r){return(0,b.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,b.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=Ke({sendOperationFn:function(e,t){return(0,b.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,containerGroupName:t,options:r},spec:tt}),n.next=4,(0,Ge.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginRestartAndWait",value:function(e,t,r){return(0,b.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginRestart(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"stop",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,containerGroupName:t,options:r},rt)}},{key:"beginStart",value:function(e,t,r){return(0,b.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,b.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=Ke({sendOperationFn:function(e,t){return(0,b.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,containerGroupName:t,options:r},spec:nt}),n.next=4,(0,Ge.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginStartAndWait",value:function(e,t,r){return(0,b.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginStart(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"getOutboundNetworkDependenciesEndpoints",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,containerGroupName:t,options:r},it)}},{key:"_listNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},ot)}},{key:"_listByResourceGroupNext",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,nextLink:t,options:r},at)}}])}(),We=E.rl(n,!1),Ve={path:"/subscriptions/{subscriptionId}/providers/Microsoft.ContainerInstance/containerGroups",httpMethod:"GET",responses:{200:{bodyMapper:A},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le],headerParameters:[Re],serializer:We},Ye={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerInstance/containerGroups",httpMethod:"GET",responses:{200:{bodyMapper:A},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le,qe],headerParameters:[Re],serializer:We},Xe={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerInstance/containerGroups/{containerGroupName}",httpMethod:"GET",responses:{200:{bodyMapper:Ne},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le,qe,De],headerParameters:[Re],serializer:We},Je={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerInstance/containerGroups/{containerGroupName}",httpMethod:"PUT",responses:{200:{bodyMapper:Ne},201:{bodyMapper:Ne},202:{bodyMapper:Ne},204:{bodyMapper:Ne},default:{bodyMapper:he}},requestBody:je,queryParameters:[Me],urlParameters:[Pe,Le,qe,De],headerParameters:[Re,Be],mediaType:"json",serializer:We},Ze={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerInstance/containerGroups/{containerGroupName}",httpMethod:"PATCH",responses:{200:{bodyMapper:Ne},default:{bodyMapper:he}},requestBody:Ue,queryParameters:[Me],urlParameters:[Pe,Le,qe,De],headerParameters:[Re,Be],mediaType:"json",serializer:We},et={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerInstance/containerGroups/{containerGroupName}",httpMethod:"DELETE",responses:{200:{bodyMapper:Ne},201:{bodyMapper:Ne},202:{bodyMapper:Ne},204:{bodyMapper:Ne},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le,qe,De],headerParameters:[Re],serializer:We},tt={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerInstance/containerGroups/{containerGroupName}/restart",httpMethod:"POST",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le,qe,De],headerParameters:[Re],serializer:We},rt={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerInstance/containerGroups/{containerGroupName}/stop",httpMethod:"POST",responses:{204:{},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le,qe,De],headerParameters:[Re],serializer:We},nt={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerInstance/containerGroups/{containerGroupName}/start",httpMethod:"POST",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le,qe,De],headerParameters:[Re],serializer:We},it={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerInstance/containerGroups/{containerGroupName}/outboundNetworkDependenciesEndpoints",httpMethod:"GET",responses:{200:{bodyMapper:{type:{name:"Sequence",element:{type:{name:"String"}}}}},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le,qe,De],headerParameters:[Re],serializer:We},ot={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:A},default:{bodyMapper:he}},urlParameters:[Pe,Le,Fe],headerParameters:[Re],serializer:We},at={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:A},default:{bodyMapper:he}},urlParameters:[Pe,Le,qe,Fe],headerParameters:[Re],serializer:We},st=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"list",value:function(e){var t=this,r=this.listPagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listPagingPage(e,r)}))}},{key:"listPagingPage",value:function(e,t){return(0,b.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,b.N3)(this._list(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,v(o,i),r.next=10,(0,b.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,b.N3)(this._listNext(i,e));case 15:return n=r.sent,i=n.nextLink,v(a=n.value||[],i),r.next=21,(0,b.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listPagingAll",value:function(e){return(0,b.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=(0,b.xN)(this.listPagingPage(e));case 2:return t.next=4,(0,b.N3)(o.next());case 4:if((i=t.sent).done){t.next=13;break}return a=i.value,t.t0=b.N3,t.delegateYield((0,b.Me)((0,b.xN)(a)),"t1",8);case 8:return t.t2=t.t1,t.next=11,(0,t.t0)(t.t2);case 11:t.next=2;break;case 13:t.next=18;break;case 15:t.prev=15,t.t3=t.catch(0),r={error:t.t3};case 18:if(t.prev=18,t.prev=19,t.t4=i&&!i.done&&(n=o.return),!t.t4){t.next=24;break}return t.next=24,(0,b.N3)(n.call(o));case 24:if(t.prev=24,!r){t.next=27;break}throw r.error;case 27:return t.finish(24);case 28:return t.finish(18);case 29:case"end":return t.stop()}}),t,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"_list",value:function(e){return this.client.sendOperationRequest({options:e},ut)}},{key:"_listNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},lt)}}])}(),ct=E.rl(n,!1),ut={path:"/providers/Microsoft.ContainerInstance/operations",httpMethod:"GET",responses:{200:{bodyMapper:me},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe],headerParameters:[Re],serializer:ct},lt={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:me},default:{bodyMapper:he}},urlParameters:[Pe,Fe],headerParameters:[Re],serializer:ct},pt=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"listUsage",value:function(e,t){var r=this,n=this.listUsagePagingAll(e,t);return R(R({next:function(){return n.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(n){if(null==n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return r.listUsagePagingPage(e,t,n)}))}},{key:"listUsagePagingPage",value:function(e,t,r){return(0,b.AQ)(this,arguments,N().mark((function r(){var n;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,b.N3)(this._listUsage(e,t));case 2:return n=r.sent,r.next=5,(0,b.N3)(n.value||[]);case 5:return r.next=7,r.sent;case 7:case"end":return r.stop()}}),r,this)})))}},{key:"listUsagePagingAll",value:function(e,t){return(0,b.AQ)(this,arguments,N().mark((function r(){var n,i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,a=(0,b.xN)(this.listUsagePagingPage(e,t));case 2:return r.next=4,(0,b.N3)(a.next());case 4:if((o=r.sent).done){r.next=13;break}return s=o.value,r.t0=b.N3,r.delegateYield((0,b.Me)((0,b.xN)(s)),"t1",8);case 8:return r.t2=r.t1,r.next=11,(0,r.t0)(r.t2);case 11:r.next=2;break;case 13:r.next=18;break;case 15:r.prev=15,r.t3=r.catch(0),n={error:r.t3};case 18:if(r.prev=18,r.prev=19,r.t4=o&&!o.done&&(i=a.return),!r.t4){r.next=24;break}return r.next=24,(0,b.N3)(i.call(a));case 24:if(r.prev=24,!n){r.next=27;break}throw n.error;case 27:return r.finish(24);case 28:return r.finish(18);case 29:case"end":return r.stop()}}),r,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"listCachedImages",value:function(e,t){var r=this,n=this.listCachedImagesPagingAll(e,t);return R(R({next:function(){return n.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(n){if(null==n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return r.listCachedImagesPagingPage(e,t,n)}))}},{key:"listCachedImagesPagingPage",value:function(e,t,r){return(0,b.AQ)(this,arguments,N().mark((function n(){var i,o,a,s;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null==r?void 0:r.continuationToken){n.next=12;break}return n.next=4,(0,b.N3)(this._listCachedImages(e,t));case 4:return i=n.sent,a=i.value||[],o=i.nextLink,v(a,o),n.next=10,(0,b.N3)(a);case 10:return n.next=12,n.sent;case 12:if(!o){n.next=25;break}return n.next=15,(0,b.N3)(this._listCachedImagesNext(e,o,t));case 15:return i=n.sent,o=i.nextLink,v(s=i.value||[],o),n.next=21,(0,b.N3)(s);case 21:return n.next=23,n.sent;case 23:n.next=12;break;case 25:case"end":return n.stop()}}),n,this)})))}},{key:"listCachedImagesPagingAll",value:function(e,t){return(0,b.AQ)(this,arguments,N().mark((function r(){var n,i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,a=(0,b.xN)(this.listCachedImagesPagingPage(e,t));case 2:return r.next=4,(0,b.N3)(a.next());case 4:if((o=r.sent).done){r.next=13;break}return s=o.value,r.t0=b.N3,r.delegateYield((0,b.Me)((0,b.xN)(s)),"t1",8);case 8:return r.t2=r.t1,r.next=11,(0,r.t0)(r.t2);case 11:r.next=2;break;case 13:r.next=18;break;case 15:r.prev=15,r.t3=r.catch(0),n={error:r.t3};case 18:if(r.prev=18,r.prev=19,r.t4=o&&!o.done&&(i=a.return),!r.t4){r.next=24;break}return r.next=24,(0,b.N3)(i.call(a));case 24:if(r.prev=24,!n){r.next=27;break}throw n.error;case 27:return r.finish(24);case 28:return r.finish(18);case 29:case"end":return r.stop()}}),r,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"listCapabilities",value:function(e,t){var r=this,n=this.listCapabilitiesPagingAll(e,t);return R(R({next:function(){return n.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(n){if(null==n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return r.listCapabilitiesPagingPage(e,t,n)}))}},{key:"listCapabilitiesPagingPage",value:function(e,t,r){return(0,b.AQ)(this,arguments,N().mark((function n(){var i,o,a,s;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null==r?void 0:r.continuationToken){n.next=12;break}return n.next=4,(0,b.N3)(this._listCapabilities(e,t));case 4:return i=n.sent,a=i.value||[],o=i.nextLink,v(a,o),n.next=10,(0,b.N3)(a);case 10:return n.next=12,n.sent;case 12:if(!o){n.next=25;break}return n.next=15,(0,b.N3)(this._listCapabilitiesNext(e,o,t));case 15:return i=n.sent,o=i.nextLink,v(s=i.value||[],o),n.next=21,(0,b.N3)(s);case 21:return n.next=23,n.sent;case 23:n.next=12;break;case 25:case"end":return n.stop()}}),n,this)})))}},{key:"listCapabilitiesPagingAll",value:function(e,t){return(0,b.AQ)(this,arguments,N().mark((function r(){var n,i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,a=(0,b.xN)(this.listCapabilitiesPagingPage(e,t));case 2:return r.next=4,(0,b.N3)(a.next());case 4:if((o=r.sent).done){r.next=13;break}return s=o.value,r.t0=b.N3,r.delegateYield((0,b.Me)((0,b.xN)(s)),"t1",8);case 8:return r.t2=r.t1,r.next=11,(0,r.t0)(r.t2);case 11:r.next=2;break;case 13:r.next=18;break;case 15:r.prev=15,r.t3=r.catch(0),n={error:r.t3};case 18:if(r.prev=18,r.prev=19,r.t4=o&&!o.done&&(i=a.return),!r.t4){r.next=24;break}return r.next=24,(0,b.N3)(i.call(a));case 24:if(r.prev=24,!n){r.next=27;break}throw n.error;case 27:return r.finish(24);case 28:return r.finish(18);case 29:case"end":return r.stop()}}),r,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"_listUsage",value:function(e,t){return this.client.sendOperationRequest({location:e,options:t},ht)}},{key:"_listCachedImages",value:function(e,t){return this.client.sendOperationRequest({location:e,options:t},ft)}},{key:"_listCapabilities",value:function(e,t){return this.client.sendOperationRequest({location:e,options:t},mt)}},{key:"_listCachedImagesNext",value:function(e,t,r){return this.client.sendOperationRequest({location:e,nextLink:t,options:r},gt)}},{key:"_listCapabilitiesNext",value:function(e,t,r){return this.client.sendOperationRequest({location:e,nextLink:t,options:r},yt)}}])}(),dt=E.rl(n,!1),ht={path:"/subscriptions/{subscriptionId}/providers/Microsoft.ContainerInstance/locations/{location}/usages",httpMethod:"GET",responses:{200:{bodyMapper:ve},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le,ze],headerParameters:[Re],serializer:dt},ft={path:"/subscriptions/{subscriptionId}/providers/Microsoft.ContainerInstance/locations/{location}/cachedImages",httpMethod:"GET",responses:{200:{bodyMapper:ke},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le,ze],headerParameters:[Re],serializer:dt},mt={path:"/subscriptions/{subscriptionId}/providers/Microsoft.ContainerInstance/locations/{location}/capabilities",httpMethod:"GET",responses:{200:{bodyMapper:Te},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le,ze],headerParameters:[Re],serializer:dt},gt={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ke},default:{bodyMapper:he}},urlParameters:[Pe,Le,Fe,ze],headerParameters:[Re],serializer:dt},yt={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:Te},default:{bodyMapper:he}},urlParameters:[Pe,Le,Fe,ze],headerParameters:[Re],serializer:dt},vt=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"listLogs",value:function(e,t,r,n){return this.client.sendOperationRequest({resourceGroupName:e,containerGroupName:t,containerName:r,options:n},Et)}},{key:"executeCommand",value:function(e,t,r,n,i){return this.client.sendOperationRequest({resourceGroupName:e,containerGroupName:t,containerName:r,containerExecRequest:n,options:i},wt)}},{key:"attach",value:function(e,t,r,n){return this.client.sendOperationRequest({resourceGroupName:e,containerGroupName:t,containerName:r,options:n},At)}}])}(),bt=E.rl(n,!1),Et={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerInstance/containerGroups/{containerGroupName}/containers/{containerName}/logs",httpMethod:"GET",responses:{200:{bodyMapper:we},default:{bodyMapper:he}},queryParameters:[Me,{parameterPath:["options","tail"],mapper:{serializedName:"tail",type:{name:"Number"}}},{parameterPath:["options","timestamps"],mapper:{serializedName:"timestamps",type:{name:"Boolean"}}}],urlParameters:[Pe,Le,qe,De,He],headerParameters:[Re],serializer:bt},wt={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerInstance/containerGroups/{containerGroupName}/containers/{containerName}/exec",httpMethod:"POST",responses:{200:{bodyMapper:Se},default:{bodyMapper:he}},requestBody:Qe,queryParameters:[Me],urlParameters:[Pe,Le,qe,De,He],headerParameters:[Re,Be],mediaType:"json",serializer:bt},At={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ContainerInstance/containerGroups/{containerGroupName}/containers/{containerName}/attach",httpMethod:"POST",responses:{200:{bodyMapper:_e},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le,qe,De,He],headerParameters:[Re],serializer:bt},xt=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"beginDelete",value:function(e,t,r,n){return(0,b.sH)(this,void 0,void 0,N().mark((function i(){var o,a,s,c=this;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e,t){return(0,b.sH)(c,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},a=Ke({sendOperationFn:function(e,t){return(0,b.sH)(c,void 0,void 0,N().mark((function r(){var n,i,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==a||a(e,t)}})}),r.next=3,o(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,virtualNetworkName:t,subnetName:r,options:n},spec:_t}),i.next=4,(0,Ge.Vj)(a,{restoreFrom:null==n?void 0:n.resumeFrom,intervalInMs:null==n?void 0:n.updateIntervalInMs});case 4:return s=i.sent,i.next=7,s.poll();case 7:return i.abrupt("return",s);case 8:case"end":return i.stop()}}),i)})))}},{key:"beginDeleteAndWait",value:function(e,t,r,n){return(0,b.sH)(this,void 0,void 0,N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.beginDelete(e,t,r,n);case 2:return i.abrupt("return",i.sent.pollUntilDone());case 3:case"end":return i.stop()}}),i,this)})))}}])}(),St=E.rl(n,!1),_t={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Network/virtualNetworks/{virtualNetworkName}/subnets/{subnetName}/providers/Microsoft.ContainerInstance/serviceAssociationLinks/default",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:he}},queryParameters:[Me],urlParameters:[Pe,Le,qe,{parameterPath:"virtualNetworkName",mapper:{serializedName:"virtualNetworkName",required:!0,type:{name:"String"}}},{parameterPath:"subnetName",mapper:{serializedName:"subnetName",required:!0,type:{name:"String"}}}],headerParameters:[Re],serializer:St},kt=function(e){function t(e,r,n){var i,o,a,s;if(P(this,t),void 0===e)throw new Error("'credentials' cannot be null");if(void 0===r)throw new Error("'subscriptionId' cannot be null");n||(n={});var c={requestContentType:"application/json; charset=utf-8",credential:e},u="azsdk-js-arm-containerinstance/9.1.0",l=n.userAgentOptions&&n.userAgentOptions.userAgentPrefix?"".concat(n.userAgentOptions.userAgentPrefix," ").concat(u):"".concat(u),p=Object.assign(Object.assign(Object.assign({},c),n),{userAgentOptions:{userAgentPrefix:l},endpoint:null!==(a=null!==(o=n.endpoint)&&void 0!==o?o:n.baseUri)&&void 0!==a?a:"https://management.azure.com"});i=_(this,t,[p]);var d=!1;return(null==n?void 0:n.pipeline)&&n.pipeline.getOrderedPolicies().length>0&&(d=n.pipeline.getOrderedPolicies().some((function(e){return e.name===w.uQ}))),n&&n.pipeline&&0!=n.pipeline.getOrderedPolicies().length&&d||(i.pipeline.removePolicy({name:w.uQ}),i.pipeline.addPolicy(w.N$({credential:e,scopes:null!==(s=p.credentialScopes)&&void 0!==s?s:"".concat(p.endpoint,"/.default"),challengeCallbacks:{authorizeRequestOnChallenge:E.fj}}))),i.subscriptionId=r,i.$host=n.$host||"https://management.azure.com",i.apiVersion=n.apiVersion||"2023-05-01",i.containerGroups=new $e(i),i.operations=new st(i),i.location=new pt(i),i.containers=new vt(i),i.subnetServiceAssociationLink=new xt(i),i.addCustomApiVersionPolicy(n.apiVersion),i}return C(t,e),M(t,[{key:"addCustomApiVersionPolicy",value:function(e){if(e){var t={name:"CustomApiVersionPolicy",sendRequest:function(t,r){return(0,b.sH)(this,void 0,void 0,N().mark((function n(){var i,o;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(i=t.url.split("?")).length>1&&(o=i[1].split("&").map((function(t){return t.indexOf("api-version")>-1?"api-version="+e:t})),t.url=i[0]+"?"+o.join("&")),n.abrupt("return",r(t));case 3:case"end":return n.stop()}}),n)})))}};this.pipeline.addPolicy(t)}}}])}(E.Nl)},3037:function(e,t,r){"use strict";r.r(t),r.d(t,{KnownActionType:function(){return o},KnownOrigin:function(){return i},KnownRegionCategory:function(){return s},KnownRegionType:function(){return a},KnownResourceNameStatus:function(){return c},SubscriptionClient:function(){return be},getContinuationToken:function(){return l}});var n={};r.r(n),r.d(n,{AvailabilityZoneMappings:function(){return k},AvailabilityZonePeers:function(){return F},CheckResourceNameResult:function(){return K},CheckZonePeersRequest:function(){return j},CheckZonePeersResult:function(){return U},CloudError:function(){return v},ErrorAdditionalInfo:function(){return E},ErrorDetail:function(){return Q},ErrorResponse:function(){return b},ErrorResponseAutoGenerated:function(){return H},Location:function(){return A},LocationListResult:function(){return w},LocationMetadata:function(){return x},ManagedByTenant:function(){return O},Operation:function(){return g},OperationAutoGenerated:function(){return $},OperationDisplay:function(){return y},OperationDisplayAutoGenerated:function(){return W},OperationListResult:function(){return m},OperationListResultAutoGenerated:function(){return V},PairedRegion:function(){return S},Peers:function(){return z},ResourceName:function(){return G},Subscription:function(){return I},SubscriptionListResult:function(){return L},SubscriptionPolicies:function(){return T},TenantIdDescription:function(){return B},TenantListResult:function(){return q}});var i,o,a,s,c,u=new WeakMap;function l(e){var t;if("object"==D(e)&&null!==e)return null===(t=u.get(e))||void 0===t?void 0:t.continuationToken}function p(e,t){var r;if("object"==D(e)&&null!==e&&t){var n=null!==(r=u.get(e))&&void 0!==r?r:{};n.continuationToken=t,u.set(e,n)}}!function(e){e.User="user",e.System="system",e.UserSystem="user,system"}(i||(i={})),function(e){e.Internal="Internal"}(o||(o={})),function(e){e.Physical="Physical",e.Logical="Logical"}(a||(a={})),function(e){e.Recommended="Recommended",e.Extended="Extended",e.Other="Other"}(s||(s={})),function(e){e.Allowed="Allowed",e.Reserved="Reserved"}(c||(c={}));var d=r(1635),h=r(9834),f=r(3448),m={type:{name:"Composite",className:"OperationListResult",modelProperties:{value:{serializedName:"value",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Operation"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},g={type:{name:"Composite",className:"Operation",modelProperties:{name:{serializedName:"name",readOnly:!0,type:{name:"String"}},isDataAction:{serializedName:"isDataAction",readOnly:!0,type:{name:"Boolean"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplay"}},origin:{serializedName:"origin",readOnly:!0,type:{name:"String"}},actionType:{serializedName:"actionType",readOnly:!0,type:{name:"String"}}}}},y={type:{name:"Composite",className:"OperationDisplay",modelProperties:{provider:{serializedName:"provider",readOnly:!0,type:{name:"String"}},resource:{serializedName:"resource",readOnly:!0,type:{name:"String"}},operation:{serializedName:"operation",readOnly:!0,type:{name:"String"}},description:{serializedName:"description",readOnly:!0,type:{name:"String"}}}}},v={type:{name:"Composite",className:"CloudError",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}}}}},b={type:{name:"Composite",className:"ErrorResponse",modelProperties:{code:{serializedName:"code",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorResponse"}}}},additionalInfo:{serializedName:"additionalInfo",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorAdditionalInfo"}}}}}}},E={type:{name:"Composite",className:"ErrorAdditionalInfo",modelProperties:{type:{serializedName:"type",readOnly:!0,type:{name:"String"}},info:{serializedName:"info",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},w={type:{name:"Composite",className:"LocationListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Location"}}}}}}},A={type:{name:"Composite",className:"Location",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},subscriptionId:{serializedName:"subscriptionId",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"Enum",allowedValues:["Region","EdgeZone"]}},displayName:{serializedName:"displayName",readOnly:!0,type:{name:"String"}},regionalDisplayName:{serializedName:"regionalDisplayName",readOnly:!0,type:{name:"String"}},metadata:{serializedName:"metadata",type:{name:"Composite",className:"LocationMetadata"}},availabilityZoneMappings:{serializedName:"availabilityZoneMappings",type:{name:"Sequence",element:{type:{name:"Composite",className:"AvailabilityZoneMappings"}}}}}}},x={type:{name:"Composite",className:"LocationMetadata",modelProperties:{regionType:{serializedName:"regionType",readOnly:!0,type:{name:"String"}},regionCategory:{serializedName:"regionCategory",readOnly:!0,type:{name:"String"}},geography:{serializedName:"geography",readOnly:!0,type:{name:"String"}},geographyGroup:{serializedName:"geographyGroup",readOnly:!0,type:{name:"String"}},longitude:{serializedName:"longitude",readOnly:!0,type:{name:"String"}},latitude:{serializedName:"latitude",readOnly:!0,type:{name:"String"}},physicalLocation:{serializedName:"physicalLocation",readOnly:!0,type:{name:"String"}},pairedRegion:{serializedName:"pairedRegion",type:{name:"Sequence",element:{type:{name:"Composite",className:"PairedRegion"}}}},homeLocation:{serializedName:"homeLocation",readOnly:!0,type:{name:"String"}}}}},S={type:{name:"Composite",className:"PairedRegion",modelProperties:{name:{serializedName:"name",readOnly:!0,type:{name:"String"}},id:{serializedName:"id",readOnly:!0,type:{name:"String"}},subscriptionId:{serializedName:"subscriptionId",readOnly:!0,type:{name:"String"}}}}},k={type:{name:"Composite",className:"AvailabilityZoneMappings",modelProperties:{logicalZone:{serializedName:"logicalZone",readOnly:!0,type:{name:"String"}},physicalZone:{serializedName:"physicalZone",readOnly:!0,type:{name:"String"}}}}},I={type:{name:"Composite",className:"Subscription",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},subscriptionId:{serializedName:"subscriptionId",readOnly:!0,type:{name:"String"}},displayName:{serializedName:"displayName",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"tenantId",readOnly:!0,type:{name:"String"}},state:{serializedName:"state",readOnly:!0,type:{name:"Enum",allowedValues:["Enabled","Warned","PastDue","Disabled","Deleted"]}},subscriptionPolicies:{serializedName:"subscriptionPolicies",type:{name:"Composite",className:"SubscriptionPolicies"}},authorizationSource:{serializedName:"authorizationSource",type:{name:"String"}},managedByTenants:{serializedName:"managedByTenants",type:{name:"Sequence",element:{type:{name:"Composite",className:"ManagedByTenant"}}}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},T={type:{name:"Composite",className:"SubscriptionPolicies",modelProperties:{locationPlacementId:{serializedName:"locationPlacementId",readOnly:!0,type:{name:"String"}},quotaId:{serializedName:"quotaId",readOnly:!0,type:{name:"String"}},spendingLimit:{serializedName:"spendingLimit",readOnly:!0,type:{name:"Enum",allowedValues:["On","Off","CurrentPeriodOff"]}}}}},O={type:{name:"Composite",className:"ManagedByTenant",modelProperties:{tenantId:{serializedName:"tenantId",readOnly:!0,type:{name:"String"}}}}},L={type:{name:"Composite",className:"SubscriptionListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Subscription"}}}},nextLink:{serializedName:"nextLink",required:!0,type:{name:"String"}}}}},q={type:{name:"Composite",className:"TenantListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"TenantIdDescription"}}}},nextLink:{serializedName:"nextLink",required:!0,type:{name:"String"}}}}},B={type:{name:"Composite",className:"TenantIdDescription",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"tenantId",readOnly:!0,type:{name:"String"}},tenantCategory:{serializedName:"tenantCategory",readOnly:!0,type:{name:"Enum",allowedValues:["Home","ProjectedBy","ManagedBy"]}},country:{serializedName:"country",readOnly:!0,type:{name:"String"}},countryCode:{serializedName:"countryCode",readOnly:!0,type:{name:"String"}},displayName:{serializedName:"displayName",readOnly:!0,type:{name:"String"}},domains:{serializedName:"domains",readOnly:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},defaultDomain:{serializedName:"defaultDomain",readOnly:!0,type:{name:"String"}},tenantType:{serializedName:"tenantType",readOnly:!0,type:{name:"String"}},tenantBrandingLogoUrl:{serializedName:"tenantBrandingLogoUrl",readOnly:!0,type:{name:"String"}}}}},j={type:{name:"Composite",className:"CheckZonePeersRequest",modelProperties:{location:{serializedName:"location",type:{name:"String"}},subscriptionIds:{serializedName:"subscriptionIds",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},U={type:{name:"Composite",className:"CheckZonePeersResult",modelProperties:{subscriptionId:{serializedName:"subscriptionId",readOnly:!0,type:{name:"String"}},location:{serializedName:"location",type:{name:"String"}},availabilityZonePeers:{serializedName:"availabilityZonePeers",type:{name:"Sequence",element:{type:{name:"Composite",className:"AvailabilityZonePeers"}}}}}}},F={type:{name:"Composite",className:"AvailabilityZonePeers",modelProperties:{availabilityZone:{serializedName:"availabilityZone",readOnly:!0,type:{name:"String"}},peers:{serializedName:"peers",type:{name:"Sequence",element:{type:{name:"Composite",className:"Peers"}}}}}}},z={type:{name:"Composite",className:"Peers",modelProperties:{subscriptionId:{serializedName:"subscriptionId",readOnly:!0,type:{name:"String"}},availabilityZone:{serializedName:"availabilityZone",readOnly:!0,type:{name:"String"}}}}},H={type:{name:"Composite",className:"ErrorResponseAutoGenerated",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorDetail"}}}}},Q={type:{name:"Composite",className:"ErrorDetail",modelProperties:{code:{serializedName:"code",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorDetail"}}}},additionalInfo:{serializedName:"additionalInfo",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorAdditionalInfo"}}}}}}},G={type:{name:"Composite",className:"ResourceName",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},type:{serializedName:"type",required:!0,type:{name:"String"}}}}},K={type:{name:"Composite",className:"CheckResourceNameResult",modelProperties:{name:{serializedName:"name",type:{name:"String"}},type:{serializedName:"type",type:{name:"String"}},status:{serializedName:"status",type:{name:"String"}}}}},$={type:{name:"Composite",className:"OperationAutoGenerated",modelProperties:{name:{serializedName:"name",type:{name:"String"}},isDataAction:{serializedName:"isDataAction",readOnly:!0,type:{name:"Boolean"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplayAutoGenerated"}},origin:{serializedName:"origin",readOnly:!0,type:{name:"String"}},actionType:{serializedName:"actionType",readOnly:!0,type:{name:"String"}}}}},W={type:{name:"Composite",className:"OperationDisplayAutoGenerated",modelProperties:{provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}}}}},V={type:{name:"Composite",className:"OperationListResultAutoGenerated",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"OperationAutoGenerated"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},Y={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},X={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},J={parameterPath:"apiVersion",mapper:{defaultValue:"2022-12-01",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},Z={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0},ee={parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"String"}}},te={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},re={parameterPath:"parameters",mapper:j},ne={parameterPath:["options","resourceNameDefinition"],mapper:G},ie=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"list",value:function(e){var t=this,r=this.listPagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listPagingPage(e,r)}))}},{key:"listPagingPage",value:function(e,t){return(0,d.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,d.N3)(this._list(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,p(o,i),r.next=10,(0,d.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,d.N3)(this._listNext(i,e));case 15:return n=r.sent,i=n.nextLink,p(a=n.value||[],i),r.next=21,(0,d.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listPagingAll",value:function(e){return(0,d.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a,s,c,u;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,s=!0,c=(0,d.xN)(this.listPagingPage(e));case 2:return t.next=4,(0,d.N3)(c.next());case 4:if(r=(a=t.sent).done){t.next=18;break}return o=a.value,s=!1,t.prev=6,u=o,t.t0=d.N3,t.delegateYield((0,d.Me)((0,d.xN)(u)),"t1",10);case 10:return t.t2=t.t1,t.next=13,(0,t.t0)(t.t2);case 13:return t.prev=13,s=!0,t.finish(13);case 16:t.next=2;break;case 18:t.next=23;break;case 20:t.prev=20,t.t3=t.catch(0),n={error:t.t3};case 23:if(t.prev=23,t.prev=24,t.t4=s||r||!(i=c.return),t.t4){t.next=29;break}return t.next=29,(0,d.N3)(i.call(c));case 29:if(t.prev=29,!n){t.next=32;break}throw n.error;case 32:return t.finish(29);case 33:return t.finish(23);case 34:case"end":return t.stop()}}),t,this,[[0,20,23,34],[6,,13,16],[24,,29,33]])})))}},{key:"_list",value:function(e){return this.client.sendOperationRequest({options:e},ae)}},{key:"_listNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},se)}}])}(),oe=h.rl(n,!1),ae={path:"/providers/Microsoft.Resources/operations",httpMethod:"GET",responses:{200:{bodyMapper:m},default:{bodyMapper:v}},queryParameters:[J],urlParameters:[X],headerParameters:[Y],serializer:oe},se={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:m},default:{bodyMapper:v}},urlParameters:[X,Z],headerParameters:[Y],serializer:oe},ce=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"listLocations",value:function(e,t){var r=this,n=this.listLocationsPagingAll(e,t);return R(R({next:function(){return n.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(n){if(null==n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return r.listLocationsPagingPage(e,t,n)}))}},{key:"listLocationsPagingPage",value:function(e,t,r){return(0,d.AQ)(this,arguments,N().mark((function r(){var n;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,d.N3)(this._listLocations(e,t));case 2:return n=r.sent,r.next=5,(0,d.N3)(n.value||[]);case 5:return r.next=7,r.sent;case 7:case"end":return r.stop()}}),r,this)})))}},{key:"listLocationsPagingAll",value:function(e,t){return(0,d.AQ)(this,arguments,N().mark((function r(){var n,i,o,a,s,c,u,l;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,c=!0,u=(0,d.xN)(this.listLocationsPagingPage(e,t));case 2:return r.next=4,(0,d.N3)(u.next());case 4:if(n=(s=r.sent).done){r.next=18;break}return a=s.value,c=!1,r.prev=6,l=a,r.t0=d.N3,r.delegateYield((0,d.Me)((0,d.xN)(l)),"t1",10);case 10:return r.t2=r.t1,r.next=13,(0,r.t0)(r.t2);case 13:return r.prev=13,c=!0,r.finish(13);case 16:r.next=2;break;case 18:r.next=23;break;case 20:r.prev=20,r.t3=r.catch(0),i={error:r.t3};case 23:if(r.prev=23,r.prev=24,r.t4=c||n||!(o=u.return),r.t4){r.next=29;break}return r.next=29,(0,d.N3)(o.call(u));case 29:if(r.prev=29,!i){r.next=32;break}throw i.error;case 32:return r.finish(29);case 33:return r.finish(23);case 34:case"end":return r.stop()}}),r,this,[[0,20,23,34],[6,,13,16],[24,,29,33]])})))}},{key:"list",value:function(e){var t=this,r=this.listPagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listPagingPage(e,r)}))}},{key:"listPagingPage",value:function(e,t){return(0,d.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,d.N3)(this._list(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,p(o,i),r.next=10,(0,d.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,d.N3)(this._listNext(i,e));case 15:return n=r.sent,i=n.nextLink,p(a=n.value||[],i),r.next=21,(0,d.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listPagingAll",value:function(e){return(0,d.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a,s,c,u;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,s=!0,c=(0,d.xN)(this.listPagingPage(e));case 2:return t.next=4,(0,d.N3)(c.next());case 4:if(r=(a=t.sent).done){t.next=18;break}return o=a.value,s=!1,t.prev=6,u=o,t.t0=d.N3,t.delegateYield((0,d.Me)((0,d.xN)(u)),"t1",10);case 10:return t.t2=t.t1,t.next=13,(0,t.t0)(t.t2);case 13:return t.prev=13,s=!0,t.finish(13);case 16:t.next=2;break;case 18:t.next=23;break;case 20:t.prev=20,t.t3=t.catch(0),n={error:t.t3};case 23:if(t.prev=23,t.prev=24,t.t4=s||r||!(i=c.return),t.t4){t.next=29;break}return t.next=29,(0,d.N3)(i.call(c));case 29:if(t.prev=29,!n){t.next=32;break}throw n.error;case 32:return t.finish(29);case 33:return t.finish(23);case 34:case"end":return t.stop()}}),t,this,[[0,20,23,34],[6,,13,16],[24,,29,33]])})))}},{key:"_listLocations",value:function(e,t){return this.client.sendOperationRequest({subscriptionId:e,options:t},le)}},{key:"get",value:function(e,t){return this.client.sendOperationRequest({subscriptionId:e,options:t},pe)}},{key:"_list",value:function(e){return this.client.sendOperationRequest({options:e},de)}},{key:"checkZonePeers",value:function(e,t,r){return this.client.sendOperationRequest({subscriptionId:e,parameters:t,options:r},he)}},{key:"_listNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},fe)}}])}(),ue=h.rl(n,!1),le={path:"/subscriptions/{subscriptionId}/locations",httpMethod:"GET",responses:{200:{bodyMapper:w},default:{bodyMapper:v}},queryParameters:[J,{parameterPath:["options","includeExtendedLocations"],mapper:{serializedName:"includeExtendedLocations",type:{name:"Boolean"}}}],urlParameters:[X,ee],headerParameters:[Y],serializer:ue},pe={path:"/subscriptions/{subscriptionId}",httpMethod:"GET",responses:{200:{bodyMapper:I},default:{bodyMapper:v}},queryParameters:[J],urlParameters:[X,ee],headerParameters:[Y],serializer:ue},de={path:"/subscriptions",httpMethod:"GET",responses:{200:{bodyMapper:L},default:{bodyMapper:v}},queryParameters:[J],urlParameters:[X],headerParameters:[Y],serializer:ue},he={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/checkZonePeers/",httpMethod:"POST",responses:{200:{bodyMapper:U},default:{bodyMapper:H}},requestBody:re,queryParameters:[J],urlParameters:[X,ee],headerParameters:[Y,te],mediaType:"json",serializer:ue},fe={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:L},default:{bodyMapper:v}},urlParameters:[X,Z],headerParameters:[Y],serializer:ue},me=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"list",value:function(e){var t=this,r=this.listPagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listPagingPage(e,r)}))}},{key:"listPagingPage",value:function(e,t){return(0,d.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,d.N3)(this._list(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,p(o,i),r.next=10,(0,d.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,d.N3)(this._listNext(i,e));case 15:return n=r.sent,i=n.nextLink,p(a=n.value||[],i),r.next=21,(0,d.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listPagingAll",value:function(e){return(0,d.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a,s,c,u;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,s=!0,c=(0,d.xN)(this.listPagingPage(e));case 2:return t.next=4,(0,d.N3)(c.next());case 4:if(r=(a=t.sent).done){t.next=18;break}return o=a.value,s=!1,t.prev=6,u=o,t.t0=d.N3,t.delegateYield((0,d.Me)((0,d.xN)(u)),"t1",10);case 10:return t.t2=t.t1,t.next=13,(0,t.t0)(t.t2);case 13:return t.prev=13,s=!0,t.finish(13);case 16:t.next=2;break;case 18:t.next=23;break;case 20:t.prev=20,t.t3=t.catch(0),n={error:t.t3};case 23:if(t.prev=23,t.prev=24,t.t4=s||r||!(i=c.return),t.t4){t.next=29;break}return t.next=29,(0,d.N3)(i.call(c));case 29:if(t.prev=29,!n){t.next=32;break}throw n.error;case 32:return t.finish(29);case 33:return t.finish(23);case 34:case"end":return t.stop()}}),t,this,[[0,20,23,34],[6,,13,16],[24,,29,33]])})))}},{key:"_list",value:function(e){return this.client.sendOperationRequest({options:e},ye)}},{key:"_listNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},ve)}}])}(),ge=h.rl(n,!1),ye={path:"/tenants",httpMethod:"GET",responses:{200:{bodyMapper:q},default:{bodyMapper:v}},queryParameters:[J],urlParameters:[X],headerParameters:[Y],serializer:ge},ve={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:q},default:{bodyMapper:v}},urlParameters:[X,Z],headerParameters:[Y],serializer:ge},be=function(e){function t(e,r){var n,i,o,a;if(P(this,t),void 0===e)throw new Error("'credentials' cannot be null");r||(r={});var s={requestContentType:"application/json; charset=utf-8",credential:e},c="azsdk-js-arm-resources-subscriptions/2.1.0",u=r.userAgentOptions&&r.userAgentOptions.userAgentPrefix?"".concat(r.userAgentOptions.userAgentPrefix," ").concat(c):"".concat(c),l=Object.assign(Object.assign(Object.assign({},s),r),{userAgentOptions:{userAgentPrefix:u},endpoint:null!==(o=null!==(i=r.endpoint)&&void 0!==i?i:r.baseUri)&&void 0!==o?o:"https://management.azure.com"});n=_(this,t,[l]);var p=!1;return(null==r?void 0:r.pipeline)&&r.pipeline.getOrderedPolicies().length>0&&(p=r.pipeline.getOrderedPolicies().some((function(e){return e.name===f.uQ}))),r&&r.pipeline&&0!=r.pipeline.getOrderedPolicies().length&&p||(n.pipeline.removePolicy({name:f.uQ}),n.pipeline.addPolicy(f.N$({credential:e,scopes:null!==(a=l.credentialScopes)&&void 0!==a?a:"".concat(l.endpoint,"/.default"),challengeCallbacks:{authorizeRequestOnChallenge:h.fj}}))),n.$host=r.$host||"https://management.azure.com",n.apiVersion=r.apiVersion||"2022-12-01",n.operations=new ie(n),n.subscriptions=new ce(n),n.tenants=new me(n),n.addCustomApiVersionPolicy(r.apiVersion),n}return C(t,e),M(t,[{key:"addCustomApiVersionPolicy",value:function(e){if(e){var t={name:"CustomApiVersionPolicy",sendRequest:function(t,r){return(0,d.sH)(this,void 0,void 0,N().mark((function n(){var i,o;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(i=t.url.split("?")).length>1&&(o=i[1].split("&").map((function(t){return t.indexOf("api-version")>-1?"api-version="+e:t})),t.url=i[0]+"?"+o.join("&")),n.abrupt("return",r(t));case 3:case"end":return n.stop()}}),n)})))}};this.pipeline.addPolicy(t)}}},{key:"checkResourceName",value:function(e){return this.sendOperationRequest({options:e},we)}}])}(h.Nl),Ee=h.rl(n,!1),we={path:"/providers/Microsoft.Resources/checkResourceName",httpMethod:"POST",responses:{200:{bodyMapper:K},default:{bodyMapper:v}},requestBody:ne,queryParameters:[J],urlParameters:[X],headerParameters:[Y,te],mediaType:"json",serializer:Ee}},6365:function(e,t,r){"use strict";r.r(t),r.d(t,{KnownAliasPathAttributes:function(){return s},KnownAliasPathTokenType:function(){return a},KnownExpressionEvaluationOptionsScopeType:function(){return i},KnownExtendedLocationType:function(){return u},KnownProviderAuthorizationConsentState:function(){return c},KnownProvisioningState:function(){return o},KnownTagsPatchOperation:function(){return l},ResourceManagementClient:function(){return ai},getContinuationToken:function(){return d}});var n={};r.r(n),r.d(n,{Alias:function(){return z},AliasPath:function(){return H},AliasPathMetadata:function(){return G},AliasPattern:function(){return Q},ApiProfile:function(){return $},BasicDependency:function(){return V},CloudError:function(){return E},DebugSetting:function(){return T},Dependency:function(){return W},Deployment:function(){return x},DeploymentExportResult:function(){return Z},DeploymentExtended:function(){return q},DeploymentExtendedFilter:function(){return Qe},DeploymentListResult:function(){return ee},DeploymentOperation:function(){return Le},DeploymentOperationProperties:function(){return Me},DeploymentOperationsListResult:function(){return je},DeploymentProperties:function(){return S},DeploymentPropertiesExtended:function(){return B},DeploymentValidateResult:function(){return J},DeploymentWhatIf:function(){return se},DeploymentWhatIfProperties:function(){return Ve},DeploymentWhatIfSettings:function(){return ne},DeploymentsWhatIfAtManagementGroupScopeHeaders:function(){return Ze},DeploymentsWhatIfAtSubscriptionScopeHeaders:function(){return et},DeploymentsWhatIfAtTenantScopeHeaders:function(){return Je},DeploymentsWhatIfHeaders:function(){return tt},ErrorAdditionalInfo:function(){return A},ErrorResponse:function(){return w},ExportTemplateRequest:function(){return ke},ExpressionEvaluationOptions:function(){return L},ExtendedLocation:function(){return Ae},GenericResource:function(){return Ye},GenericResourceExpanded:function(){return Xe},GenericResourceFilter:function(){return Ge},HttpMessage:function(){return Be},Identity:function(){return be},IdentityUserAssignedIdentitiesValue:function(){return Ee},OnErrorDeployment:function(){return O},OnErrorDeploymentExtended:function(){return Y},Operation:function(){return v},OperationDisplay:function(){return b},OperationListResult:function(){return y},ParametersLink:function(){return I},Permission:function(){return pe},Plan:function(){return ye},Provider:function(){return j},ProviderConsentDefinition:function(){return he},ProviderExtendedLocation:function(){return F},ProviderListResult:function(){return fe},ProviderPermission:function(){return ue},ProviderPermissionListResult:function(){return ce},ProviderRegistrationRequest:function(){return de},ProviderResourceType:function(){return U},ProviderResourceTypeListResult:function(){return me},Resource:function(){return we},ResourceGroup:function(){return xe},ResourceGroupExportResult:function(){return Ie},ResourceGroupFilter:function(){return Ke},ResourceGroupListResult:function(){return Te},ResourceGroupPatchable:function(){return _e},ResourceGroupProperties:function(){return Se},ResourceListResult:function(){return ge},ResourceProviderOperationDisplayProperties:function(){return $e},ResourceReference:function(){return X},ResourcesMoveInfo:function(){return Ce},RoleDefinition:function(){return le},ScopedDeployment:function(){return te},ScopedDeploymentWhatIf:function(){return re},Sku:function(){return ve},StatusMessage:function(){return qe},SubResource:function(){return We},TagCount:function(){return Ne},TagDetails:function(){return Re},TagValue:function(){return Oe},Tags:function(){return ze},TagsListResult:function(){return Pe},TagsPatchResource:function(){return He},TagsResource:function(){return Fe},TargetResource:function(){return De},TemplateHashResult:function(){return Ue},TemplateLink:function(){return k},WhatIfChange:function(){return oe},WhatIfOperationResult:function(){return ie},WhatIfPropertyChange:function(){return ae},ZoneMapping:function(){return K}});var i,o,a,s,c,u,l,p=new WeakMap;function d(e){var t;if("object"==D(e)&&null!==e)return null===(t=p.get(e))||void 0===t?void 0:t.continuationToken}function h(e,t){var r;if("object"==D(e)&&null!==e&&t){var n=null!==(r=p.get(e))&&void 0!==r?r:{};n.continuationToken=t,p.set(e,n)}}!function(e){e.NotSpecified="NotSpecified",e.Outer="Outer",e.Inner="Inner"}(i||(i={})),function(e){e.NotSpecified="NotSpecified",e.Accepted="Accepted",e.Running="Running",e.Ready="Ready",e.Creating="Creating",e.Created="Created",e.Deleting="Deleting",e.Deleted="Deleted",e.Canceled="Canceled",e.Failed="Failed",e.Succeeded="Succeeded",e.Updating="Updating"}(o||(o={})),function(e){e.NotSpecified="NotSpecified",e.Any="Any",e.String="String",e.Object="Object",e.Array="Array",e.Integer="Integer",e.Number="Number",e.Boolean="Boolean"}(a||(a={})),function(e){e.None="None",e.Modifiable="Modifiable"}(s||(s={})),function(e){e.NotSpecified="NotSpecified",e.Required="Required",e.NotRequired="NotRequired",e.Consented="Consented"}(c||(c={})),function(e){e.EdgeZone="EdgeZone"}(u||(u={})),function(e){e.Replace="Replace",e.Merge="Merge",e.Delete="Delete"}(l||(l={}));var f=r(1635),m=r(9834),g=r(3448),y={type:{name:"Composite",className:"OperationListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Operation"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},v={type:{name:"Composite",className:"Operation",modelProperties:{name:{serializedName:"name",type:{name:"String"}},display:{serializedName:"display",type:{name:"Composite",className:"OperationDisplay"}}}}},b={type:{name:"Composite",className:"OperationDisplay",modelProperties:{provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}}}}},E={type:{name:"Composite",className:"CloudError",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}}}}},w={type:{name:"Composite",className:"ErrorResponse",modelProperties:{code:{serializedName:"code",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorResponse"}}}},additionalInfo:{serializedName:"additionalInfo",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorAdditionalInfo"}}}}}}},A={type:{name:"Composite",className:"ErrorAdditionalInfo",modelProperties:{type:{serializedName:"type",readOnly:!0,type:{name:"String"}},info:{serializedName:"info",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},x={type:{name:"Composite",className:"Deployment",modelProperties:{location:{serializedName:"location",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentProperties"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},S={type:{name:"Composite",className:"DeploymentProperties",modelProperties:{template:{serializedName:"template",type:{name:"Dictionary",value:{type:{name:"any"}}}},templateLink:{serializedName:"templateLink",type:{name:"Composite",className:"TemplateLink"}},parameters:{serializedName:"parameters",type:{name:"Dictionary",value:{type:{name:"any"}}}},parametersLink:{serializedName:"parametersLink",type:{name:"Composite",className:"ParametersLink"}},mode:{serializedName:"mode",required:!0,type:{name:"Enum",allowedValues:["Incremental","Complete"]}},debugSetting:{serializedName:"debugSetting",type:{name:"Composite",className:"DebugSetting"}},onErrorDeployment:{serializedName:"onErrorDeployment",type:{name:"Composite",className:"OnErrorDeployment"}},expressionEvaluationOptions:{serializedName:"expressionEvaluationOptions",type:{name:"Composite",className:"ExpressionEvaluationOptions"}}}}},k={type:{name:"Composite",className:"TemplateLink",modelProperties:{uri:{serializedName:"uri",type:{name:"String"}},id:{serializedName:"id",type:{name:"String"}},relativePath:{serializedName:"relativePath",type:{name:"String"}},contentVersion:{serializedName:"contentVersion",type:{name:"String"}},queryString:{serializedName:"queryString",type:{name:"String"}}}}},I={type:{name:"Composite",className:"ParametersLink",modelProperties:{uri:{serializedName:"uri",required:!0,type:{name:"String"}},contentVersion:{serializedName:"contentVersion",type:{name:"String"}}}}},T={type:{name:"Composite",className:"DebugSetting",modelProperties:{detailLevel:{serializedName:"detailLevel",type:{name:"String"}}}}},O={type:{name:"Composite",className:"OnErrorDeployment",modelProperties:{type:{serializedName:"type",type:{name:"Enum",allowedValues:["LastSuccessful","SpecificDeployment"]}},deploymentName:{serializedName:"deploymentName",type:{name:"String"}}}}},L={type:{name:"Composite",className:"ExpressionEvaluationOptions",modelProperties:{scope:{serializedName:"scope",type:{name:"String"}}}}},q={type:{name:"Composite",className:"DeploymentExtended",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},location:{serializedName:"location",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentPropertiesExtended"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},B={type:{name:"Composite",className:"DeploymentPropertiesExtended",modelProperties:{provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}},correlationId:{serializedName:"correlationId",readOnly:!0,type:{name:"String"}},timestamp:{serializedName:"timestamp",readOnly:!0,type:{name:"DateTime"}},duration:{serializedName:"duration",readOnly:!0,type:{name:"String"}},outputs:{serializedName:"outputs",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}},providers:{serializedName:"providers",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Provider"}}}},dependencies:{serializedName:"dependencies",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Dependency"}}}},templateLink:{serializedName:"templateLink",type:{name:"Composite",className:"TemplateLink"}},parameters:{serializedName:"parameters",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}},parametersLink:{serializedName:"parametersLink",type:{name:"Composite",className:"ParametersLink"}},mode:{serializedName:"mode",readOnly:!0,type:{name:"Enum",allowedValues:["Incremental","Complete"]}},debugSetting:{serializedName:"debugSetting",type:{name:"Composite",className:"DebugSetting"}},onErrorDeployment:{serializedName:"onErrorDeployment",type:{name:"Composite",className:"OnErrorDeploymentExtended"}},templateHash:{serializedName:"templateHash",readOnly:!0,type:{name:"String"}},outputResources:{serializedName:"outputResources",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ResourceReference"}}}},validatedResources:{serializedName:"validatedResources",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ResourceReference"}}}},error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}}}}},j={type:{name:"Composite",className:"Provider",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},namespace:{serializedName:"namespace",type:{name:"String"}},registrationState:{serializedName:"registrationState",readOnly:!0,type:{name:"String"}},registrationPolicy:{serializedName:"registrationPolicy",readOnly:!0,type:{name:"String"}},resourceTypes:{serializedName:"resourceTypes",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ProviderResourceType"}}}},providerAuthorizationConsentState:{serializedName:"providerAuthorizationConsentState",type:{name:"String"}}}}},U={type:{name:"Composite",className:"ProviderResourceType",modelProperties:{resourceType:{serializedName:"resourceType",type:{name:"String"}},locations:{serializedName:"locations",type:{name:"Sequence",element:{type:{name:"String"}}}},locationMappings:{serializedName:"locationMappings",type:{name:"Sequence",element:{type:{name:"Composite",className:"ProviderExtendedLocation"}}}},aliases:{serializedName:"aliases",type:{name:"Sequence",element:{type:{name:"Composite",className:"Alias"}}}},apiVersions:{serializedName:"apiVersions",type:{name:"Sequence",element:{type:{name:"String"}}}},defaultApiVersion:{serializedName:"defaultApiVersion",readOnly:!0,type:{name:"String"}},zoneMappings:{serializedName:"zoneMappings",type:{name:"Sequence",element:{type:{name:"Composite",className:"ZoneMapping"}}}},apiProfiles:{serializedName:"apiProfiles",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ApiProfile"}}}},capabilities:{serializedName:"capabilities",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},F={type:{name:"Composite",className:"ProviderExtendedLocation",modelProperties:{location:{serializedName:"location",type:{name:"String"}},type:{serializedName:"type",type:{name:"String"}},extendedLocations:{serializedName:"extendedLocations",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},z={type:{name:"Composite",className:"Alias",modelProperties:{name:{serializedName:"name",type:{name:"String"}},paths:{serializedName:"paths",type:{name:"Sequence",element:{type:{name:"Composite",className:"AliasPath"}}}},type:{serializedName:"type",type:{name:"Enum",allowedValues:["NotSpecified","PlainText","Mask"]}},defaultPath:{serializedName:"defaultPath",type:{name:"String"}},defaultPattern:{serializedName:"defaultPattern",type:{name:"Composite",className:"AliasPattern"}},defaultMetadata:{serializedName:"defaultMetadata",type:{name:"Composite",className:"AliasPathMetadata"}}}}},H={type:{name:"Composite",className:"AliasPath",modelProperties:{path:{serializedName:"path",type:{name:"String"}},apiVersions:{serializedName:"apiVersions",type:{name:"Sequence",element:{type:{name:"String"}}}},pattern:{serializedName:"pattern",type:{name:"Composite",className:"AliasPattern"}},metadata:{serializedName:"metadata",type:{name:"Composite",className:"AliasPathMetadata"}}}}},Q={type:{name:"Composite",className:"AliasPattern",modelProperties:{phrase:{serializedName:"phrase",type:{name:"String"}},variable:{serializedName:"variable",type:{name:"String"}},type:{serializedName:"type",type:{name:"Enum",allowedValues:["NotSpecified","Extract"]}}}}},G={type:{name:"Composite",className:"AliasPathMetadata",modelProperties:{type:{serializedName:"type",readOnly:!0,type:{name:"String"}},attributes:{serializedName:"attributes",readOnly:!0,type:{name:"String"}}}}},K={type:{name:"Composite",className:"ZoneMapping",modelProperties:{location:{serializedName:"location",type:{name:"String"}},zones:{serializedName:"zones",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},$={type:{name:"Composite",className:"ApiProfile",modelProperties:{profileVersion:{serializedName:"profileVersion",readOnly:!0,type:{name:"String"}},apiVersion:{serializedName:"apiVersion",readOnly:!0,type:{name:"String"}}}}},W={type:{name:"Composite",className:"Dependency",modelProperties:{dependsOn:{serializedName:"dependsOn",type:{name:"Sequence",element:{type:{name:"Composite",className:"BasicDependency"}}}},id:{serializedName:"id",type:{name:"String"}},resourceType:{serializedName:"resourceType",type:{name:"String"}},resourceName:{serializedName:"resourceName",type:{name:"String"}}}}},V={type:{name:"Composite",className:"BasicDependency",modelProperties:{id:{serializedName:"id",type:{name:"String"}},resourceType:{serializedName:"resourceType",type:{name:"String"}},resourceName:{serializedName:"resourceName",type:{name:"String"}}}}},Y={type:{name:"Composite",className:"OnErrorDeploymentExtended",modelProperties:{provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",type:{name:"Enum",allowedValues:["LastSuccessful","SpecificDeployment"]}},deploymentName:{serializedName:"deploymentName",type:{name:"String"}}}}},X={type:{name:"Composite",className:"ResourceReference",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}}}}},J={type:{name:"Composite",className:"DeploymentValidateResult",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentPropertiesExtended"}}}}},Z={type:{name:"Composite",className:"DeploymentExportResult",modelProperties:{template:{serializedName:"template",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},ee={type:{name:"Composite",className:"DeploymentListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"DeploymentExtended"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},te={type:{name:"Composite",className:"ScopedDeployment",modelProperties:{location:{serializedName:"location",required:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentProperties"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},re={type:{name:"Composite",className:"ScopedDeploymentWhatIf",modelProperties:{location:{serializedName:"location",required:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentWhatIfProperties"}}}}},ne={type:{name:"Composite",className:"DeploymentWhatIfSettings",modelProperties:{resultFormat:{serializedName:"resultFormat",type:{name:"Enum",allowedValues:["ResourceIdOnly","FullResourcePayloads"]}}}}},ie={type:{name:"Composite",className:"WhatIfOperationResult",modelProperties:{status:{serializedName:"status",type:{name:"String"}},error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}},changes:{serializedName:"properties.changes",type:{name:"Sequence",element:{type:{name:"Composite",className:"WhatIfChange"}}}}}}},oe={type:{name:"Composite",className:"WhatIfChange",modelProperties:{resourceId:{serializedName:"resourceId",required:!0,type:{name:"String"}},changeType:{serializedName:"changeType",required:!0,type:{name:"Enum",allowedValues:["Create","Delete","Ignore","Deploy","NoChange","Modify","Unsupported"]}},unsupportedReason:{serializedName:"unsupportedReason",type:{name:"String"}},before:{serializedName:"before",type:{name:"Dictionary",value:{type:{name:"any"}}}},after:{serializedName:"after",type:{name:"Dictionary",value:{type:{name:"any"}}}},delta:{serializedName:"delta",type:{name:"Sequence",element:{type:{name:"Composite",className:"WhatIfPropertyChange"}}}}}}},ae={type:{name:"Composite",className:"WhatIfPropertyChange",modelProperties:{path:{serializedName:"path",required:!0,type:{name:"String"}},propertyChangeType:{serializedName:"propertyChangeType",required:!0,type:{name:"Enum",allowedValues:["Create","Delete","Modify","Array","NoEffect"]}},before:{serializedName:"before",type:{name:"Dictionary",value:{type:{name:"any"}}}},after:{serializedName:"after",type:{name:"Dictionary",value:{type:{name:"any"}}}},children:{serializedName:"children",type:{name:"Sequence",element:{type:{name:"Composite",className:"WhatIfPropertyChange"}}}}}}},se={type:{name:"Composite",className:"DeploymentWhatIf",modelProperties:{location:{serializedName:"location",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentWhatIfProperties"}}}}},ce={type:{name:"Composite",className:"ProviderPermissionListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"ProviderPermission"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},ue={type:{name:"Composite",className:"ProviderPermission",modelProperties:{applicationId:{serializedName:"applicationId",type:{name:"String"}},roleDefinition:{serializedName:"roleDefinition",type:{name:"Composite",className:"RoleDefinition"}},managedByRoleDefinition:{serializedName:"managedByRoleDefinition",type:{name:"Composite",className:"RoleDefinition"}},providerAuthorizationConsentState:{serializedName:"providerAuthorizationConsentState",type:{name:"String"}}}}},le={type:{name:"Composite",className:"RoleDefinition",modelProperties:{id:{serializedName:"id",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},isServiceRole:{serializedName:"isServiceRole",type:{name:"Boolean"}},permissions:{serializedName:"permissions",type:{name:"Sequence",element:{type:{name:"Composite",className:"Permission"}}}},scopes:{serializedName:"scopes",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},pe={type:{name:"Composite",className:"Permission",modelProperties:{actions:{serializedName:"actions",type:{name:"Sequence",element:{type:{name:"String"}}}},notActions:{serializedName:"notActions",type:{name:"Sequence",element:{type:{name:"String"}}}},dataActions:{serializedName:"dataActions",type:{name:"Sequence",element:{type:{name:"String"}}}},notDataActions:{serializedName:"notDataActions",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},de={type:{name:"Composite",className:"ProviderRegistrationRequest",modelProperties:{thirdPartyProviderConsent:{serializedName:"thirdPartyProviderConsent",type:{name:"Composite",className:"ProviderConsentDefinition"}}}}},he={type:{name:"Composite",className:"ProviderConsentDefinition",modelProperties:{consentToAuthorization:{serializedName:"consentToAuthorization",type:{name:"Boolean"}}}}},fe={type:{name:"Composite",className:"ProviderListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"Provider"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},me={type:{name:"Composite",className:"ProviderResourceTypeListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"ProviderResourceType"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},ge={type:{name:"Composite",className:"ResourceListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"GenericResourceExpanded"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},ye={type:{name:"Composite",className:"Plan",modelProperties:{name:{serializedName:"name",type:{name:"String"}},publisher:{serializedName:"publisher",type:{name:"String"}},product:{serializedName:"product",type:{name:"String"}},promotionCode:{serializedName:"promotionCode",type:{name:"String"}},version:{serializedName:"version",type:{name:"String"}}}}},ve={type:{name:"Composite",className:"Sku",modelProperties:{name:{serializedName:"name",type:{name:"String"}},tier:{serializedName:"tier",type:{name:"String"}},size:{serializedName:"size",type:{name:"String"}},family:{serializedName:"family",type:{name:"String"}},model:{serializedName:"model",type:{name:"String"}},capacity:{serializedName:"capacity",type:{name:"Number"}}}}},be={type:{name:"Composite",className:"Identity",modelProperties:{principalId:{serializedName:"principalId",readOnly:!0,type:{name:"String"}},tenantId:{serializedName:"tenantId",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",type:{name:"Enum",allowedValues:["SystemAssigned","UserAssigned","SystemAssigned, UserAssigned","None"]}},userAssignedIdentities:{serializedName:"userAssignedIdentities",type:{name:"Dictionary",value:{type:{name:"Composite",className:"IdentityUserAssignedIdentitiesValue"}}}}}}},Ee={type:{name:"Composite",className:"IdentityUserAssignedIdentitiesValue",modelProperties:{principalId:{serializedName:"principalId",readOnly:!0,type:{name:"String"}},clientId:{serializedName:"clientId",readOnly:!0,type:{name:"String"}}}}},we={type:{name:"Composite",className:"Resource",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},location:{serializedName:"location",type:{name:"String"}},extendedLocation:{serializedName:"extendedLocation",type:{name:"Composite",className:"ExtendedLocation"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},Ae={type:{name:"Composite",className:"ExtendedLocation",modelProperties:{type:{serializedName:"type",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}}}}},xe={type:{name:"Composite",className:"ResourceGroup",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"ResourceGroupProperties"}},location:{serializedName:"location",required:!0,type:{name:"String"}},managedBy:{serializedName:"managedBy",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},Se={type:{name:"Composite",className:"ResourceGroupProperties",modelProperties:{provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}}}}},_e={type:{name:"Composite",className:"ResourceGroupPatchable",modelProperties:{name:{serializedName:"name",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"ResourceGroupProperties"}},managedBy:{serializedName:"managedBy",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},ke={type:{name:"Composite",className:"ExportTemplateRequest",modelProperties:{resources:{serializedName:"resources",type:{name:"Sequence",element:{type:{name:"String"}}}},options:{serializedName:"options",type:{name:"String"}}}}},Ie={type:{name:"Composite",className:"ResourceGroupExportResult",modelProperties:{template:{serializedName:"template",type:{name:"Dictionary",value:{type:{name:"any"}}}},error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}}}}},Te={type:{name:"Composite",className:"ResourceGroupListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"ResourceGroup"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},Ce={type:{name:"Composite",className:"ResourcesMoveInfo",modelProperties:{resources:{serializedName:"resources",type:{name:"Sequence",element:{type:{name:"String"}}}},targetResourceGroup:{serializedName:"targetResourceGroup",type:{name:"String"}}}}},Oe={type:{name:"Composite",className:"TagValue",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},tagValue:{serializedName:"tagValue",type:{name:"String"}},count:{serializedName:"count",type:{name:"Composite",className:"TagCount"}}}}},Ne={type:{name:"Composite",className:"TagCount",modelProperties:{type:{serializedName:"type",type:{name:"String"}},value:{serializedName:"value",type:{name:"Number"}}}}},Re={type:{name:"Composite",className:"TagDetails",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},tagName:{serializedName:"tagName",type:{name:"String"}},count:{serializedName:"count",type:{name:"Composite",className:"TagCount"}},values:{serializedName:"values",type:{name:"Sequence",element:{type:{name:"Composite",className:"TagValue"}}}}}}},Pe={type:{name:"Composite",className:"TagsListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"TagDetails"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},Le={type:{name:"Composite",className:"DeploymentOperation",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},operationId:{serializedName:"operationId",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"DeploymentOperationProperties"}}}}},Me={type:{name:"Composite",className:"DeploymentOperationProperties",modelProperties:{provisioningOperation:{serializedName:"provisioningOperation",readOnly:!0,type:{name:"Enum",allowedValues:["NotSpecified","Create","Delete","Waiting","AzureAsyncOperationWaiting","ResourceCacheWaiting","Action","Read","EvaluateDeploymentOutput","DeploymentCleanup"]}},provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}},timestamp:{serializedName:"timestamp",readOnly:!0,type:{name:"DateTime"}},duration:{serializedName:"duration",readOnly:!0,type:{name:"String"}},serviceRequestId:{serializedName:"serviceRequestId",readOnly:!0,type:{name:"String"}},statusCode:{serializedName:"statusCode",readOnly:!0,type:{name:"String"}},statusMessage:{serializedName:"statusMessage",type:{name:"Composite",className:"StatusMessage"}},targetResource:{serializedName:"targetResource",type:{name:"Composite",className:"TargetResource"}},request:{serializedName:"request",type:{name:"Composite",className:"HttpMessage"}},response:{serializedName:"response",type:{name:"Composite",className:"HttpMessage"}}}}},qe={type:{name:"Composite",className:"StatusMessage",modelProperties:{status:{serializedName:"status",type:{name:"String"}},error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}}}}},De={type:{name:"Composite",className:"TargetResource",modelProperties:{id:{serializedName:"id",type:{name:"String"}},resourceName:{serializedName:"resourceName",type:{name:"String"}},resourceType:{serializedName:"resourceType",type:{name:"String"}}}}},Be={type:{name:"Composite",className:"HttpMessage",modelProperties:{content:{serializedName:"content",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},je={type:{name:"Composite",className:"DeploymentOperationsListResult",modelProperties:{value:{serializedName:"value",type:{name:"Sequence",element:{type:{name:"Composite",className:"DeploymentOperation"}}}},nextLink:{serializedName:"nextLink",readOnly:!0,type:{name:"String"}}}}},Ue={type:{name:"Composite",className:"TemplateHashResult",modelProperties:{minifiedTemplate:{serializedName:"minifiedTemplate",type:{name:"String"}},templateHash:{serializedName:"templateHash",type:{name:"String"}}}}},Fe={type:{name:"Composite",className:"TagsResource",modelProperties:{id:{serializedName:"id",readOnly:!0,type:{name:"String"}},name:{serializedName:"name",readOnly:!0,type:{name:"String"}},type:{serializedName:"type",readOnly:!0,type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"Tags"}}}}},ze={type:{name:"Composite",className:"Tags",modelProperties:{tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},He={type:{name:"Composite",className:"TagsPatchResource",modelProperties:{operation:{serializedName:"operation",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"Tags"}}}}},Qe={type:{name:"Composite",className:"DeploymentExtendedFilter",modelProperties:{provisioningState:{serializedName:"provisioningState",type:{name:"String"}}}}},Ge={type:{name:"Composite",className:"GenericResourceFilter",modelProperties:{resourceType:{serializedName:"resourceType",type:{name:"String"}},tagname:{serializedName:"tagname",type:{name:"String"}},tagvalue:{serializedName:"tagvalue",type:{name:"String"}}}}},Ke={type:{name:"Composite",className:"ResourceGroupFilter",modelProperties:{tagName:{serializedName:"tagName",type:{name:"String"}},tagValue:{serializedName:"tagValue",type:{name:"String"}}}}},$e={type:{name:"Composite",className:"ResourceProviderOperationDisplayProperties",modelProperties:{publisher:{serializedName:"publisher",type:{name:"String"}},provider:{serializedName:"provider",type:{name:"String"}},resource:{serializedName:"resource",type:{name:"String"}},operation:{serializedName:"operation",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}}}}},We={type:{name:"Composite",className:"SubResource",modelProperties:{id:{serializedName:"id",type:{name:"String"}}}}},Ve={type:{name:"Composite",className:"DeploymentWhatIfProperties",modelProperties:Object.assign(Object.assign({},S.type.modelProperties),{whatIfSettings:{serializedName:"whatIfSettings",type:{name:"Composite",className:"DeploymentWhatIfSettings"}}})}},Ye={type:{name:"Composite",className:"GenericResource",modelProperties:Object.assign(Object.assign({},we.type.modelProperties),{plan:{serializedName:"plan",type:{name:"Composite",className:"Plan"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"any"}}}},kind:{constraints:{Pattern:new RegExp("^[-\\w\\._,\\(\\)]+$")},serializedName:"kind",type:{name:"String"}},managedBy:{serializedName:"managedBy",type:{name:"String"}},sku:{serializedName:"sku",type:{name:"Composite",className:"Sku"}},identity:{serializedName:"identity",type:{name:"Composite",className:"Identity"}}})}},Xe={type:{name:"Composite",className:"GenericResourceExpanded",modelProperties:Object.assign(Object.assign({},Ye.type.modelProperties),{createdTime:{serializedName:"createdTime",readOnly:!0,type:{name:"DateTime"}},changedTime:{serializedName:"changedTime",readOnly:!0,type:{name:"DateTime"}},provisioningState:{serializedName:"provisioningState",readOnly:!0,type:{name:"String"}}})}},Je={type:{name:"Composite",className:"DeploymentsWhatIfAtTenantScopeHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}},retryAfter:{serializedName:"retry-after",type:{name:"String"}}}}},Ze={type:{name:"Composite",className:"DeploymentsWhatIfAtManagementGroupScopeHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}},retryAfter:{serializedName:"retry-after",type:{name:"String"}}}}},et={type:{name:"Composite",className:"DeploymentsWhatIfAtSubscriptionScopeHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}},retryAfter:{serializedName:"retry-after",type:{name:"String"}}}}},tt={type:{name:"Composite",className:"DeploymentsWhatIfHeaders",modelProperties:{location:{serializedName:"location",type:{name:"String"}},retryAfter:{serializedName:"retry-after",type:{name:"String"}}}}},rt={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},nt={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},it={parameterPath:"apiVersion",mapper:{defaultValue:"2021-04-01",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},ot={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0},at={parameterPath:"scope",mapper:{serializedName:"scope",required:!0,type:{name:"String"}},skipEncoding:!0},st={parameterPath:"deploymentName",mapper:{constraints:{Pattern:new RegExp("^[-\\w\\._\\(\\)]+$"),MaxLength:64,MinLength:1},serializedName:"deploymentName",required:!0,type:{name:"String"}}},ct={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},ut={parameterPath:"parameters",mapper:x},lt={parameterPath:["options","filter"],mapper:{serializedName:"$filter",type:{name:"String"}}},pt={parameterPath:["options","top"],mapper:{serializedName:"$top",type:{name:"Number"}}},dt={parameterPath:"parameters",mapper:te},ht={parameterPath:"parameters",mapper:re},ft={parameterPath:"groupId",mapper:{constraints:{MaxLength:90,MinLength:1},serializedName:"groupId",required:!0,type:{name:"String"}}},mt={parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"String"}}},gt={parameterPath:"parameters",mapper:se},yt={parameterPath:"resourceGroupName",mapper:{constraints:{Pattern:new RegExp("^[-\\w\\._\\(\\)]+$"),MaxLength:90,MinLength:1},serializedName:"resourceGroupName",required:!0,type:{name:"String"}}},vt={parameterPath:"resourceProviderNamespace",mapper:{serializedName:"resourceProviderNamespace",required:!0,type:{name:"String"}}},bt={parameterPath:["options","properties"],mapper:de},Et={parameterPath:["options","expand"],mapper:{serializedName:"$expand",type:{name:"String"}}},wt={parameterPath:"parameters",mapper:Ce},At={parameterPath:"sourceResourceGroupName",mapper:{constraints:{Pattern:new RegExp("^[-\\w\\._\\(\\)]+$"),MaxLength:90,MinLength:1},serializedName:"sourceResourceGroupName",required:!0,type:{name:"String"}}},xt={parameterPath:"parentResourcePath",mapper:{serializedName:"parentResourcePath",required:!0,type:{name:"String"}},skipEncoding:!0},St={parameterPath:"resourceType",mapper:{serializedName:"resourceType",required:!0,type:{name:"String"}},skipEncoding:!0},_t={parameterPath:"resourceName",mapper:{serializedName:"resourceName",required:!0,type:{name:"String"}}},kt={parameterPath:"apiVersion",mapper:{serializedName:"api-version",required:!0,type:{name:"String"}}},It={parameterPath:"parameters",mapper:Ye},Tt={parameterPath:"resourceId",mapper:{serializedName:"resourceId",required:!0,type:{name:"String"}},skipEncoding:!0},Ct={parameterPath:"parameters",mapper:xe},Ot={parameterPath:"parameters",mapper:_e},Nt={parameterPath:"parameters",mapper:ke},Rt={parameterPath:"tagName",mapper:{serializedName:"tagName",required:!0,type:{name:"String"}}},Pt={parameterPath:"tagValue",mapper:{serializedName:"tagValue",required:!0,type:{name:"String"}}},Lt={parameterPath:"parameters",mapper:Fe},Mt={parameterPath:"parameters",mapper:He},qt={parameterPath:"operationId",mapper:{serializedName:"operationId",required:!0,type:{name:"String"}}},Dt=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"list",value:function(e){var t=this,r=this.listPagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listPagingPage(e,r)}))}},{key:"listPagingPage",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,f.N3)(this._list(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,h(o,i),r.next=10,(0,f.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,f.N3)(this._listNext(i,e));case 15:return n=r.sent,i=n.nextLink,h(a=n.value||[],i),r.next=21,(0,f.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listPagingAll",value:function(e){return(0,f.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=(0,f.xN)(this.listPagingPage(e));case 2:return t.next=4,(0,f.N3)(o.next());case 4:if((i=t.sent).done){t.next=13;break}return a=i.value,t.t0=f.N3,t.delegateYield((0,f.Me)((0,f.xN)(a)),"t1",8);case 8:return t.t2=t.t1,t.next=11,(0,t.t0)(t.t2);case 11:t.next=2;break;case 13:t.next=18;break;case 15:t.prev=15,t.t3=t.catch(0),r={error:t.t3};case 18:if(t.prev=18,t.prev=19,t.t4=i&&!i.done&&(n=o.return),!t.t4){t.next=24;break}return t.next=24,(0,f.N3)(n.call(o));case 24:if(t.prev=24,!r){t.next=27;break}throw r.error;case 27:return t.finish(24);case 28:return t.finish(18);case 29:case"end":return t.stop()}}),t,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"_list",value:function(e){return this.client.sendOperationRequest({options:e},jt)}},{key:"_listNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},Ut)}}])}(),Bt=m.rl(n,!1),jt={path:"/providers/Microsoft.Resources/operations",httpMethod:"GET",responses:{200:{bodyMapper:y},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt],headerParameters:[rt],serializer:Bt},Ut={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:y},default:{bodyMapper:E}},urlParameters:[nt,ot],headerParameters:[rt],serializer:Bt},Ft=r(7307);function zt(e){var t=e.args,r=e.spec,n=e.sendOperationFn;return{requestMethod:r.httpMethod,requestPath:r.path,sendInitialRequest:function(){return n(t,r)},sendPollRequest:function(e,i){r.requestBody;var o=(0,f.Tt)(r,["requestBody"]);return n(t,Object.assign(Object.assign({},o),{httpMethod:"GET",path:e,abortSignal:null==i?void 0:i.abortSignal}))}}}var Ht=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"listAtScope",value:function(e,t){var r=this,n=this.listAtScopePagingAll(e,t);return R(R({next:function(){return n.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(n){if(null==n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return r.listAtScopePagingPage(e,t,n)}))}},{key:"listAtScopePagingPage",value:function(e,t,r){return(0,f.AQ)(this,arguments,N().mark((function n(){var i,o,a,s;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null==r?void 0:r.continuationToken){n.next=12;break}return n.next=4,(0,f.N3)(this._listAtScope(e,t));case 4:return i=n.sent,a=i.value||[],o=i.nextLink,h(a,o),n.next=10,(0,f.N3)(a);case 10:return n.next=12,n.sent;case 12:if(!o){n.next=25;break}return n.next=15,(0,f.N3)(this._listAtScopeNext(e,o,t));case 15:return i=n.sent,o=i.nextLink,h(s=i.value||[],o),n.next=21,(0,f.N3)(s);case 21:return n.next=23,n.sent;case 23:n.next=12;break;case 25:case"end":return n.stop()}}),n,this)})))}},{key:"listAtScopePagingAll",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,a=(0,f.xN)(this.listAtScopePagingPage(e,t));case 2:return r.next=4,(0,f.N3)(a.next());case 4:if((o=r.sent).done){r.next=13;break}return s=o.value,r.t0=f.N3,r.delegateYield((0,f.Me)((0,f.xN)(s)),"t1",8);case 8:return r.t2=r.t1,r.next=11,(0,r.t0)(r.t2);case 11:r.next=2;break;case 13:r.next=18;break;case 15:r.prev=15,r.t3=r.catch(0),n={error:r.t3};case 18:if(r.prev=18,r.prev=19,r.t4=o&&!o.done&&(i=a.return),!r.t4){r.next=24;break}return r.next=24,(0,f.N3)(i.call(a));case 24:if(r.prev=24,!n){r.next=27;break}throw n.error;case 27:return r.finish(24);case 28:return r.finish(18);case 29:case"end":return r.stop()}}),r,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"listAtTenantScope",value:function(e){var t=this,r=this.listAtTenantScopePagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listAtTenantScopePagingPage(e,r)}))}},{key:"listAtTenantScopePagingPage",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,f.N3)(this._listAtTenantScope(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,h(o,i),r.next=10,(0,f.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,f.N3)(this._listAtTenantScopeNext(i,e));case 15:return n=r.sent,i=n.nextLink,h(a=n.value||[],i),r.next=21,(0,f.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listAtTenantScopePagingAll",value:function(e){return(0,f.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=(0,f.xN)(this.listAtTenantScopePagingPage(e));case 2:return t.next=4,(0,f.N3)(o.next());case 4:if((i=t.sent).done){t.next=13;break}return a=i.value,t.t0=f.N3,t.delegateYield((0,f.Me)((0,f.xN)(a)),"t1",8);case 8:return t.t2=t.t1,t.next=11,(0,t.t0)(t.t2);case 11:t.next=2;break;case 13:t.next=18;break;case 15:t.prev=15,t.t3=t.catch(0),r={error:t.t3};case 18:if(t.prev=18,t.prev=19,t.t4=i&&!i.done&&(n=o.return),!t.t4){t.next=24;break}return t.next=24,(0,f.N3)(n.call(o));case 24:if(t.prev=24,!r){t.next=27;break}throw r.error;case 27:return t.finish(24);case 28:return t.finish(18);case 29:case"end":return t.stop()}}),t,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"listAtManagementGroupScope",value:function(e,t){var r=this,n=this.listAtManagementGroupScopePagingAll(e,t);return R(R({next:function(){return n.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(n){if(null==n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return r.listAtManagementGroupScopePagingPage(e,t,n)}))}},{key:"listAtManagementGroupScopePagingPage",value:function(e,t,r){return(0,f.AQ)(this,arguments,N().mark((function n(){var i,o,a,s;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null==r?void 0:r.continuationToken){n.next=12;break}return n.next=4,(0,f.N3)(this._listAtManagementGroupScope(e,t));case 4:return i=n.sent,a=i.value||[],o=i.nextLink,h(a,o),n.next=10,(0,f.N3)(a);case 10:return n.next=12,n.sent;case 12:if(!o){n.next=25;break}return n.next=15,(0,f.N3)(this._listAtManagementGroupScopeNext(e,o,t));case 15:return i=n.sent,o=i.nextLink,h(s=i.value||[],o),n.next=21,(0,f.N3)(s);case 21:return n.next=23,n.sent;case 23:n.next=12;break;case 25:case"end":return n.stop()}}),n,this)})))}},{key:"listAtManagementGroupScopePagingAll",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,a=(0,f.xN)(this.listAtManagementGroupScopePagingPage(e,t));case 2:return r.next=4,(0,f.N3)(a.next());case 4:if((o=r.sent).done){r.next=13;break}return s=o.value,r.t0=f.N3,r.delegateYield((0,f.Me)((0,f.xN)(s)),"t1",8);case 8:return r.t2=r.t1,r.next=11,(0,r.t0)(r.t2);case 11:r.next=2;break;case 13:r.next=18;break;case 15:r.prev=15,r.t3=r.catch(0),n={error:r.t3};case 18:if(r.prev=18,r.prev=19,r.t4=o&&!o.done&&(i=a.return),!r.t4){r.next=24;break}return r.next=24,(0,f.N3)(i.call(a));case 24:if(r.prev=24,!n){r.next=27;break}throw n.error;case 27:return r.finish(24);case 28:return r.finish(18);case 29:case"end":return r.stop()}}),r,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"listAtSubscriptionScope",value:function(e){var t=this,r=this.listAtSubscriptionScopePagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listAtSubscriptionScopePagingPage(e,r)}))}},{key:"listAtSubscriptionScopePagingPage",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,f.N3)(this._listAtSubscriptionScope(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,h(o,i),r.next=10,(0,f.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,f.N3)(this._listAtSubscriptionScopeNext(i,e));case 15:return n=r.sent,i=n.nextLink,h(a=n.value||[],i),r.next=21,(0,f.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listAtSubscriptionScopePagingAll",value:function(e){return(0,f.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=(0,f.xN)(this.listAtSubscriptionScopePagingPage(e));case 2:return t.next=4,(0,f.N3)(o.next());case 4:if((i=t.sent).done){t.next=13;break}return a=i.value,t.t0=f.N3,t.delegateYield((0,f.Me)((0,f.xN)(a)),"t1",8);case 8:return t.t2=t.t1,t.next=11,(0,t.t0)(t.t2);case 11:t.next=2;break;case 13:t.next=18;break;case 15:t.prev=15,t.t3=t.catch(0),r={error:t.t3};case 18:if(t.prev=18,t.prev=19,t.t4=i&&!i.done&&(n=o.return),!t.t4){t.next=24;break}return t.next=24,(0,f.N3)(n.call(o));case 24:if(t.prev=24,!r){t.next=27;break}throw r.error;case 27:return t.finish(24);case 28:return t.finish(18);case 29:case"end":return t.stop()}}),t,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"listByResourceGroup",value:function(e,t){var r=this,n=this.listByResourceGroupPagingAll(e,t);return R(R({next:function(){return n.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(n){if(null==n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return r.listByResourceGroupPagingPage(e,t,n)}))}},{key:"listByResourceGroupPagingPage",value:function(e,t,r){return(0,f.AQ)(this,arguments,N().mark((function n(){var i,o,a,s;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null==r?void 0:r.continuationToken){n.next=12;break}return n.next=4,(0,f.N3)(this._listByResourceGroup(e,t));case 4:return i=n.sent,a=i.value||[],o=i.nextLink,h(a,o),n.next=10,(0,f.N3)(a);case 10:return n.next=12,n.sent;case 12:if(!o){n.next=25;break}return n.next=15,(0,f.N3)(this._listByResourceGroupNext(e,o,t));case 15:return i=n.sent,o=i.nextLink,h(s=i.value||[],o),n.next=21,(0,f.N3)(s);case 21:return n.next=23,n.sent;case 23:n.next=12;break;case 25:case"end":return n.stop()}}),n,this)})))}},{key:"listByResourceGroupPagingAll",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,a=(0,f.xN)(this.listByResourceGroupPagingPage(e,t));case 2:return r.next=4,(0,f.N3)(a.next());case 4:if((o=r.sent).done){r.next=13;break}return s=o.value,r.t0=f.N3,r.delegateYield((0,f.Me)((0,f.xN)(s)),"t1",8);case 8:return r.t2=r.t1,r.next=11,(0,r.t0)(r.t2);case 11:r.next=2;break;case 13:r.next=18;break;case 15:r.prev=15,r.t3=r.catch(0),n={error:r.t3};case 18:if(r.prev=18,r.prev=19,r.t4=o&&!o.done&&(i=a.return),!r.t4){r.next=24;break}return r.next=24,(0,f.N3)(i.call(a));case 24:if(r.prev=24,!n){r.next=27;break}throw n.error;case 27:return r.finish(24);case 28:return r.finish(18);case 29:case"end":return r.stop()}}),r,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"beginDeleteAtScope",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{scope:e,deploymentName:t,options:r},spec:Gt}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginDeleteAtScopeAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginDeleteAtScope(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"checkExistenceAtScope",value:function(e,t,r){return this.client.sendOperationRequest({scope:e,deploymentName:t,options:r},Kt)}},{key:"beginCreateOrUpdateAtScope",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){var o,a,s,c=this;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},a=zt({sendOperationFn:function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){var n,i,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==a||a(e,t)}})}),r.next=3,o(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{scope:e,deploymentName:t,parameters:r,options:n},spec:$t}),i.next=4,(0,Ft.Vj)(a,{restoreFrom:null==n?void 0:n.resumeFrom,intervalInMs:null==n?void 0:n.updateIntervalInMs});case 4:return s=i.sent,i.next=7,s.poll();case 7:return i.abrupt("return",s);case 8:case"end":return i.stop()}}),i)})))}},{key:"beginCreateOrUpdateAtScopeAndWait",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.beginCreateOrUpdateAtScope(e,t,r,n);case 2:return i.abrupt("return",i.sent.pollUntilDone());case 3:case"end":return i.stop()}}),i,this)})))}},{key:"getAtScope",value:function(e,t,r){return this.client.sendOperationRequest({scope:e,deploymentName:t,options:r},Wt)}},{key:"cancelAtScope",value:function(e,t,r){return this.client.sendOperationRequest({scope:e,deploymentName:t,options:r},Vt)}},{key:"beginValidateAtScope",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){var o,a,s,c=this;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},a=zt({sendOperationFn:function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){var n,i,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==a||a(e,t)}})}),r.next=3,o(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{scope:e,deploymentName:t,parameters:r,options:n},spec:Yt}),i.next=4,(0,Ft.Vj)(a,{restoreFrom:null==n?void 0:n.resumeFrom,intervalInMs:null==n?void 0:n.updateIntervalInMs});case 4:return s=i.sent,i.next=7,s.poll();case 7:return i.abrupt("return",s);case 8:case"end":return i.stop()}}),i)})))}},{key:"beginValidateAtScopeAndWait",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.beginValidateAtScope(e,t,r,n);case 2:return i.abrupt("return",i.sent.pollUntilDone());case 3:case"end":return i.stop()}}),i,this)})))}},{key:"exportTemplateAtScope",value:function(e,t,r){return this.client.sendOperationRequest({scope:e,deploymentName:t,options:r},Xt)}},{key:"_listAtScope",value:function(e,t){return this.client.sendOperationRequest({scope:e,options:t},Jt)}},{key:"beginDeleteAtTenantScope",value:function(e,t){return(0,f.sH)(this,void 0,void 0,N().mark((function r(){var n,i,o,a=this;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=function(e,t){return(0,f.sH)(a,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},i=zt({sendOperationFn:function(e,t){return(0,f.sH)(a,void 0,void 0,N().mark((function r(){var i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(i=e.options)||void 0===i?void 0:i.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,n(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{deploymentName:e,options:t},spec:Zt}),r.next=4,(0,Ft.Vj)(i,{restoreFrom:null==t?void 0:t.resumeFrom,intervalInMs:null==t?void 0:t.updateIntervalInMs});case 4:return o=r.sent,r.next=7,o.poll();case 7:return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))}},{key:"beginDeleteAtTenantScopeAndWait",value:function(e,t){return(0,f.sH)(this,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.beginDeleteAtTenantScope(e,t);case 2:return r.abrupt("return",r.sent.pollUntilDone());case 3:case"end":return r.stop()}}),r,this)})))}},{key:"checkExistenceAtTenantScope",value:function(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},er)}},{key:"beginCreateOrUpdateAtTenantScope",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{deploymentName:e,parameters:t,options:r},spec:tr}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginCreateOrUpdateAtTenantScopeAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginCreateOrUpdateAtTenantScope(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"getAtTenantScope",value:function(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},rr)}},{key:"cancelAtTenantScope",value:function(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},nr)}},{key:"beginValidateAtTenantScope",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{deploymentName:e,parameters:t,options:r},spec:ir}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginValidateAtTenantScopeAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginValidateAtTenantScope(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"beginWhatIfAtTenantScope",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{deploymentName:e,parameters:t,options:r},spec:or}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs,resourceLocationConfig:"location"});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginWhatIfAtTenantScopeAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginWhatIfAtTenantScope(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"exportTemplateAtTenantScope",value:function(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},ar)}},{key:"_listAtTenantScope",value:function(e){return this.client.sendOperationRequest({options:e},sr)}},{key:"beginDeleteAtManagementGroupScope",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{groupId:e,deploymentName:t,options:r},spec:cr}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginDeleteAtManagementGroupScopeAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginDeleteAtManagementGroupScope(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"checkExistenceAtManagementGroupScope",value:function(e,t,r){return this.client.sendOperationRequest({groupId:e,deploymentName:t,options:r},ur)}},{key:"beginCreateOrUpdateAtManagementGroupScope",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){var o,a,s,c=this;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},a=zt({sendOperationFn:function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){var n,i,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==a||a(e,t)}})}),r.next=3,o(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{groupId:e,deploymentName:t,parameters:r,options:n},spec:lr}),i.next=4,(0,Ft.Vj)(a,{restoreFrom:null==n?void 0:n.resumeFrom,intervalInMs:null==n?void 0:n.updateIntervalInMs});case 4:return s=i.sent,i.next=7,s.poll();case 7:return i.abrupt("return",s);case 8:case"end":return i.stop()}}),i)})))}},{key:"beginCreateOrUpdateAtManagementGroupScopeAndWait",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.beginCreateOrUpdateAtManagementGroupScope(e,t,r,n);case 2:return i.abrupt("return",i.sent.pollUntilDone());case 3:case"end":return i.stop()}}),i,this)})))}},{key:"getAtManagementGroupScope",value:function(e,t,r){return this.client.sendOperationRequest({groupId:e,deploymentName:t,options:r},pr)}},{key:"cancelAtManagementGroupScope",value:function(e,t,r){return this.client.sendOperationRequest({groupId:e,deploymentName:t,options:r},dr)}},{key:"beginValidateAtManagementGroupScope",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){var o,a,s,c=this;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},a=zt({sendOperationFn:function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){var n,i,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==a||a(e,t)}})}),r.next=3,o(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{groupId:e,deploymentName:t,parameters:r,options:n},spec:hr}),i.next=4,(0,Ft.Vj)(a,{restoreFrom:null==n?void 0:n.resumeFrom,intervalInMs:null==n?void 0:n.updateIntervalInMs});case 4:return s=i.sent,i.next=7,s.poll();case 7:return i.abrupt("return",s);case 8:case"end":return i.stop()}}),i)})))}},{key:"beginValidateAtManagementGroupScopeAndWait",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.beginValidateAtManagementGroupScope(e,t,r,n);case 2:return i.abrupt("return",i.sent.pollUntilDone());case 3:case"end":return i.stop()}}),i,this)})))}},{key:"beginWhatIfAtManagementGroupScope",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){var o,a,s,c=this;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},a=zt({sendOperationFn:function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){var n,i,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==a||a(e,t)}})}),r.next=3,o(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{groupId:e,deploymentName:t,parameters:r,options:n},spec:fr}),i.next=4,(0,Ft.Vj)(a,{restoreFrom:null==n?void 0:n.resumeFrom,intervalInMs:null==n?void 0:n.updateIntervalInMs,resourceLocationConfig:"location"});case 4:return s=i.sent,i.next=7,s.poll();case 7:return i.abrupt("return",s);case 8:case"end":return i.stop()}}),i)})))}},{key:"beginWhatIfAtManagementGroupScopeAndWait",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.beginWhatIfAtManagementGroupScope(e,t,r,n);case 2:return i.abrupt("return",i.sent.pollUntilDone());case 3:case"end":return i.stop()}}),i,this)})))}},{key:"exportTemplateAtManagementGroupScope",value:function(e,t,r){return this.client.sendOperationRequest({groupId:e,deploymentName:t,options:r},mr)}},{key:"_listAtManagementGroupScope",value:function(e,t){return this.client.sendOperationRequest({groupId:e,options:t},gr)}},{key:"beginDeleteAtSubscriptionScope",value:function(e,t){return(0,f.sH)(this,void 0,void 0,N().mark((function r(){var n,i,o,a=this;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=function(e,t){return(0,f.sH)(a,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},i=zt({sendOperationFn:function(e,t){return(0,f.sH)(a,void 0,void 0,N().mark((function r(){var i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(i=e.options)||void 0===i?void 0:i.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,n(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{deploymentName:e,options:t},spec:yr}),r.next=4,(0,Ft.Vj)(i,{restoreFrom:null==t?void 0:t.resumeFrom,intervalInMs:null==t?void 0:t.updateIntervalInMs});case 4:return o=r.sent,r.next=7,o.poll();case 7:return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))}},{key:"beginDeleteAtSubscriptionScopeAndWait",value:function(e,t){return(0,f.sH)(this,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.beginDeleteAtSubscriptionScope(e,t);case 2:return r.abrupt("return",r.sent.pollUntilDone());case 3:case"end":return r.stop()}}),r,this)})))}},{key:"checkExistenceAtSubscriptionScope",value:function(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},vr)}},{key:"beginCreateOrUpdateAtSubscriptionScope",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{deploymentName:e,parameters:t,options:r},spec:br}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginCreateOrUpdateAtSubscriptionScopeAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginCreateOrUpdateAtSubscriptionScope(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"getAtSubscriptionScope",value:function(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},Er)}},{key:"cancelAtSubscriptionScope",value:function(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},wr)}},{key:"beginValidateAtSubscriptionScope",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{deploymentName:e,parameters:t,options:r},spec:Ar}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginValidateAtSubscriptionScopeAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginValidateAtSubscriptionScope(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"beginWhatIfAtSubscriptionScope",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{deploymentName:e,parameters:t,options:r},spec:xr}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs,resourceLocationConfig:"location"});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginWhatIfAtSubscriptionScopeAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginWhatIfAtSubscriptionScope(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"exportTemplateAtSubscriptionScope",value:function(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},Sr)}},{key:"_listAtSubscriptionScope",value:function(e){return this.client.sendOperationRequest({options:e},_r)}},{key:"beginDelete",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,deploymentName:t,options:r},spec:kr}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginDeleteAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginDelete(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"checkExistence",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,options:r},Ir)}},{key:"beginCreateOrUpdate",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){var o,a,s,c=this;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},a=zt({sendOperationFn:function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){var n,i,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==a||a(e,t)}})}),r.next=3,o(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,deploymentName:t,parameters:r,options:n},spec:Tr}),i.next=4,(0,Ft.Vj)(a,{restoreFrom:null==n?void 0:n.resumeFrom,intervalInMs:null==n?void 0:n.updateIntervalInMs});case 4:return s=i.sent,i.next=7,s.poll();case 7:return i.abrupt("return",s);case 8:case"end":return i.stop()}}),i)})))}},{key:"beginCreateOrUpdateAndWait",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.beginCreateOrUpdate(e,t,r,n);case 2:return i.abrupt("return",i.sent.pollUntilDone());case 3:case"end":return i.stop()}}),i,this)})))}},{key:"get",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,options:r},Cr)}},{key:"cancel",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,options:r},Or)}},{key:"beginValidate",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){var o,a,s,c=this;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},a=zt({sendOperationFn:function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){var n,i,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==a||a(e,t)}})}),r.next=3,o(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,deploymentName:t,parameters:r,options:n},spec:Nr}),i.next=4,(0,Ft.Vj)(a,{restoreFrom:null==n?void 0:n.resumeFrom,intervalInMs:null==n?void 0:n.updateIntervalInMs});case 4:return s=i.sent,i.next=7,s.poll();case 7:return i.abrupt("return",s);case 8:case"end":return i.stop()}}),i)})))}},{key:"beginValidateAndWait",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.beginValidate(e,t,r,n);case 2:return i.abrupt("return",i.sent.pollUntilDone());case 3:case"end":return i.stop()}}),i,this)})))}},{key:"beginWhatIf",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){var o,a,s,c=this;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},a=zt({sendOperationFn:function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){var n,i,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==a||a(e,t)}})}),r.next=3,o(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,deploymentName:t,parameters:r,options:n},spec:Rr}),i.next=4,(0,Ft.Vj)(a,{restoreFrom:null==n?void 0:n.resumeFrom,intervalInMs:null==n?void 0:n.updateIntervalInMs,resourceLocationConfig:"location"});case 4:return s=i.sent,i.next=7,s.poll();case 7:return i.abrupt("return",s);case 8:case"end":return i.stop()}}),i)})))}},{key:"beginWhatIfAndWait",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.beginWhatIf(e,t,r,n);case 2:return i.abrupt("return",i.sent.pollUntilDone());case 3:case"end":return i.stop()}}),i,this)})))}},{key:"exportTemplate",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,options:r},Pr)}},{key:"_listByResourceGroup",value:function(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},Lr)}},{key:"calculateTemplateHash",value:function(e,t){return this.client.sendOperationRequest({template:e,options:t},Mr)}},{key:"_listAtScopeNext",value:function(e,t,r){return this.client.sendOperationRequest({scope:e,nextLink:t,options:r},qr)}},{key:"_listAtTenantScopeNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},Dr)}},{key:"_listAtManagementGroupScopeNext",value:function(e,t,r){return this.client.sendOperationRequest({groupId:e,nextLink:t,options:r},Br)}},{key:"_listAtSubscriptionScopeNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},jr)}},{key:"_listByResourceGroupNext",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,nextLink:t,options:r},Ur)}}])}(),Qt=m.rl(n,!1),Gt={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,at,st],headerParameters:[rt],serializer:Qt},Kt={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,at,st],headerParameters:[rt],serializer:Qt},$t={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"PUT",responses:{200:{bodyMapper:q},201:{bodyMapper:q},202:{bodyMapper:q},204:{bodyMapper:q},default:{bodyMapper:E}},requestBody:ut,queryParameters:[it],urlParameters:[nt,at,st],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},Wt={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"GET",responses:{200:{bodyMapper:q},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,at,st],headerParameters:[rt],serializer:Qt},Vt={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}/cancel",httpMethod:"POST",responses:{204:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,at,st],headerParameters:[rt],serializer:Qt},Yt={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}/validate",httpMethod:"POST",responses:{200:{bodyMapper:J},201:{bodyMapper:J},202:{bodyMapper:J},204:{bodyMapper:J},default:{bodyMapper:E}},requestBody:ut,queryParameters:[it],urlParameters:[nt,at,st],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},Xt={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}/exportTemplate",httpMethod:"POST",responses:{200:{bodyMapper:Z},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,at,st],headerParameters:[rt],serializer:Qt},Jt={path:"/{scope}/providers/Microsoft.Resources/deployments/",httpMethod:"GET",responses:{200:{bodyMapper:ee},default:{bodyMapper:E}},queryParameters:[it,lt,pt],urlParameters:[nt,at],headerParameters:[rt],serializer:Qt},Zt={path:"/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st],headerParameters:[rt],serializer:Qt},er={path:"/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st],headerParameters:[rt],serializer:Qt},tr={path:"/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"PUT",responses:{200:{bodyMapper:q},201:{bodyMapper:q},202:{bodyMapper:q},204:{bodyMapper:q},default:{bodyMapper:E}},requestBody:dt,queryParameters:[it],urlParameters:[nt,st],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},rr={path:"/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"GET",responses:{200:{bodyMapper:q},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st],headerParameters:[rt],serializer:Qt},nr={path:"/providers/Microsoft.Resources/deployments/{deploymentName}/cancel",httpMethod:"POST",responses:{204:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st],headerParameters:[rt],serializer:Qt},ir={path:"/providers/Microsoft.Resources/deployments/{deploymentName}/validate",httpMethod:"POST",responses:{200:{bodyMapper:J},201:{bodyMapper:J},202:{bodyMapper:J},204:{bodyMapper:J},default:{bodyMapper:E}},requestBody:dt,queryParameters:[it],urlParameters:[nt,st],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},or={path:"/providers/Microsoft.Resources/deployments/{deploymentName}/whatIf",httpMethod:"POST",responses:{200:{bodyMapper:ie},201:{bodyMapper:ie},202:{bodyMapper:ie},204:{bodyMapper:ie},default:{bodyMapper:E}},requestBody:ht,queryParameters:[it],urlParameters:[nt,st],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},ar={path:"/providers/Microsoft.Resources/deployments/{deploymentName}/exportTemplate",httpMethod:"POST",responses:{200:{bodyMapper:Z},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st],headerParameters:[rt],serializer:Qt},sr={path:"/providers/Microsoft.Resources/deployments/",httpMethod:"GET",responses:{200:{bodyMapper:ee},default:{bodyMapper:E}},queryParameters:[it,lt,pt],urlParameters:[nt],headerParameters:[rt],serializer:Qt},cr={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,ft],headerParameters:[rt],serializer:Qt},ur={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,ft],headerParameters:[rt],serializer:Qt},lr={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"PUT",responses:{200:{bodyMapper:q},201:{bodyMapper:q},202:{bodyMapper:q},204:{bodyMapper:q},default:{bodyMapper:E}},requestBody:dt,queryParameters:[it],urlParameters:[nt,st,ft],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},pr={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"GET",responses:{200:{bodyMapper:q},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,ft],headerParameters:[rt],serializer:Qt},dr={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}/cancel",httpMethod:"POST",responses:{204:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,ft],headerParameters:[rt],serializer:Qt},hr={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}/validate",httpMethod:"POST",responses:{200:{bodyMapper:J},201:{bodyMapper:J},202:{bodyMapper:J},204:{bodyMapper:J},default:{bodyMapper:E}},requestBody:dt,queryParameters:[it],urlParameters:[nt,st,ft],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},fr={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}/whatIf",httpMethod:"POST",responses:{200:{bodyMapper:ie},201:{bodyMapper:ie},202:{bodyMapper:ie},204:{bodyMapper:ie},default:{bodyMapper:E}},requestBody:ht,queryParameters:[it],urlParameters:[nt,st,ft],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},mr={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}/exportTemplate",httpMethod:"POST",responses:{200:{bodyMapper:Z},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,ft],headerParameters:[rt],serializer:Qt},gr={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/",httpMethod:"GET",responses:{200:{bodyMapper:ee},default:{bodyMapper:E}},queryParameters:[it,lt,pt],urlParameters:[nt,ft],headerParameters:[rt],serializer:Qt},yr={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,mt],headerParameters:[rt],serializer:Qt},vr={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,mt],headerParameters:[rt],serializer:Qt},br={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"PUT",responses:{200:{bodyMapper:q},201:{bodyMapper:q},202:{bodyMapper:q},204:{bodyMapper:q},default:{bodyMapper:E}},requestBody:ut,queryParameters:[it],urlParameters:[nt,st,mt],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},Er={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"GET",responses:{200:{bodyMapper:q},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,mt],headerParameters:[rt],serializer:Qt},wr={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/cancel",httpMethod:"POST",responses:{204:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,mt],headerParameters:[rt],serializer:Qt},Ar={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/validate",httpMethod:"POST",responses:{200:{bodyMapper:J},201:{bodyMapper:J},202:{bodyMapper:J},204:{bodyMapper:J},default:{bodyMapper:E}},requestBody:ut,queryParameters:[it],urlParameters:[nt,st,mt],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},xr={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/whatIf",httpMethod:"POST",responses:{200:{bodyMapper:ie},201:{bodyMapper:ie},202:{bodyMapper:ie},204:{bodyMapper:ie},default:{bodyMapper:E}},requestBody:gt,queryParameters:[it],urlParameters:[nt,st,mt],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},Sr={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/exportTemplate",httpMethod:"POST",responses:{200:{bodyMapper:Z},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,mt],headerParameters:[rt],serializer:Qt},_r={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/",httpMethod:"GET",responses:{200:{bodyMapper:ee},default:{bodyMapper:E}},queryParameters:[it,lt,pt],urlParameters:[nt,mt],headerParameters:[rt],serializer:Qt},kr={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,mt,yt],headerParameters:[rt],serializer:Qt},Ir={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,mt,yt],headerParameters:[rt],serializer:Qt},Tr={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"PUT",responses:{200:{bodyMapper:q},201:{bodyMapper:q},202:{bodyMapper:q},204:{bodyMapper:q},default:{bodyMapper:E}},requestBody:ut,queryParameters:[it],urlParameters:[nt,st,mt,yt],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},Cr={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}",httpMethod:"GET",responses:{200:{bodyMapper:q},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,mt,yt],headerParameters:[rt],serializer:Qt},Or={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}/cancel",httpMethod:"POST",responses:{204:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,mt,yt],headerParameters:[rt],serializer:Qt},Nr={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}/validate",httpMethod:"POST",responses:{200:{bodyMapper:J},201:{bodyMapper:J},202:{bodyMapper:J},204:{bodyMapper:J},default:{bodyMapper:E}},requestBody:ut,queryParameters:[it],urlParameters:[nt,st,mt,yt],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},Rr={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}/whatIf",httpMethod:"POST",responses:{200:{bodyMapper:ie},201:{bodyMapper:ie},202:{bodyMapper:ie},204:{bodyMapper:ie},default:{bodyMapper:E}},requestBody:gt,queryParameters:[it],urlParameters:[nt,st,mt,yt],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},Pr={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/{deploymentName}/exportTemplate",httpMethod:"POST",responses:{200:{bodyMapper:Z},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,mt,yt],headerParameters:[rt],serializer:Qt},Lr={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Resources/deployments/",httpMethod:"GET",responses:{200:{bodyMapper:ee},default:{bodyMapper:E}},queryParameters:[it,lt,pt],urlParameters:[nt,mt,yt],headerParameters:[rt],serializer:Qt},Mr={path:"/providers/Microsoft.Resources/calculateTemplateHash",httpMethod:"POST",responses:{200:{bodyMapper:Ue},default:{bodyMapper:E}},requestBody:{parameterPath:"template",mapper:{serializedName:"template",required:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}}},queryParameters:[it],urlParameters:[nt],headerParameters:[rt,ct],mediaType:"json",serializer:Qt},qr={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ee},default:{bodyMapper:E}},urlParameters:[nt,ot,at],headerParameters:[rt],serializer:Qt},Dr={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ee},default:{bodyMapper:E}},urlParameters:[nt,ot],headerParameters:[rt],serializer:Qt},Br={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ee},default:{bodyMapper:E}},urlParameters:[nt,ot,ft],headerParameters:[rt],serializer:Qt},jr={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ee},default:{bodyMapper:E}},urlParameters:[nt,ot,mt],headerParameters:[rt],serializer:Qt},Ur={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ee},default:{bodyMapper:E}},urlParameters:[nt,ot,mt,yt],headerParameters:[rt],serializer:Qt},Fr=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"list",value:function(e){var t=this,r=this.listPagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listPagingPage(e,r)}))}},{key:"listPagingPage",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,f.N3)(this._list(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,h(o,i),r.next=10,(0,f.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,f.N3)(this._listNext(i,e));case 15:return n=r.sent,i=n.nextLink,h(a=n.value||[],i),r.next=21,(0,f.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listPagingAll",value:function(e){return(0,f.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=(0,f.xN)(this.listPagingPage(e));case 2:return t.next=4,(0,f.N3)(o.next());case 4:if((i=t.sent).done){t.next=13;break}return a=i.value,t.t0=f.N3,t.delegateYield((0,f.Me)((0,f.xN)(a)),"t1",8);case 8:return t.t2=t.t1,t.next=11,(0,t.t0)(t.t2);case 11:t.next=2;break;case 13:t.next=18;break;case 15:t.prev=15,t.t3=t.catch(0),r={error:t.t3};case 18:if(t.prev=18,t.prev=19,t.t4=i&&!i.done&&(n=o.return),!t.t4){t.next=24;break}return t.next=24,(0,f.N3)(n.call(o));case 24:if(t.prev=24,!r){t.next=27;break}throw r.error;case 27:return t.finish(24);case 28:return t.finish(18);case 29:case"end":return t.stop()}}),t,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"listAtTenantScope",value:function(e){var t=this,r=this.listAtTenantScopePagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listAtTenantScopePagingPage(e,r)}))}},{key:"listAtTenantScopePagingPage",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,f.N3)(this._listAtTenantScope(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,h(o,i),r.next=10,(0,f.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,f.N3)(this._listAtTenantScopeNext(i,e));case 15:return n=r.sent,i=n.nextLink,h(a=n.value||[],i),r.next=21,(0,f.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listAtTenantScopePagingAll",value:function(e){return(0,f.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=(0,f.xN)(this.listAtTenantScopePagingPage(e));case 2:return t.next=4,(0,f.N3)(o.next());case 4:if((i=t.sent).done){t.next=13;break}return a=i.value,t.t0=f.N3,t.delegateYield((0,f.Me)((0,f.xN)(a)),"t1",8);case 8:return t.t2=t.t1,t.next=11,(0,t.t0)(t.t2);case 11:t.next=2;break;case 13:t.next=18;break;case 15:t.prev=15,t.t3=t.catch(0),r={error:t.t3};case 18:if(t.prev=18,t.prev=19,t.t4=i&&!i.done&&(n=o.return),!t.t4){t.next=24;break}return t.next=24,(0,f.N3)(n.call(o));case 24:if(t.prev=24,!r){t.next=27;break}throw r.error;case 27:return t.finish(24);case 28:return t.finish(18);case 29:case"end":return t.stop()}}),t,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"unregister",value:function(e,t){return this.client.sendOperationRequest({resourceProviderNamespace:e,options:t},Hr)}},{key:"registerAtManagementGroupScope",value:function(e,t,r){return this.client.sendOperationRequest({resourceProviderNamespace:e,groupId:t,options:r},Qr)}},{key:"providerPermissions",value:function(e,t){return this.client.sendOperationRequest({resourceProviderNamespace:e,options:t},Gr)}},{key:"register",value:function(e,t){return this.client.sendOperationRequest({resourceProviderNamespace:e,options:t},Kr)}},{key:"_list",value:function(e){return this.client.sendOperationRequest({options:e},$r)}},{key:"_listAtTenantScope",value:function(e){return this.client.sendOperationRequest({options:e},Wr)}},{key:"get",value:function(e,t){return this.client.sendOperationRequest({resourceProviderNamespace:e,options:t},Vr)}},{key:"getAtTenantScope",value:function(e,t){return this.client.sendOperationRequest({resourceProviderNamespace:e,options:t},Yr)}},{key:"_listNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},Xr)}},{key:"_listAtTenantScopeNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},Jr)}}])}(),zr=m.rl(n,!1),Hr={path:"/subscriptions/{subscriptionId}/providers/{resourceProviderNamespace}/unregister",httpMethod:"POST",responses:{200:{bodyMapper:j},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,mt,vt],headerParameters:[rt],serializer:zr},Qr={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/{resourceProviderNamespace}/register",httpMethod:"POST",responses:{200:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,ft,vt],headerParameters:[rt],serializer:zr},Gr={path:"/subscriptions/{subscriptionId}/providers/{resourceProviderNamespace}/providerPermissions",httpMethod:"GET",responses:{200:{bodyMapper:ce},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,mt,vt],headerParameters:[rt],serializer:zr},Kr={path:"/subscriptions/{subscriptionId}/providers/{resourceProviderNamespace}/register",httpMethod:"POST",responses:{200:{bodyMapper:j},default:{bodyMapper:E}},requestBody:bt,queryParameters:[it],urlParameters:[nt,mt,vt],headerParameters:[rt,ct],mediaType:"json",serializer:zr},$r={path:"/subscriptions/{subscriptionId}/providers",httpMethod:"GET",responses:{200:{bodyMapper:fe},default:{bodyMapper:E}},queryParameters:[it,Et],urlParameters:[nt,mt],headerParameters:[rt],serializer:zr},Wr={path:"/providers",httpMethod:"GET",responses:{200:{bodyMapper:fe},default:{bodyMapper:E}},queryParameters:[it,Et],urlParameters:[nt],headerParameters:[rt],serializer:zr},Vr={path:"/subscriptions/{subscriptionId}/providers/{resourceProviderNamespace}",httpMethod:"GET",responses:{200:{bodyMapper:j},default:{bodyMapper:E}},queryParameters:[it,Et],urlParameters:[nt,mt,vt],headerParameters:[rt],serializer:zr},Yr={path:"/providers/{resourceProviderNamespace}",httpMethod:"GET",responses:{200:{bodyMapper:j},default:{bodyMapper:E}},queryParameters:[it,Et],urlParameters:[nt,vt],headerParameters:[rt],serializer:zr},Xr={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:fe},default:{bodyMapper:E}},urlParameters:[nt,ot,mt],headerParameters:[rt],serializer:zr},Jr={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:fe},default:{bodyMapper:E}},urlParameters:[nt,ot],headerParameters:[rt],serializer:zr},Zr=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"list",value:function(e,t){return this.client.sendOperationRequest({resourceProviderNamespace:e,options:t},tn)}}])}(),en=m.rl(n,!1),tn={path:"/subscriptions/{subscriptionId}/providers/{resourceProviderNamespace}/resourceTypes",httpMethod:"GET",responses:{200:{bodyMapper:me},default:{bodyMapper:E}},queryParameters:[it,Et],urlParameters:[nt,mt,vt],headerParameters:[rt],serializer:en},rn=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"listByResourceGroup",value:function(e,t){var r=this,n=this.listByResourceGroupPagingAll(e,t);return R(R({next:function(){return n.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(n){if(null==n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return r.listByResourceGroupPagingPage(e,t,n)}))}},{key:"listByResourceGroupPagingPage",value:function(e,t,r){return(0,f.AQ)(this,arguments,N().mark((function n(){var i,o,a,s;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null==r?void 0:r.continuationToken){n.next=12;break}return n.next=4,(0,f.N3)(this._listByResourceGroup(e,t));case 4:return i=n.sent,a=i.value||[],o=i.nextLink,h(a,o),n.next=10,(0,f.N3)(a);case 10:return n.next=12,n.sent;case 12:if(!o){n.next=25;break}return n.next=15,(0,f.N3)(this._listByResourceGroupNext(e,o,t));case 15:return i=n.sent,o=i.nextLink,h(s=i.value||[],o),n.next=21,(0,f.N3)(s);case 21:return n.next=23,n.sent;case 23:n.next=12;break;case 25:case"end":return n.stop()}}),n,this)})))}},{key:"listByResourceGroupPagingAll",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,a=(0,f.xN)(this.listByResourceGroupPagingPage(e,t));case 2:return r.next=4,(0,f.N3)(a.next());case 4:if((o=r.sent).done){r.next=13;break}return s=o.value,r.t0=f.N3,r.delegateYield((0,f.Me)((0,f.xN)(s)),"t1",8);case 8:return r.t2=r.t1,r.next=11,(0,r.t0)(r.t2);case 11:r.next=2;break;case 13:r.next=18;break;case 15:r.prev=15,r.t3=r.catch(0),n={error:r.t3};case 18:if(r.prev=18,r.prev=19,r.t4=o&&!o.done&&(i=a.return),!r.t4){r.next=24;break}return r.next=24,(0,f.N3)(i.call(a));case 24:if(r.prev=24,!n){r.next=27;break}throw n.error;case 27:return r.finish(24);case 28:return r.finish(18);case 29:case"end":return r.stop()}}),r,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"list",value:function(e){var t=this,r=this.listPagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listPagingPage(e,r)}))}},{key:"listPagingPage",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,f.N3)(this._list(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,h(o,i),r.next=10,(0,f.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,f.N3)(this._listNext(i,e));case 15:return n=r.sent,i=n.nextLink,h(a=n.value||[],i),r.next=21,(0,f.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listPagingAll",value:function(e){return(0,f.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=(0,f.xN)(this.listPagingPage(e));case 2:return t.next=4,(0,f.N3)(o.next());case 4:if((i=t.sent).done){t.next=13;break}return a=i.value,t.t0=f.N3,t.delegateYield((0,f.Me)((0,f.xN)(a)),"t1",8);case 8:return t.t2=t.t1,t.next=11,(0,t.t0)(t.t2);case 11:t.next=2;break;case 13:t.next=18;break;case 15:t.prev=15,t.t3=t.catch(0),r={error:t.t3};case 18:if(t.prev=18,t.prev=19,t.t4=i&&!i.done&&(n=o.return),!t.t4){t.next=24;break}return t.next=24,(0,f.N3)(n.call(o));case 24:if(t.prev=24,!r){t.next=27;break}throw r.error;case 27:return t.finish(24);case 28:return t.finish(18);case 29:case"end":return t.stop()}}),t,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"_listByResourceGroup",value:function(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},on)}},{key:"beginMoveResources",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{sourceResourceGroupName:e,parameters:t,options:r},spec:an}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginMoveResourcesAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginMoveResources(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"beginValidateMoveResources",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{sourceResourceGroupName:e,parameters:t,options:r},spec:sn}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginValidateMoveResourcesAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginValidateMoveResources(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"_list",value:function(e){return this.client.sendOperationRequest({options:e},cn)}},{key:"checkExistence",value:function(e,t,r,n,i,o,a){return this.client.sendOperationRequest({resourceGroupName:e,resourceProviderNamespace:t,parentResourcePath:r,resourceType:n,resourceName:i,apiVersion:o,options:a},un)}},{key:"beginDelete",value:function(e,t,r,n,i,o,a){return(0,f.sH)(this,void 0,void 0,N().mark((function s(){var c,u,l,p=this;return N().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c=function(e,t){return(0,f.sH)(p,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},u=zt({sendOperationFn:function(e,t){return(0,f.sH)(p,void 0,void 0,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=null===(n=e.options)||void 0===n?void 0:n.onResponse,a=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==o||o(e,t)}})}),r.next=3,c(a,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,resourceProviderNamespace:t,parentResourcePath:r,resourceType:n,resourceName:i,apiVersion:o,options:a},spec:ln}),s.next=4,(0,Ft.Vj)(u,{restoreFrom:null==a?void 0:a.resumeFrom,intervalInMs:null==a?void 0:a.updateIntervalInMs});case 4:return l=s.sent,s.next=7,l.poll();case 7:return s.abrupt("return",l);case 8:case"end":return s.stop()}}),s)})))}},{key:"beginDeleteAndWait",value:function(e,t,r,n,i,o,a){return(0,f.sH)(this,void 0,void 0,N().mark((function s(){return N().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.beginDelete(e,t,r,n,i,o,a);case 2:return s.abrupt("return",s.sent.pollUntilDone());case 3:case"end":return s.stop()}}),s,this)})))}},{key:"beginCreateOrUpdate",value:function(e,t,r,n,i,o,a,s){return(0,f.sH)(this,void 0,void 0,N().mark((function c(){var u,l,p,d=this;return N().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return u=function(e,t){return(0,f.sH)(d,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},l=zt({sendOperationFn:function(e,t){return(0,f.sH)(d,void 0,void 0,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=null===(n=e.options)||void 0===n?void 0:n.onResponse,a=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==o||o(e,t)}})}),r.next=3,u(a,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,resourceProviderNamespace:t,parentResourcePath:r,resourceType:n,resourceName:i,apiVersion:o,parameters:a,options:s},spec:pn}),c.next=4,(0,Ft.Vj)(l,{restoreFrom:null==s?void 0:s.resumeFrom,intervalInMs:null==s?void 0:s.updateIntervalInMs});case 4:return p=c.sent,c.next=7,p.poll();case 7:return c.abrupt("return",p);case 8:case"end":return c.stop()}}),c)})))}},{key:"beginCreateOrUpdateAndWait",value:function(e,t,r,n,i,o,a,s){return(0,f.sH)(this,void 0,void 0,N().mark((function c(){return N().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.beginCreateOrUpdate(e,t,r,n,i,o,a,s);case 2:return c.abrupt("return",c.sent.pollUntilDone());case 3:case"end":return c.stop()}}),c,this)})))}},{key:"beginUpdate",value:function(e,t,r,n,i,o,a,s){return(0,f.sH)(this,void 0,void 0,N().mark((function c(){var u,l,p,d=this;return N().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return u=function(e,t){return(0,f.sH)(d,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},l=zt({sendOperationFn:function(e,t){return(0,f.sH)(d,void 0,void 0,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=null===(n=e.options)||void 0===n?void 0:n.onResponse,a=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==o||o(e,t)}})}),r.next=3,u(a,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,resourceProviderNamespace:t,parentResourcePath:r,resourceType:n,resourceName:i,apiVersion:o,parameters:a,options:s},spec:dn}),c.next=4,(0,Ft.Vj)(l,{restoreFrom:null==s?void 0:s.resumeFrom,intervalInMs:null==s?void 0:s.updateIntervalInMs});case 4:return p=c.sent,c.next=7,p.poll();case 7:return c.abrupt("return",p);case 8:case"end":return c.stop()}}),c)})))}},{key:"beginUpdateAndWait",value:function(e,t,r,n,i,o,a,s){return(0,f.sH)(this,void 0,void 0,N().mark((function c(){return N().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.beginUpdate(e,t,r,n,i,o,a,s);case 2:return c.abrupt("return",c.sent.pollUntilDone());case 3:case"end":return c.stop()}}),c,this)})))}},{key:"get",value:function(e,t,r,n,i,o,a){return this.client.sendOperationRequest({resourceGroupName:e,resourceProviderNamespace:t,parentResourcePath:r,resourceType:n,resourceName:i,apiVersion:o,options:a},hn)}},{key:"checkExistenceById",value:function(e,t,r){return this.client.sendOperationRequest({resourceId:e,apiVersion:t,options:r},fn)}},{key:"beginDeleteById",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceId:e,apiVersion:t,options:r},spec:mn}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginDeleteByIdAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginDeleteById(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"beginCreateOrUpdateById",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){var o,a,s,c=this;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},a=zt({sendOperationFn:function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){var n,i,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==a||a(e,t)}})}),r.next=3,o(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceId:e,apiVersion:t,parameters:r,options:n},spec:gn}),i.next=4,(0,Ft.Vj)(a,{restoreFrom:null==n?void 0:n.resumeFrom,intervalInMs:null==n?void 0:n.updateIntervalInMs});case 4:return s=i.sent,i.next=7,s.poll();case 7:return i.abrupt("return",s);case 8:case"end":return i.stop()}}),i)})))}},{key:"beginCreateOrUpdateByIdAndWait",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.beginCreateOrUpdateById(e,t,r,n);case 2:return i.abrupt("return",i.sent.pollUntilDone());case 3:case"end":return i.stop()}}),i,this)})))}},{key:"beginUpdateById",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){var o,a,s,c=this;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},a=zt({sendOperationFn:function(e,t){return(0,f.sH)(c,void 0,void 0,N().mark((function r(){var n,i,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){i=e,null==a||a(e,t)}})}),r.next=3,o(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:i.status,body:i.parsedBody,headers:i.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceId:e,apiVersion:t,parameters:r,options:n},spec:yn}),i.next=4,(0,Ft.Vj)(a,{restoreFrom:null==n?void 0:n.resumeFrom,intervalInMs:null==n?void 0:n.updateIntervalInMs});case 4:return s=i.sent,i.next=7,s.poll();case 7:return i.abrupt("return",s);case 8:case"end":return i.stop()}}),i)})))}},{key:"beginUpdateByIdAndWait",value:function(e,t,r,n){return(0,f.sH)(this,void 0,void 0,N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.beginUpdateById(e,t,r,n);case 2:return i.abrupt("return",i.sent.pollUntilDone());case 3:case"end":return i.stop()}}),i,this)})))}},{key:"getById",value:function(e,t,r){return this.client.sendOperationRequest({resourceId:e,apiVersion:t,options:r},vn)}},{key:"_listByResourceGroupNext",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,nextLink:t,options:r},bn)}},{key:"_listNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},En)}}])}(),nn=m.rl(n,!1),on={path:"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/resources",httpMethod:"GET",responses:{200:{bodyMapper:ge},default:{bodyMapper:E}},queryParameters:[it,lt,pt,Et],urlParameters:[nt,mt,yt],headerParameters:[rt],serializer:nn},an={path:"/subscriptions/{subscriptionId}/resourceGroups/{sourceResourceGroupName}/moveResources",httpMethod:"POST",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:E}},requestBody:wt,queryParameters:[it],urlParameters:[nt,mt,At],headerParameters:[rt,ct],mediaType:"json",serializer:nn},sn={path:"/subscriptions/{subscriptionId}/resourceGroups/{sourceResourceGroupName}/validateMoveResources",httpMethod:"POST",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:E}},requestBody:wt,queryParameters:[it],urlParameters:[nt,mt,At],headerParameters:[rt,ct],mediaType:"json",serializer:nn},cn={path:"/subscriptions/{subscriptionId}/resources",httpMethod:"GET",responses:{200:{bodyMapper:ge},default:{bodyMapper:E}},queryParameters:[it,lt,pt,Et],urlParameters:[nt,mt],headerParameters:[rt],serializer:nn},un={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{parentResourcePath}/{resourceType}/{resourceName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:E}},queryParameters:[kt],urlParameters:[nt,mt,yt,vt,xt,St,_t],headerParameters:[rt],serializer:nn},ln={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{parentResourcePath}/{resourceType}/{resourceName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:E}},queryParameters:[kt],urlParameters:[nt,mt,yt,vt,xt,St,_t],headerParameters:[rt],serializer:nn},pn={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{parentResourcePath}/{resourceType}/{resourceName}",httpMethod:"PUT",responses:{200:{bodyMapper:Ye},201:{bodyMapper:Ye},202:{bodyMapper:Ye},204:{bodyMapper:Ye},default:{bodyMapper:E}},requestBody:It,queryParameters:[kt],urlParameters:[nt,mt,yt,vt,xt,St,_t],headerParameters:[rt,ct],mediaType:"json",serializer:nn},dn={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{parentResourcePath}/{resourceType}/{resourceName}",httpMethod:"PATCH",responses:{200:{bodyMapper:Ye},201:{bodyMapper:Ye},202:{bodyMapper:Ye},204:{bodyMapper:Ye},default:{bodyMapper:E}},requestBody:It,queryParameters:[kt],urlParameters:[nt,mt,yt,vt,xt,St,_t],headerParameters:[rt,ct],mediaType:"json",serializer:nn},hn={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{parentResourcePath}/{resourceType}/{resourceName}",httpMethod:"GET",responses:{200:{bodyMapper:Ye},default:{bodyMapper:E}},queryParameters:[kt],urlParameters:[nt,mt,yt,vt,xt,St,_t],headerParameters:[rt],serializer:nn},fn={path:"/{resourceId}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:E}},queryParameters:[kt],urlParameters:[nt,Tt],headerParameters:[rt],serializer:nn},mn={path:"/{resourceId}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:E}},queryParameters:[kt],urlParameters:[nt,Tt],headerParameters:[rt],serializer:nn},gn={path:"/{resourceId}",httpMethod:"PUT",responses:{200:{bodyMapper:Ye},201:{bodyMapper:Ye},202:{bodyMapper:Ye},204:{bodyMapper:Ye},default:{bodyMapper:E}},requestBody:It,queryParameters:[kt],urlParameters:[nt,Tt],headerParameters:[rt,ct],mediaType:"json",serializer:nn},yn={path:"/{resourceId}",httpMethod:"PATCH",responses:{200:{bodyMapper:Ye},201:{bodyMapper:Ye},202:{bodyMapper:Ye},204:{bodyMapper:Ye},default:{bodyMapper:E}},requestBody:It,queryParameters:[kt],urlParameters:[nt,Tt],headerParameters:[rt,ct],mediaType:"json",serializer:nn},vn={path:"/{resourceId}",httpMethod:"GET",responses:{200:{bodyMapper:Ye},default:{bodyMapper:E}},queryParameters:[kt],urlParameters:[nt,Tt],headerParameters:[rt],serializer:nn},bn={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ge},default:{bodyMapper:E}},urlParameters:[nt,ot,mt,yt],headerParameters:[rt],serializer:nn},En={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:ge},default:{bodyMapper:E}},urlParameters:[nt,ot,mt],headerParameters:[rt],serializer:nn},wn=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"list",value:function(e){var t=this,r=this.listPagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listPagingPage(e,r)}))}},{key:"listPagingPage",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,f.N3)(this._list(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,h(o,i),r.next=10,(0,f.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,f.N3)(this._listNext(i,e));case 15:return n=r.sent,i=n.nextLink,h(a=n.value||[],i),r.next=21,(0,f.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listPagingAll",value:function(e){return(0,f.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=(0,f.xN)(this.listPagingPage(e));case 2:return t.next=4,(0,f.N3)(o.next());case 4:if((i=t.sent).done){t.next=13;break}return a=i.value,t.t0=f.N3,t.delegateYield((0,f.Me)((0,f.xN)(a)),"t1",8);case 8:return t.t2=t.t1,t.next=11,(0,t.t0)(t.t2);case 11:t.next=2;break;case 13:t.next=18;break;case 15:t.prev=15,t.t3=t.catch(0),r={error:t.t3};case 18:if(t.prev=18,t.prev=19,t.t4=i&&!i.done&&(n=o.return),!t.t4){t.next=24;break}return t.next=24,(0,f.N3)(n.call(o));case 24:if(t.prev=24,!r){t.next=27;break}throw r.error;case 27:return t.finish(24);case 28:return t.finish(18);case 29:case"end":return t.stop()}}),t,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"checkExistence",value:function(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},xn)}},{key:"createOrUpdate",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,parameters:t,options:r},Sn)}},{key:"beginDelete",value:function(e,t){return(0,f.sH)(this,void 0,void 0,N().mark((function r(){var n,i,o,a=this;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=function(e,t){return(0,f.sH)(a,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},i=zt({sendOperationFn:function(e,t){return(0,f.sH)(a,void 0,void 0,N().mark((function r(){var i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(i=e.options)||void 0===i?void 0:i.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,n(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,options:t},spec:_n}),r.next=4,(0,Ft.Vj)(i,{restoreFrom:null==t?void 0:t.resumeFrom,intervalInMs:null==t?void 0:t.updateIntervalInMs});case 4:return o=r.sent,r.next=7,o.poll();case 7:return r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))}},{key:"beginDeleteAndWait",value:function(e,t){return(0,f.sH)(this,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.beginDelete(e,t);case 2:return r.abrupt("return",r.sent.pollUntilDone());case 3:case"end":return r.stop()}}),r,this)})))}},{key:"get",value:function(e,t){return this.client.sendOperationRequest({resourceGroupName:e,options:t},kn)}},{key:"update",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,parameters:t,options:r},In)}},{key:"beginExportTemplate",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o,a,s=this;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.client.sendOperationRequest(e,t));case 1:case"end":return r.stop()}}),r,this)})))},o=zt({sendOperationFn:function(e,t){return(0,f.sH)(s,void 0,void 0,N().mark((function r(){var n,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=null===(n=e.options)||void 0===n?void 0:n.onResponse,s=Object.assign(Object.assign({},e),{options:Object.assign(Object.assign({},e.options),{onResponse:function(e,t){o=e,null==a||a(e,t)}})}),r.next=3,i(s,t);case 3:return r.t0=r.sent,r.t1={statusCode:o.status,body:o.parsedBody,headers:o.headers.toJSON()},r.abrupt("return",{flatResponse:r.t0,rawResponse:r.t1});case 6:case"end":return r.stop()}}),r)})))},args:{resourceGroupName:e,parameters:t,options:r},spec:Tn}),n.next=4,(0,Ft.Vj)(o,{restoreFrom:null==r?void 0:r.resumeFrom,intervalInMs:null==r?void 0:r.updateIntervalInMs,resourceLocationConfig:"location"});case 4:return a=n.sent,n.next=7,a.poll();case 7:return n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))}},{key:"beginExportTemplateAndWait",value:function(e,t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.beginExportTemplate(e,t,r);case 2:return n.abrupt("return",n.sent.pollUntilDone());case 3:case"end":return n.stop()}}),n,this)})))}},{key:"_list",value:function(e){return this.client.sendOperationRequest({options:e},Cn)}},{key:"_listNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},On)}}])}(),An=m.rl(n,!1),xn={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}",httpMethod:"HEAD",responses:{204:{},404:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,mt,yt],headerParameters:[rt],serializer:An},Sn={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}",httpMethod:"PUT",responses:{200:{bodyMapper:xe},201:{bodyMapper:xe},default:{bodyMapper:E}},requestBody:Ct,queryParameters:[it],urlParameters:[nt,mt,yt],headerParameters:[rt,ct],mediaType:"json",serializer:An},_n={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}",httpMethod:"DELETE",responses:{200:{},201:{},202:{},204:{},default:{bodyMapper:E}},queryParameters:[it,{parameterPath:["options","forceDeletionTypes"],mapper:{serializedName:"forceDeletionTypes",type:{name:"String"}}}],urlParameters:[nt,mt,yt],headerParameters:[rt],serializer:An},kn={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}",httpMethod:"GET",responses:{200:{bodyMapper:xe},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,mt,yt],headerParameters:[rt],serializer:An},In={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}",httpMethod:"PATCH",responses:{200:{bodyMapper:xe},default:{bodyMapper:E}},requestBody:Ot,queryParameters:[it],urlParameters:[nt,mt,yt],headerParameters:[rt,ct],mediaType:"json",serializer:An},Tn={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/exportTemplate",httpMethod:"POST",responses:{200:{bodyMapper:Ie},201:{bodyMapper:Ie},202:{bodyMapper:Ie},204:{bodyMapper:Ie},default:{bodyMapper:E}},requestBody:Nt,queryParameters:[it],urlParameters:[nt,mt,{parameterPath:"resourceGroupName",mapper:{constraints:{MaxLength:90,MinLength:1},serializedName:"resourceGroupName",required:!0,type:{name:"String"}}}],headerParameters:[rt,ct],mediaType:"json",serializer:An},Cn={path:"/subscriptions/{subscriptionId}/resourcegroups",httpMethod:"GET",responses:{200:{bodyMapper:Te},default:{bodyMapper:E}},queryParameters:[it,lt,pt],urlParameters:[nt,mt],headerParameters:[rt],serializer:An},On={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:Te},default:{bodyMapper:E}},urlParameters:[nt,ot,mt],headerParameters:[rt],serializer:An},Nn=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"list",value:function(e){var t=this,r=this.listPagingAll(e);return R(R({next:function(){return r.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(r){if(null==r?void 0:r.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return t.listPagingPage(e,r)}))}},{key:"listPagingPage",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null==t?void 0:t.continuationToken){r.next=12;break}return r.next=4,(0,f.N3)(this._list(e));case 4:return n=r.sent,o=n.value||[],i=n.nextLink,h(o,i),r.next=10,(0,f.N3)(o);case 10:return r.next=12,r.sent;case 12:if(!i){r.next=25;break}return r.next=15,(0,f.N3)(this._listNext(i,e));case 15:return n=r.sent,i=n.nextLink,h(a=n.value||[],i),r.next=21,(0,f.N3)(a);case 21:return r.next=23,r.sent;case 23:r.next=12;break;case 25:case"end":return r.stop()}}),r,this)})))}},{key:"listPagingAll",value:function(e){return(0,f.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=(0,f.xN)(this.listPagingPage(e));case 2:return t.next=4,(0,f.N3)(o.next());case 4:if((i=t.sent).done){t.next=13;break}return a=i.value,t.t0=f.N3,t.delegateYield((0,f.Me)((0,f.xN)(a)),"t1",8);case 8:return t.t2=t.t1,t.next=11,(0,t.t0)(t.t2);case 11:t.next=2;break;case 13:t.next=18;break;case 15:t.prev=15,t.t3=t.catch(0),r={error:t.t3};case 18:if(t.prev=18,t.prev=19,t.t4=i&&!i.done&&(n=o.return),!t.t4){t.next=24;break}return t.next=24,(0,f.N3)(n.call(o));case 24:if(t.prev=24,!r){t.next=27;break}throw r.error;case 27:return t.finish(24);case 28:return t.finish(18);case 29:case"end":return t.stop()}}),t,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"deleteValue",value:function(e,t,r){return this.client.sendOperationRequest({tagName:e,tagValue:t,options:r},Pn)}},{key:"createOrUpdateValue",value:function(e,t,r){return this.client.sendOperationRequest({tagName:e,tagValue:t,options:r},Ln)}},{key:"createOrUpdate",value:function(e,t){return this.client.sendOperationRequest({tagName:e,options:t},Mn)}},{key:"delete",value:function(e,t){return this.client.sendOperationRequest({tagName:e,options:t},qn)}},{key:"_list",value:function(e){return this.client.sendOperationRequest({options:e},Dn)}},{key:"createOrUpdateAtScope",value:function(e,t,r){return this.client.sendOperationRequest({scope:e,parameters:t,options:r},Bn)}},{key:"updateAtScope",value:function(e,t,r){return this.client.sendOperationRequest({scope:e,parameters:t,options:r},jn)}},{key:"getAtScope",value:function(e,t){return this.client.sendOperationRequest({scope:e,options:t},Un)}},{key:"deleteAtScope",value:function(e,t){return this.client.sendOperationRequest({scope:e,options:t},Fn)}},{key:"_listNext",value:function(e,t){return this.client.sendOperationRequest({nextLink:e,options:t},zn)}}])}(),Rn=m.rl(n,!1),Pn={path:"/subscriptions/{subscriptionId}/tagNames/{tagName}/tagValues/{tagValue}",httpMethod:"DELETE",responses:{200:{},204:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,mt,Rt,Pt],headerParameters:[rt],serializer:Rn},Ln={path:"/subscriptions/{subscriptionId}/tagNames/{tagName}/tagValues/{tagValue}",httpMethod:"PUT",responses:{200:{bodyMapper:Oe},201:{bodyMapper:Oe},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,mt,Rt,Pt],headerParameters:[rt],serializer:Rn},Mn={path:"/subscriptions/{subscriptionId}/tagNames/{tagName}",httpMethod:"PUT",responses:{200:{bodyMapper:Re},201:{bodyMapper:Re},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,mt,Rt],headerParameters:[rt],serializer:Rn},qn={path:"/subscriptions/{subscriptionId}/tagNames/{tagName}",httpMethod:"DELETE",responses:{200:{},204:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,mt,Rt],headerParameters:[rt],serializer:Rn},Dn={path:"/subscriptions/{subscriptionId}/tagNames",httpMethod:"GET",responses:{200:{bodyMapper:Pe},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,mt],headerParameters:[rt],serializer:Rn},Bn={path:"/{scope}/providers/Microsoft.Resources/tags/default",httpMethod:"PUT",responses:{200:{bodyMapper:Fe},default:{bodyMapper:E}},requestBody:Lt,queryParameters:[it],urlParameters:[nt,at],headerParameters:[rt,ct],mediaType:"json",serializer:Rn},jn={path:"/{scope}/providers/Microsoft.Resources/tags/default",httpMethod:"PATCH",responses:{200:{bodyMapper:Fe},default:{bodyMapper:E}},requestBody:Mt,queryParameters:[it],urlParameters:[nt,at],headerParameters:[rt,ct],mediaType:"json",serializer:Rn},Un={path:"/{scope}/providers/Microsoft.Resources/tags/default",httpMethod:"GET",responses:{200:{bodyMapper:Fe},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,at],headerParameters:[rt],serializer:Rn},Fn={path:"/{scope}/providers/Microsoft.Resources/tags/default",httpMethod:"DELETE",responses:{200:{},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,at],headerParameters:[rt],serializer:Rn},zn={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:Pe},default:{bodyMapper:E}},urlParameters:[nt,ot,mt],headerParameters:[rt],serializer:Rn},Hn=function(){return M((function e(t){P(this,e),this.client=t}),[{key:"listAtScope",value:function(e,t,r){var n=this,i=this.listAtScopePagingAll(e,t,r);return R(R({next:function(){return i.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(i){if(null==i?void 0:i.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return n.listAtScopePagingPage(e,t,r,i)}))}},{key:"listAtScopePagingPage",value:function(e,t,r,n){return(0,f.AQ)(this,arguments,N().mark((function i(){var o,a,s,c;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=null==n?void 0:n.continuationToken){i.next=12;break}return i.next=4,(0,f.N3)(this._listAtScope(e,t,r));case 4:return o=i.sent,s=o.value||[],a=o.nextLink,h(s,a),i.next=10,(0,f.N3)(s);case 10:return i.next=12,i.sent;case 12:if(!a){i.next=25;break}return i.next=15,(0,f.N3)(this._listAtScopeNext(e,t,a,r));case 15:return o=i.sent,a=o.nextLink,h(c=o.value||[],a),i.next=21,(0,f.N3)(c);case 21:return i.next=23,i.sent;case 23:i.next=12;break;case 25:case"end":return i.stop()}}),i,this)})))}},{key:"listAtScopePagingAll",value:function(e,t,r){return(0,f.AQ)(this,arguments,N().mark((function n(){var i,o,a,s,c;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,s=(0,f.xN)(this.listAtScopePagingPage(e,t,r));case 2:return n.next=4,(0,f.N3)(s.next());case 4:if((a=n.sent).done){n.next=13;break}return c=a.value,n.t0=f.N3,n.delegateYield((0,f.Me)((0,f.xN)(c)),"t1",8);case 8:return n.t2=n.t1,n.next=11,(0,n.t0)(n.t2);case 11:n.next=2;break;case 13:n.next=18;break;case 15:n.prev=15,n.t3=n.catch(0),i={error:n.t3};case 18:if(n.prev=18,n.prev=19,n.t4=a&&!a.done&&(o=s.return),!n.t4){n.next=24;break}return n.next=24,(0,f.N3)(o.call(s));case 24:if(n.prev=24,!i){n.next=27;break}throw i.error;case 27:return n.finish(24);case 28:return n.finish(18);case 29:case"end":return n.stop()}}),n,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"listAtTenantScope",value:function(e,t){var r=this,n=this.listAtTenantScopePagingAll(e,t);return R(R({next:function(){return n.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(n){if(null==n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return r.listAtTenantScopePagingPage(e,t,n)}))}},{key:"listAtTenantScopePagingPage",value:function(e,t,r){return(0,f.AQ)(this,arguments,N().mark((function n(){var i,o,a,s;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null==r?void 0:r.continuationToken){n.next=12;break}return n.next=4,(0,f.N3)(this._listAtTenantScope(e,t));case 4:return i=n.sent,a=i.value||[],o=i.nextLink,h(a,o),n.next=10,(0,f.N3)(a);case 10:return n.next=12,n.sent;case 12:if(!o){n.next=25;break}return n.next=15,(0,f.N3)(this._listAtTenantScopeNext(e,o,t));case 15:return i=n.sent,o=i.nextLink,h(s=i.value||[],o),n.next=21,(0,f.N3)(s);case 21:return n.next=23,n.sent;case 23:n.next=12;break;case 25:case"end":return n.stop()}}),n,this)})))}},{key:"listAtTenantScopePagingAll",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,a=(0,f.xN)(this.listAtTenantScopePagingPage(e,t));case 2:return r.next=4,(0,f.N3)(a.next());case 4:if((o=r.sent).done){r.next=13;break}return s=o.value,r.t0=f.N3,r.delegateYield((0,f.Me)((0,f.xN)(s)),"t1",8);case 8:return r.t2=r.t1,r.next=11,(0,r.t0)(r.t2);case 11:r.next=2;break;case 13:r.next=18;break;case 15:r.prev=15,r.t3=r.catch(0),n={error:r.t3};case 18:if(r.prev=18,r.prev=19,r.t4=o&&!o.done&&(i=a.return),!r.t4){r.next=24;break}return r.next=24,(0,f.N3)(i.call(a));case 24:if(r.prev=24,!n){r.next=27;break}throw n.error;case 27:return r.finish(24);case 28:return r.finish(18);case 29:case"end":return r.stop()}}),r,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"listAtManagementGroupScope",value:function(e,t,r){var n=this,i=this.listAtManagementGroupScopePagingAll(e,t,r);return R(R({next:function(){return i.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(i){if(null==i?void 0:i.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return n.listAtManagementGroupScopePagingPage(e,t,r,i)}))}},{key:"listAtManagementGroupScopePagingPage",value:function(e,t,r,n){return(0,f.AQ)(this,arguments,N().mark((function i(){var o,a,s,c;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=null==n?void 0:n.continuationToken){i.next=12;break}return i.next=4,(0,f.N3)(this._listAtManagementGroupScope(e,t,r));case 4:return o=i.sent,s=o.value||[],a=o.nextLink,h(s,a),i.next=10,(0,f.N3)(s);case 10:return i.next=12,i.sent;case 12:if(!a){i.next=25;break}return i.next=15,(0,f.N3)(this._listAtManagementGroupScopeNext(e,t,a,r));case 15:return o=i.sent,a=o.nextLink,h(c=o.value||[],a),i.next=21,(0,f.N3)(c);case 21:return i.next=23,i.sent;case 23:i.next=12;break;case 25:case"end":return i.stop()}}),i,this)})))}},{key:"listAtManagementGroupScopePagingAll",value:function(e,t,r){return(0,f.AQ)(this,arguments,N().mark((function n(){var i,o,a,s,c;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,s=(0,f.xN)(this.listAtManagementGroupScopePagingPage(e,t,r));case 2:return n.next=4,(0,f.N3)(s.next());case 4:if((a=n.sent).done){n.next=13;break}return c=a.value,n.t0=f.N3,n.delegateYield((0,f.Me)((0,f.xN)(c)),"t1",8);case 8:return n.t2=n.t1,n.next=11,(0,n.t0)(n.t2);case 11:n.next=2;break;case 13:n.next=18;break;case 15:n.prev=15,n.t3=n.catch(0),i={error:n.t3};case 18:if(n.prev=18,n.prev=19,n.t4=a&&!a.done&&(o=s.return),!n.t4){n.next=24;break}return n.next=24,(0,f.N3)(o.call(s));case 24:if(n.prev=24,!i){n.next=27;break}throw i.error;case 27:return n.finish(24);case 28:return n.finish(18);case 29:case"end":return n.stop()}}),n,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"listAtSubscriptionScope",value:function(e,t){var r=this,n=this.listAtSubscriptionScopePagingAll(e,t);return R(R({next:function(){return n.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(n){if(null==n?void 0:n.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return r.listAtSubscriptionScopePagingPage(e,t,n)}))}},{key:"listAtSubscriptionScopePagingPage",value:function(e,t,r){return(0,f.AQ)(this,arguments,N().mark((function n(){var i,o,a,s;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=null==r?void 0:r.continuationToken){n.next=12;break}return n.next=4,(0,f.N3)(this._listAtSubscriptionScope(e,t));case 4:return i=n.sent,a=i.value||[],o=i.nextLink,h(a,o),n.next=10,(0,f.N3)(a);case 10:return n.next=12,n.sent;case 12:if(!o){n.next=25;break}return n.next=15,(0,f.N3)(this._listAtSubscriptionScopeNext(e,o,t));case 15:return i=n.sent,o=i.nextLink,h(s=i.value||[],o),n.next=21,(0,f.N3)(s);case 21:return n.next=23,n.sent;case 23:n.next=12;break;case 25:case"end":return n.stop()}}),n,this)})))}},{key:"listAtSubscriptionScopePagingAll",value:function(e,t){return(0,f.AQ)(this,arguments,N().mark((function r(){var n,i,o,a,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,a=(0,f.xN)(this.listAtSubscriptionScopePagingPage(e,t));case 2:return r.next=4,(0,f.N3)(a.next());case 4:if((o=r.sent).done){r.next=13;break}return s=o.value,r.t0=f.N3,r.delegateYield((0,f.Me)((0,f.xN)(s)),"t1",8);case 8:return r.t2=r.t1,r.next=11,(0,r.t0)(r.t2);case 11:r.next=2;break;case 13:r.next=18;break;case 15:r.prev=15,r.t3=r.catch(0),n={error:r.t3};case 18:if(r.prev=18,r.prev=19,r.t4=o&&!o.done&&(i=a.return),!r.t4){r.next=24;break}return r.next=24,(0,f.N3)(i.call(a));case 24:if(r.prev=24,!n){r.next=27;break}throw n.error;case 27:return r.finish(24);case 28:return r.finish(18);case 29:case"end":return r.stop()}}),r,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"list",value:function(e,t,r){var n=this,i=this.listPagingAll(e,t,r);return R(R({next:function(){return i.next()}},Symbol.asyncIterator,(function(){return this})),"byPage",(function(i){if(null==i?void 0:i.maxPageSize)throw new Error("maxPageSize is not supported by this operation.");return n.listPagingPage(e,t,r,i)}))}},{key:"listPagingPage",value:function(e,t,r,n){return(0,f.AQ)(this,arguments,N().mark((function i(){var o,a,s,c;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=null==n?void 0:n.continuationToken){i.next=12;break}return i.next=4,(0,f.N3)(this._list(e,t,r));case 4:return o=i.sent,s=o.value||[],a=o.nextLink,h(s,a),i.next=10,(0,f.N3)(s);case 10:return i.next=12,i.sent;case 12:if(!a){i.next=25;break}return i.next=15,(0,f.N3)(this._listNext(e,t,a,r));case 15:return o=i.sent,a=o.nextLink,h(c=o.value||[],a),i.next=21,(0,f.N3)(c);case 21:return i.next=23,i.sent;case 23:i.next=12;break;case 25:case"end":return i.stop()}}),i,this)})))}},{key:"listPagingAll",value:function(e,t,r){return(0,f.AQ)(this,arguments,N().mark((function n(){var i,o,a,s,c;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,s=(0,f.xN)(this.listPagingPage(e,t,r));case 2:return n.next=4,(0,f.N3)(s.next());case 4:if((a=n.sent).done){n.next=13;break}return c=a.value,n.t0=f.N3,n.delegateYield((0,f.Me)((0,f.xN)(c)),"t1",8);case 8:return n.t2=n.t1,n.next=11,(0,n.t0)(n.t2);case 11:n.next=2;break;case 13:n.next=18;break;case 15:n.prev=15,n.t3=n.catch(0),i={error:n.t3};case 18:if(n.prev=18,n.prev=19,n.t4=a&&!a.done&&(o=s.return),!n.t4){n.next=24;break}return n.next=24,(0,f.N3)(o.call(s));case 24:if(n.prev=24,!i){n.next=27;break}throw i.error;case 27:return n.finish(24);case 28:return n.finish(18);case 29:case"end":return n.stop()}}),n,this,[[0,15,18,29],[19,,24,28]])})))}},{key:"getAtScope",value:function(e,t,r,n){return this.client.sendOperationRequest({scope:e,deploymentName:t,operationId:r,options:n},Gn)}},{key:"_listAtScope",value:function(e,t,r){return this.client.sendOperationRequest({scope:e,deploymentName:t,options:r},Kn)}},{key:"getAtTenantScope",value:function(e,t,r){return this.client.sendOperationRequest({deploymentName:e,operationId:t,options:r},$n)}},{key:"_listAtTenantScope",value:function(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},Wn)}},{key:"getAtManagementGroupScope",value:function(e,t,r,n){return this.client.sendOperationRequest({groupId:e,deploymentName:t,operationId:r,options:n},Vn)}},{key:"_listAtManagementGroupScope",value:function(e,t,r){return this.client.sendOperationRequest({groupId:e,deploymentName:t,options:r},Yn)}},{key:"getAtSubscriptionScope",value:function(e,t,r){return this.client.sendOperationRequest({deploymentName:e,operationId:t,options:r},Xn)}},{key:"_listAtSubscriptionScope",value:function(e,t){return this.client.sendOperationRequest({deploymentName:e,options:t},Jn)}},{key:"get",value:function(e,t,r,n){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,operationId:r,options:n},Zn)}},{key:"_list",value:function(e,t,r){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,options:r},ei)}},{key:"_listAtScopeNext",value:function(e,t,r,n){return this.client.sendOperationRequest({scope:e,deploymentName:t,nextLink:r,options:n},ti)}},{key:"_listAtTenantScopeNext",value:function(e,t,r){return this.client.sendOperationRequest({deploymentName:e,nextLink:t,options:r},ri)}},{key:"_listAtManagementGroupScopeNext",value:function(e,t,r,n){return this.client.sendOperationRequest({groupId:e,deploymentName:t,nextLink:r,options:n},ni)}},{key:"_listAtSubscriptionScopeNext",value:function(e,t,r){return this.client.sendOperationRequest({deploymentName:e,nextLink:t,options:r},ii)}},{key:"_listNext",value:function(e,t,r,n){return this.client.sendOperationRequest({resourceGroupName:e,deploymentName:t,nextLink:r,options:n},oi)}}])}(),Qn=m.rl(n,!1),Gn={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}/operations/{operationId}",httpMethod:"GET",responses:{200:{bodyMapper:Le},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,at,st,qt],headerParameters:[rt],serializer:Qn},Kn={path:"/{scope}/providers/Microsoft.Resources/deployments/{deploymentName}/operations",httpMethod:"GET",responses:{200:{bodyMapper:je},default:{bodyMapper:E}},queryParameters:[it,pt],urlParameters:[nt,at,st],headerParameters:[rt],serializer:Qn},$n={path:"/providers/Microsoft.Resources/deployments/{deploymentName}/operations/{operationId}",httpMethod:"GET",responses:{200:{bodyMapper:Le},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,qt],headerParameters:[rt],serializer:Qn},Wn={path:"/providers/Microsoft.Resources/deployments/{deploymentName}/operations",httpMethod:"GET",responses:{200:{bodyMapper:je},default:{bodyMapper:E}},queryParameters:[it,pt],urlParameters:[nt,st],headerParameters:[rt],serializer:Qn},Vn={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}/operations/{operationId}",httpMethod:"GET",responses:{200:{bodyMapper:Le},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,ft,qt],headerParameters:[rt],serializer:Qn},Yn={path:"/providers/Microsoft.Management/managementGroups/{groupId}/providers/Microsoft.Resources/deployments/{deploymentName}/operations",httpMethod:"GET",responses:{200:{bodyMapper:je},default:{bodyMapper:E}},queryParameters:[it,pt],urlParameters:[nt,st,ft],headerParameters:[rt],serializer:Qn},Xn={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/operations/{operationId}",httpMethod:"GET",responses:{200:{bodyMapper:Le},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,mt,qt],headerParameters:[rt],serializer:Qn},Jn={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Resources/deployments/{deploymentName}/operations",httpMethod:"GET",responses:{200:{bodyMapper:je},default:{bodyMapper:E}},queryParameters:[it,pt],urlParameters:[nt,st,mt],headerParameters:[rt],serializer:Qn},Zn={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/deployments/{deploymentName}/operations/{operationId}",httpMethod:"GET",responses:{200:{bodyMapper:Le},default:{bodyMapper:E}},queryParameters:[it],urlParameters:[nt,st,mt,yt,qt],headerParameters:[rt],serializer:Qn},ei={path:"/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/deployments/{deploymentName}/operations",httpMethod:"GET",responses:{200:{bodyMapper:je},default:{bodyMapper:E}},queryParameters:[it,pt],urlParameters:[nt,st,mt,yt],headerParameters:[rt],serializer:Qn},ti={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:je},default:{bodyMapper:E}},urlParameters:[nt,ot,at,st],headerParameters:[rt],serializer:Qn},ri={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:je},default:{bodyMapper:E}},urlParameters:[nt,ot,st],headerParameters:[rt],serializer:Qn},ni={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:je},default:{bodyMapper:E}},urlParameters:[nt,ot,st,ft],headerParameters:[rt],serializer:Qn},ii={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:je},default:{bodyMapper:E}},urlParameters:[nt,ot,st,mt],headerParameters:[rt],serializer:Qn},oi={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:je},default:{bodyMapper:E}},urlParameters:[nt,ot,st,mt,yt],headerParameters:[rt],serializer:Qn},ai=function(e){function t(e,r,n){var i,o,a,s;if(P(this,t),void 0===e)throw new Error("'credentials' cannot be null");if(void 0===r)throw new Error("'subscriptionId' cannot be null");n||(n={});var c={requestContentType:"application/json; charset=utf-8",credential:e},u="azsdk-js-arm-resources/5.2.0",l=n.userAgentOptions&&n.userAgentOptions.userAgentPrefix?"".concat(n.userAgentOptions.userAgentPrefix," ").concat(u):"".concat(u),p=Object.assign(Object.assign(Object.assign({},c),n),{userAgentOptions:{userAgentPrefix:l},endpoint:null!==(a=null!==(o=n.endpoint)&&void 0!==o?o:n.baseUri)&&void 0!==a?a:"https://management.azure.com"});i=_(this,t,[p]);var d=!1;return(null==n?void 0:n.pipeline)&&n.pipeline.getOrderedPolicies().length>0&&(d=n.pipeline.getOrderedPolicies().some((function(e){return e.name===g.uQ}))),n&&n.pipeline&&0!=n.pipeline.getOrderedPolicies().length&&d||(i.pipeline.removePolicy({name:g.uQ}),i.pipeline.addPolicy(g.N$({credential:e,scopes:null!==(s=p.credentialScopes)&&void 0!==s?s:"".concat(p.endpoint,"/.default"),challengeCallbacks:{authorizeRequestOnChallenge:m.fj}}))),i.subscriptionId=r,i.$host=n.$host||"https://management.azure.com",i.apiVersion=n.apiVersion||"2021-04-01",i.operations=new Dt(i),i.deployments=new Ht(i),i.providers=new Fr(i),i.providerResourceTypes=new Zr(i),i.resources=new rn(i),i.resourceGroups=new wn(i),i.tagsOperations=new Nn(i),i.deploymentOperations=new Hn(i),i.addCustomApiVersionPolicy(n.apiVersion),i}return C(t,e),M(t,[{key:"addCustomApiVersionPolicy",value:function(e){if(e){var t={name:"CustomApiVersionPolicy",sendRequest:function(t,r){return(0,f.sH)(this,void 0,void 0,N().mark((function n(){var i,o;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(i=t.url.split("?")).length>1&&(o=i[1].split("&").map((function(t){return t.indexOf("api-version")>-1?"api-version="+e:t})),t.url=i[0]+"?"+o.join("&")),n.abrupt("return",r(t));case 3:case"end":return n.stop()}}),n)})))}};this.pipeline.addPolicy(t)}}}])}(m.Nl)},8633:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.json=t.toBuffer=void 0;var a=o(r(8611)),s=o(r(5692));function c(e){return u.apply(this,arguments)}function u(){return u=S(N().mark((function e(t){var r,n,i,o,a,s,c,u;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,n=[],i=!1,o=!1,e.prev=4,s=B(t);case 6:return e.next=8,s.next();case 8:if(!(i=!(c=e.sent).done)){e.next=14;break}u=c.value,r+=u.length,n.push(u);case 11:i=!1,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),o=!0,a=e.t0;case 20:if(e.prev=20,e.prev=21,!i||null==s.return){e.next=25;break}return e.next=25,s.return();case 25:if(e.prev=25,!o){e.next=28;break}throw a;case 28:return e.finish(25);case 29:return e.finish(20);case 30:return e.abrupt("return",Buffer.concat(n,r));case 31:case"end":return e.stop()}}),e,null,[[4,16,20,30],[21,,25,29]])}))),u.apply(this,arguments)}t.toBuffer=c,t.json=function(){var e=S(N().mark((function e(t){var r,n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:return r=e.sent.toString("utf8"),e.prev=3,e.abrupt("return",JSON.parse(r));case 7:throw e.prev=7,e.t0=e.catch(3),(n=e.t0).message+=" (input: ".concat(r,")"),n;case 11:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t){return e.apply(this,arguments)}}(),t.req=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(("string"==typeof e?e:e.href).startsWith("https:")?s:a).request(e,t),n=new Promise((function(e,t){r.once("response",e).once("error",t).end()}));return r.then=n.then.bind(n),r}},6844:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Agent=void 0;var s=o(r(9278)),c=o(r(8611)),u=r(5692);a(r(8633),t);var l=Symbol("AgentBaseInternalState"),p=function(e){function t(e){var r;return P(this,t),(r=_(this,t,[e]))[l]={},r}return C(t,e),M(t,[{key:"isSecureEndpoint",value:function(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}var t=(new Error).stack;return"string"==typeof t&&t.split("\n").some((function(e){return-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")}))}},{key:"incrementSockets",value:function(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);var t=new s.Socket({writable:!1});return this.sockets[e].push(t),this.totalSocketCount++,t}},{key:"decrementSockets",value:function(e,t){if(this.sockets[e]&&null!==t){var r=this.sockets[e],n=r.indexOf(t);-1!==n&&(r.splice(n,1),this.totalSocketCount--,0===r.length&&delete this.sockets[e])}}},{key:"getName",value:function(e){return("boolean"==typeof e.secureEndpoint?e.secureEndpoint:this.isSecureEndpoint(e))?u.Agent.prototype.getName.call(this,e):w(t,"getName",this,3)([e])}},{key:"createSocket",value:function(e,r,n){var i=this,o=E(E({},r),{},{secureEndpoint:this.isSecureEndpoint(r)}),a=this.getName(o),s=this.incrementSockets(a);Promise.resolve().then((function(){return i.connect(e,o)})).then((function(u){if(i.decrementSockets(a,s),u instanceof c.Agent)return u.addRequest(e,o);i[l].currentSocket=u,w(t,"createSocket",i,3)([e,r,n])}),(function(e){i.decrementSockets(a,s),n(e)}))}},{key:"createConnection",value:function(){var e=this[l].currentSocket;if(this[l].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}},{key:"defaultPort",get:function(){var e;return null!==(e=this[l].defaultPort)&&void 0!==e?e:"https:"===this.protocol?443:80},set:function(e){this[l]&&(this[l].defaultPort=e)}},{key:"protocol",get:function(){var e;return null!==(e=this[l].protocol)&&void 0!==e?e:this.isSecureEndpoint()?"https:":"http:"},set:function(e){this[l]&&(this[l].protocol=e)}}])}(c.Agent);t.Agent=p},5864:function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=r(7495)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},7495:function(e,t,r){e.exports=function(e){function t(e){var r,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e})),t.formatArgs.call(o,n),(o.log||t.log).apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(m(t.names.map(i)),m(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(3478),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},8524:function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(5864):e.exports=r(8490)},8490:function(e,t,r){var n=r(2018),i=r(9023);t.init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return process.stderr.write(i.formatWithOptions.apply(i,[t.inspectOpts].concat(r))+"\n")},t.formatArgs=function(r){var n=this.namespace;if(this.useColors){var i=this.color,o="[3"+(i<8?i:"8;5;"+i),a="  ".concat(o,";1m").concat(n," [0m");r[0]=a+r[0].split("\n").join("\n"+a),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=i.deprecate((function(){}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{var o=r(7687);o&&(o.stderr||o).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(7495)(t);var a=e.exports.formatters;a.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},a.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},1344:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpProxyAgent=void 0;var s=o(r(9278)),c=o(r(4756)),u=a(r(8524)),l=r(4434),p=r(6844),d=r(7016),h=(0,u.default)("http-proxy-agent"),f=function(e){function t(e,r){var n,i;P(this,t),(i=_(this,t,[r])).proxy="string"==typeof e?new d.URL(e):e,i.proxyHeaders=null!==(n=null==r?void 0:r.headers)&&void 0!==n?n:{},h("Creating new HttpProxyAgent instance: %o",i.proxy.href);var o=(i.proxy.hostname||i.proxy.host).replace(/^\[|\]$/g,""),a=i.proxy.port?parseInt(i.proxy.port,10):"https:"===i.proxy.protocol?443:80;return i.connectOpts=E(E({},r?function(e){for(var t,r={},n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];for(t in e)i.includes(t)||(r[t]=e[t]);return r}(r,"headers"):null),{},{host:o,port:a}),i}return C(t,e),M(t,[{key:"addRequest",value:function(e,r){e._header=null,this.setRequestProps(e,r),w(t,"addRequest",this,3)([e,r])}},{key:"setRequestProps",value:function(e,t){var r=this.proxy,n="".concat(t.secureEndpoint?"https:":"http:","//").concat(e.getHeader("host")||"localhost"),i=new d.URL(e.path,n);80!==t.port&&(i.port=String(t.port)),e.path=String(i);var o="function"==typeof this.proxyHeaders?this.proxyHeaders():E({},this.proxyHeaders);if(r.username||r.password){var a="".concat(decodeURIComponent(r.username),":").concat(decodeURIComponent(r.password));o["Proxy-Authorization"]="Basic ".concat(Buffer.from(a).toString("base64"))}o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(var s=0,c=Object.keys(o);s<c.length;s++){var u=c[s],l=o[u];l&&e.setHeader(u,l)}}},{key:"connect",value:(r=S(N().mark((function e(t,r){var n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._header=null,t.path.includes("://")||this.setRequestProps(t,r),h("Regenerating stored HTTP header string for request"),t._implicitHeader(),t.outputData&&t.outputData.length>0&&(h("Patching connection write() output buffer with updated header"),n=t.outputData[0].data,i=n.indexOf("\r\n\r\n")+4,t.outputData[0].data=t._header+n.substring(i),h("Output buffer: %o",t.outputData[0].data)),"https:"===this.proxy.protocol?(h("Creating `tls.Socket`: %o",this.connectOpts),o=c.connect(this.connectOpts)):(h("Creating `net.Socket`: %o",this.connectOpts),o=s.connect(this.connectOpts)),e.next=8,(0,l.once)(o,"connect");case 8:return e.abrupt("return",o);case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]);var r}(p.Agent);f.protocols=["http","https"],t.HttpProxyAgent=f},3923:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpsProxyAgent=void 0;var s=o(r(9278)),c=o(r(4756)),u=a(r(2613)),l=a(r(8524)),p=r(6844),d=r(7016),h=r(7521),f=(0,l.default)("https-proxy-agent"),m=function(e){function t(e,r){var n,i;P(this,t),(i=_(this,t,[r])).options={path:void 0},i.proxy="string"==typeof e?new d.URL(e):e,i.proxyHeaders=null!==(n=null==r?void 0:r.headers)&&void 0!==n?n:{},f("Creating new HttpsProxyAgent instance: %o",i.proxy.href);var o=(i.proxy.hostname||i.proxy.host).replace(/^\[|\]$/g,""),a=i.proxy.port?parseInt(i.proxy.port,10):"https:"===i.proxy.protocol?443:80;return i.connectOpts=E(E({ALPNProtocols:["http/1.1"]},r?y(r,"headers"):null),{},{host:o,port:a}),i}return C(t,e),M(t,[{key:"connect",value:(r=S(N().mark((function e(t,r){var n,i,o,a,l,p,d,m,v,b,w,A,x,S,_,k;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.proxy,r.host){e.next=3;break}throw new TypeError('No "host" provided');case 3:for("https:"===n.protocol?(f("Creating `tls.Socket`: %o",this.connectOpts),o=this.connectOpts.servername||this.connectOpts.host,i=c.connect(E(E({},this.connectOpts),{},{servername:o}))):(f("Creating `net.Socket`: %o",this.connectOpts),i=s.connect(this.connectOpts)),a="function"==typeof this.proxyHeaders?this.proxyHeaders():E({},this.proxyHeaders),l=s.isIPv6(r.host)?"[".concat(r.host,"]"):r.host,p="CONNECT ".concat(l,":").concat(r.port," HTTP/1.1\r\n"),(n.username||n.password)&&(d="".concat(decodeURIComponent(n.username),":").concat(decodeURIComponent(n.password)),a["Proxy-Authorization"]="Basic ".concat(Buffer.from(d).toString("base64"))),a.Host="".concat(l,":").concat(r.port),a["Proxy-Connection"]||(a["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close"),m=0,v=Object.keys(a);m<v.length;m++)b=v[m],p+="".concat(b,": ").concat(a[b],"\r\n");return w=(0,h.parseProxyResponse)(i),i.write("".concat(p,"\r\n")),e.next=13,w;case 13:if(A=e.sent,x=A.connect,S=A.buffered,t.emit("proxyConnect",x),this.emit("proxyConnect",x,t),200!==x.statusCode){e.next=22;break}if(t.once("socket",g),!r.secureEndpoint){e.next=21;break}return f("Upgrading socket connection to TLS"),_=r.servername||r.host,e.abrupt("return",c.connect(E(E({},y(r,"host","path","port")),{},{socket:i,servername:_})));case 21:return e.abrupt("return",i);case 22:return i.destroy(),k=new s.Socket({writable:!1}),e.abrupt("return",(k.readable=!0,t.once("socket",(function(e){f("Replaying proxy buffer for failed request"),(0,u.default)(e.listenerCount("data")>0),e.push(S),e.push(null)})),k));case 25:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]);var r}(p.Agent);function g(e){e.resume()}function y(e){for(var t,r={},n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];for(t in e)i.includes(t)||(r[t]=e[t]);return r}m.protocols=["http","https"],t.HttpsProxyAgent=m},7521:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseProxyResponse=void 0;var i=(0,n(r(8524)).default)("https-proxy-agent:parse-proxy-response");t.parseProxyResponse=function(e){return new Promise((function(t,r){var n=0,o=[];function a(){var c=e.read();c?function(c){o.push(c),n+=c.length;var u=Buffer.concat(o,n),l=u.indexOf("\r\n\r\n");if(-1===l)return i("have not received end of HTTP headers yet..."),void a();var p=u.slice(0,l).toString("ascii").split("\r\n"),d=p.shift();if(!d)return e.destroy(),r(new Error("No header received from proxy CONNECT response"));var h,m=d.split(" "),g=+m[1],y=m.slice(2).join(" "),v={},b=f(p);try{for(b.s();!(h=b.n()).done;){var E=h.value;if(E){var w=E.indexOf(":");if(-1===w)return e.destroy(),r(new Error('Invalid header from proxy CONNECT response: "'.concat(E,'"')));var A=E.slice(0,w).toLowerCase(),x=E.slice(w+1).trimStart(),S=v[A];"string"==typeof S?v[A]=[S,x]:Array.isArray(S)?S.push(x):v[A]=x}}}catch(e){b.e(e)}finally{b.f()}i("got proxy server response: %o %o",d,v),s(),t({connect:{statusCode:g,statusText:y,headers:v},buffered:u})}(c):e.once("readable",a)}function s(){e.removeListener("end",c),e.removeListener("error",u),e.removeListener("readable",a)}function c(){s(),i("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"))}function u(e){s(),i("onerror %o",e),r(e)}e.on("error",u),e.on("end",c),a()}))}},3478:function(e){var t=1e3,r=60*t,n=60*r,i=24*n,o=7*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,s){s=s||{};var c,u,l=D(e);if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(c=e,(u=Math.abs(c))>=i?a(c,u,i,"day"):u>=n?a(c,u,n,"hour"):u>=r?a(c,u,r,"minute"):u>=t?a(c,u,t,"second"):c+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},5785:function(e,t,a){"use strict";var l,p;a.r(t),a.d(t,{AggregateAuthenticationError:function(){return te},AggregateAuthenticationErrorName:function(){return ee},AuthenticationError:function(){return Z},AuthenticationErrorName:function(){return J},AuthenticationRequiredError:function(){return ne},AuthorizationCodeCredential:function(){return Ps},AzureAuthorityHosts:function(){return h},AzureCliCredential:function(){return Ua},AzureDeveloperCliCredential:function(){return Ha},AzurePipelinesCredential:function(){return Ns},AzurePowerShellCredential:function(){return Xa},ChainedTokenCredential:function(){return Za},ClientAssertionCredential:function(){return xa},ClientCertificateCredential:function(){return rs},ClientSecretCredential:function(){return is},CredentialUnavailableError:function(){return X},CredentialUnavailableErrorName:function(){return Y},DefaultAzureCredential:function(){return bs},DeviceCodeCredential:function(){return Ts},EnvironmentCredential:function(){return ls},InteractiveBrowserCredential:function(){return _s},ManagedIdentityCredential:function(){return Ra},OnBehalfOfCredential:function(){return Bs},UsernamePasswordCredential:function(){return as},VisualStudioCodeCredential:function(){return Le},WorkloadIdentityCredential:function(){return Ta},deserializeAuthenticationRecord:function(){return da},getBearerTokenProvider:function(){return js},getDefaultAzureCredential:function(){return Us},logger:function(){return F},serializeAuthenticationRecord:function(){return pa},useIdentityPlugin:function(){return qe}});var h,g="4.3.0-beta.3",y="04b07795-8ddb-461a-bbee-02f9e1bf7b46",v="common";!function(e){e.AzureChina="https://login.chinacloudapi.cn",e.AzureGermany="https://login.microsoftonline.de",e.AzureGovernment="https://login.microsoftonline.us",e.AzurePublicCloud="https://login.microsoftonline.com"}(h||(h={}));var b,A,x=h.AzurePublicCloud,I=["*"],T="nocae",O="msal.cache",L={setPersistence:function(e){b=e}};function q(){return void 0!==A}var B={setNativeBroker:function(e){A={broker:e}}},j=function(e){var t,r,n,i,o,a,s,c={cache:{},broker:{isEnabled:null!==(r=null===(t=e.brokerOptions)||void 0===t?void 0:t.enabled)&&void 0!==r&&r,enableMsaPassthrough:null!==(i=null===(n=e.brokerOptions)||void 0===n?void 0:n.legacyEnableMsaPassthrough)&&void 0!==i&&i,parentWindowHandle:null===(o=e.brokerOptions)||void 0===o?void 0:o.parentWindowHandle}};if(null===(a=e.tokenCachePersistenceOptions)||void 0===a?void 0:a.enabled){if(void 0===b)throw new Error(["Persistent token caching was requested, but no persistence provider was configured.","You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`."].join(" "));var u=e.tokenCachePersistenceOptions.name||O;c.cache.cachePlugin=b(Object.assign({name:"".concat(u,".").concat(T)},e.tokenCachePersistenceOptions)),c.cache.cachePluginCae=b(Object.assign({name:"".concat(u,".cae")},e.tokenCachePersistenceOptions))}if(null===(s=e.brokerOptions)||void 0===s?void 0:s.enabled){if(void 0===A)throw new Error(["Broker for WAM was requested to be enabled, but no native broker was configured.","You must install the identity-broker plugin package (`npm install --save @azure/identity-broker`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(createNativeBrokerPlugin())` before using `enableBroker`."].join(" "));c.broker.nativeBrokerPlugin=A.broker}return c},U=a(5136),F=(0,U.KV)("identity");function z(e){return e.reduce((function(e,t){return process.env[t]?e.assigned.push(t):e.missing.push(t),e}),{missing:[],assigned:[]})}function H(e){return"SUCCESS. Scopes: ".concat(Array.isArray(e)?e.join(", "):e,".")}function Q(e,t){var r="ERROR.";return(null==e?void 0:e.length)&&(r+=" Scopes: ".concat(Array.isArray(e)?e.join(", "):e,".")),"".concat(r," Error message: ").concat("string"==typeof t?t:t.message,".")}function G(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F,n=t?"".concat(t.fullTitle," ").concat(e):e;return{title:e,fullTitle:n,info:function(e){r.info("".concat(n," =>"),e)},warning:function(e){r.warning("".concat(n," =>"),e)},verbose:function(e){r.verbose("".concat(n," =>"),e)},error:function(e){r.error("".concat(n," =>"),e)}}}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,r=G(e,void 0,t);return Object.assign(Object.assign({},r),{parent:t,getToken:G("=> getToken()",r,t)})}function $(e,t){if(!t.match(/^[0-9a-zA-Z-.]+$/)){var r=new Error("Invalid tenant id provided. You can locate your tenant id by following the instructions listed here: https://learn.microsoft.com/partner-center/find-ids-and-domain-names.");throw e.info(Q("",r)),r}}function W(e,t,r){return t?($(e,t),t):(r||(r=y),r!==y?"common":"organizations")}function V(e){return e&&0!==e.length?e.includes("*")?I:e:[]}var Y="CredentialUnavailableError",X=function(e){function t(e){var r;return P(this,t),(r=_(this,t,[e])).name=Y,r}return C(t,e),M(t)}(d(Error)),J="AuthenticationError",Z=function(e){function t(e,r){var n;P(this,t);var i={error:"unknown",errorDescription:"An unknown error occurred and no additional details are available."};if(function(e){return e&&"string"==typeof e.error&&"string"==typeof e.error_description}(r))i=re(r);else if("string"==typeof r)try{i=re(JSON.parse(r))}catch(t){i=400===e?{error:"authority_not_found",errorDescription:"The specified authority URL was not found."}:{error:"unknown_error",errorDescription:"An unknown error has occurred. Response body:\n\n".concat(r)}}else i={error:"unknown_error",errorDescription:"An unknown error occurred and no additional details are available."};return(n=_(this,t,["".concat(i.error," Status code: ").concat(e,"\nMore details:\n").concat(i.errorDescription)])).statusCode=e,n.errorResponse=i,n.name=J,n}return C(t,e),M(t)}(d(Error)),ee="AggregateAuthenticationError",te=function(e){function t(e,r){var n;return P(this,t),(n=_(this,t,["".concat(r,"\n").concat(e.join("\n"))])).errors=e,n.name=ee,n}return C(t,e),M(t)}(d(Error));function re(e){return{error:e.error,errorDescription:e.error_description,correlationId:e.correlation_id,errorCodes:e.error_codes,timestamp:e.timestamp,traceId:e.trace_id}}var ne=function(e){function t(e){var r;return P(this,t),(r=_(this,t,[e.message])).scopes=e.scopes,r.getTokenOptions=e.getTokenOptions,r.name="AuthenticationRequiredError",r}return C(t,e),M(t)}(d(Error));function ie(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0;if(n=process.env.AZURE_IDENTITY_DISABLE_MULTITENANTAUTH||"adfs"===e?e:null!==(r=null==t?void 0:t.tenantId)&&void 0!==r?r:e,e&&n!==e&&!i.includes("*")&&!i.some((function(e){return 0===e.localeCompare(n)}))){var a=function(e){return"The current credential is not configured to acquire tokens for tenant ".concat(e,'. To enable acquiring tokens for this tenant add it to the AdditionallyAllowedTenants on the credential options, or add "*" to AdditionallyAllowedTenants to allow acquiring tokens for any tenant.')}(e);throw null==o||o.info(a),new X(a)}return n}var oe=a(9834),ae=a(3985),se=a(3448),ce=new WeakMap,ue=new WeakMap,le=function(){function e(){P(this,e),this.onabort=null,ce.set(this,[]),ue.set(this,!1)}return M(e,[{key:"aborted",get:function(){if(!ue.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");return ue.get(this)}},{key:"addEventListener",value:function(e,t){if(!ce.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");ce.get(this).push(t)}},{key:"removeEventListener",value:function(e,t){if(!ce.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");var r=ce.get(this),n=r.indexOf(t);n>-1&&r.splice(n,1)}},{key:"dispatchEvent",value:function(e){throw new Error("This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.")}}],[{key:"none",get:function(){return new e}}])}();function pe(e){if(!e.aborted){e.onabort&&e.onabort.call(e);var t=ce.get(e);t&&t.slice().forEach((function(t){t.call(e,{type:"abort"})})),ue.set(e,!0)}}var de=function(e){function t(e){var r;return P(this,t),(r=_(this,t,[e])).name="AbortError",r}return C(t,e),M(t)}(d(Error)),he=function(){return M((function e(t){var r=this;if(P(this,e),this._signal=new le,t){Array.isArray(t)||(t=arguments);var n,i=f(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.aborted?this.abort():o.addEventListener("abort",(function(){r.abort()}))}}catch(e){i.e(e)}finally{i.f()}}}),[{key:"signal",get:function(){return this._signal}},{key:"abort",value:function(){pe(this._signal)}}],[{key:"timeout",value:function(e){var t=new le,r=setTimeout(pe,e,t);return"function"==typeof r.unref&&r.unref(),t}}])}(),fe=(0,a(1652).y)({namespace:"Microsoft.AAD",packageName:"@azure/identity",packageVersion:g}),me="/.default",ge="http://169.254.169.254";function ye(e){var t="";if(Array.isArray(e)){if(1!==e.length)return;t=e[0]}else"string"==typeof e&&(t=e);return t.endsWith(me)?t.substr(0,t.lastIndexOf(me)):t}function ve(e){if("number"==typeof e.expires_on)return 1e3*e.expires_on;if("string"==typeof e.expires_on){var t=+e.expires_on;if(!isNaN(t))return 1e3*t;var r=Date.parse(e.expires_on);if(!isNaN(r))return r}if("number"==typeof e.expires_in)return Date.now()+1e3*e.expires_in;throw new Error('Failed to parse token expiration from body. expires_in="'.concat(e.expires_in,'", expires_on="').concat(e.expires_on,'"'))}var be,Ee="noCorrelationId",we=function(e){function t(e){var r,n,i;P(this,t);var o="azsdk-js-identity/".concat(g),a=(null===(n=null==e?void 0:e.userAgentOptions)||void 0===n?void 0:n.userAgentPrefix)?"".concat(e.userAgentOptions.userAgentPrefix," ").concat(o):"".concat(o),s=function(e){var t=null==e?void 0:e.authorityHost;return ae.Ll&&(t=null!=t?t:process.env.AZURE_AUTHORITY_HOST),null!=t?t:x}(e);if(!s.startsWith("https:"))throw new Error("The authorityHost address must use the 'https' protocol.");return(r=_(this,t,[Object.assign(Object.assign({requestContentType:"application/json; charset=utf-8",retryOptions:{maxRetries:3}},e),{userAgentOptions:{userAgentPrefix:a},baseUri:s})])).authorityHost=s,r.abortControllers=new Map,r.allowLoggingAccountIdentifiers=null===(i=null==e?void 0:e.loggingOptions)||void 0===i?void 0:i.allowLoggingAccountIdentifiers,r.tokenCredentialOptions=Object.assign({},e),r}return C(t,e),M(t,[{key:"sendTokenRequest",value:(o=S(N().mark((function e(t){var r,n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F.info("IdentityClient: sending token request to [".concat(t.url,"]")),e.next=3,this.sendRequest(t);case 3:if((r=e.sent).bodyAsText&&(200===r.status||201===r.status)){e.next=7;break}throw n=new Z(r.status,r.bodyAsText),F.warning("IdentityClient: authentication error. HTTP status: ".concat(r.status,", ").concat(n.errorResponse.errorDescription)),n;case 7:if((i=JSON.parse(r.bodyAsText)).access_token){e.next=10;break}return e.abrupt("return",null);case 10:return this.logIdentifiers(r),o={accessToken:{token:i.access_token,expiresOnTimestamp:ve(i)},refreshToken:i.refresh_token},e.abrupt("return",(F.info("IdentityClient: [".concat(t.url,"] token acquired, expires on ").concat(o.accessToken.expiresOnTimestamp)),o));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"refreshAccessToken",value:(i=S(N().mark((function e(t,r,n,i,o){var a,s,c,u=this,l=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>5&&void 0!==l[5]?l[5]:{},void 0!==i){e.next=3;break}return e.abrupt("return",null);case 3:return F.info("IdentityClient: refreshing access token with client ID: ".concat(r,", scopes: ").concat(n," started")),s={grant_type:"refresh_token",client_id:r,refresh_token:i,scope:n},void 0!==o&&(s.client_secret=o),c=new URLSearchParams(s),e.abrupt("return",fe.withSpan("IdentityClient.refreshAccessToken",a,function(){var e=S(N().mark((function e(n){var i,o,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=function(e){return"adfs"===e?"oauth2/token":"oauth2/v2.0/token"}(t),o=(0,se.G6)({url:"".concat(u.authorityHost,"/").concat(t,"/").concat(i),method:"POST",body:c.toString(),abortSignal:a.abortSignal,headers:(0,se.Nc)({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}),tracingOptions:n.tracingOptions}),e.next=5,u.sendTokenRequest(o);case 5:return s=e.sent,e.abrupt("return",(F.info("IdentityClient: refreshed token for client ID: ".concat(r)),s));case 9:if(e.prev=9,e.t0=e.catch(0),e.t0.name!==J||"interaction_required"!==e.t0.errorResponse.error){e.next=13;break}return e.abrupt("return",(F.info("IdentityClient: interaction required for client ID: ".concat(r)),null));case 13:throw F.warning("IdentityClient: failed refreshing token for client ID: ".concat(r,": ").concat(e.t0)),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));case 8:case"end":return e.stop()}}),e)}))),function(e,t,r,n,o){return i.apply(this,arguments)})},{key:"generateAbortSignal",value:function(e){var t=this,r=new he,n=this.abortControllers.get(e)||[];n.push(r),this.abortControllers.set(e,n);var i=r.signal.onabort;return r.signal.onabort=function(){t.abortControllers.set(e,void 0),i&&i.apply(void 0,arguments)},r.signal}},{key:"abortRequests",value:function(e){var t=e||Ee,r=[].concat(m(this.abortControllers.get(t)||[]),m(this.abortControllers.get(Ee)||[]));if(r.length){var n,i=f(r);try{for(i.s();!(n=i.n()).done;)n.value.abort()}catch(e){i.e(e)}finally{i.f()}this.abortControllers.set(t,void 0)}}},{key:"getCorrelationId",value:function(e){var t,r=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.split("&").map((function(e){return e.split("=")})).find((function(e){return"client-request-id"===u(e,1)[0]}));return r&&r.length&&r[1]||Ee}},{key:"sendGetRequestAsync",value:(n=S(N().mark((function e(t,r){var n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,se.G6)({url:t,method:"GET",body:null==r?void 0:r.body,headers:(0,se.Nc)(null==r?void 0:r.headers),abortSignal:this.generateAbortSignal(Ee)}),e.next=3,this.sendRequest(n);case 3:return i=e.sent,e.abrupt("return",(this.logIdentifiers(i),{body:i.bodyAsText?JSON.parse(i.bodyAsText):void 0,headers:i.headers.toJSON(),status:i.status}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"sendPostRequestAsync",value:(r=S(N().mark((function e(t,r){var n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,se.G6)({url:t,method:"POST",body:null==r?void 0:r.body,headers:(0,se.Nc)(null==r?void 0:r.headers),abortSignal:this.generateAbortSignal(this.getCorrelationId(r))}),e.next=3,this.sendRequest(n);case 3:return i=e.sent,e.abrupt("return",(this.logIdentifiers(i),{body:i.bodyAsText?JSON.parse(i.bodyAsText):void 0,headers:i.headers.toJSON(),status:i.status}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getTokenCredentialOptions",value:function(){return this.tokenCredentialOptions}},{key:"logIdentifiers",value:function(e){if(this.allowLoggingAccountIdentifiers&&e.bodyAsText)try{var t=(e.parsedBody||JSON.parse(e.bodyAsText)).access_token;if(!t)return;var r=t.split(".")[1],n=JSON.parse(Buffer.from(r,"base64").toString("utf8")),i=n.appid,o=n.upn,a=n.tid,s=n.oid;F.info("[Authenticated account] Client ID: ".concat(i,". Tenant ID: ").concat(a,". User Principal Name: ").concat(o||"No User Principal Name available",". Object ID (user): ").concat(s))}catch(e){F.warning("allowLoggingAccountIdentifiers was set, but we couldn't log the account information. Error:",e.message)}}}]);var r,n,i,o}(oe.Nl),Ae=a(9896),xe=a.n(Ae),Se=a(857),_e=a.n(Se),ke=a(6928),Ie=a.n(ke),Te=K("VisualStudioCodeCredential"),Ce={setVsCodeCredentialFinder:function(e){be=e}},Oe={adfs:"The VisualStudioCodeCredential does not support authentication with ADFS tenants."};function Ne(e){var t=Oe[e];if(t)throw new X(t)}var Re={AzureCloud:h.AzurePublicCloud,AzureChina:h.AzureChina,AzureGermanCloud:h.AzureGermany,AzureUSGovernment:h.AzureGovernment};function Pe(e){var t=["User","settings.json"],r=_e().homedir();function n(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=(r=Ie()).join.apply(r,i.concat(["Code"],t));return JSON.parse(xe().readFileSync(a,{encoding:"utf8"}))[e]}try{var i;switch(process.platform){case"win32":return(i=process.env.APPDATA)?n(i):void 0;case"darwin":return n(r,"Library","Application Support");case"linux":return n(r,".config");default:return}}catch(e){return void Te.info("Failed to load the Visual Studio Code configuration file. Error: ".concat(e.message))}}var Le=function(){return M((function e(t){P(this,e),this.cloudName=Pe("azure.cloud")||"AzureCloud";var r=Re[this.cloudName];this.identityClient=new we(Object.assign({authorityHost:r},t)),t&&t.tenantId?($(Te,t.tenantId),this.tenantId=t.tenantId):this.tenantId="common",this.additionallyAllowedTenantIds=V(null==t?void 0:t.additionallyAllowedTenants),Ne(this.tenantId)}),[{key:"prepare",value:(t=S(N().mark((function e(){var t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=Pe("azure.tenant"))&&(this.tenantId=t),Ne(this.tenantId);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"prepareOnce",value:function(){return this.preparePromise||(this.preparePromise=this.prepare()),this.preparePromise}},{key:"getToken",value:(e=S(N().mark((function e(t,r){var n,i,o,a,s,c,u,l,p,d,h,f=this;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.prepareOnce();case 2:if(o=ie(this.tenantId,r,this.additionallyAllowedTenantIds,Te)||this.tenantId,void 0!==be){e.next=5;break}throw new X(["No implementation of `VisualStudioCodeCredential` is available.","You must install the identity-vscode plugin package (`npm install --save-dev @azure/identity-vscode`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(vsCodePlugin)` before creating a `VisualStudioCodeCredential`.","To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot."].join(" "));case 5:if((a="string"==typeof t?t:t.join(" ")).match(/^[0-9a-zA-Z-.:/]+$/)){e.next=9;break}throw s=new Error("Invalid scope was specified by the user or calling client"),Te.getToken.info(Q(t,s)),s;case 9:return a.indexOf("offline_access")<0&&(a+=" offline_access"),e.next=12,be();case 12:if(c=e.sent,u=null!==(i=null!==(n=c.find((function(e){return e.account===f.cloudName})))&&void 0!==n?n:c[0])&&void 0!==i?i:{},!(l=u.password)){e.next=23;break}return e.next=18,this.identityClient.refreshAccessToken(o,"aebc6443-996d-45c2-90f0-388ff96faa56",a,l,void 0);case 18:if(!(p=e.sent)){e.next=21;break}return e.abrupt("return",(Te.getToken.info(H(t)),p.accessToken));case 21:throw d=new X("Could not retrieve the token associated with Visual Studio Code. Have you connected using the 'Azure Account' extension recently? To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot."),Te.getToken.info(Q(t,d)),d;case 23:throw h=new X("Could not retrieve the token associated with Visual Studio Code. Did you connect using the 'Azure Account' extension? To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot."),Te.getToken.info(Q(t,h)),h;case 25:case"end":return e.stop()}}),e,this)}))),function(t,r){return e.apply(this,arguments)})}]);var e,t}(),Me={cachePluginControl:L,nativeBrokerPluginControl:B,vsCodeCredentialControl:Ce};function qe(e){e(Me)}var De,Be={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},je=[Be.OPENID_SCOPE,Be.PROFILE_SCOPE,Be.OFFLINE_ACCESS_SCOPE],Ue=[].concat(je,[Be.EMAIL_SCOPE]),Fe="Retry-After",ze="X-AnchorMailbox",He="x-ms-request-id",Qe={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Ge="access_token",Ke={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},$e={PLAIN:"plain",S256:"S256"},We="query",Ve="Generic",Ye={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Xe={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Je="appmetadata",Ze="1",et="authority-metadata",tt="config",rt="cache",nt="network",it="hardcoded_values",ot={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},at={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},st="throttling",ct="0",ut="2",lt="3",pt="4",dt="post",ht="urn:ietf:params:oauth:client-assertion-type:jwt-bearer",ft="authorization_pending",mt="http://",gt="localhost",yt="post_request_failed",vt=R(R({},"unexpected_error","Unexpected error in authentication."),yt,"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."),bt=function(e){function t(e,r,n){var i;return P(this,t),i=_(this,t,[r?"".concat(e,": ").concat(r):e]),Object.setPrototypeOf(k(i),t.prototype),i.errorCode=e||Be.EMPTY_STRING,i.errorMessage=r||Be.EMPTY_STRING,i.subError=n||Be.EMPTY_STRING,i.name="AuthError",i}return C(t,e),M(t,[{key:"setCorrelationId",value:function(e){this.correlationId=e}}])}(d(Error)),Et=function(e){function t(e,r,n,i,o){var a;return P(this,t),(a=_(this,t,[e,r,n])).name="ServerError",a.errorNo=i,a.status=o,Object.setPrototypeOf(k(a),t.prototype),a}return C(t,e),M(t)}(bt);!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(De||(De={}));var wt=function(){function e(t,r,n){P(this,e),this.level=De.Info;var i=t||e.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||function(){},this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level="number"==typeof i.logLevel?i.logLevel:De.Info,this.correlationId=i.correlationId||Be.EMPTY_STRING,this.packageName=r||Be.EMPTY_STRING,this.packageVersion=n||Be.EMPTY_STRING}return M(e,[{key:"clone",value:function(t,r,n){return new e({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},t,r)}},{key:"logMessage",value:function(e,t){if(!(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)){var r="[".concat((new Date).toUTCString(),"] : [").concat(t.correlationId||this.correlationId||"","] : ").concat(this.packageName,"@").concat(this.packageVersion," : ").concat(De[t.logLevel]," - ").concat(e);this.executeCallback(t.logLevel,r,t.containsPii||!1)}}},{key:"executeCallback",value:function(e,t,r){this.localCallback&&this.localCallback(e,t,r)}},{key:"error",value:function(e,t){this.logMessage(e,{logLevel:De.Error,containsPii:!1,correlationId:t||Be.EMPTY_STRING})}},{key:"errorPii",value:function(e,t){this.logMessage(e,{logLevel:De.Error,containsPii:!0,correlationId:t||Be.EMPTY_STRING})}},{key:"warning",value:function(e,t){this.logMessage(e,{logLevel:De.Warning,containsPii:!1,correlationId:t||Be.EMPTY_STRING})}},{key:"warningPii",value:function(e,t){this.logMessage(e,{logLevel:De.Warning,containsPii:!0,correlationId:t||Be.EMPTY_STRING})}},{key:"info",value:function(e,t){this.logMessage(e,{logLevel:De.Info,containsPii:!1,correlationId:t||Be.EMPTY_STRING})}},{key:"infoPii",value:function(e,t){this.logMessage(e,{logLevel:De.Info,containsPii:!0,correlationId:t||Be.EMPTY_STRING})}},{key:"verbose",value:function(e,t){this.logMessage(e,{logLevel:De.Verbose,containsPii:!1,correlationId:t||Be.EMPTY_STRING})}},{key:"verbosePii",value:function(e,t){this.logMessage(e,{logLevel:De.Verbose,containsPii:!0,correlationId:t||Be.EMPTY_STRING})}},{key:"trace",value:function(e,t){this.logMessage(e,{logLevel:De.Trace,containsPii:!1,correlationId:t||Be.EMPTY_STRING})}},{key:"tracePii",value:function(e,t){this.logMessage(e,{logLevel:De.Trace,containsPii:!0,correlationId:t||Be.EMPTY_STRING})}},{key:"isPiiLoggingEnabled",value:function(){return this.piiLoggingEnabled||!1}}],[{key:"createDefaultLoggerOptions",value:function(){return{loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:De.Info}}}])}(),At="redirect_uri_empty",xt="authority_uri_insecure",St="url_parse_error",_t="empty_url_error",kt="empty_input_scopes_error",It="invalid_prompt_value",Tt="invalid_claims",Ct="token_request_empty",Ot="logout_request_empty",Nt="invalid_code_challenge_method",Rt="pkce_params_missing",Pt="invalid_cloud_discovery_metadata",Lt="invalid_authority_metadata",Mt="untrusted_authority",qt="missing_ssh_jwk",Dt=(R(R(R(R(R(R(R(R(R(R(l={},At,"A redirect URI is required for all calls, and none has been set."),"claims_request_parsing_error","Could not parse the given claims request object."),xt,"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options"),St,"URL could not be parsed into appropriate segments."),_t,"URL was empty or null."),kt,"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token."),It,"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest"),Tt,"Given claims parameter must be a stringified JSON object."),Ct,"Token request was empty and not found in cache."),Ot,"The logout request was null or undefined."),R(R(R(R(R(R(R(R(R(R(l,Nt,'code_challenge_method passed is invalid. Valid values are "plain" and "S256".'),Rt,"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request"),Pt,"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields"),Lt,"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields."),Mt,"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter."),qt,"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme."),"missing_ssh_kid","Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme."),"missing_nonce_authentication_header","Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce."),"invalid_authentication_header","Invalid authentication header provided"),"cannot_set_OIDCOptions","Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority."),R(R(l,"cannot_allow_native_broker","Cannot set allowNativeBroker parameter to true when not in AAD protocol mode."),"authority_mismatch","Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.")),Bt=function(e){function t(e){var r;return P(this,t),(r=_(this,t,[e,Dt[e]])).name="ClientConfigurationError",Object.setPrototypeOf(k(r),t.prototype),r}return C(t,e),M(t)}(bt);function jt(e){return new Bt(e)}var Ut=function(){return M((function e(){P(this,e)}),null,[{key:"isEmptyObj",value:function(e){if(e)try{var t=JSON.parse(e);return 0===Object.keys(t).length}catch(e){}return!0}},{key:"startsWith",value:function(e,t){return 0===e.indexOf(t)}},{key:"endsWith",value:function(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}},{key:"queryStringToObject",value:function(e){var t={},r=e.split("&"),n=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return r.forEach((function(e){if(e.trim()){var r=u(e.split(/=(.+)/g,2),2),i=r[0],o=r[1];i&&o&&(t[n(i)]=n(o))}})),t}},{key:"trimArrayEntries",value:function(e){return e.map((function(e){return e.trim()}))}},{key:"removeEmptyStringsFromArray",value:function(e){return e.filter((function(e){return!!e}))}},{key:"jsonParseHelper",value:function(e){try{return JSON.parse(e)}catch(e){return null}}},{key:"matchPattern",value:function(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}])}(),Ft="client_info_decoding_error",zt="client_info_empty_error",Ht="token_parsing_error",Qt="null_or_empty_token",Gt="endpoints_resolution_error",Kt="network_error",$t="openid_config_error",Wt="hash_not_deserialized",Vt="invalid_state",Yt="state_mismatch",Xt="state_not_found",Jt="nonce_mismatch",Zt="auth_time_not_found",er="max_age_transpired",tr="multiple_matching_tokens",rr="multiple_matching_appMetadata",nr="request_cannot_be_made",ir="cannot_remove_empty_scope",or="cannot_append_scopeset",ar="empty_input_scopeset",sr="device_code_polling_cancelled",cr="device_code_expired",ur="device_code_unknown_error",lr="no_account_in_silent_request",pr="invalid_cache_record",dr="invalid_cache_environment",hr="no_crypto_object",fr="invalid_assertion",mr="invalid_client_credential",gr="token_refresh_required",yr="user_timeout_reached",vr="token_claims_cnf_required_for_signedjwt",br="authorization_code_missing_from_server_response",Er="binding_key_not_removed",wr="end_session_endpoint_not_supported",Ar="key_id_missing",xr="missing_tenant_id_error",Sr="method_not_implemented",_r=(R(R(R(R(R(R(R(R(R(R(p={},Ft,"The client info could not be parsed/decoded correctly"),zt,"The client info was empty"),Ht,"Token cannot be parsed"),Qt,"The token is null or empty"),Gt,"Endpoints cannot be resolved"),Kt,"Network request failed"),$t,"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints."),Wt,"The hash parameters could not be deserialized"),Vt,"State was not the expected format"),Yt,"State mismatch error"),R(R(R(R(R(R(R(R(R(R(p,Xt,"State not found"),Jt,"Nonce mismatch error"),Zt,"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information."),er,"Max Age is set to 0, or too much time has elapsed since the last end-user authentication."),tr,"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account."),"multiple_matching_accounts","The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account"),rr,"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata"),nr,"Token request cannot be made without authorization code or refresh token."),ir,"Cannot remove null or empty scope from ScopeSet"),or,"Cannot append ScopeSet"),R(R(R(R(R(R(R(R(R(R(p,ar,"Empty input ScopeSet cannot be processed"),sr,"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true."),cr,"Device code is expired."),ur,"Device code stopped polling for unknown reasons."),lr,"Please pass an account object, silent flow is not supported without account information"),pr,"Cache record object was null or undefined."),dr,"Invalid environment when attempting to create cache entry"),"no_account_found","No account found in cache for given key."),hr,"No crypto object detected."),"unexpected_credential_type","Unexpected credential type."),R(R(R(R(R(R(R(R(R(R(p,fr,"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515"),mr,"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential"),gr,"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired."),yr,"User defined timeout for device code polling reached"),vr,"Cannot generate a POP jwt if the token_claims are not populated"),br,"Server response does not contain an authorization code to proceed"),Er,"Could not remove the credential's binding key from storage."),wr,"The provided authority does not support logout"),Ar,"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key."),"no_network_connectivity","No network connectivity. Check your internet connection."),R(R(R(R(p,"user_canceled","User cancelled the flow."),xr,"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow."),Sr,"This method has not been implemented"),"nested_app_auth_bridge_disabled","The nested app auth bridge is disabled")),kr=function(e){function t(e,r){var n;return P(this,t),(n=_(this,t,[e,r?"".concat(_r[e],": ").concat(r):_r[e]])).name="ClientAuthError",Object.setPrototypeOf(k(n),t.prototype),n}return C(t,e),M(t)}(bt);function Ir(e,t){return new kr(e,t)}function Tr(e){if(!e||e.indexOf("=")<0)return null;try{var t=function(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}(e),r=Object.fromEntries(new URLSearchParams(t));if(r.code||r.error||r.error_description||r.state)return r}catch(e){throw Ir(Wt)}return null}var Cr=function(){function e(t){if(P(this,e),this._urlString=t,!this._urlString)throw jt(_t);t.includes("#")||(this._urlString=e.canonicalizeUri(t))}return M(e,[{key:"urlString",get:function(){return this._urlString}},{key:"validateAsUri",value:function(){var e;try{e=this.getUrlComponents()}catch(e){throw jt(St)}if(!e.HostNameAndPort||!e.PathSegments)throw jt(St);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw jt(xt)}},{key:"replaceTenantPath",value:function(t){var r=this.getUrlComponents(),n=r.PathSegments;return!t||0===n.length||n[0]!==Qe.COMMON&&n[0]!==Qe.ORGANIZATIONS||(n[0]=t),e.constructAuthorityUriFromObject(r)}},{key:"getUrlComponents",value:function(){var e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw jt(St);var r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},n=r.AbsolutePath.split("/");return n=n.filter((function(e){return e&&e.length>0})),r.PathSegments=n,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}}],[{key:"canonicalizeUri",value:function(e){if(e){var t=e.toLowerCase();return Ut.endsWith(t,"?")?t=t.slice(0,-1):Ut.endsWith(t,"?/")&&(t=t.slice(0,-2)),Ut.endsWith(t,"/")||(t+="/"),t}return e}},{key:"appendQueryString",value:function(e,t){return t?e.indexOf("?")<0?"".concat(e,"?").concat(t):"".concat(e,"&").concat(t):e}},{key:"removeHashFromUrl",value:function(t){return e.canonicalizeUri(t.split("#")[0])}},{key:"getDomainFromUrl",value:function(e){var t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw jt(St);return r[2]}},{key:"getAbsoluteUrl",value:function(t,r){if(t[0]===Be.FORWARD_SLASH){var n=new e(r).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+t}return t}},{key:"constructAuthorityUriFromObject",value:function(t){return new e(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))}},{key:"hashContainsKnownProperties",value:function(e){return!!Tr(e)}}])}(),Or={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},Nr={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},Rr=new Set;function Pr(e,t,r,n){if(null!=n&&n.trace("getAliasesFromMetadata called with source: ".concat(r)),e&&t){var i=Lr(t,e);if(i)return null!=n&&n.trace("getAliasesFromMetadata: found cloud discovery metadata in ".concat(r,", returning aliases")),i.aliases;null==n||n.trace("getAliasesFromMetadata: did not find cloud discovery metadata in ".concat(r))}return null}function Lr(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.aliases.includes(t))return n}return null}Nr.metadata.forEach((function(e){e.aliases.forEach((function(e){Rr.add(e)}))}));var Mr="AAD",qr="none",Dr="refreshTokenClientExecutePostToTokenEndpoint",Br="authorizationCodeClientExecutePostToTokenEndpoint",jr="refreshTokenClientExecuteTokenRequest",Ur="refreshTokenClientAcquireToken",Fr="refreshTokenClientAcquireTokenWithCachedRefreshToken",zr="refreshTokenClientAcquireTokenByRefreshToken",Hr="refreshTokenClientCreateTokenRequestBody",Qr="silentFlowClientAcquireCachedToken",Gr="silentFlowClientGenerateResultFromCacheRecord",Kr="getAuthCodeUrl",$r="updateTokenEndpointAuthority",Wr="authClientAcquireToken",Vr="authClientExecuteTokenRequest",Yr="authClientCreateTokenRequestBody",Xr="authClientCreateQueryString",Jr="popTokenGenerateCnf",Zr="popTokenGenerateKid",en="handleServerTokenResponse",tn="authorityFactoryCreateDiscoveredInstance",rn="authorityResolveEndpointsAsync",nn="authorityGetCloudDiscoveryMetadataFromNetwork",on="authorityUpdateCloudDiscoveryMetadata",an="authorityGetEndpointMetadataFromNetwork",sn="authorityUpdateEndpointMetadata",cn="authorityUpdateMetadataWithRegionalInformation",un="regionDiscoveryDetectRegion",ln="regionDiscoveryGetRegionFromIMDS",pn="regionDiscoveryGetCurrentVersion",dn="cacheManagerGetRefreshToken",hn=(new Map([["acquireTokenByCode","ATByCode"],["acquireTokenByRefreshToken","ATByRT"],["acquireTokenSilent","ATS"],["acquireTokenSilentAsync","ATSAsync"],["acquireTokenPopup","ATPopup"],["acquireTokenRedirect","ATRedirect"],["cryptoOptsGetPublicKeyThumbprint","CryptoGetPKThumb"],["cryptoOptsSignJwt","CryptoSignJwt"],["silentCacheClientAcquireToken","SltCacheClientAT"],["silentIframeClientAcquireToken","SltIframeClientAT"],["silentRefreshClientAcquireToken","SltRClientAT"],["ssoSilent","SsoSlt"],["standardInteractionClientGetDiscoveredAuthority","StdIntClientGetDiscAuth"],["fetchAccountIdWithNativeBroker","FetchAccIdWithNtvBroker"],["nativeInteractionClientAcquireToken","NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[Dr,"RTClientExecPost"],[Br,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[jr,"RTClientExecTReq"],[Ur,"RTClientAT"],[Fr,"RTClientATWithCachedRT"],[zr,"RTClientATByRT"],[Hr,"RTClientCreateTReqBody"],["acquireTokenFromCache","ATFromCache"],[Qr,"SltFlowClientATCached"],[Gr,"SltFlowClientGenResFromCache"],["acquireTokenBySilentIframe","ATBySltIframe"],["initializeBaseRequest","InitBaseReq"],["initializeSilentRequest","InitSltReq"],["initializeClientApplication","InitClientApplication"],["silentIframeClientTokenHelper","SIClientTHelper"],["silentHandlerInitiateAuthRequest","SHandlerInitAuthReq"],["silentHandlerMonitorIframeForHash","SltHandlerMonitorIframeForHash"],["silentHandlerLoadFrame","SHandlerLoadFrame"],["silentHandlerLoadFrameSync","SHandlerLoadFrameSync"],["standardInteractionClientCreateAuthCodeClient","StdIntClientCreateAuthCodeClient"],["standardInteractionClientGetClientConfiguration","StdIntClientGetClientConf"],["standardInteractionClientInitializeAuthorizationRequest","StdIntClientInitAuthReq"],["standardInteractionClientInitializeAuthorizationCodeRequest","StdIntClientInitAuthCodeReq"],[Kr,"GetAuthCodeUrl"],["handleCodeResponseFromServer","HandleCodeResFromServer"],["handleCodeResponse","HandleCodeResp"],[$r,"UpdTEndpointAuth"],[Wr,"AuthClientAT"],[Vr,"AuthClientExecTReq"],[Yr,"AuthClientCreateTReqBody"],[Xr,"AuthClientCreateQueryStr"],[Jr,"PopTGenCnf"],[Zr,"PopTGenKid"],[en,"HandleServerTRes"],["deserializeResponse","DeserializeRes"],[tn,"AuthFactCreateDiscInst"],[rn,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[nn,"AuthGetCDMetaFromNet"],[on,"AuthUpdCDMeta"],[an,"AuthUpdCDMetaFromNet"],[sn,"AuthUpdEndpointMeta"],[cn,"AuthUpdMetaWithRegInfo"],[un,"RegDiscDetectReg"],[ln,"RegDiscGetRegFromIMDS"],[pn,"RegDiscGetCurrentVer"],["acquireTokenByCodeAsync","ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],["handleRedirectPromise","HandleRedirectPromise"],["handleNativeRedirectPromise","HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],["nativeMessageHandlerHandshake","NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],["removeHiddenIframe","RemoveHiddenIframe"],["clearTokensAndKeysWithClaims","ClearTAndKeysWithClaims"],[dn,"CacheManagerGetRT"],["generatePkceCodes","GenPkceCodes"],["generateCodeVerifier","GenCodeVerifier"],["generateCodeChallengeFromVerifier","GenCodeChallengeFromVerifier"],["sha256Digest","Sha256Digest"],["getRandomValues","GetRandomValues"]]),new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT"]),function(e,t,r,n,i){return function(){r.trace("Executing function ".concat(t));var o=null==n?void 0:n.startMeasurement(t,i);if(i){var a=t+"CallCount";null==n||n.incrementFields(R({},a,1),i)}return null!=n&&n.setPreQueueTime(t,i),e.apply(void 0,arguments).then((function(e){return r.trace("Returning result from ".concat(t)),null!=o&&o.end({success:!0}),e})).catch((function(e){r.trace("Error occurred in ".concat(t));try{r.trace(JSON.stringify(e))}catch(e){r.trace("Unable to print error message.")}throw null!=o&&o.end({success:!1},e),e}))}}),fn=function(){function e(t,r,n,i){P(this,e),this.networkInterface=t,this.logger=r,this.performanceClient=n,this.correlationId=i}return M(e,[{key:"detectRegion",value:(n=S(N().mark((function t(r,n){var i,o,a,s,c,u;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(i=this.performanceClient)||void 0===i||i.addQueueMeasurement(un,this.correlationId),!(o=r)){t.next=6;break}n.region_source="3",t.next=26;break;case 6:return a=e.IMDS_OPTIONS,t.prev=7,t.next=10,hn(this.getRegionFromIMDS.bind(this),ln,this.logger,this.performanceClient,this.correlationId)(Be.IMDS_VERSION,a);case 10:if(200===(s=t.sent).status&&(o=s.body,n.region_source="4"),400!==s.status){t.next=21;break}return t.next=14,hn(this.getCurrentVersion.bind(this),pn,this.logger,this.performanceClient,this.correlationId)(a);case 14:if(c=t.sent){t.next=17;break}return t.abrupt("return",(n.region_source="1",null));case 17:return t.next=19,hn(this.getRegionFromIMDS.bind(this),ln,this.logger,this.performanceClient,this.correlationId)(c,a);case 19:200===(u=t.sent).status&&(o=u.body,n.region_source="4");case 21:t.next=26;break;case 23:return t.prev=23,t.t0=t.catch(7),t.abrupt("return",(n.region_source="1",null));case 26:return t.abrupt("return",(o||(n.region_source="1"),o||null));case 27:case"end":return t.stop()}}),t,this,[[7,23]])}))),function(e,t){return n.apply(this,arguments)})},{key:"getRegionFromIMDS",value:(r=S(N().mark((function e(t,r){var n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null!==(n=this.performanceClient)&&void 0!==n&&n.addQueueMeasurement(ln,this.correlationId),this.networkInterface.sendGetRequestAsync("".concat(Be.IMDS_ENDPOINT,"?api-version=").concat(t,"&format=text"),r,Be.IMDS_TIMEOUT)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getCurrentVersion",value:(t=S(N().mark((function e(t){var r,n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(pn,this.correlationId),e.prev=1,e.next=4,this.networkInterface.sendGetRequestAsync("".concat(Be.IMDS_ENDPOINT,"?format=json"),t);case 4:return n=e.sent,e.abrupt("return",400===n.status&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?n.body["newest-versions"][0]:null);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return t.apply(this,arguments)})}]);var t,r,n}();function mn(e,t){var r=function(e){if(!e)throw Ir(Qt);var t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw Ir(Ht);return t[2]}(e);try{var n=t(r);return JSON.parse(n)}catch(e){throw Ir(Ht)}}function gn(e,t){if(0===t||Date.now()-3e5>e+t)throw Ir(er)}function yn(){return Math.round((new Date).getTime()/1e3)}function vn(e,t){var r=Number(e)||0;return yn()+t>r}function bn(e,t){return new Promise((function(r){return setTimeout((function(){return r(t)}),e)}))}function En(e){return[_n(e),kn(e),In(e),Tn(e),Cn(e)].join(Ye.CACHE_KEY_SEPARATOR).toLowerCase()}function wn(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function An(e){return!!e&&wn(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===Xe.ACCESS_TOKEN||e.credentialType===Xe.ACCESS_TOKEN_WITH_AUTH_SCHEME)}function xn(e){return!!e&&wn(e)&&e.hasOwnProperty("realm")&&e.credentialType===Xe.ID_TOKEN}function Sn(e){return!!e&&wn(e)&&e.credentialType===Xe.REFRESH_TOKEN}function _n(e){return[e.homeAccountId,e.environment].join(Ye.CACHE_KEY_SEPARATOR).toLowerCase()}function kn(e){var t=e.credentialType===Xe.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(Ye.CACHE_KEY_SEPARATOR).toLowerCase()}function In(e){return(e.target||"").toLowerCase()}function Tn(e){return(e.requestedClaimsHash||"").toLowerCase()}function Cn(e){return e.tokenType&&e.tokenType.toLowerCase()!==at.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function On(e,t){return!!t&&0===e.indexOf(Je)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")}function Nn(){return yn()+86400}function Rn(e,t,r){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=r,e.jwks_uri=t.jwks_uri}function Pn(e,t,r){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=r}function Ln(e){return e.expiresAt<=yn()}fn.IMDS_OPTIONS={headers:{Metadata:"true"}};var Mn=function(){function e(t,r,n,i,o,a,s,c){P(this,e),this.canonicalAuthority=t,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=s,this.correlationId=a,this.managedIdentity=c||!1,this.regionDiscovery=new fn(r,this.logger,this.performanceClient,this.correlationId)}return M(e,[{key:"getAuthorityType",value:function(e){if(e.HostNameAndPort.endsWith(Be.CIAM_AUTH_URL))return 3;var t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case Be.ADFS:return 1;case Be.DSTS:return 2}return 0}},{key:"authorityType",get:function(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}},{key:"protocolMode",get:function(){return this.authorityOptions.protocolMode}},{key:"options",get:function(){return this.authorityOptions}},{key:"canonicalAuthority",get:function(){return this._canonicalAuthority.urlString},set:function(e){this._canonicalAuthority=new Cr(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}},{key:"canonicalAuthorityUrlComponents",get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}},{key:"hostnameAndPort",get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}},{key:"tenant",get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}},{key:"authorizationEndpoint",get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw Ir(Gt)}},{key:"tokenEndpoint",get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw Ir(Gt)}},{key:"deviceCodeEndpoint",get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw Ir(Gt)}},{key:"endSessionEndpoint",get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw Ir(wr);return this.replacePath(this.metadata.end_session_endpoint)}throw Ir(Gt)}},{key:"selfSignedJwtAudience",get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw Ir(Gt)}},{key:"jwksUri",get:function(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw Ir(Gt)}},{key:"canReplaceTenant",value:function(t){return 1===t.PathSegments.length&&!e.reservedTenantDomains.has(t.PathSegments[0])&&0===this.getAuthorityType(t)&&this.protocolMode===Mr}},{key:"replaceTenant",value:function(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}},{key:"replacePath",value:function(e){var t=this,r=e,n=new Cr(this.metadata.canonical_authority).getUrlComponents(),i=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((function(e,o){var a=i[o];if(0===o&&t.canReplaceTenant(n)){var s=new Cr(t.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];a!==s&&(t.logger.verbose("Replacing tenant domain name ".concat(a," with id ").concat(s)),a=s)}e!==a&&(r=r.replace("/".concat(a,"/"),"/".concat(e,"/")))})),this.replaceTenant(r)}},{key:"defaultOpenIdConfigurationEndpoint",get:function(){var e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||1===this.authorityType||this.protocolMode!==Mr&&!this.isAliasOfKnownMicrosoftAuthority(e)?"".concat(this.canonicalAuthority,".well-known/openid-configuration"):"".concat(this.canonicalAuthority,"v2.0/.well-known/openid-configuration")}},{key:"discoveryComplete",value:function(){return!!this.metadata}},{key:"resolveEndpointsAsync",value:(a=S(N().mark((function e(){var t,r,n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(rn,this.correlationId),n=this.getCurrentMetadataEntity(),e.next=4,hn(this.updateCloudDiscoveryMetadata.bind(this),on,this.logger,this.performanceClient,this.correlationId)(n);case 4:return i=e.sent,this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,n.preferred_network),e.next=8,hn(this.updateEndpointMetadata.bind(this),sn,this.logger,this.performanceClient,this.correlationId)(n);case 8:o=e.sent,this.updateCachedMetadata(n,i,{source:o}),null===(r=this.performanceClient)||void 0===r||r.addFields({cloudDiscoverySource:i,authorityEndpointSource:o},this.correlationId);case 10:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getCurrentMetadataEntity",value:function(){var e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Nn(),jwks_uri:""}),e}},{key:"updateCachedMetadata",value:function(e,t,r){t!==rt&&(null==r?void 0:r.source)!==rt&&(e.expiresAt=Nn(),e.canonical_authority=this.canonicalAuthority);var n=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(n,e),this.metadata=e}},{key:"updateEndpointMetadata",value:(o=S(N().mark((function e(t){var r,n,i,o,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(sn,this.correlationId),!(o=this.updateEndpointMetadataFromLocalSources(t))){e.next=14;break}if(e.t0=o.source===it&&null!==(n=this.authorityOptions.azureRegionConfiguration)&&void 0!==n&&n.azureRegion&&o.metadata,!e.t0){e.next=13;break}return e.t1=Rn,e.t2=t,e.next=9,hn(this.updateMetadataWithRegionalInformation.bind(this),cn,this.logger,this.performanceClient,this.correlationId)(o.metadata);case 9:e.t3=e.sent,e.t4=!1,(0,e.t1)(e.t2,e.t3,e.t4),t.canonical_authority=this.canonicalAuthority;case 13:return e.abrupt("return",o.source);case 14:return e.next=16,hn(this.getEndpointMetadataFromNetwork.bind(this),an,this.logger,this.performanceClient,this.correlationId)();case 16:if(!(a=e.sent)){e.next=25;break}if(e.t5=null!==(i=this.authorityOptions.azureRegionConfiguration)&&void 0!==i&&i.azureRegion,!e.t5){e.next=23;break}return e.next=22,hn(this.updateMetadataWithRegionalInformation.bind(this),cn,this.logger,this.performanceClient,this.correlationId)(a);case 22:a=e.sent;case 23:return Rn(t,a,!0),e.abrupt("return",nt);case 25:throw Ir($t,this.defaultOpenIdConfigurationEndpoint);case 26:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"updateEndpointMetadataFromLocalSources",value:function(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");var t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Rn(e,t,!1),{source:tt};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{var r=this.getEndpointMetadataFromHardcodedValues();if(r)return Rn(e,r,!1),{source:it,metadata:r};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}var n=Ln(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:rt}):(n&&this.logger.verbose("The metadata entity is expired."),null)}},{key:"isAuthoritySameType",value:function(e){return new Cr(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}},{key:"getEndpointMetadataFromConfig",value:function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw jt(Lt)}return null}},{key:"getEndpointMetadataFromNetwork",value:(i=S(N().mark((function e(){var t,r,n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.performanceClient)||void 0===t||t.addQueueMeasurement(an,this.correlationId),r={},n=this.defaultOpenIdConfigurationEndpoint,this.logger.verbose("Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ".concat(n)),e.prev=3,e.next=6,this.networkInterface.sendGetRequestAsync(n,r);case 6:return i=e.sent,o=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(i.body),e.abrupt("return",o?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null));case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: ".concat(e.t0)),null));case 14:case"end":return e.stop()}}),e,this,[[3,11]])}))),function(){return i.apply(this,arguments)})},{key:"getEndpointMetadataFromHardcodedValues",value:function(){return this.hostnameAndPort in Or?Or[this.hostnameAndPort]:null}},{key:"updateMetadataWithRegionalInformation",value:(n=S(N().mark((function t(r){var n,i,o,a,s;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(cn,this.correlationId),!(o=null===(i=this.authorityOptions.azureRegionConfiguration)||void 0===i?void 0:i.azureRegion)){t.next=11;break}if(o===Be.AZURE_REGION_AUTO_DISCOVER_FLAG){t.next=5;break}return t.abrupt("return",(this.regionDiscoveryMetadata.region_outcome="2",this.regionDiscoveryMetadata.region_used=o,e.replaceWithRegionalInformation(r,o)));case 5:return t.next=7,hn(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),un,this.logger,this.performanceClient,this.correlationId)(null===(a=this.authorityOptions.azureRegionConfiguration)||void 0===a?void 0:a.environmentRegion,this.regionDiscoveryMetadata);case 7:if(!(s=t.sent)){t.next=10;break}return t.abrupt("return",(this.regionDiscoveryMetadata.region_outcome="4",this.regionDiscoveryMetadata.region_used=s,e.replaceWithRegionalInformation(r,s)));case 10:this.regionDiscoveryMetadata.region_outcome="5";case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}}),t,this)}))),function(e){return n.apply(this,arguments)})},{key:"updateCloudDiscoveryMetadata",value:(r=S(N().mark((function e(t){var r,n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(on,this.correlationId),!(n=this.updateCloudDiscoveryMetadataFromLocalSources(t))){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,hn(this.getCloudDiscoveryMetadataFromNetwork.bind(this),nn,this.logger,this.performanceClient,this.correlationId)();case 6:if(!(i=e.sent)){e.next=9;break}return e.abrupt("return",(Pn(t,i,!0),nt));case 9:throw jt(Mt);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"updateCloudDiscoveryMetadataFromLocalSources",value:function(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii("Known Authorities: ".concat(this.authorityOptions.knownAuthorities||Be.NOT_APPLICABLE)),this.logger.verbosePii("Authority Metadata: ".concat(this.authorityOptions.authorityMetadata||Be.NOT_APPLICABLE)),this.logger.verbosePii("Canonical Authority: ".concat(e.canonical_authority||Be.NOT_APPLICABLE));var t,r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Pn(e,r,!1),tt;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{var n=(t=this.hostnameAndPort,Lr(Nr.metadata,t));if(n)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Pn(e,n,!1),it;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var i=Ln(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!i?(this.logger.verbose("Found cloud discovery metadata in the cache."),rt):(i&&this.logger.verbose("The metadata entity is expired."),null)}},{key:"getCloudDiscoveryMetadataFromConfig",value:function(){if(3===this.authorityType)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");var t=Lr(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),jt(Pt)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}},{key:"getCloudDiscoveryMetadataFromNetwork",value:(t=S(N().mark((function t(){var r,n,i,o,a,s,c,u;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(nn,this.correlationId),n="".concat(Be.AAD_INSTANCE_DISCOVERY_ENDPT).concat(this.canonicalAuthority,"oauth2/v2.0/authorize"),i={},o=null,t.prev=3,t.next=6,this.networkInterface.sendGetRequestAsync(n,i);case 6:if(!function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}((a=t.sent).body)){t.next=11;break}s=a.body,c=s.metadata,this.logger.verbosePii("tenant_discovery_endpoint is: ".concat(s.tenant_discovery_endpoint)),t.next=16;break;case 11:if(function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(a.body)){t.next=13;break}return t.abrupt("return",(this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null));case 13:if(this.logger.warning("A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ".concat(a.status)),(s=a.body).error!==Be.INVALID_INSTANCE){t.next=15;break}return t.abrupt("return",(this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null));case 15:this.logger.warning("The CloudInstanceDiscoveryErrorResponse error is ".concat(s.error)),this.logger.warning("The CloudInstanceDiscoveryErrorResponse error description is ".concat(s.error_description)),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),c=[];case 16:this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),o=Lr(c,this.hostnameAndPort),t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(3),t.t0 instanceof bt?this.logger.error("There was a network error while attempting to get the cloud discovery instance metadata.\nError: ".concat(t.t0.errorCode,"\nError Description: ").concat(t.t0.errorMessage)):(u=t.t0,this.logger.error("A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ".concat(u.name,"\nError Description: ").concat(u.message))),t.abrupt("return",null);case 23:return t.abrupt("return",(o||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),o=e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),o));case 24:case"end":return t.stop()}}),t,this,[[3,19]])}))),function(){return t.apply(this,arguments)})},{key:"isInKnownAuthorities",value:function(){var e=this;return this.authorityOptions.knownAuthorities.filter((function(t){return t&&Cr.getDomainFromUrl(t).toLowerCase()===e.hostnameAndPort})).length>0}},{key:"getPreferredCache",value:function(){if(this.managedIdentity)return Be.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw Ir(Gt)}},{key:"isAlias",value:function(e){return this.metadata.aliases.indexOf(e)>-1}},{key:"isAliasOfKnownMicrosoftAuthority",value:function(e){return Rr.has(e)}}],[{key:"generateAuthority",value:function(e,t){var r;if(t&&t.azureCloudInstance!==qr){var n=t.tenant?t.tenant:Be.DEFAULT_COMMON_TENANT;r="".concat(t.azureCloudInstance,"/").concat(n,"/")}return r||e}},{key:"createCloudDiscoveryMetadataFromHost",value:function(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}},{key:"isPublicCloudAuthority",value:function(e){return Be.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}},{key:"buildRegionalAuthorityString",value:function(e,t,r){var n=new Cr(e);n.validateAsUri();var i=n.getUrlComponents(),o="".concat(t,".").concat(i.HostNameAndPort);this.isPublicCloudAuthority(i.HostNameAndPort)&&(o="".concat(t,".").concat(Be.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX));var a=Cr.constructAuthorityUriFromObject(E(E({},n.getUrlComponents()),{},{HostNameAndPort:o})).urlString;return r?"".concat(a,"?").concat(r):a}},{key:"replaceWithRegionalInformation",value:function(t,r){var n=E({},t);return n.authorization_endpoint=e.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=e.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=e.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}},{key:"transformCIAMAuthority",value:function(e){var t=e,r=new Cr(e).getUrlComponents();return 0===r.PathSegments.length&&r.HostNameAndPort.endsWith(Be.CIAM_AUTH_URL)&&(t="".concat(t).concat(r.HostNameAndPort.split(".")[0]).concat(Be.AAD_TENANT_DOMAIN_SUFFIX)),t}}]);var t,r,n,i,o,a}();function qn(e){return e.endsWith(Be.FORWARD_SLASH)?e:"".concat(e).concat(Be.FORWARD_SLASH)}Mn.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Qe.COMMON,Qe.CONSUMERS,Qe.ORGANIZATIONS]);var Dn={createNewGuid:function(){throw Ir(Sr)},base64Decode:function(){throw Ir(Sr)},base64Encode:function(){throw Ir(Sr)},base64UrlEncode:function(){throw Ir(Sr)},encodeKid:function(){throw Ir(Sr)},getPublicKeyThumbprint:function(){return S(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Ir(Sr);case 1:case"end":return e.stop()}}),e)})))()},removeTokenBindingKey:function(){return S(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Ir(Sr);case 1:case"end":return e.stop()}}),e)})))()},clearKeystore:function(){return S(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Ir(Sr);case 1:case"end":return e.stop()}}),e)})))()},signJwt:function(){return S(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Ir(Sr);case 1:case"end":return e.stop()}}),e)})))()},hashString:function(){return S(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Ir(Sr);case 1:case"end":return e.stop()}}),e)})))()}},Bn="@azure/msal-common",jn="14.13.0",Un=function(){function e(t){var r=this;P(this,e);var n=t?Ut.trimArrayEntries(m(t)):[],i=n?Ut.removeEmptyStringsFromArray(n):[];this.validateInputScopes(i),this.scopes=new Set,i.forEach((function(e){return r.scopes.add(e)}))}return M(e,[{key:"validateInputScopes",value:function(e){if(!e||e.length<1)throw jt(kt)}},{key:"containsScope",value:function(t){var r=new e(this.printScopesLowerCase().split(" "));return!!t&&r.scopes.has(t.toLowerCase())}},{key:"containsScopeSet",value:function(e){var t=this;return!(!e||e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every((function(e){return t.containsScope(e)}))}},{key:"containsOnlyOIDCScopes",value:function(){var e=this,t=0;return Ue.forEach((function(r){e.containsScope(r)&&(t+=1)})),this.scopes.size===t}},{key:"appendScope",value:function(e){e&&this.scopes.add(e.trim())}},{key:"appendScopes",value:function(e){var t=this;try{e.forEach((function(e){return t.appendScope(e)}))}catch(e){throw Ir(or)}}},{key:"removeScope",value:function(e){if(!e)throw Ir(ir);this.scopes.delete(e.trim())}},{key:"removeOIDCScopes",value:function(){var e=this;Ue.forEach((function(t){e.scopes.delete(t)}))}},{key:"unionScopeSets",value:function(e){if(!e)throw Ir(ar);var t=new Set;return e.scopes.forEach((function(e){return t.add(e.toLowerCase())})),this.scopes.forEach((function(e){return t.add(e.toLowerCase())})),t}},{key:"intersectingScopeSets",value:function(e){if(!e)throw Ir(ar);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();var t=this.unionScopeSets(e),r=e.getScopeCount(),n=this.getScopeCount();return t.size<n+r}},{key:"getScopeCount",value:function(){return this.scopes.size}},{key:"asArray",value:function(){var e=[];return this.scopes.forEach((function(t){return e.push(t)})),e}},{key:"printScopes",value:function(){return this.scopes?this.asArray().join(" "):Be.EMPTY_STRING}},{key:"printScopesLowerCase",value:function(){return this.printScopes().toLowerCase()}}],[{key:"fromString",value:function(t){return new e((t||Be.EMPTY_STRING).split(" "))}},{key:"createSearchScopes",value:function(t){var r=new e(t);return r.containsOnlyOIDCScopes()?r.removeScope(Be.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}}])}();function Fn(e,t){if(!e)throw Ir(zt);try{var r=t(e);return JSON.parse(r)}catch(e){throw Ir(Ft)}}function zn(e){if(!e)throw Ir(Ft);var t=e.split(Ye.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?Be.EMPTY_STRING:t[1]}}function Hn(e,t){return!!e&&!!t&&e===t.split(".")[1]}function Qn(e,t){var r=t.oid,n=t.sub,i=t.tid,o=t.name,a=t.tfp,s=t.acr,c=i||a||s||"";return{tenantId:c,localAccountId:r||n||"",name:o,isHomeTenant:Hn(c,e)}}function Gn(e,t,r,o){var a=e;if(t){t.isHomeTenant;var s=c(t,n);a=E(E({},e),s)}if(r){var u=Qn(e.homeAccountId,r),l=(u.isHomeTenant,c(u,i));return E(E(E({},a),l),{},{idTokenClaims:r,idToken:o})}return a}function Kn(e){return e&&(e.tid||e.tfp||e.acr)||null}var $n=function(){function e(){P(this,e)}return M(e,[{key:"generateAccountId",value:function(){return[this.homeAccountId,this.environment].join(Ye.CACHE_KEY_SEPARATOR).toLowerCase()}},{key:"generateAccountKey",value:function(){return e.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}},{key:"getAccountInfo",value:function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((function(e){return[e.tenantId,e]})))}}},{key:"isSingleTenant",value:function(){return!this.tenantProfiles}}],[{key:"generateAccountCacheKey",value:function(e){var t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(Ye.CACHE_KEY_SEPARATOR).toLowerCase()}},{key:"createAccount",value:function(t,r,n){var i,o,a,s,c,u,l,p,d,h=new e;1===r.authorityType?h.authorityType="ADFS":r.protocolMode===Mr?h.authorityType="MSSTS":h.authorityType=Ve,t.clientInfo&&n&&(d=Fn(t.clientInfo,n)),h.clientInfo=t.clientInfo,h.homeAccountId=t.homeAccountId,h.nativeAccountId=t.nativeAccountId;var f=t.environment||r&&r.getPreferredCache();if(!f)throw Ir(dr);h.environment=f,h.realm=(null===(i=d)||void 0===i?void 0:i.utid)||Kn(t.idTokenClaims)||"",h.localAccountId=(null===(o=d)||void 0===o?void 0:o.uid)||(null===(a=t.idTokenClaims)||void 0===a?void 0:a.oid)||(null===(s=t.idTokenClaims)||void 0===s?void 0:s.sub)||"";var m=(null===(c=t.idTokenClaims)||void 0===c?void 0:c.preferred_username)||(null===(u=t.idTokenClaims)||void 0===u?void 0:u.upn),g=null!==(l=t.idTokenClaims)&&void 0!==l&&l.emails?t.idTokenClaims.emails[0]:null;if(h.username=m||g||"",h.name=(null===(p=t.idTokenClaims)||void 0===p?void 0:p.name)||"",h.cloudGraphHostName=t.cloudGraphHostName,h.msGraphHost=t.msGraphHost,t.tenantProfiles)h.tenantProfiles=t.tenantProfiles;else{var y=[];if(t.idTokenClaims){var v=Qn(t.homeAccountId,t.idTokenClaims);y.push(v)}h.tenantProfiles=y}return h}},{key:"createFromAccountInfo",value:function(t,r,n){var i,o=new e;return o.authorityType=t.authorityType||Ve,o.homeAccountId=t.homeAccountId,o.localAccountId=t.localAccountId,o.nativeAccountId=t.nativeAccountId,o.realm=t.tenantId,o.environment=t.environment,o.username=t.username,o.name=t.name,o.cloudGraphHostName=r,o.msGraphHost=n,o.tenantProfiles=Array.from((null===(i=t.tenantProfiles)||void 0===i?void 0:i.values())||[]),o}},{key:"generateHomeAccountId",value:function(e,t,r,n,i){if(1!==t&&2!==t){if(e)try{var o=Fn(e,n.base64Decode);if(o.uid&&o.utid)return"".concat(o.uid,".").concat(o.utid)}catch(e){}r.warning("No client info in response")}return(null==i?void 0:i.sub)||""}},{key:"isAccountEntity",value:function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")}},{key:"accountInfoIsEqual",value:function(e,t,r){if(!e||!t)return!1;var n=!0;if(r){var i=e.idTokenClaims||{},o=t.idTokenClaims||{};n=i.iat===o.iat&&i.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&n}}])}(),Wn="cache_quota_exceeded",Vn="cache_error_unknown",Yn=R(R({},Wn,"Exceeded cache storage capacity."),Vn,"Unexpected error occurred when using cache storage."),Xn=function(e){function t(e,r){var n;P(this,t);var i=r||(Yn[e]?Yn[e]:Yn[Vn]);return n=_(this,t,["".concat(e,": ").concat(i)]),Object.setPrototypeOf(k(n),t.prototype),n.name="CacheError",n.errorCode=e,n.errorMessage=i,n}return C(t,e),M(t)}(d(Error)),Jn=function(){function e(t,r,n,i){P(this,e),this.clientId=t,this.cryptoImpl=r,this.commonLogger=n.clone(Bn,jn),this.staticAuthorityOptions=i}return M(e,[{key:"getAllAccounts",value:function(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}},{key:"getAccountInfoFilteredBy",value:function(e){var t=this.getAllAccounts(e);return t.length>1?t.sort((function(e){return e.idTokenClaims?-1:1}))[0]:1===t.length?t[0]:null}},{key:"getBaseAccountInfo",value:function(e){var t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}},{key:"buildTenantProfiles",value:function(e,t){var r=this;return e.flatMap((function(e){return r.getAccountInfoForTenantProfiles(e,t)}))}},{key:"getAccountInfoForTenantProfiles",value:function(e,t){return this.getTenantProfilesFromAccountEntity(e,null==t?void 0:t.tenantId,t)}},{key:"getTenantedAccountInfoByFilter",value:function(e,t,r,n){var i;if(n&&!this.tenantProfileMatchesFilter(r,n))return null;var o=this.getIdToken(e,t,r.tenantId);return o&&(i=mn(o.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(i,n))?null:Gn(e,r,i,null==o?void 0:o.secret)}},{key:"getTenantProfilesFromAccountEntity",value:function(e,t,r){var n=this,i=e.getAccountInfo(),o=i.tenantProfiles||new Map,a=this.getTokenKeys();if(t){var s=o.get(t);if(!s)return[];o=new Map([[t,s]])}var c=[];return o.forEach((function(e){var t=n.getTenantedAccountInfoByFilter(i,a,e,r);t&&c.push(t)})),c}},{key:"tenantProfileMatchesFilter",value:function(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId)||t.name&&e.name!==t.name||void 0!==t.isHomeTenant&&e.isHomeTenant!==t.isHomeTenant)}},{key:"idTokenClaimsMatchTenantProfileFilter",value:function(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}},{key:"saveCacheRecord",value:(a=S(N().mark((function e(t,r,n){var i,o,a,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw Ir(pr);case 2:if(e.prev=2,t.account&&this.setAccount(t.account),t.idToken&&!1!==(null==r?void 0:r.idToken)&&this.setIdTokenCredential(t.idToken),e.t0=t.accessToken&&!1!==(null==r?void 0:r.accessToken),!e.t0){e.next=9;break}return e.next=9,this.saveAccessToken(t.accessToken);case 9:t.refreshToken&&!1!==(null==r?void 0:r.refreshToken)&&this.setRefreshTokenCredential(t.refreshToken),t.appMetadata&&this.setAppMetadata(t.appMetadata),e.next=16;break;case 13:throw e.prev=13,e.t1=e.catch(2),null!==(i=this.commonLogger)&&void 0!==i&&i.error("CacheManager.saveCacheRecord: failed"),e.t1 instanceof Error?(null!==(o=this.commonLogger)&&void 0!==o&&o.errorPii("CacheManager.saveCacheRecord: ".concat(e.t1.message),n),"QuotaExceededError"===e.t1.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.t1.name||e.t1.message.includes("exceeded the quota")?(null!==(a=this.commonLogger)&&void 0!==a&&a.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new Xn(Wn)):new Xn(e.t1.name,e.t1.message)):(null!==(s=this.commonLogger)&&void 0!==s&&s.errorPii("CacheManager.saveCacheRecord: ".concat(e.t1),n),new Xn(Vn));case 16:case"end":return e.stop()}}),e,this,[[2,13]])}))),function(e,t,r){return a.apply(this,arguments)})},{key:"saveAccessToken",value:(o=S(N().mark((function e(t){var r,n,i,o,a=this;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={clientId:t.clientId,credentialType:t.credentialType,environment:t.environment,homeAccountId:t.homeAccountId,realm:t.realm,tokenType:t.tokenType,requestedClaimsHash:t.requestedClaimsHash},n=this.getTokenKeys(),i=Un.fromString(t.target),o=[],n.accessToken.forEach((function(e){if(a.accessTokenKeyMatchesFilter(e,r,!1)){var t=a.getAccessTokenCredential(e);t&&a.credentialMatchesFilter(t,r)&&Un.fromString(t.target).intersectingScopeSets(i)&&o.push(a.removeAccessToken(e))}})),e.next=4,Promise.all(o);case 4:this.setAccessTokenCredential(t);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getAccountsFilteredBy",value:function(e){var t=this,r=this.getAccountKeys(),n=[];return r.forEach((function(r){var i;if(t.isAccountKey(r,e.homeAccountId)){var o=t.getAccount(r,t.commonLogger);if(o&&(!e.homeAccountId||t.matchHomeAccountId(o,e.homeAccountId))&&(!e.username||t.matchUsername(o.username,e.username))&&(!e.environment||t.matchEnvironment(o,e.environment))&&(!e.realm||t.matchRealm(o,e.realm))&&(!e.nativeAccountId||t.matchNativeAccountId(o,e.nativeAccountId))&&(!e.authorityType||t.matchAuthorityType(o,e.authorityType))){var a={localAccountId:null==e?void 0:e.localAccountId,name:null==e?void 0:e.name},s=null===(i=o.tenantProfiles)||void 0===i?void 0:i.filter((function(e){return t.tenantProfileMatchesFilter(e,a)}));s&&0===s.length||n.push(o)}}})),n}},{key:"isAccountKey",value:function(e,t,r){return!(e.split(Ye.CACHE_KEY_SEPARATOR).length<3||t&&!e.toLowerCase().includes(t.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}},{key:"isCredentialKey",value:function(e){if(e.split(Ye.CACHE_KEY_SEPARATOR).length<6)return!1;var t=e.toLowerCase();if(-1===t.indexOf(Xe.ID_TOKEN.toLowerCase())&&-1===t.indexOf(Xe.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(Xe.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(Xe.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(Xe.REFRESH_TOKEN.toLowerCase())>-1){var r="".concat(Xe.REFRESH_TOKEN).concat(Ye.CACHE_KEY_SEPARATOR).concat(this.clientId).concat(Ye.CACHE_KEY_SEPARATOR),n="".concat(Xe.REFRESH_TOKEN).concat(Ye.CACHE_KEY_SEPARATOR).concat(Ze).concat(Ye.CACHE_KEY_SEPARATOR);if(-1===t.indexOf(r.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}},{key:"credentialMatchesFilter",value:function(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"==typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===Xe.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===at.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}},{key:"getAppMetadataFilteredBy",value:function(e){var t=this,r=this.getKeys(),n={};return r.forEach((function(r){if(t.isAppMetadata(r)){var i=t.getAppMetadata(r);i&&(e.environment&&!t.matchEnvironment(i,e.environment)||e.clientId&&!t.matchClientId(i,e.clientId)||(n[r]=i))}})),n}},{key:"getAuthorityMetadataByAlias",value:function(e){var t=this,r=this.getAuthorityMetadataKeys(),n=null;return r.forEach((function(r){if(t.isAuthorityMetadata(r)&&-1!==r.indexOf(t.clientId)){var i=t.getAuthorityMetadata(r);i&&-1!==i.aliases.indexOf(e)&&(n=i)}})),n}},{key:"removeAllAccounts",value:(i=S(N().mark((function e(){var t,r,n=this;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getAccountKeys(),r=[],t.forEach((function(e){r.push(n.removeAccount(e))})),e.next=4,Promise.all(r);case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"removeAccount",value:(n=S(N().mark((function e(t){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.getAccount(t,this.commonLogger),e.t0=r,!e.t0){e.next=6;break}return e.next=5,this.removeAccountContext(r);case 5:this.removeItem(t);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"removeAccountContext",value:(r=S(N().mark((function e(t){var r,n,i,o=this;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getTokenKeys(),n=t.generateAccountId(),i=[],r.idToken.forEach((function(e){0===e.indexOf(n)&&o.removeIdToken(e)})),r.accessToken.forEach((function(e){0===e.indexOf(n)&&i.push(o.removeAccessToken(e))})),r.refreshToken.forEach((function(e){0===e.indexOf(n)&&o.removeRefreshToken(e)})),e.next=6,Promise.all(i);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"updateOutdatedCachedAccount",value:function(t,r,n){var i=this;if(r&&r.isSingleTenant()){var o;null===(o=this.commonLogger)||void 0===o||o.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");var a=this.getAccountKeys().filter((function(e){return e.startsWith(r.homeAccountId)})),s=[];a.forEach((function(e){var t=i.getCachedAccountEntity(e);t&&s.push(t)}));var c=s.find((function(e){return Hn(e.realm,e.homeAccountId)}))||s[0];c.tenantProfiles=s.map((function(e){return{tenantId:e.realm,localAccountId:e.localAccountId,name:e.name,isHomeTenant:Hn(e.realm,e.homeAccountId)}}));var u=e.toObject(new $n,E({},c)),l=u.generateAccountKey();return a.forEach((function(e){e!==l&&i.removeOutdatedAccount(t)})),this.setAccount(u),null!=n&&n.verbose("Updated an outdated account entity in the cache"),u}return r}},{key:"removeAccessToken",value:(t=S(N().mark((function e(t){var r,n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this.getAccessTokenCredential(t))){e.next=14;break}if(r.credentialType.toLowerCase()!==Xe.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||r.tokenType!==at.POP){e.next=13;break}if(!(n=r.keyId)){e.next=13;break}return e.prev=5,e.next=8,this.cryptoImpl.removeTokenBindingKey(n);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(5),Ir(Er);case 13:return e.abrupt("return",this.removeItem(t));case 14:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(e){return t.apply(this,arguments)})},{key:"removeAppMetadata",value:function(){var e=this;return this.getKeys().forEach((function(t){e.isAppMetadata(t)&&e.removeItem(t)})),!0}},{key:"readAccountFromCache",value:function(e){var t=$n.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}},{key:"getIdToken",value:function(e,t,r,n,i){var o=this;this.commonLogger.trace("CacheManager - getIdToken called");var a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Xe.ID_TOKEN,clientId:this.clientId,realm:r},s=this.getIdTokensByFilter(a,t),c=s.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){var u=s;if(!r){var l=new Map;s.forEach((function(t,r){t.realm===e.tenantId&&l.set(r,t)}));var p=l.size;if(p<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(1===p)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),l.values().next().value;u=l}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),u.forEach((function(e,t){o.removeIdToken(t)})),n&&i&&n.addFields({multiMatchedID:s.size},i),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}},{key:"getIdTokensByFilter",value:function(e,t){var r=this,n=t&&t.idToken||this.getTokenKeys().idToken,i=new Map;return n.forEach((function(t){if(r.idTokenKeyMatchesFilter(t,E({clientId:r.clientId},e))){var n=r.getIdTokenCredential(t);n&&r.credentialMatchesFilter(n,e)&&i.set(t,n)}})),i}},{key:"idTokenKeyMatchesFilter",value:function(e,t){var r=e.toLowerCase();return!(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))}},{key:"removeIdToken",value:function(e){this.removeItem(e)}},{key:"removeRefreshToken",value:function(e){this.removeItem(e)}},{key:"getAccessToken",value:function(e,t,r,n,i,o){var a=this;this.commonLogger.trace("CacheManager - getAccessToken called");var s=Un.createSearchScopes(t.scopes),c=t.authenticationScheme||at.BEARER,u=c&&c.toLowerCase()!==at.BEARER.toLowerCase()?Xe.ACCESS_TOKEN_WITH_AUTH_SCHEME:Xe.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:u,clientId:this.clientId,realm:n||e.tenantId,target:s,tokenType:c,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},p=r&&r.accessToken||this.getTokenKeys().accessToken,d=[];p.forEach((function(e){if(a.accessTokenKeyMatchesFilter(e,l,!0)){var t=a.getAccessTokenCredential(e);t&&a.credentialMatchesFilter(t,l)&&d.push(t)}}));var h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach((function(e){a.removeAccessToken(En(e))})),i&&o&&i.addFields({multiMatchedAT:d.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}},{key:"accessTokenKeyMatchesFilter",value:function(e,t,r){var n=e.toLowerCase();if(t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===n.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===n.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===n.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target)for(var i=t.target.asArray(),o=0;o<i.length;o++){if(r&&!n.includes(i[o].toLowerCase()))return!1;if(!r&&n.includes(i[o].toLowerCase()))return!0}return!0}},{key:"getAccessTokensByFilter",value:function(e){var t=this,r=this.getTokenKeys(),n=[];return r.accessToken.forEach((function(r){if(t.accessTokenKeyMatchesFilter(r,e,!0)){var i=t.getAccessTokenCredential(r);i&&t.credentialMatchesFilter(i,e)&&n.push(i)}})),n}},{key:"getRefreshToken",value:function(e,t,r,n,i){var o=this;this.commonLogger.trace("CacheManager - getRefreshToken called");var a=t?Ze:void 0,s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Xe.REFRESH_TOKEN,clientId:this.clientId,familyId:a},c=r&&r.refreshToken||this.getTokenKeys().refreshToken,u=[];c.forEach((function(e){if(o.refreshTokenKeyMatchesFilter(e,s)){var t=o.getRefreshTokenCredential(e);t&&o.credentialMatchesFilter(t,s)&&u.push(t)}}));var l=u.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&n&&i&&n.addFields({multiMatchedRT:l},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),u[0])}},{key:"refreshTokenKeyMatchesFilter",value:function(e,t){var r=e.toLowerCase();return!(t.familyId&&-1===r.indexOf(t.familyId.toLowerCase())||!t.familyId&&t.clientId&&-1===r.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))}},{key:"readAppMetadataFromCache",value:function(e){var t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),n=Object.keys(r).map((function(e){return r[e]})),i=n.length;if(i<1)return null;if(i>1)throw Ir(rr);return n[0]}},{key:"isAppMetadataFOCI",value:function(e){var t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==Ze)}},{key:"matchHomeAccountId",value:function(e,t){return!("string"!=typeof e.homeAccountId||t!==e.homeAccountId)}},{key:"matchLocalAccountIdFromTokenClaims",value:function(e,t){return t===(e.oid||e.sub)}},{key:"matchLocalAccountIdFromTenantProfile",value:function(e,t){return e.localAccountId===t}},{key:"matchName",value:function(e,t){var r;return!(t.toLowerCase()!==(null===(r=e.name)||void 0===r?void 0:r.toLowerCase()))}},{key:"matchUsername",value:function(e,t){return!(!e||"string"!=typeof e||(null==t?void 0:t.toLowerCase())!==e.toLowerCase())}},{key:"matchUserAssertionHash",value:function(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}},{key:"matchEnvironment",value:function(e,t){if(this.staticAuthorityOptions){var r=function(e,t){var r,n=e.canonicalAuthority;if(n){var i,o=new Cr(n).getUrlComponents().HostNameAndPort;r=Pr(o,null===(i=e.cloudDiscoveryMetadata)||void 0===i?void 0:i.metadata,tt,t)||Pr(o,Nr.metadata,it,t)||e.knownAuthorities}return r||[]}(this.staticAuthorityOptions,this.commonLogger);if(r.includes(t)&&r.includes(e.environment))return!0}var n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}},{key:"matchCredentialType",value:function(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}},{key:"matchClientId",value:function(e,t){return!(!e.clientId||t!==e.clientId)}},{key:"matchFamilyId",value:function(e,t){return!(!e.familyId||t!==e.familyId)}},{key:"matchRealm",value:function(e,t){var r;return!((null===(r=e.realm)||void 0===r?void 0:r.toLowerCase())!==t.toLowerCase())}},{key:"matchNativeAccountId",value:function(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}},{key:"matchLoginHintFromTokenClaims",value:function(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}},{key:"matchSid",value:function(e,t){return e.sid===t}},{key:"matchAuthorityType",value:function(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}},{key:"matchTarget",value:function(e,t){return!(e.credentialType!==Xe.ACCESS_TOKEN&&e.credentialType!==Xe.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)&&Un.fromString(e.target).containsScopeSet(t)}},{key:"matchTokenType",value:function(e,t){return!(!e.tokenType||e.tokenType!==t)}},{key:"matchKeyId",value:function(e,t){return!(!e.keyId||e.keyId!==t)}},{key:"isAppMetadata",value:function(e){return-1!==e.indexOf(Je)}},{key:"isAuthorityMetadata",value:function(e){return-1!==e.indexOf(et)}},{key:"generateAuthorityMetadataCacheKey",value:function(e){return"".concat(et,"-").concat(this.clientId,"-").concat(e)}}],[{key:"toObject",value:function(e,t){for(var r in t)e[r]=t[r];return e}}]);var t,r,n,i,o,a}(),Zn=function(e){function t(){return P(this,t),_(this,t,arguments)}return C(t,e),M(t,[{key:"setAccount",value:function(){throw Ir(Sr)}},{key:"getAccount",value:function(){throw Ir(Sr)}},{key:"getCachedAccountEntity",value:function(){throw Ir(Sr)}},{key:"setIdTokenCredential",value:function(){throw Ir(Sr)}},{key:"getIdTokenCredential",value:function(){throw Ir(Sr)}},{key:"setAccessTokenCredential",value:function(){throw Ir(Sr)}},{key:"getAccessTokenCredential",value:function(){throw Ir(Sr)}},{key:"setRefreshTokenCredential",value:function(){throw Ir(Sr)}},{key:"getRefreshTokenCredential",value:function(){throw Ir(Sr)}},{key:"setAppMetadata",value:function(){throw Ir(Sr)}},{key:"getAppMetadata",value:function(){throw Ir(Sr)}},{key:"setServerTelemetry",value:function(){throw Ir(Sr)}},{key:"getServerTelemetry",value:function(){throw Ir(Sr)}},{key:"setAuthorityMetadata",value:function(){throw Ir(Sr)}},{key:"getAuthorityMetadata",value:function(){throw Ir(Sr)}},{key:"getAuthorityMetadataKeys",value:function(){throw Ir(Sr)}},{key:"setThrottlingCache",value:function(){throw Ir(Sr)}},{key:"getThrottlingCache",value:function(){throw Ir(Sr)}},{key:"removeItem",value:function(){throw Ir(Sr)}},{key:"getKeys",value:function(){throw Ir(Sr)}},{key:"getAccountKeys",value:function(){throw Ir(Sr)}},{key:"getTokenKeys",value:function(){throw Ir(Sr)}},{key:"clear",value:(r=S(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Ir(Sr);case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"updateCredentialCacheKey",value:function(){throw Ir(Sr)}},{key:"removeOutdatedAccount",value:function(){throw Ir(Sr)}}]);var r}(Jn),ei={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},ti={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:De.Info,correlationId:Be.EMPTY_STRING},ri={claimsBasedCachingEnabled:!1},ni={sendGetRequestAsync:function(){return S(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Ir(Sr);case 1:case"end":return e.stop()}}),e)})))()},sendPostRequestAsync:function(){return S(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Ir(Sr);case 1:case"end":return e.stop()}}),e)})))()}},ii={sku:Be.SKU,version:jn,cpu:Be.EMPTY_STRING,os:Be.EMPTY_STRING},oi={clientSecret:Be.EMPTY_STRING,clientAssertion:void 0},ai={azureCloudInstance:qr,tenant:"".concat(Be.DEFAULT_COMMON_TENANT)},si={application:{appName:"",appVersion:""}};function ci(e){return"OIDC"===e.authOptions.authority.options.protocolMode}var ui=function(){function e(){P(this,e)}return M(e,null,[{key:"generateThrottlingStorageKey",value:function(e){return"".concat(st,".").concat(JSON.stringify(e))}},{key:"preProcess",value:function(t,r){var n=e.generateThrottlingStorageKey(r),i=t.getThrottlingCache(n);if(i){var o;if(i.throttleTime<Date.now())return void t.removeItem(n);throw new Et((null===(o=i.errorCodes)||void 0===o?void 0:o.join(" "))||Be.EMPTY_STRING,i.errorMessage,i.subError)}}},{key:"postProcess",value:function(t,r,n){if(e.checkResponseStatus(n)||e.checkResponseForRetryAfter(n)){var i={throttleTime:e.calculateThrottleTime(parseInt(n.headers[Fe])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};t.setThrottlingCache(e.generateThrottlingStorageKey(r),i)}}},{key:"checkResponseStatus",value:function(e){return 429===e.status||e.status>=500&&e.status<600}},{key:"checkResponseForRetryAfter",value:function(e){return!!e.headers&&e.headers.hasOwnProperty(Fe)&&(e.status<200||e.status>=300)}},{key:"calculateThrottleTime",value:function(e){var t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(t||60),r+3600))}},{key:"removeThrottle",value:function(e,t,r,n){var i={clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:n,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},o=this.generateThrottlingStorageKey(i);e.removeItem(o)}}])}(),li=function(){return M((function e(t,r){P(this,e),this.networkClient=t,this.cacheManager=r}),[{key:"sendPostRequest",value:(e=S(N().mark((function e(t,r,n){var i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ui.preProcess(this.cacheManager,t),e.prev=1,e.next=4,this.networkClient.sendPostRequestAsync(r,n);case 4:i=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0 instanceof bt?e.t0:Ir(Kt);case 10:return e.abrupt("return",(ui.postProcess(this.cacheManager,t,i),i));case 11:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(t,r,n){return e.apply(this,arguments)})}]);var e}(),pi="home_account_id",di="UPN",hi="client_id",fi="response_type",mi="token_type",gi="req_cnf",yi="return_spa_code",vi=function(){return M((function e(){P(this,e)}),null,[{key:"validateRedirectUri",value:function(e){if(!e)throw jt(At)}},{key:"validatePrompt",value:function(e){var t=[];for(var r in Ke)t.push(Ke[r]);if(t.indexOf(e)<0)throw jt(It)}},{key:"validateClaims",value:function(e){try{JSON.parse(e)}catch(e){throw jt(Tt)}}},{key:"validateCodeChallengeParams",value:function(e,t){if(!e||!t)throw jt(Rt);this.validateCodeChallengeMethod(t)}},{key:"validateCodeChallengeMethod",value:function(e){if([$e.PLAIN,$e.S256].indexOf(e)<0)throw jt(Nt)}}])}(),bi=function(){return M((function e(){P(this,e),this.parameters=new Map}),[{key:"addResponseTypeCode",value:function(){this.parameters.set(fi,encodeURIComponent(Be.CODE_RESPONSE_TYPE))}},{key:"addResponseTypeForTokenAndIdToken",value:function(){this.parameters.set(fi,encodeURIComponent("".concat(Be.TOKEN_RESPONSE_TYPE," ").concat(Be.ID_TOKEN_RESPONSE_TYPE)))}},{key:"addResponseMode",value:function(e){this.parameters.set("response_mode",encodeURIComponent(e||We))}},{key:"addNativeBroker",value:function(){this.parameters.set("nativebroker",encodeURIComponent("1"))}},{key:"addScopes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:je;!t||r.includes("openid")||e.includes("openid")||r.push("openid");var n=t?[].concat(m(e||[]),m(r)):e||[],i=new Un(n);this.parameters.set("scope",encodeURIComponent(i.printScopes()))}},{key:"addClientId",value:function(e){this.parameters.set(hi,encodeURIComponent(e))}},{key:"addRedirectUri",value:function(e){vi.validateRedirectUri(e),this.parameters.set("redirect_uri",encodeURIComponent(e))}},{key:"addPostLogoutRedirectUri",value:function(e){vi.validateRedirectUri(e),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(e))}},{key:"addIdTokenHint",value:function(e){this.parameters.set("id_token_hint",encodeURIComponent(e))}},{key:"addDomainHint",value:function(e){this.parameters.set("domain_hint",encodeURIComponent(e))}},{key:"addLoginHint",value:function(e){this.parameters.set("login_hint",encodeURIComponent(e))}},{key:"addCcsUpn",value:function(e){this.parameters.set(ze,encodeURIComponent("UPN:".concat(e)))}},{key:"addCcsOid",value:function(e){this.parameters.set(ze,encodeURIComponent("Oid:".concat(e.uid,"@").concat(e.utid)))}},{key:"addSid",value:function(e){this.parameters.set("sid",encodeURIComponent(e))}},{key:"addClaims",value:function(e,t){var r=this.addClientCapabilitiesToClaims(e,t);vi.validateClaims(r),this.parameters.set("claims",encodeURIComponent(r))}},{key:"addCorrelationId",value:function(e){this.parameters.set("client-request-id",encodeURIComponent(e))}},{key:"addLibraryInfo",value:function(e){this.parameters.set("x-client-SKU",e.sku),this.parameters.set("x-client-VER",e.version),e.os&&this.parameters.set("x-client-OS",e.os),e.cpu&&this.parameters.set("x-client-CPU",e.cpu)}},{key:"addApplicationTelemetry",value:function(e){null!=e&&e.appName&&this.parameters.set("x-app-name",e.appName),(null==e?void 0:e.appVersion)&&this.parameters.set("x-app-ver",e.appVersion)}},{key:"addPrompt",value:function(e){vi.validatePrompt(e),this.parameters.set("prompt",encodeURIComponent(e))}},{key:"addState",value:function(e){e&&this.parameters.set("state",encodeURIComponent(e))}},{key:"addNonce",value:function(e){this.parameters.set("nonce",encodeURIComponent(e))}},{key:"addCodeChallengeParams",value:function(e,t){if(vi.validateCodeChallengeParams(e,t),!e||!t)throw jt(Rt);this.parameters.set("code_challenge",encodeURIComponent(e)),this.parameters.set("code_challenge_method",encodeURIComponent(t))}},{key:"addAuthorizationCode",value:function(e){this.parameters.set("code",encodeURIComponent(e))}},{key:"addDeviceCode",value:function(e){this.parameters.set("device_code",encodeURIComponent(e))}},{key:"addRefreshToken",value:function(e){this.parameters.set("refresh_token",encodeURIComponent(e))}},{key:"addCodeVerifier",value:function(e){this.parameters.set("code_verifier",encodeURIComponent(e))}},{key:"addClientSecret",value:function(e){this.parameters.set("client_secret",encodeURIComponent(e))}},{key:"addClientAssertion",value:function(e){e&&this.parameters.set("client_assertion",encodeURIComponent(e))}},{key:"addClientAssertionType",value:function(e){e&&this.parameters.set("client_assertion_type",encodeURIComponent(e))}},{key:"addOboAssertion",value:function(e){this.parameters.set("assertion",encodeURIComponent(e))}},{key:"addRequestTokenUse",value:function(e){this.parameters.set("requested_token_use",encodeURIComponent(e))}},{key:"addGrantType",value:function(e){this.parameters.set("grant_type",encodeURIComponent(e))}},{key:"addClientInfo",value:function(){this.parameters.set("client_info","1")}},{key:"addExtraQueryParameters",value:function(e){var t=this;Object.entries(e).forEach((function(e){var r=u(e,2),n=r[0],i=r[1];!t.parameters.has(n)&&i&&t.parameters.set(n,i)}))}},{key:"addClientCapabilitiesToClaims",value:function(e,t){var r;if(e)try{r=JSON.parse(e)}catch(e){throw jt(Tt)}else r={};return t&&t.length>0&&(r.hasOwnProperty(Ge)||(r[Ge]={}),r[Ge].xms_cc={values:t}),JSON.stringify(r)}},{key:"addUsername",value:function(e){this.parameters.set("username",encodeURIComponent(e))}},{key:"addPassword",value:function(e){this.parameters.set("password",encodeURIComponent(e))}},{key:"addPopToken",value:function(e){e&&(this.parameters.set(mi,at.POP),this.parameters.set(gi,encodeURIComponent(e)))}},{key:"addSshJwk",value:function(e){e&&(this.parameters.set(mi,at.SSH),this.parameters.set(gi,encodeURIComponent(e)))}},{key:"addServerTelemetry",value:function(e){this.parameters.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}},{key:"addThrottling",value:function(){this.parameters.set("x-ms-lib-capability","retry-after, h429")}},{key:"addLogoutHint",value:function(e){this.parameters.set("logout_hint",encodeURIComponent(e))}},{key:"createQueryString",value:function(){var e=new Array;return this.parameters.forEach((function(t,r){e.push("".concat(r,"=").concat(t))})),e.join("&")}}])}();function Ei(e,t,r,n,i,o,a){return wi.apply(this,arguments)}function wi(){return wi=S(N().mark((function e(t,r,n,i,o,a,s){var c,u;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==s||s.addQueueMeasurement(tn,a),c=Mn.transformCIAMAuthority(qn(t)),u=new Mn(c,r,n,i,o,a,s),e.prev=2,e.next=5,hn(u.resolveEndpointsAsync.bind(u),rn,o,s,a)();case 5:return e.abrupt("return",u);case 8:throw e.prev=8,e.t0=e.catch(2),Ir(Gt);case 11:case"end":return e.stop()}}),e,null,[[2,8]])}))),wi.apply(this,arguments)}var Ai=function(){return M((function e(t,r){P(this,e),this.config=function(e){var t,r=e.authOptions,n=e.systemOptions,i=e.loggerOptions,o=e.cacheOptions,a=e.storageInterface,s=e.networkInterface,c=e.cryptoInterface,u=e.clientCredentials,l=e.libraryInfo,p=e.telemetry,d=e.serverTelemetryManager,h=e.persistencePlugin,f=e.serializableCache,m=E(E({},ti),i);return{authOptions:(t=r,E({clientCapabilities:[],azureCloudOptions:ai,skipAuthorityMetadataCache:!1},t)),systemOptions:E(E({},ei),n),loggerOptions:m,cacheOptions:E(E({},ri),o),storageInterface:a||new Zn(r.clientId,Dn,new wt(m)),networkInterface:s||ni,cryptoInterface:c||Dn,clientCredentials:u||oi,libraryInfo:E(E({},ii),l),telemetry:E(E({},si),p),serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:f||null}}(t),this.logger=new wt(this.config.loggerOptions,Bn,jn),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new li(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}),[{key:"createTokenRequestHeaders",value:function(e){var t={};if(t["Content-Type"]=Be.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case pi:try{var r=zn(e.credential);t[ze]="Oid:".concat(r.uid,"@").concat(r.utid)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case di:t[ze]="UPN: ".concat(e.credential)}return t}},{key:"executePostToTokenEndpoint",value:(t=S(N().mark((function e(t,r,n,i,o,a){var s,c,u,l,p;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a&&(null===(s=this.performanceClient)||void 0===s||s.addQueueMeasurement(a,o)),e.next=3,this.networkManager.sendPostRequest(i,t,{body:r,headers:n});case 3:return p=e.sent,e.abrupt("return",(null!==(c=this.performanceClient)&&void 0!==c&&c.addFields({refreshTokenSize:(null===(u=p.body.refresh_token)||void 0===u?void 0:u.length)||0,httpVerToken:(null===(l=p.headers)||void 0===l?void 0:l["x-ms-httpver"])||""},o),this.config.serverTelemetryManager&&p.status<500&&429!==p.status&&this.config.serverTelemetryManager.clearTelemetryCache(),p));case 5:case"end":return e.stop()}}),e,this)}))),function(e,r,n,i,o,a){return t.apply(this,arguments)})},{key:"updateAuthority",value:(e=S(N().mark((function e(t,r){var n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement($r,r),i="https://".concat(t,"/").concat(this.authority.tenant,"/"),e.next=4,Ei(i,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);case 4:o=e.sent,this.authority=o;case 6:case"end":return e.stop()}}),e,this)}))),function(t,r){return e.apply(this,arguments)})},{key:"createTokenQueryParameters",value:function(e){var t=new bi;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()}}]);var e,t}(),xi="no_tokens_found",Si="refresh_token_expired",_i="bad_token",ki=["interaction_required","consent_required","login_required",_i],Ii=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Ti=R(R(R(R({},xi,"No refresh token found in the cache. Please sign-in."),"native_account_unavailable","The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API."),Si,"Refresh token has expired."),_i,"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."),Ci=function(e){function t(e,r,n,i,o,a,s,c){var u;return P(this,t),u=_(this,t,[e,r,n]),Object.setPrototypeOf(k(u),t.prototype),u.timestamp=i||Be.EMPTY_STRING,u.traceId=o||Be.EMPTY_STRING,u.correlationId=a||Be.EMPTY_STRING,u.claims=s||Be.EMPTY_STRING,u.name="InteractionRequiredAuthError",u.errorNo=c,u}return C(t,e),M(t)}(bt);function Oi(e,t,r){var n=!!e&&ki.indexOf(e)>-1,i=!!r&&Ii.indexOf(r)>-1,o=!!t&&ki.some((function(e){return t.indexOf(e)>-1}));return n||o||i}function Ni(e){return new Ci(e,Ti[e])}var Ri=function(){function e(){P(this,e)}return M(e,null,[{key:"setRequestState",value:function(t,r,n){var i=e.generateLibraryState(t,n);return r?"".concat(i).concat(Be.RESOURCE_DELIM).concat(r):i}},{key:"generateLibraryState",value:function(e,t){if(!e)throw Ir(hr);var r={id:e.createNewGuid()};t&&(r.meta=t);var n=JSON.stringify(r);return e.base64Encode(n)}},{key:"parseRequestState",value:function(e,t){if(!e)throw Ir(hr);if(!t)throw Ir(Vt);try{var r=t.split(Be.RESOURCE_DELIM),n=r[0],i=r.length>1?r.slice(1).join(Be.RESOURCE_DELIM):Be.EMPTY_STRING,o=e.base64Decode(n),a=JSON.parse(o);return{userRequestState:i||Be.EMPTY_STRING,libraryState:a}}catch(e){throw Ir(Vt)}}}])}(),Pi=function(){return M((function e(t,r){P(this,e),this.cryptoUtils=t,this.performanceClient=r}),[{key:"generateCnf",value:(n=S(N().mark((function e(t,r){var n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Jr,t.correlationId),e.next=3,hn(this.generateKid.bind(this),Jr,r,this.performanceClient,t.correlationId)(t);case 3:return i=e.sent,o=this.cryptoUtils.base64UrlEncode(JSON.stringify(i)),e.abrupt("return",{kid:i.kid,reqCnfString:o});case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"generateKid",value:(r=S(N().mark((function e(t){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==(r=this.performanceClient)&&void 0!==r&&r.addQueueMeasurement(Zr,t.correlationId),e.next=3,this.cryptoUtils.getPublicKeyThumbprint(t);case 3:return e.t0=e.sent,e.abrupt("return",{kid:e.t0,xms_ksl:"sw"});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"signPopToken",value:(t=S(N().mark((function e(t,r,n){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.signPayload(t,r,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"signPayload",value:(e=S(N().mark((function e(t,r,n,i){var o,a,s,c,u,l,p;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.resourceRequestMethod,a=n.resourceRequestUri,s=n.shrClaims,c=n.shrNonce,u=n.shrOptions,l=a?new Cr(a):void 0,p=null==l?void 0:l.getUrlComponents(),e.abrupt("return",this.cryptoUtils.signJwt(E({at:t,ts:yn(),m:null==o?void 0:o.toUpperCase(),u:null==p?void 0:p.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:null==p?void 0:p.AbsolutePath,q:null!=p&&p.QueryString?[[],p.QueryString]:void 0,client_claims:s||void 0},i),r,u,n.correlationId));case 2:case"end":return e.stop()}}),e,this)}))),function(t,r,n,i){return e.apply(this,arguments)})}]);var e,t,r,n}(),Li=function(){return M((function e(t,r){P(this,e),this.cache=t,this.hasChanged=r}),[{key:"cacheHasChanged",get:function(){return this.hasChanged}},{key:"tokenCache",get:function(){return this.cache}}])}(),Mi=function(){function e(t,r,n,i,o,a,s){P(this,e),this.clientId=t,this.cacheStorage=r,this.cryptoObj=n,this.logger=i,this.serializableCache=o,this.persistencePlugin=a,this.performanceClient=s}return M(e,[{key:"validateServerAuthorizationCodeResponse",value:function(e,t){if(!e.state||!t)throw e.state?Ir(Xt,"Cached State"):Ir(Xt,"Server State");var r,n;try{r=decodeURIComponent(e.state)}catch(t){throw Ir(Vt,e.state)}try{n=decodeURIComponent(t)}catch(t){throw Ir(Vt,e.state)}if(r!==n)throw Ir(Yt);if(e.error||e.error_description||e.suberror){var i=function(e,t,r){var n=null===(t=e.error_uri)||void 0===t?void 0:t.lastIndexOf("code=");return n&&n>=0?null===(r=e.error_uri)||void 0===r?void 0:r.substring(n+5):void 0}(e);if(Oi(e.error,e.error_description,e.suberror))throw new Ci(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",i);throw new Et(e.error||"",e.error_description,e.suberror,i)}}},{key:"validateTokenResponse",value:function(e,t){if(e.error||e.error_description||e.suberror){var r,n="Error(s): ".concat(e.error_codes||Be.NOT_AVAILABLE," - Timestamp: ").concat(e.timestamp||Be.NOT_AVAILABLE," - Description: ").concat(e.error_description||Be.NOT_AVAILABLE," - Correlation ID: ").concat(e.correlation_id||Be.NOT_AVAILABLE," - Trace ID: ").concat(e.trace_id||Be.NOT_AVAILABLE),i=null!==(r=e.error_codes)&&void 0!==r&&r.length?e.error_codes[0]:void 0,o=new Et(e.error,n,e.suberror,i,e.status);if(t&&e.status&&e.status>=500&&e.status<=599)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n".concat(o));if(t&&e.status&&e.status>=400&&e.status<=499)return void this.logger.warning("executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n".concat(o));if(Oi(e.error,e.error_description,e.suberror))throw new Ci(e.error,e.error_description,e.suberror,e.timestamp||Be.EMPTY_STRING,e.trace_id||Be.EMPTY_STRING,e.correlation_id||Be.EMPTY_STRING,e.claims||Be.EMPTY_STRING,i);throw o}}},{key:"handleServerTokenResponse",value:(r=S(N().mark((function t(r,n,i,o,a,s,c,u,l){var p,d,h,f,m,g,y;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(p=this.performanceClient)&&void 0!==p&&p.addQueueMeasurement(en,r.correlation_id),!r.id_token){t.next=8;break}if(d=mn(r.id_token||Be.EMPTY_STRING,this.cryptoObj.base64Decode),!a||!a.nonce||d.nonce===a.nonce){t.next=3;break}throw Ir(Jt);case 3:if(!o.maxAge&&0!==o.maxAge){t.next=8;break}if(f=d.auth_time){t.next=7;break}throw Ir(Zt);case 7:gn(f,o.maxAge);case 8:if(this.homeAccountIdentifier=$n.generateHomeAccountId(r.client_info||Be.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,d),a&&a.state&&(h=Ri.parseRequestState(this.cryptoObj,a.state)),r.key_id=r.key_id||o.sshKid||void 0,m=this.generateCacheRecord(r,n,i,o,d,s,a),t.prev=10,t.t0=this.persistencePlugin&&this.serializableCache,!t.t0){t.next=17;break}return this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),g=new Li(this.serializableCache,!0),t.next=17,this.persistencePlugin.beforeCacheAccess(g);case 17:if(!c||u||!m.account){t.next=24;break}if(y=m.account.generateAccountKey(),this.cacheStorage.getAccount(y,this.logger)){t.next=24;break}return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),t.next=23,e.generateAuthenticationResult(this.cryptoObj,n,m,!1,o,d,h,void 0,l);case 23:return t.abrupt("return",t.sent);case 24:return t.next=26,this.cacheStorage.saveCacheRecord(m,o.storeInCache,o.correlationId);case 26:if(t.prev=26,t.t1=this.persistencePlugin&&this.serializableCache&&g,!t.t1){t.next=32;break}return this.logger.verbose("Persistence enabled, calling afterCacheAccess"),t.next=32,this.persistencePlugin.afterCacheAccess(g);case 32:return t.finish(26);case 33:return t.abrupt("return",e.generateAuthenticationResult(this.cryptoObj,n,m,!1,o,d,h,r,l));case 34:case"end":return t.stop()}}),t,this,[[10,,26,33]])}))),function(e,t,n,i,o,a,s,c,u){return r.apply(this,arguments)})},{key:"generateCacheRecord",value:function(e,t,r,n,i,o,a){var s=t.getPreferredCache();if(!s)throw Ir(dr);var c,u,l,p,d,h,f,m=Kn(i);e.id_token&&i&&(l=this.homeAccountIdentifier,p=s,d=e.id_token,h=this.clientId,f=m||"",c={credentialType:Xe.ID_TOKEN,homeAccountId:l,environment:p,clientId:h,secret:d,realm:f},u=function(e,t,r,n,i,o,a,s,c,u,l){null==l||l.verbose("setCachedAccount called");var p=e.getAccountKeys().find((function(e){return e.startsWith(r)})),d=null;p&&(d=e.getAccount(p,l));var h=d||$n.createAccount({homeAccountId:r,idTokenClaims:i,clientInfo:o,environment:a,cloudGraphHostName:null==c?void 0:c.cloud_graph_host_name,msGraphHost:null==c?void 0:c.msgraph_host,nativeAccountId:void 0},t,n),f=h.tenantProfiles||[];if(s&&i&&!f.find((function(e){return e.tenantId===s}))){var m=Qn(r,i);f.push(m)}return h.tenantProfiles=f,h}(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i,e.client_info,s,m,a,0,this.logger));var g=null;if(e.access_token){var y=e.scope?Un.fromString(e.scope):new Un(n.scopes||[]),v=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,b=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,E=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,w=r+v,A=w+b,x=E&&E>0?r+E:void 0;g=function(e,t,r,n,i,o,a,s,c,u,l,p,d,h,f,m,g){var y={homeAccountId:e,credentialType:Xe.ACCESS_TOKEN,secret:r,cachedAt:yn().toString(),expiresOn:a.toString(),extendedExpiresOn:s.toString(),environment:t,clientId:n,realm:i,target:o,tokenType:l||at.BEARER};if(p&&(y.userAssertionHash=p),u&&(y.refreshOn=u.toString()),h&&(y.requestedClaims=h,y.requestedClaimsHash=f),(null===(m=y.tokenType)||void 0===m?void 0:m.toLowerCase())!==at.BEARER.toLowerCase())switch(y.credentialType=Xe.ACCESS_TOKEN_WITH_AUTH_SCHEME,y.tokenType){case at.POP:var v=mn(r,c);if(null==v||null===(g=v.cnf)||void 0===g||!g.kid)throw Ir(vr);y.keyId=v.cnf.kid;break;case at.SSH:y.keyId=d}return y}(this.homeAccountIdentifier,s,e.access_token,this.clientId,m||t.tenant||"",y.printScopes(),w,A,this.cryptoObj.base64Decode,x,e.token_type,o,e.key_id,n.claims,n.requestedClaimsHash)}var S,_=null;e.refresh_token&&(e.refresh_token_expires_in&&(S=r+("string"==typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)),_=function(e,t,r,n,i,o,a){var s={credentialType:Xe.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:n,secret:r};return o&&(s.userAssertionHash=o),i&&(s.familyId=i),a&&(s.expiresOn=a.toString()),s}(this.homeAccountIdentifier,s,e.refresh_token,this.clientId,e.foci,o,S));var k=null;return e.foci&&(k={clientId:this.clientId,environment:s,familyId:e.foci}),{account:u,idToken:c,accessToken:g,refreshToken:_,appMetadata:k}}}],[{key:"generateAuthenticationResult",value:(t=S(N().mark((function e(t,r,n,i,o,a,s,c,u){var l,p,d,h,f,m,g,y,v,b,E,w,A,x,S,_,k,I;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y=Be.EMPTY_STRING,v=[],b=null,E=Be.EMPTY_STRING,!n.accessToken){e.next=13;break}if(n.accessToken.tokenType===at.POP&&!o.popKid){e.next=6;break}y=n.accessToken.secret,e.next=12;break;case 6:if(w=new Pi(t),A=n.accessToken,x=A.secret,S=A.keyId){e.next=9;break}throw Ir(Ar);case 9:return e.next=11,w.signPopToken(x,S,o);case 11:y=e.sent;case 12:v=Un.fromString(n.accessToken.target).asArray(),b=new Date(1e3*Number(n.accessToken.expiresOn)),m=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),n.accessToken.refreshOn&&(g=new Date(1e3*Number(n.accessToken.refreshOn)));case 13:return n.appMetadata&&(E=n.appMetadata.familyId===Ze?Ze:""),_=(null==a?void 0:a.oid)||(null==a?void 0:a.sub)||"",k=(null==a?void 0:a.tid)||"",(null==c?void 0:c.spa_accountid)&&n.account&&(n.account.nativeAccountId=null==c?void 0:c.spa_accountid),I=n.account?Gn(n.account.getAccountInfo(),void 0,a,null===(l=n.idToken)||void 0===l?void 0:l.secret):null,e.abrupt("return",{authority:r.canonicalAuthority,uniqueId:_,tenantId:k,scopes:v,account:I,idToken:(null==n||null===(p=n.idToken)||void 0===p?void 0:p.secret)||"",idTokenClaims:a||{},accessToken:y,fromCache:i,expiresOn:b,extExpiresOn:m,refreshOn:g,correlationId:o.correlationId,requestId:u||Be.EMPTY_STRING,familyId:E,tokenType:(null===(d=n.accessToken)||void 0===d?void 0:d.tokenType)||Be.EMPTY_STRING,state:s?s.userRequestState:Be.EMPTY_STRING,cloudGraphHostName:(null===(h=n.account)||void 0===h?void 0:h.cloudGraphHostName)||Be.EMPTY_STRING,msGraphHost:(null===(f=n.account)||void 0===f?void 0:f.msGraphHost)||Be.EMPTY_STRING,code:null==c?void 0:c.spa_code,fromNativeBroker:!1});case 18:case"end":return e.stop()}}),e)}))),function(e,r,n,i,o,a,s,c,u){return t.apply(this,arguments)})}]);var t,r}();function qi(e,t,r){return Di.apply(this,arguments)}function Di(){return Di=S(N().mark((function e(t,r,n){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","string"==typeof t?t:t({clientId:r,tokenEndpoint:n}));case 1:case"end":return e.stop()}}),e)}))),Di.apply(this,arguments)}var Bi=function(e){function t(e,r){var n,i;return P(this,t),(i=_(this,t,[e,r])).includeRedirectUri=!0,i.oidcDefaultScopes=null===(n=i.config.authOptions.authority.options.OIDCOptions)||void 0===n?void 0:n.defaultScopes,i}return C(t,e),M(t,[{key:"getAuthCodeUrl",value:(a=S(N().mark((function e(t){var r,n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(Kr,t.correlationId),e.next=3,hn(this.createAuthCodeUrlQueryString.bind(this),Xr,this.logger,this.performanceClient,t.correlationId)(t);case 3:return n=e.sent,e.abrupt("return",Cr.appendQueryString(this.authority.authorizationEndpoint,n));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"acquireToken",value:(o=S(N().mark((function e(t,r){var n,i,o,a,s,c;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=this.performanceClient)&&void 0!==n&&n.addQueueMeasurement(Wr,t.correlationId),t.code){e.next=2;break}throw Ir(nr);case 2:return o=yn(),e.next=5,hn(this.executeTokenRequest.bind(this),Vr,this.logger,this.performanceClient,t.correlationId)(this.authority,t);case 5:return a=e.sent,s=null===(i=a.headers)||void 0===i?void 0:i[He],c=new Mi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient),e.abrupt("return",(c.validateTokenResponse(a.body),hn(c.handleServerTokenResponse.bind(c),en,this.logger,this.performanceClient,t.correlationId)(a.body,this.authority,o,t,r,void 0,void 0,void 0,s)));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"handleFragmentResponse",value:function(e,t){if(new Mi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw Ir(br);return e}},{key:"getLogoutUri",value:function(e){if(!e)throw jt(Ot);var t=this.createLogoutUrlQueryString(e);return Cr.appendQueryString(this.authority.endSessionEndpoint,t)}},{key:"executeTokenRequest",value:(i=S(N().mark((function e(t,r){var n,i,o,a,s,c,u,l,p;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Vr,r.correlationId),o=this.createTokenQueryParameters(r),a=Cr.appendQueryString(t.tokenEndpoint,o),e.next=5,hn(this.createTokenRequestBody.bind(this),Yr,this.logger,this.performanceClient,r.correlationId)(r);case 5:if(s=e.sent,r.clientInfo)try{u=Fn(r.clientInfo,this.cryptoUtils.base64Decode),c={credential:"".concat(u.uid).concat(Ye.CLIENT_INFO_SEPARATOR).concat(u.utid),type:pi}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}return l=this.createTokenRequestHeaders(c||r.ccsCredential),p={clientId:(null===(i=r.tokenBodyParameters)||void 0===i?void 0:i.clientId)||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},e.abrupt("return",hn(this.executePostToTokenEndpoint.bind(this),Br,this.logger,this.performanceClient,r.correlationId)(a,s,l,p,r.correlationId,Br));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"createTokenRequestBody",value:(n=S(N().mark((function e(t){var r,n,i,o,a,s,c,u,l,p;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(Yr,t.correlationId),(i=new bi).addClientId((null===(n=t.tokenBodyParameters)||void 0===n?void 0:n[hi])||this.config.authOptions.clientId),this.includeRedirectUri?i.addRedirectUri(t.redirectUri):vi.validateRedirectUri(t.redirectUri),i.addScopes(t.scopes,!0,this.oidcDefaultScopes),i.addAuthorizationCode(t.code),i.addLibraryInfo(this.config.libraryInfo),i.addApplicationTelemetry(this.config.telemetry.application),i.addThrottling(),this.serverTelemetryManager&&!ci(this.config)&&i.addServerTelemetry(this.serverTelemetryManager),t.codeVerifier&&i.addCodeVerifier(t.codeVerifier),this.config.clientCredentials.clientSecret&&i.addClientSecret(this.config.clientCredentials.clientSecret),!this.config.clientCredentials.clientAssertion){e.next=10;break}return o=this.config.clientCredentials.clientAssertion,e.t0=i,e.next=7,qi(o.assertion,this.config.authOptions.clientId,t.resourceRequestUri);case 7:e.t1=e.sent,e.t0.addClientAssertion.call(e.t0,e.t1),i.addClientAssertionType(o.assertionType);case 10:if(i.addGrantType("authorization_code"),i.addClientInfo(),t.authenticationScheme!==at.POP){e.next=23;break}if(a=new Pi(this.cryptoUtils,this.performanceClient),!t.popKid){e.next=16;break}e.t2=this.cryptoUtils.encodeKid(t.popKid),e.next=19;break;case 16:return e.next=18,hn(a.generateCnf.bind(a),Jr,this.logger,this.performanceClient,t.correlationId)(t,this.logger);case 18:e.t2=e.sent.reqCnfString;case 19:s=e.t2,i.addPopToken(s),e.next=27;break;case 23:if(t.authenticationScheme!==at.SSH){e.next=27;break}if(t.sshJwk){e.next=26;break}throw jt(qt);case 26:i.addSshJwk(t.sshJwk);case 27:if(c=t.correlationId||this.config.cryptoInterface.createNewGuid(),i.addCorrelationId(c),(!Ut.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&i.addClaims(t.claims,this.config.authOptions.clientCapabilities),t.clientInfo)try{l=Fn(t.clientInfo,this.cryptoUtils.base64Decode),u={credential:"".concat(l.uid).concat(Ye.CLIENT_INFO_SEPARATOR).concat(l.utid),type:pi}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}else u=t.ccsCredential;if(!this.config.systemOptions.preventCorsPreflight||!u){e.next=36;break}e.t3=u.type,e.next=e.t3===pi?33:e.t3===di?35:36;break;case 33:try{p=zn(u.credential),i.addCcsOid(p)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}return e.abrupt("break",36);case 35:i.addCcsUpn(u.credential);case 36:return e.abrupt("return",(t.tokenBodyParameters&&i.addExtraQueryParameters(t.tokenBodyParameters),!t.enableSpaAuthorizationCode||t.tokenBodyParameters&&t.tokenBodyParameters[yi]||i.addExtraQueryParameters(R({},yi,"1")),i.createQueryString()));case 37:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"createAuthCodeUrlQueryString",value:(r=S(N().mark((function e(t){var r,n,i,o,a,s,c,u,l,p,d,h;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(Xr,t.correlationId),(i=new bi).addClientId((null===(n=t.extraQueryParameters)||void 0===n?void 0:n[hi])||this.config.authOptions.clientId),o=[].concat(m(t.scopes||[]),m(t.extraScopesToConsent||[])),i.addScopes(o,!0,this.oidcDefaultScopes),i.addRedirectUri(t.redirectUri),a=t.correlationId||this.config.cryptoInterface.createNewGuid(),i.addCorrelationId(a),i.addResponseMode(t.responseMode),i.addResponseTypeCode(),i.addLibraryInfo(this.config.libraryInfo),ci(this.config)||i.addApplicationTelemetry(this.config.telemetry.application),i.addClientInfo(),t.codeChallenge&&t.codeChallengeMethod&&i.addCodeChallengeParams(t.codeChallenge,t.codeChallengeMethod),t.prompt&&i.addPrompt(t.prompt),t.domainHint&&i.addDomainHint(t.domainHint),t.prompt!==Ke.SELECT_ACCOUNT)if(t.sid&&t.prompt===Ke.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),i.addSid(t.sid);else if(t.account){if(s=this.extractAccountSid(t.account),(c=this.extractLoginHint(t.account))&&t.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),c=null),c){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),i.addLoginHint(c);try{u=zn(t.account.homeAccountId),i.addCcsOid(u)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(s&&t.prompt===Ke.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),i.addSid(s);try{l=zn(t.account.homeAccountId),i.addCcsOid(l)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),i.addLoginHint(t.loginHint),i.addCcsUpn(t.loginHint);else if(t.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),i.addLoginHint(t.account.username);try{p=zn(t.account.homeAccountId),i.addCcsOid(p)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),i.addLoginHint(t.loginHint),i.addCcsUpn(t.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(t.nonce&&i.addNonce(t.nonce),t.state&&i.addState(t.state),(t.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&i.addClaims(t.claims,this.config.authOptions.clientCapabilities),t.extraQueryParameters&&i.addExtraQueryParameters(t.extraQueryParameters),!t.nativeBroker||(i.addNativeBroker(),t.authenticationScheme!==at.POP)){e.next=18;break}if(d=new Pi(this.cryptoUtils),!t.popKid){e.next=13;break}e.t0=this.cryptoUtils.encodeKid(t.popKid),e.next=16;break;case 13:return e.next=15,hn(d.generateCnf.bind(d),Jr,this.logger,this.performanceClient,t.correlationId)(t,this.logger);case 15:e.t0=e.sent.reqCnfString;case 16:h=e.t0,i.addPopToken(h);case 18:return e.abrupt("return",i.createQueryString());case 19:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"createLogoutUrlQueryString",value:function(e){var t=new bi;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()}},{key:"extractAccountSid",value:function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)||null}},{key:"extractLoginHint",value:function(e){var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.login_hint)||null}}]);var r,n,i,o,a}(Ai),ji=function(e){function t(e,r){return P(this,t),_(this,t,[e,r])}return C(t,e),M(t,[{key:"acquireToken",value:(a=S(N().mark((function e(t){var r,n,i,o,a,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(Ur,t.correlationId),i=yn(),e.next=4,hn(this.executeTokenRequest.bind(this),jr,this.logger,this.performanceClient,t.correlationId)(t,this.authority);case 4:return o=e.sent,a=null===(n=o.headers)||void 0===n?void 0:n[He],s=new Mi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin),e.abrupt("return",(s.validateTokenResponse(o.body),hn(s.handleServerTokenResponse.bind(s),en,this.logger,this.performanceClient,t.correlationId)(o.body,this.authority,i,t,void 0,void 0,!0,t.forceCache,a)));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"acquireTokenByRefreshToken",value:(o=S(N().mark((function e(t){var r,n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw jt(Ct);case 2:if(null!==(r=this.performanceClient)&&void 0!==r&&r.addQueueMeasurement(zr,t.correlationId),t.account){e.next=4;break}throw Ir(lr);case 4:if(!this.cacheManager.isAppMetadataFOCI(t.account.environment)){e.next=17;break}return e.prev=5,e.next=8,hn(this.acquireTokenWithCachedRefreshToken.bind(this),Fr,this.logger,this.performanceClient,t.correlationId)(t,!0);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(5),n=e.t0 instanceof Ci&&e.t0.errorCode===xi,i=e.t0 instanceof Et&&"invalid_grant"===e.t0.errorCode&&"client_mismatch"===e.t0.subError,!n&&!i){e.next=16;break}return e.abrupt("return",hn(this.acquireTokenWithCachedRefreshToken.bind(this),Fr,this.logger,this.performanceClient,t.correlationId)(t,!1));case 16:throw e.t0;case 17:return e.abrupt("return",hn(this.acquireTokenWithCachedRefreshToken.bind(this),Fr,this.logger,this.performanceClient,t.correlationId)(t,!1));case 18:case"end":return e.stop()}}),e,this,[[5,11]])}))),function(e){return o.apply(this,arguments)})},{key:"acquireTokenWithCachedRefreshToken",value:(i=S(N().mark((function e(t,r){var n,i,o,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(Fr,t.correlationId),i=function(e,t,r,n,i){return function(){r.trace("Executing function ".concat(t));var o=null==n?void 0:n.startMeasurement(t,i);if(i){var a=t+"CallCount";null==n||n.incrementFields(R({},a,1),i)}try{var s=e.apply(void 0,arguments);return null!=o&&o.end({success:!0}),r.trace("Returning result from ".concat(t)),s}catch(e){r.trace("Error occurred in ".concat(t));try{r.trace(JSON.stringify(e))}catch(e){r.trace("Unable to print error message.")}throw null!=o&&o.end({success:!1},e),e}}}(this.cacheManager.getRefreshToken.bind(this.cacheManager),dn,this.logger,this.performanceClient,t.correlationId)(t.account,r,void 0,this.performanceClient,t.correlationId),i){e.next=4;break}throw Ni(xi);case 4:if(!i.expiresOn||!vn(i.expiresOn,t.refreshTokenExpirationOffsetSeconds||300)){e.next=6;break}throw Ni(Si);case 6:return o=E(E({},t),{},{refreshToken:i.secret,authenticationScheme:t.authenticationScheme||at.BEARER,ccsCredential:{credential:t.account.homeAccountId,type:pi}}),e.prev=7,e.next=10,hn(this.acquireToken.bind(this),Ur,this.logger,this.performanceClient,t.correlationId)(o);case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(7),e.t0 instanceof Ci&&e.t0.subError===_i&&(this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache"),a=En(i),this.cacheManager.removeRefreshToken(a)),e.t0;case 17:case"end":return e.stop()}}),e,this,[[7,13]])}))),function(e,t){return i.apply(this,arguments)})},{key:"executeTokenRequest",value:(n=S(N().mark((function e(t,r){var n,i,o,a,s,c,u;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(n=this.performanceClient)||void 0===n||n.addQueueMeasurement(jr,t.correlationId),o=this.createTokenQueryParameters(t),a=Cr.appendQueryString(r.tokenEndpoint,o),e.next=5,hn(this.createTokenRequestBody.bind(this),Hr,this.logger,this.performanceClient,t.correlationId)(t);case 5:return s=e.sent,c=this.createTokenRequestHeaders(t.ccsCredential),u={clientId:(null===(i=t.tokenBodyParameters)||void 0===i?void 0:i.clientId)||this.config.authOptions.clientId,authority:r.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},e.abrupt("return",hn(this.executePostToTokenEndpoint.bind(this),Dr,this.logger,this.performanceClient,t.correlationId)(a,s,c,u,t.correlationId,Dr));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"createTokenRequestBody",value:(r=S(N().mark((function e(t){var r,n,i,o,a,s,c,u,l;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(Hr,t.correlationId),o=t.correlationId,(a=new bi).addClientId((null===(n=t.tokenBodyParameters)||void 0===n?void 0:n[hi])||this.config.authOptions.clientId),t.redirectUri&&a.addRedirectUri(t.redirectUri),a.addScopes(t.scopes,!0,null===(i=this.config.authOptions.authority.options.OIDCOptions)||void 0===i?void 0:i.defaultScopes),a.addGrantType("refresh_token"),a.addClientInfo(),a.addLibraryInfo(this.config.libraryInfo),a.addApplicationTelemetry(this.config.telemetry.application),a.addThrottling(),this.serverTelemetryManager&&!ci(this.config)&&a.addServerTelemetry(this.serverTelemetryManager),a.addCorrelationId(o),a.addRefreshToken(t.refreshToken),this.config.clientCredentials.clientSecret&&a.addClientSecret(this.config.clientCredentials.clientSecret),!this.config.clientCredentials.clientAssertion){e.next=10;break}return s=this.config.clientCredentials.clientAssertion,e.t0=a,e.next=7,qi(s.assertion,this.config.authOptions.clientId,t.resourceRequestUri);case 7:e.t1=e.sent,e.t0.addClientAssertion.call(e.t0,e.t1),a.addClientAssertionType(s.assertionType);case 10:if(t.authenticationScheme!==at.POP){e.next=23;break}if(c=new Pi(this.cryptoUtils,this.performanceClient),!t.popKid){e.next=16;break}e.t2=this.cryptoUtils.encodeKid(t.popKid),e.next=19;break;case 16:return e.next=18,hn(c.generateCnf.bind(c),Jr,this.logger,this.performanceClient,t.correlationId)(t,this.logger);case 18:e.t2=e.sent.reqCnfString;case 19:u=e.t2,a.addPopToken(u),e.next=27;break;case 23:if(t.authenticationScheme!==at.SSH){e.next=27;break}if(t.sshJwk){e.next=26;break}throw jt(qt);case 26:a.addSshJwk(t.sshJwk);case 27:if((!Ut.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&a.addClaims(t.claims,this.config.authOptions.clientCapabilities),!this.config.systemOptions.preventCorsPreflight||!t.ccsCredential){e.next=34;break}e.t3=t.ccsCredential.type,e.next=e.t3===pi?31:e.t3===di?33:34;break;case 31:try{l=zn(t.ccsCredential.credential),a.addCcsOid(l)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}return e.abrupt("break",34);case 33:a.addCcsUpn(t.ccsCredential.credential);case 34:return e.abrupt("return",(t.tokenBodyParameters&&a.addExtraQueryParameters(t.tokenBodyParameters),a.createQueryString()));case 35:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}]);var r,n,i,o,a}(Ai),Ui=function(e){function t(e,r){return P(this,t),_(this,t,[e,r])}return C(t,e),M(t,[{key:"acquireToken",value:(i=S(N().mark((function e(t){var r,n,i,o,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.acquireCachedToken(E(E({},t),{},{scopes:null!==(r=t.scopes)&&void 0!==r&&r.length?t.scopes:[].concat(je)}));case 3:return n=e.sent,i=u(n,2),o=i[0],a=i[1],e.abrupt("return",(a===pt&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new ji(this.config,this.performanceClient).acquireTokenByRefreshToken(t).catch((function(){}))),o));case 10:if(e.prev=10,e.t0=e.catch(0),!(e.t0 instanceof kr&&e.t0.errorCode===gr)){e.next=14;break}return e.abrupt("return",new ji(this.config,this.performanceClient).acquireTokenByRefreshToken(t));case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e){return i.apply(this,arguments)})},{key:"acquireCachedToken",value:(n=S(N().mark((function e(t){var r,n,i,o,a,s,c,u;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=this.performanceClient)||void 0===r||r.addQueueMeasurement(Qr,t.correlationId),n=ct,!t.forceRefresh&&(this.config.cacheOptions.claimsBasedCachingEnabled||Ut.isEmptyObj(t.claims))){e.next=4;break}throw this.setCacheOutcome("1",t.correlationId),Ir(gr);case 4:if(t.account){e.next=6;break}throw Ir(lr);case 6:if(i=t.account.tenantId||function(e,t){var r=null===(t=new Cr(e).getUrlComponents().PathSegments.slice(-1)[0])||void 0===t?void 0:t.toLowerCase();switch(r){case Qe.COMMON:case Qe.ORGANIZATIONS:case Qe.CONSUMERS:return;default:return r}}(t.authority),o=this.cacheManager.getTokenKeys(),a=this.cacheManager.getAccessToken(t.account,t,o,i,this.performanceClient,t.correlationId)){e.next=9;break}throw this.setCacheOutcome(ut,t.correlationId),Ir(gr);case 9:if(s=a.cachedAt,!(Number(s)>yn()||vn(a.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))){e.next=11;break}throw this.setCacheOutcome(lt,t.correlationId),Ir(gr);case 11:return a.refreshOn&&vn(a.refreshOn,0)&&(n=pt),c=t.authority||this.authority.getPreferredCache(),u={account:this.cacheManager.readAccountFromCache(t.account),accessToken:a,idToken:this.cacheManager.getIdToken(t.account,o,i,this.performanceClient,t.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(c)},this.setCacheOutcome(n,t.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),e.next=17,hn(this.generateResultFromCacheRecord.bind(this),Gr,this.logger,this.performanceClient,t.correlationId)(u,t);case 17:return e.t0=e.sent,e.t1=n,e.abrupt("return",[e.t0,e.t1]);case 20:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"setCacheOutcome",value:function(e,t){var r,n;null!==(r=this.serverTelemetryManager)&&void 0!==r&&r.setCacheOutcome(e),null!==(n=this.performanceClient)&&void 0!==n&&n.addFields({cacheOutcome:e},t),e!==ct&&this.logger.info("Token refresh is required due to cache outcome: ".concat(e))}},{key:"generateResultFromCacheRecord",value:(r=S(N().mark((function e(t,r){var n,i,o,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=this.performanceClient)&&void 0!==n&&n.addQueueMeasurement(Gr,r.correlationId),t.idToken&&(i=mn(t.idToken.secret,this.config.cryptoInterface.base64Decode)),!r.maxAge&&0!==r.maxAge){e.next=5;break}if(a=null===(o=i)||void 0===o?void 0:o.auth_time){e.next=4;break}throw Ir(Zt);case 4:gn(a,r.maxAge);case 5:return e.abrupt("return",Mi.generateAuthenticationResult(this.cryptoUtils,this.authority,t,!0,r,i));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]);var r,n,i}(Ai),Fi=function(){function e(t,r){P(this,e),this.cacheOutcome=ct,this.cacheManager=r,this.apiId=t.apiId,this.correlationId=t.correlationId,this.wrapperSKU=t.wrapperSKU||Be.EMPTY_STRING,this.wrapperVer=t.wrapperVer||Be.EMPTY_STRING,this.telemetryCacheKey=ot.CACHE_KEY+Ye.CACHE_KEY_SEPARATOR+t.clientId}return M(e,[{key:"generateCurrentRequestHeaderValue",value:function(){var e="".concat(this.apiId).concat(ot.VALUE_SEPARATOR).concat(this.cacheOutcome),t=[this.wrapperSKU,this.wrapperVer].join(ot.VALUE_SEPARATOR),r=[e,this.getRegionDiscoveryFields()].join(ot.VALUE_SEPARATOR);return[ot.SCHEMA_VERSION,r,t].join(ot.CATEGORY_SEPARATOR)}},{key:"generateLastRequestHeaderValue",value:function(){var t=this.getLastRequests(),r=e.maxErrorsToSend(t),n=t.failedRequests.slice(0,2*r).join(ot.VALUE_SEPARATOR),i=t.errors.slice(0,r).join(ot.VALUE_SEPARATOR),o=t.errors.length,a=[o,r<o?ot.OVERFLOW_TRUE:ot.OVERFLOW_FALSE].join(ot.VALUE_SEPARATOR);return[ot.SCHEMA_VERSION,t.cacheHits,n,i,a].join(ot.CATEGORY_SEPARATOR)}},{key:"cacheFailedRequest",value:function(e){var t=this.getLastRequests();t.errors.length>=ot.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof bt?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(ot.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}},{key:"incrementCacheHits",value:function(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}},{key:"getLastRequests",value:function(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}},{key:"clearTelemetryCache",value:function(){var t=this.getLastRequests(),r=e.maxErrorsToSend(t);if(r===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var n={failedRequests:t.failedRequests.slice(2*r),errors:t.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}},{key:"getRegionDiscoveryFields",value:function(){var e=[];return e.push(this.regionUsed||Be.EMPTY_STRING),e.push(this.regionSource||Be.EMPTY_STRING),e.push(this.regionOutcome||Be.EMPTY_STRING),e.join(",")}},{key:"updateRegionDiscoveryMetadata",value:function(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}},{key:"setCacheOutcome",value:function(e){this.cacheOutcome=e}}],[{key:"maxErrorsToSend",value:function(e){var t,r=0,n=0,i=e.errors.length;for(t=0;t<i;t++){var o=e.failedRequests[2*t]||Be.EMPTY_STRING,a=e.failedRequests[2*t+1]||Be.EMPTY_STRING,s=e.errors[t]||Be.EMPTY_STRING;if(!((n+=o.toString().length+a.toString().length+s.length+3)<ot.MAX_LAST_HEADER_BYTES))break;r+=1}return r}}])}(),zi=function(){return M((function e(){P(this,e)}),null,[{key:"getNetworkResponse",value:function(e,t,r){return{headers:e,body:t,status:r}}},{key:"urlToHttpOptions",value:function(e){var t={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:"".concat(e.pathname||"").concat(e.search||""),href:e.href};return""!==e.port&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth="".concat(decodeURIComponent(e.username),":").concat(decodeURIComponent(e.password))),t}}])}(),Hi=a(8611),Qi=a(5692),Gi=a.n(Qi),Ki=function(){return M((function e(t,r){P(this,e),this.proxyUrl=t||"",this.customAgentOptions=r||{}}),[{key:"sendGetRequestAsync",value:(t=S(N().mark((function e(t,r,n){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.proxyUrl?$i(t,this.proxyUrl,"get",r,this.customAgentOptions,n):Wi(t,"get",r,this.customAgentOptions,n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"sendPostRequestAsync",value:(e=S(N().mark((function e(t,r){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.proxyUrl?$i(t,this.proxyUrl,dt,r,this.customAgentOptions):Wi(t,dt,r,this.customAgentOptions));case 1:case"end":return e.stop()}}),e,this)}))),function(t,r){return e.apply(this,arguments)})}]);var e,t}(),$i=function(e,t,r,n,i,o){var a=new URL(e),s=new URL(t),c=(null==n?void 0:n.headers)||{},u={host:s.hostname,port:s.port,method:"CONNECT",path:a.hostname,headers:c};i&&Object.keys(i).length&&(u.agent=new Hi.Agent(i));var l="";if(r===dt){var p=(null==n?void 0:n.body)||"";l="Content-Type: application/x-www-form-urlencoded\r\nContent-Length: ".concat(p.length,"\r\n\r\n").concat(p)}else o&&(u.timeout=o);var d="".concat(r.toUpperCase()," ").concat(a.href," HTTP/1.1\r\nHost: ").concat(a.host,"\r\nConnection: close\r\n")+l+"\r\n";return new Promise((function(e,t){var r=Hi.request(u);o&&r.on("timeout",(function(){r.destroy(),t(new Error("Request time out"))})),r.end(),r.on("connect",(function(n,i){var o=(null==n?void 0:n.statusCode)||500;(o<200||o>299)&&(r.destroy(),i.destroy(),t(new Error("Error connecting to proxy. Http status code: ".concat(n.statusCode,". Http status message: ").concat((null==n?void 0:n.statusMessage)||"Unknown")))),i.write(d);var a=[];i.on("data",(function(e){a.push(e)})),i.on("end",(function(){var t=Buffer.concat([].concat(a)).toString().split("\r\n"),n=parseInt(t[0].split(" ")[1]),i=t[0].split(" ").slice(2).join(" "),o=t[t.length-1],s=t.slice(1,t.length-2),c=new Map;s.forEach((function(e){var t=e.split(new RegExp(/:\s([\s\S]*)/)),r=t[0],n=t[1];try{var i=JSON.parse(n);i&&"object"==D(i)&&(n=i)}catch(e){}c.set(r,n)}));var u=Object.fromEntries(c),l=zi.getNetworkResponse(u,Vi(n,i,u,o),n);(n<200||n>299)&&l.body.error!==ft&&r.destroy(),e(l)})),i.on("error",(function(e){r.destroy(),i.destroy(),t(new Error(e.toString()))}))})),r.on("error",(function(e){r.destroy(),t(new Error(e.toString()))}))}))},Wi=function(e,t,r,n,i){var o=t===dt,a=(null==r?void 0:r.body)||"",s=new URL(e),c=E({method:t,headers:(null==r?void 0:r.headers)||{}},zi.urlToHttpOptions(s));return n&&Object.keys(n).length&&(c.agent=new Qi.Agent(n)),o?c.headers=E(E({},c.headers),{},{"Content-Length":a.length}):i&&(c.timeout=i),new Promise((function(e,t){var r;r="http:"===c.protocol?Hi.request(c):Qi.request(c),o&&r.write(a),i&&r.on("timeout",(function(){r.destroy(),t(new Error("Request time out"))})),r.end(),r.on("response",(function(t){var n=t.headers,i=t.statusCode,o=t.statusMessage,a=[];t.on("data",(function(e){a.push(e)})),t.on("end",(function(){var t=Buffer.concat([].concat(a)).toString(),s=n,c=zi.getNetworkResponse(s,Vi(i,o,s,t),i);(i<200||i>299)&&c.body.error!==ft&&r.destroy(),e(c)}))})),r.on("error",(function(e){r.destroy(),t(new Error(e.toString()))}))}))},Vi=function(e,t,r,n){var i;try{i=JSON.parse(n)}catch(n){var o,a;e>=400&&e<=499?(o="client_error",a="A client"):e>=500&&e<=599?(o="server_error",a="A server"):(o="unknown_error",a="An unknown"),i={error:o,error_description:"".concat(a," error occured.\nHttp status code: ").concat(e,"\nHttp status message: ").concat(t||"Unknown","\nHeaders: ").concat(JSON.stringify(r))}}return i},Yi={clientId:Be.EMPTY_STRING,authority:Be.DEFAULT_AUTHORITY,clientSecret:Be.EMPTY_STRING,clientAssertion:Be.EMPTY_STRING,clientCertificate:{thumbprint:Be.EMPTY_STRING,privateKey:Be.EMPTY_STRING,x5c:Be.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:Be.EMPTY_STRING,authorityMetadata:Be.EMPTY_STRING,clientCapabilities:[],protocolMode:Mr,azureCloudOptions:{azureCloudInstance:qr,tenant:Be.EMPTY_STRING},skipAuthorityMetadataCache:!1},Xi={claimsBasedCachingEnabled:!1},Ji={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:De.Info},Zi={loggerOptions:Ji,networkClient:new Ki,proxyUrl:Be.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},eo={application:{appName:Be.EMPTY_STRING,appVersion:Be.EMPTY_STRING}},to=a(6982),ro=a.n(to),no=new Uint8Array(256),io=no.length;function oo(){return io>no.length-16&&(ro().randomFillSync(no),io=0),no.slice(io,io+=16)}for(var ao=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,so=[],co=0;co<256;++co)so.push((co+256).toString(16).substr(1));var uo=function(e,t,r){var n=(e=e||{}).random||(e.rng||oo)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(so[e[t+0]]+so[e[t+1]]+so[e[t+2]]+so[e[t+3]]+"-"+so[e[t+4]]+so[e[t+5]]+"-"+so[e[t+6]]+so[e[t+7]]+"-"+so[e[t+8]]+so[e[t+9]]+"-"+so[e[t+10]]+so[e[t+11]]+so[e[t+12]]+so[e[t+13]]+so[e[t+14]]+so[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&ao.test(e)}(r))throw TypeError("Stringified UUID is invalid");return r}(n)},lo=function(){return M((function e(){P(this,e)}),[{key:"generateGuid",value:function(){return uo()}},{key:"isGuid",value:function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}}])}(),po=function(){function e(){P(this,e)}return M(e,null,[{key:"base64Encode",value:function(e,t){return Buffer.from(e,t).toString("base64")}},{key:"base64EncodeUrl",value:function(t,r){return e.base64Encode(t,r).replace(/=/g,Be.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")}},{key:"base64Decode",value:function(e){return Buffer.from(e,"base64").toString("utf8")}},{key:"base64DecodeUrl",value:function(t){for(var r=t.replace(/-/g,"+").replace(/_/g,"/");r.length%4;)r+="=";return e.base64Decode(r)}}])}(),ho=function(){return M((function e(){P(this,e)}),[{key:"sha256",value:function(e){return to.createHash("sha256").update(e).digest()}}])}(),fo=function(){return M((function e(){P(this,e),this.hashUtils=new ho}),[{key:"generatePkceCodes",value:(e=S(N().mark((function e(){var t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.generateCodeVerifier(),e.abrupt("return",{verifier:t,challenge:this.generateCodeChallengeFromVerifier(t)});case 2:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"generateCodeVerifier",value:function(){for(var e=[];e.length<=32;){var t=to.randomBytes(1)[0];if(!(t>=198)){var r=t%66;e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~"[r])}}var n=e.join(Be.EMPTY_STRING);return po.base64EncodeUrl(n)}},{key:"generateCodeChallengeFromVerifier",value:function(e){return po.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}]);var e}(),mo=function(){return M((function e(){P(this,e),this.pkceGenerator=new fo,this.guidGenerator=new lo,this.hashUtils=new ho}),[{key:"base64UrlEncode",value:function(){throw new Error("Method not implemented.")}},{key:"encodeKid",value:function(){throw new Error("Method not implemented.")}},{key:"createNewGuid",value:function(){return this.guidGenerator.generateGuid()}},{key:"base64Encode",value:function(e){return po.base64Encode(e)}},{key:"base64Decode",value:function(e){return po.base64Decode(e)}},{key:"generatePkceCodes",value:function(){return this.pkceGenerator.generatePkceCodes()}},{key:"getPublicKeyThumbprint",value:function(){throw new Error("Method not implemented.")}},{key:"removeTokenBindingKey",value:function(){throw new Error("Method not implemented.")}},{key:"clearKeystore",value:function(){throw new Error("Method not implemented.")}},{key:"signJwt",value:function(){throw new Error("Method not implemented.")}},{key:"hashString",value:(e=S(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",po.base64EncodeUrl(this.hashUtils.sha256(t).toString("base64"),"base64"));case 1:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e}(),go=function(){return M((function e(){P(this,e)}),null,[{key:"deserializeJSONBlob",value:function(e){return e?JSON.parse(e):{}}},{key:"deserializeAccounts",value:function(e){var t={};return e&&Object.keys(e).map((function(r){var n,i=e[r],o={homeAccountId:i.home_account_id,environment:i.environment,realm:i.realm,localAccountId:i.local_account_id,username:i.username,authorityType:i.authority_type,name:i.name,clientInfo:i.client_info,lastModificationTime:i.last_modification_time,lastModificationApp:i.last_modification_app,tenantProfiles:null===(n=i.tenantProfiles)||void 0===n?void 0:n.map((function(e){return JSON.parse(e)}))},a=new $n;Jn.toObject(a,o),t[r]=a})),t}},{key:"deserializeIdTokens",value:function(e){var t={};return e&&Object.keys(e).map((function(r){var n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,credentialType:n.credential_type,clientId:n.client_id,secret:n.secret,realm:n.realm};t[r]=i})),t}},{key:"deserializeAccessTokens",value:function(e){var t={};return e&&Object.keys(e).map((function(r){var n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,credentialType:n.credential_type,clientId:n.client_id,secret:n.secret,realm:n.realm,target:n.target,cachedAt:n.cached_at,expiresOn:n.expires_on,extendedExpiresOn:n.extended_expires_on,refreshOn:n.refresh_on,keyId:n.key_id,tokenType:n.token_type,requestedClaims:n.requestedClaims,requestedClaimsHash:n.requestedClaimsHash,userAssertionHash:n.userAssertionHash};t[r]=i})),t}},{key:"deserializeRefreshTokens",value:function(e){var t={};return e&&Object.keys(e).map((function(r){var n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,credentialType:n.credential_type,clientId:n.client_id,secret:n.secret,familyId:n.family_id,target:n.target,realm:n.realm};t[r]=i})),t}},{key:"deserializeAppMetadata",value:function(e){var t={};return e&&Object.keys(e).map((function(r){var n=e[r];t[r]={clientId:n.client_id,environment:n.environment,familyId:n.family_id}})),t}},{key:"deserializeAllCache",value:function(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}}])}(),yo=function(){return M((function e(){P(this,e)}),null,[{key:"serializeJSONBlob",value:function(e){return JSON.stringify(e)}},{key:"serializeAccounts",value:function(e){var t={};return Object.keys(e).map((function(r){var n,i=e[r];t[r]={home_account_id:i.homeAccountId,environment:i.environment,realm:i.realm,local_account_id:i.localAccountId,username:i.username,authority_type:i.authorityType,name:i.name,client_info:i.clientInfo,last_modification_time:i.lastModificationTime,last_modification_app:i.lastModificationApp,tenantProfiles:null===(n=i.tenantProfiles)||void 0===n?void 0:n.map((function(e){return JSON.stringify(e)}))}})),t}},{key:"serializeIdTokens",value:function(e){var t={};return Object.keys(e).map((function(r){var n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,credential_type:n.credentialType,client_id:n.clientId,secret:n.secret,realm:n.realm}})),t}},{key:"serializeAccessTokens",value:function(e){var t={};return Object.keys(e).map((function(r){var n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,credential_type:n.credentialType,client_id:n.clientId,secret:n.secret,realm:n.realm,target:n.target,cached_at:n.cachedAt,expires_on:n.expiresOn,extended_expires_on:n.extendedExpiresOn,refresh_on:n.refreshOn,key_id:n.keyId,token_type:n.tokenType,requestedClaims:n.requestedClaims,requestedClaimsHash:n.requestedClaimsHash,userAssertionHash:n.userAssertionHash}})),t}},{key:"serializeRefreshTokens",value:function(e){var t={};return Object.keys(e).map((function(r){var n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,credential_type:n.credentialType,client_id:n.clientId,secret:n.secret,family_id:n.familyId,target:n.target,realm:n.realm}})),t}},{key:"serializeAppMetadata",value:function(e){var t={};return Object.keys(e).map((function(r){var n=e[r];t[r]={client_id:n.clientId,environment:n.environment,family_id:n.familyId}})),t}},{key:"serializeAllCache",value:function(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}}])}(),vo=function(e){function t(e,r,n,i){var o;return P(this,t),(o=_(this,t,[r,n,e,i])).cache={},o.changeEmitters=[],o.logger=e,o}return C(t,e),M(t,[{key:"registerChangeEmitter",value:function(e){this.changeEmitters.push(e)}},{key:"emitChange",value:function(){this.changeEmitters.forEach((function(e){return e.call(null)}))}},{key:"cacheToInMemoryCache",value:function(e){var t={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(var r in e){var n=e[r];if("object"==D(n))if(n instanceof $n)t.accounts[r]=n;else if(xn(n))t.idTokens[r]=n;else if(An(n))t.accessTokens[r]=n;else if(Sn(n))t.refreshTokens[r]=n;else{if(!On(r,n))continue;t.appMetadata[r]=n}}return t}},{key:"inMemoryCacheToCache",value:function(e){var t=this.getCache();return E(E(E(E(E(E({},t),e.accounts),e.idTokens),e.accessTokens),e.refreshTokens),e.appMetadata)}},{key:"getInMemoryCache",value:function(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}},{key:"setInMemoryCache",value:function(e){this.logger.trace("Setting in-memory cache");var t=this.inMemoryCacheToCache(e);this.setCache(t),this.emitChange()}},{key:"getCache",value:function(){return this.logger.trace("Getting cache key-value store"),this.cache}},{key:"setCache",value:function(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange()}},{key:"getItem",value:function(e){return this.logger.tracePii("Item key: ".concat(e)),this.getCache()[e]}},{key:"setItem",value:function(e,t){this.logger.tracePii("Item key: ".concat(e));var r=this.getCache();r[e]=t,this.setCache(r)}},{key:"getAccountKeys",value:function(){var e=this.getInMemoryCache();return Object.keys(e.accounts)}},{key:"getTokenKeys",value:function(){var e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}},{key:"getAccount",value:function(e){var t=this.getCachedAccountEntity(e);return t&&$n.isAccountEntity(t)?this.updateOutdatedCachedAccount(e,t):null}},{key:"getCachedAccountEntity",value:function(e){return this.getItem(e)?Object.assign(new $n,this.getItem(e)):null}},{key:"setAccount",value:function(e){var t=e.generateAccountKey();this.setItem(t,e)}},{key:"getIdTokenCredential",value:function(e){var t=this.getItem(e);return xn(t)?t:null}},{key:"setIdTokenCredential",value:function(e){var t=En(e);this.setItem(t,e)}},{key:"getAccessTokenCredential",value:function(e){var t=this.getItem(e);return An(t)?t:null}},{key:"setAccessTokenCredential",value:function(e){var t=En(e);this.setItem(t,e)}},{key:"getRefreshTokenCredential",value:function(e){var t=this.getItem(e);return Sn(t)?t:null}},{key:"setRefreshTokenCredential",value:function(e){var t=En(e);this.setItem(t,e)}},{key:"getAppMetadata",value:function(e){var t=this.getItem(e);return On(e,t)?t:null}},{key:"setAppMetadata",value:function(e){var t=function(e){var t=e.environment,r=e.clientId;return[Je,t,r].join(Ye.CACHE_KEY_SEPARATOR).toLowerCase()}(e);this.setItem(t,e)}},{key:"getServerTelemetry",value:function(e){var t=this.getItem(e);return t&&function(e,t){var r=0===e.indexOf(ot.CACHE_KEY),n=!0;return t&&(n=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),r&&n}(e,t)?t:null}},{key:"setServerTelemetry",value:function(e,t){this.setItem(e,t)}},{key:"getAuthorityMetadata",value:function(e){var t=this.getItem(e);return t&&function(e,t){return!!t&&0===e.indexOf(et)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,t)?t:null}},{key:"getAuthorityMetadataKeys",value:function(){var e=this;return this.getKeys().filter((function(t){return e.isAuthorityMetadata(t)}))}},{key:"setAuthorityMetadata",value:function(e,t){this.setItem(e,t)}},{key:"getThrottlingCache",value:function(e){var t=this.getItem(e);return t&&function(e,t){var r=!1;e&&(r=0===e.indexOf(st));var n=!0;return t&&(n=t.hasOwnProperty("throttleTime")),r&&n}(e,t)?t:null}},{key:"setThrottlingCache",value:function(e,t){this.setItem(e,t)}},{key:"removeItem",value:function(e){this.logger.tracePii("Item key: ".concat(e));var t=!1,r=this.getCache();return r[e]&&(delete r[e],t=!0),t&&(this.setCache(r),this.emitChange()),t}},{key:"removeOutdatedAccount",value:function(e){this.removeItem(e)}},{key:"containsKey",value:function(e){return this.getKeys().includes(e)}},{key:"getKeys",value:function(){this.logger.trace("Retrieving all cache keys");var e=this.getCache();return m(Object.keys(e))}},{key:"clear",value:(r=S(N().mark((function e(){var t=this;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach((function(e){t.removeItem(e)})),this.emitChange();case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"updateCredentialCacheKey",value:function(e,t){var r=En(t);if(e!==r){var n=this.getItem(e);if(n)return this.removeItem(e),this.setItem(r,n),this.logger.verbose("Updated an outdated ".concat(t.credentialType," cache key")),r;this.logger.error("Attempted to update an outdated ".concat(t.credentialType," cache key but no item matching the outdated key was found in storage"))}return e}}],[{key:"generateInMemoryCache",value:function(e){return go.deserializeAllCache(go.deserializeJSONBlob(e))}},{key:"generateJsonCache",value:function(e){return yo.serializeAllCache(e)}}]);var r}(Jn),bo={},Eo={},wo={},Ao={},xo={},So=function(){return M((function e(t,r,n){P(this,e),this.cacheHasChanged=!1,this.storage=t,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),n&&(this.persistence=n),this.logger=r}),[{key:"hasChanged",value:function(){return this.cacheHasChanged}},{key:"serialize",value:function(){this.logger.trace("Serializing in-memory cache");var e=yo.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}},{key:"deserialize",value:function(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");var t=go.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(t)}else this.logger.trace("No cache snapshot to deserialize")}},{key:"getKVStore",value:function(){return this.storage.getCache()}},{key:"getAllAccounts",value:(n=S(N().mark((function e(){var t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.trace("getAllAccounts called"),e.prev=1,e.t0=this.persistence,!e.t0){e.next=7;break}return t=new Li(this,!0),e.next=7,this.persistence.beforeCacheAccess(t);case 7:return e.abrupt("return",this.storage.getAllAccounts());case 8:if(e.prev=8,e.t1=this.persistence&&t,!e.t1){e.next=13;break}return e.next=13,this.persistence.afterCacheAccess(t);case 13:return e.finish(8);case 14:case"end":return e.stop()}}),e,this,[[1,,8,14]])}))),function(){return n.apply(this,arguments)})},{key:"getAccountByHomeId",value:(r=S(N().mark((function e(t){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllAccounts();case 2:return r=e.sent,e.abrupt("return",t&&r&&r.length&&r.filter((function(e){return e.homeAccountId===t}))[0]||null);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getAccountByLocalId",value:(t=S(N().mark((function e(t){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllAccounts();case 2:return r=e.sent,e.abrupt("return",t&&r&&r.length&&r.filter((function(e){return e.localAccountId===t}))[0]||null);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"removeAccount",value:(e=S(N().mark((function e(t){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.trace("removeAccount called"),e.prev=1,e.t0=this.persistence,!e.t0){e.next=7;break}return r=new Li(this,!0),e.next=7,this.persistence.beforeCacheAccess(r);case 7:return e.next=9,this.storage.removeAccount($n.generateAccountCacheKey(t));case 9:if(e.prev=9,e.t1=this.persistence&&r,!e.t1){e.next=14;break}return e.next=14,this.persistence.afterCacheAccess(r);case 14:return e.finish(9);case 15:case"end":return e.stop()}}),e,this,[[1,,9,15]])}))),function(t){return e.apply(this,arguments)})},{key:"handleChangeEvent",value:function(){this.cacheHasChanged=!0}},{key:"mergeState",value:function(e,t){this.logger.trace("Merging in-memory cache with cache snapshot");var r=this.mergeRemovals(e,t);return this.mergeUpdates(r,t)}},{key:"mergeUpdates",value:function(e,t){var r=this;return Object.keys(t).forEach((function(n){var i=t[n];if(e.hasOwnProperty(n)){var o=null!==i,a="object"==D(i),s=!Array.isArray(i),c=void 0!==e[n]&&null!==e[n];o&&a&&s&&c?r.mergeUpdates(e[n],i):e[n]=i}else null!==i&&(e[n]=i)})),e}},{key:"mergeRemovals",value:function(e,t){this.logger.trace("Remove updated entries in cache");var r=e.Account?this.mergeRemovalsDict(e.Account,t.Account):e.Account,n=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,t.AccessToken):e.AccessToken,i=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,t.RefreshToken):e.RefreshToken,o=e.IdToken?this.mergeRemovalsDict(e.IdToken,t.IdToken):e.IdToken,a=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,t.AppMetadata):e.AppMetadata;return E(E({},e),{},{Account:r,AccessToken:n,RefreshToken:i,IdToken:o,AppMetadata:a})}},{key:"mergeRemovalsDict",value:function(e,t){var r=E({},e);return Object.keys(e).forEach((function(e){t&&t.hasOwnProperty(e)||delete r[e]})),r}},{key:"overlayDefaults",value:function(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:E(E({},bo),e.Account),IdToken:E(E({},Eo),e.IdToken),AccessToken:E(E({},wo),e.AccessToken),RefreshToken:E(E({},Ao),e.RefreshToken),AppMetadata:E(E({},xo),e.AppMetadata)}}}]);var e,t,r,n}(),_o=a(4040),ko=function(){function e(){P(this,e)}return M(e,[{key:"getJwt",value:function(e,t,r){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&t===this.issuer&&r===this.jwtAudience?this.jwt:this.createJwt(e,t,r);if(this.jwt)return this.jwt;throw Ir(fr)}},{key:"createJwt",value:function(e,t,r){this.issuer=t,this.jwtAudience=r;var n=yn();this.expirationTime=n+600;var i={alg:"RS256",x5t:po.base64EncodeUrl(this.thumbprint,"hex")};this.publicCertificate&&Object.assign(i,{x5c:this.publicCertificate});var o=R(R(R(R(R(R({},"aud",this.jwtAudience),"exp",this.expirationTime),"iss",this.issuer),"sub",this.issuer),"nbf",n),"jti",e.createNewGuid());return this.jwt=_o.sign(o,this.privateKey,{header:i}),this.jwt}},{key:"isExpired",value:function(){return this.expirationTime<yn()}}],[{key:"fromAssertion",value:function(t){var r=new e;return r.jwt=t,r}},{key:"fromCertificate",value:function(t,r,n){var i=new e;return i.privateKey=r,i.thumbprint=t,n&&(i.publicCertificate=this.parseCertificate(n)),i}},{key:"parseCertificate",value:function(e){for(var t,r=/\x2D\x2D\x2D\x2D\x2DBEGIN CERTIFICATE\x2D\x2D\x2D\x2D\x2D\r*\n([\s\S]+?)\r*\n\x2D\x2D\x2D\x2D\x2DEND CERTIFICATE\x2D\x2D\x2D\x2D\x2D/g,n=[];null!==(t=r.exec(e));)n.push(t[1].replace(/\r*\n/g,Be.EMPTY_STRING));return n}}])}(),Io="2.10.0",To="no_loopback_server_exists",Co=function(e){function t(e,r){var n;return P(this,t),(n=_(this,t,[e,r])).name="NodeAuthError",n}return C(t,e),M(t,null,[{key:"createInvalidLoopbackAddressTypeError",value:function(){return new t("invalid_loopback_server_address_type","".concat("Loopback server address is not type string. This is unexpected."))}},{key:"createUnableToLoadRedirectUrlError",value:function(){return new t("unable_to_load_redirectUrl","".concat("Loopback server callback was invoked without a url. This is unexpected."))}},{key:"createNoAuthCodeInResponseError",value:function(){return new t("no_auth_code_in_response","".concat("No auth code found in the server response. Please check your network trace to determine what happened."))}},{key:"createNoLoopbackServerExistsError",value:function(){return new t(To,"".concat("No loopback server exists yet."))}},{key:"createLoopbackServerAlreadyExistsError",value:function(){return new t("loopback_server_already_exists","".concat("Loopback server already exists. Cannot create another."))}},{key:"createLoopbackServerTimeoutError",value:function(){return new t("loopback_server_timeout","".concat("Timed out waiting for auth code listener to be registered."))}},{key:"createStateNotFoundError",value:function(){return new t("state_not_found","State not found. Please verify that the request originated from msal.")}}])}(bt),Oo=function(e){function t(e){return P(this,t),_(this,t,[e])}return C(t,e),M(t,[{key:"acquireToken",value:(i=S(N().mark((function e(t){var r,n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("in acquireToken call in username-password client"),r=yn(),e.next=4,this.executeTokenRequest(this.authority,t);case 4:return n=e.sent,i=new Mi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin),e.abrupt("return",(i.validateTokenResponse(n.body),i.handleServerTokenResponse(n.body,this.authority,r,t)));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"executeTokenRequest",value:(n=S(N().mark((function e(t,r){var n,i,o,a,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createTokenQueryParameters(r),i=Cr.appendQueryString(t.tokenEndpoint,n),e.next=4,this.createTokenRequestBody(r);case 4:return o=e.sent,a=this.createTokenRequestHeaders({credential:r.username,type:di}),s={clientId:this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},e.abrupt("return",this.executePostToTokenEndpoint(i,o,a,s,r.correlationId));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"createTokenRequestBody",value:(r=S(N().mark((function e(t){var r,n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=new bi).addClientId(this.config.authOptions.clientId),r.addUsername(t.username),r.addPassword(t.password),r.addScopes(t.scopes),r.addResponseTypeForTokenAndIdToken(),r.addGrantType("password"),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),n=t.correlationId||this.config.cryptoInterface.createNewGuid(),r.addCorrelationId(n),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),i=this.config.clientCredentials.clientAssertion,e.t0=i,!e.t0){e.next=13;break}return e.t1=r,e.next=10,qi(i.assertion,this.config.authOptions.clientId,t.resourceRequestUri);case 10:e.t2=e.sent,e.t1.addClientAssertion.call(e.t1,e.t2),r.addClientAssertionType(i.assertionType);case 13:return(!Ut.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(t.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&t.username&&r.addCcsUpn(t.username),e.abrupt("return",r.createQueryString());case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}]);var r,n,i}(Ai),No=function(){return M((function e(t){P(this,e),this.config=function(e){var t=e.auth,r=e.broker,n=e.cache,i=e.system,o=e.telemetry,a=E(E({},Zi),{},{networkClient:new Ki(null==i?void 0:i.proxyUrl,null==i?void 0:i.customAgentOptions),loggerOptions:(null==i?void 0:i.loggerOptions)||Ji,disableInternalRetries:(null==i?void 0:i.disableInternalRetries)||!1});return{auth:E(E({},Yi),t),broker:E({},r),cache:E(E({},Xi),n),system:E(E({},a),i),telemetry:E(E({},eo),o)}}(t),this.cryptoProvider=new mo,this.logger=new wt(this.config.system.loggerOptions,"@azure/msal-node",Io),this.storage=new vo(this.logger,this.config.auth.clientId,this.cryptoProvider,function(e){var t,r=e.cloudDiscoveryMetadata;if(r)try{t=JSON.parse(r)}catch(e){throw jt(Pt)}return{canonicalAuthority:e.authority?qn(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:t}}(this.config.auth)),this.tokenCache=new So(this.storage,this.logger,this.config.cache.cachePlugin)}),[{key:"getAuthCodeUrl",value:(c=S(N().mark((function e(t){var r,n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("getAuthCodeUrl called",t.correlationId),e.t0=E,e.t1=E,e.t2=E({},t),e.next=6,this.initializeBaseRequest(t);case 6:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6={responseMode:t.responseMode||We,authenticationScheme:at.BEARER},r=(0,e.t0)(e.t4,e.t5,e.t6),e.next=13,this.buildOauthClientConfiguration(r.authority,r.correlationId,void 0,void 0,t.azureCloudOptions);case 13:return n=e.sent,i=new Bi(n),e.abrupt("return",(this.logger.verbose("Auth code client created",r.correlationId),i.getAuthCodeUrl(r)));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"acquireTokenByCode",value:(s=S(N().mark((function e(t,r){var n,i,o,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("acquireTokenByCode called"),t.state&&r&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(t.state,r.state||""),r=E(E({},r),{},{state:""})),e.t0=E,e.t1=E,e.t2=E({},t),e.next=6,this.initializeBaseRequest(t);case 6:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6={authenticationScheme:at.BEARER},n=(0,e.t0)(e.t4,e.t5,e.t6),i=this.initializeServerTelemetryManager(871,n.correlationId),e.prev=12,e.next=15,this.buildOauthClientConfiguration(n.authority,n.correlationId,i,void 0,t.azureCloudOptions);case 15:return o=e.sent,a=new Bi(o),this.logger.verbose("Auth code client created",n.correlationId),e.next=20,a.acquireToken(n,r);case 20:return e.abrupt("return",e.sent);case 23:throw e.prev=23,e.t7=e.catch(12),e.t7 instanceof bt&&e.t7.setCorrelationId(n.correlationId),i.cacheFailedRequest(e.t7),e.t7;case 26:case"end":return e.stop()}}),e,this,[[12,23]])}))),function(e,t){return s.apply(this,arguments)})},{key:"acquireTokenByRefreshToken",value:(a=S(N().mark((function e(t){var r,n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("acquireTokenByRefreshToken called",t.correlationId),e.t0=E,e.t1=E,e.t2=E({},t),e.next=6,this.initializeBaseRequest(t);case 6:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6={authenticationScheme:at.BEARER},r=(0,e.t0)(e.t4,e.t5,e.t6),n=this.initializeServerTelemetryManager(872,r.correlationId),e.prev=12,e.next=15,this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,t.azureCloudOptions);case 15:return i=e.sent,o=new ji(i),this.logger.verbose("Refresh token client created",r.correlationId),e.next=20,o.acquireToken(r);case 20:return e.abrupt("return",e.sent);case 23:throw e.prev=23,e.t7=e.catch(12),e.t7 instanceof bt&&e.t7.setCorrelationId(r.correlationId),n.cacheFailedRequest(e.t7),e.t7;case 26:case"end":return e.stop()}}),e,this,[[12,23]])}))),function(e){return a.apply(this,arguments)})},{key:"acquireTokenSilent",value:(o=S(N().mark((function e(t){var r,n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=E,e.t1=E,e.t2=E({},t),e.next=5,this.initializeBaseRequest(t);case 5:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={},e.t6={forceRefresh:t.forceRefresh||!1},r=(0,e.t0)(e.t4,e.t5,e.t6),n=this.initializeServerTelemetryManager(62,r.correlationId,r.forceRefresh),e.prev=11,e.next=14,this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,t.azureCloudOptions);case 14:return i=e.sent,o=new Ui(i),this.logger.verbose("Silent flow client created",r.correlationId),e.next=19,o.acquireToken(r);case 19:return e.abrupt("return",e.sent);case 22:throw e.prev=22,e.t7=e.catch(11),e.t7 instanceof bt&&e.t7.setCorrelationId(r.correlationId),n.cacheFailedRequest(e.t7),e.t7;case 25:case"end":return e.stop()}}),e,this,[[11,22]])}))),function(e){return o.apply(this,arguments)})},{key:"acquireTokenByUsernamePassword",value:(i=S(N().mark((function e(t){var r,n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("acquireTokenByUsernamePassword called",t.correlationId),e.t0=E,e.t1=E({},t),e.next=5,this.initializeBaseRequest(t);case 5:return e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2),n=this.initializeServerTelemetryManager(371,r.correlationId),e.prev=8,e.next=11,this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,t.azureCloudOptions);case 11:return i=e.sent,o=new Oo(i),this.logger.verbose("Username password client created",r.correlationId),e.next=16,o.acquireToken(r);case 16:return e.abrupt("return",e.sent);case 19:throw e.prev=19,e.t3=e.catch(8),e.t3 instanceof bt&&e.t3.setCorrelationId(r.correlationId),n.cacheFailedRequest(e.t3),e.t3;case 22:case"end":return e.stop()}}),e,this,[[8,19]])}))),function(e){return i.apply(this,arguments)})},{key:"getTokenCache",value:function(){return this.logger.info("getTokenCache called"),this.tokenCache}},{key:"validateState",value:function(e,t){if(!e)throw Co.createStateNotFoundError();if(e!==t)throw Ir(Yt)}},{key:"getLogger",value:function(){return this.logger}},{key:"setLogger",value:function(e){this.logger=e}},{key:"buildOauthClientConfiguration",value:(n=S(N().mark((function e(t,r,n,i,o){var a,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.verbose("buildOauthClientConfiguration called",r),a=o||this.config.auth.azureCloudOptions,e.next=4,this.createAuthority(t,r,i,a);case 4:return s=e.sent,this.logger.info("Building oauth client configuration with the following authority: ".concat(s.tokenEndpoint,"."),r),null!=n&&n.updateRegionDiscoveryMetadata(s.regionDiscoveryMetadata),e.t0={clientId:this.config.auth.clientId,authority:s,clientCapabilities:this.config.auth.clientCapabilities},e.t1={logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:r},e.t2={claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},e.t3=this.cryptoProvider,e.t4=this.config.system.networkClient,e.t5=this.storage,e.t6=n,e.t7=this.clientSecret,e.next=17,this.getClientAssertion(s);case 17:return e.t8=e.sent,e.t9={clientSecret:e.t7,clientAssertion:e.t8},e.t10={sku:"msal.js.node",version:Io,cpu:process.arch||Be.EMPTY_STRING,os:process.platform||Be.EMPTY_STRING},e.t11=this.config.telemetry,e.t12=this.config.cache.cachePlugin,e.t13=this.tokenCache,e.abrupt("return",{authOptions:e.t0,loggerOptions:e.t1,cacheOptions:e.t2,cryptoInterface:e.t3,networkInterface:e.t4,storageInterface:e.t5,serverTelemetryManager:e.t6,clientCredentials:e.t9,libraryInfo:e.t10,telemetry:e.t11,persistencePlugin:e.t12,serializableCache:e.t13});case 24:case"end":return e.stop()}}),e,this)}))),function(e,t,r,i,o){return n.apply(this,arguments)})},{key:"getClientAssertion",value:(r=S(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.developerProvidedClientAssertion,!e.t0){e.next=7;break}return e.t1=ko,e.next=5,qi(this.developerProvidedClientAssertion,this.config.auth.clientId,t.tokenEndpoint);case 5:e.t2=e.sent,this.clientAssertion=e.t1.fromAssertion.call(e.t1,e.t2);case 7:return e.abrupt("return",this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,t.tokenEndpoint),assertionType:ht});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"initializeBaseRequest",value:(t=S(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.verbose("initializeRequestScopes called",t.correlationId),t.authenticationScheme&&t.authenticationScheme===at.POP&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",t.correlationId),t.authenticationScheme=at.BEARER,e.t0=this.config.cache.claimsBasedCachingEnabled&&t.claims&&!Ut.isEmptyObj(t.claims),!e.t0){e.next=8;break}return e.next=7,this.cryptoProvider.hashString(t.claims);case 7:t.requestedClaimsHash=e.sent;case 8:return e.abrupt("return",E(E({},t),{},{scopes:[].concat(m(t&&t.scopes||[]),je),correlationId:t&&t.correlationId||this.cryptoProvider.createNewGuid(),authority:t.authority||this.config.auth.authority}));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"initializeServerTelemetryManager",value:function(e,t,r){var n={clientId:this.config.auth.clientId,correlationId:t,apiId:e,forceRefresh:r||!1};return new Fi(n,this.storage)}},{key:"createAuthority",value:(e=S(N().mark((function e(t,r,n,i){var o,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.verbose("createAuthority called",r),o=Mn.generateAuthority(t,i),a={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:n,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},e.abrupt("return",Ei(o,this.config.system.networkClient,this.storage,a,this.logger,r));case 3:case"end":return e.stop()}}),e,this)}))),function(t,r,n,i){return e.apply(this,arguments)})},{key:"clearCache",value:function(){this.storage.clear()}}]);var e,t,r,n,i,o,a,s,c}(),Ro=function(){return M((function e(){P(this,e)}),[{key:"listenForAuthCode",value:(e=S(N().mark((function e(t,r){var n=this;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.server){e.next=2;break}throw Co.createLoopbackServerAlreadyExistsError();case 2:return e.abrupt("return",new Promise((function(e,i){n.server=Hi.createServer((function(o,a){var s=o.url;if(!s)return a.end(r||"Error occurred loading redirectUrl"),void i(Co.createUnableToLoadRedirectUrlError());if(s!==Be.FORWARD_SLASH){var c=n.getRedirectUri(),u=Tr(new URL(s,c).search)||{};u.code&&(a.writeHead(302,{location:c}),a.end()),e(u)}else a.end(t||"Auth code was successfully acquired. You can close this window now.")})),n.server.listen(0)})));case 3:case"end":return e.stop()}}),e,this)}))),function(t,r){return e.apply(this,arguments)})},{key:"getRedirectUri",value:function(){if(!this.server||!this.server.listening)throw Co.createNoLoopbackServerExistsError();var e=this.server.address();if(!e||"string"==typeof e||!e.port)throw this.closeServer(),Co.createInvalidLoopbackAddressTypeError();var t=e&&e.port;return"".concat(mt).concat(gt,":").concat(t)}},{key:"closeServer",value:function(){this.server&&(this.server.close(),"function"==typeof this.server.closeAllConnections&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}}]);var e}(),Po=function(e){function t(e){return P(this,t),_(this,t,[e])}return C(t,e),M(t,[{key:"acquireToken",value:(o=S(N().mark((function e(t){var r,n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDeviceCode(t);case 2:return r=e.sent,t.deviceCodeCallback(r),n=yn(),e.next=7,this.acquireTokenWithDeviceCode(t,r);case 7:return i=e.sent,o=new Mi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin),e.abrupt("return",(o.validateTokenResponse(i),o.handleServerTokenResponse(i,this.authority,n,t)));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getDeviceCode",value:(i=S(N().mark((function e(t){var r,n,i,o,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.createExtraQueryParameters(t),n=Cr.appendQueryString(this.authority.deviceCodeEndpoint,r),i=this.createQueryString(t),o=this.createTokenRequestHeaders(),a={clientId:this.config.authOptions.clientId,authority:t.authority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},e.abrupt("return",this.executePostRequestToDeviceCodeEndpoint(n,i,o,a));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"createExtraQueryParameters",value:function(e){var t=new bi;return e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()}},{key:"executePostRequestToDeviceCodeEndpoint",value:(n=S(N().mark((function e(t,r,n,i){var o,a,s,c,u,l,p,d;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.networkManager.sendPostRequest(i,t,{body:r,headers:n});case 2:return o=e.sent,a=o.body,s=a.user_code,c=a.device_code,u=a.verification_uri,l=a.expires_in,p=a.interval,d=a.message,e.abrupt("return",{userCode:s,deviceCode:c,verificationUri:u,expiresIn:l,interval:p,message:d});case 11:case"end":return e.stop()}}),e,this)}))),function(e,t,r,i){return n.apply(this,arguments)})},{key:"createQueryString",value:function(e){var t=new bi;return t.addScopes(e.scopes),t.addClientId(this.config.authOptions.clientId),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}},{key:"continuePolling",value:function(e,t,r){if(r)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),Ir(sr);if(t&&t<e&&yn()>t)throw this.logger.error("User defined timeout for device code polling reached. The timeout was set for ".concat(t)),Ir(yr);if(yn()>e)throw t&&this.logger.verbose("User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ".concat(t)),this.logger.error("Device code expired. Expiration time of device code was ".concat(e)),Ir(cr);return!0}},{key:"acquireTokenWithDeviceCode",value:(r=S(N().mark((function e(t,r){var n,i,o,a,s,c,u,l,p,d,h;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.createTokenQueryParameters(t),i=Cr.appendQueryString(this.authority.tokenEndpoint,n),o=this.createTokenRequestBody(t,r),a=this.createTokenRequestHeaders(),s=t.timeout?yn()+t.timeout:void 0,c=yn()+r.expiresIn,u=1e3*r.interval;case 1:if(!this.continuePolling(c,s,t.cancel)){e.next=15;break}return l={clientId:this.config.authOptions.clientId,authority:t.authority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},e.next=5,this.executePostToTokenEndpoint(i,o,a,l,t.correlationId);case 5:if((p=e.sent).body&&p.body.error){e.next=8;break}return e.abrupt("return",(this.logger.verbose("Authorization completed successfully. Polling stopped."),p.body));case 8:if(p.body.error===Be.AUTHORIZATION_PENDING){e.next=10;break}throw this.logger.info("Unexpected error in polling from the server"),d=yt,h=p.body.error,new bt(d,h?"".concat(vt[d]," ").concat(h):vt[d]);case 10:return this.logger.info("Authorization pending. Continue polling."),e.next=13,bn(u);case 13:e.next=1;break;case 15:throw this.logger.error("Polling stopped for unknown reasons."),Ir(ur);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"createTokenRequestBody",value:function(e,t){var r=new bi;r.addScopes(e.scopes),r.addClientId(this.config.authOptions.clientId),r.addGrantType("device_code"),r.addDeviceCode(t.deviceCode);var n=e.correlationId||this.config.cryptoInterface.createNewGuid();return r.addCorrelationId(n),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),(!Ut.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),r.createQueryString()}}]);var r,n,i,o}(Ai),Lo=function(e){function t(e){var r;return P(this,t),(r=_(this,t,[e])).config.broker.nativeBrokerPlugin&&(r.config.broker.nativeBrokerPlugin.isBrokerAvailable?(r.nativeBrokerPlugin=r.config.broker.nativeBrokerPlugin,r.nativeBrokerPlugin.setLogger(r.config.system.loggerOptions)):r.logger.warning("NativeBroker implementation was provided but the broker is unavailable.")),r}return C(t,e),M(t,[{key:"acquireTokenByDeviceCode",value:(u=S(N().mark((function e(t){var r,n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("acquireTokenByDeviceCode called",t.correlationId),e.t0=Object,e.t1=t,e.next=5,this.initializeBaseRequest(t);case 5:return e.t2=e.sent,r=e.t0.assign.call(e.t0,e.t1,e.t2),n=this.initializeServerTelemetryManager(671,r.correlationId),e.prev=8,e.next=11,this.buildOauthClientConfiguration(r.authority,r.correlationId,n,void 0,t.azureCloudOptions);case 11:return i=e.sent,o=new Po(i),this.logger.verbose("Device code client created",r.correlationId),e.next=16,o.acquireToken(r);case 16:return e.abrupt("return",e.sent);case 19:throw e.prev=19,e.t3=e.catch(8),e.t3 instanceof bt&&e.t3.setCorrelationId(r.correlationId),n.cacheFailedRequest(e.t3),e.t3;case 22:case"end":return e.stop()}}),e,this,[[8,19]])}))),function(e){return u.apply(this,arguments)})},{key:"acquireTokenInteractive",value:(s=S(N().mark((function e(t){var r,n,i,a,s,u,l,p,d,h,f,m,g,y,v,b,w,A,x,S,_;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.correlationId||this.cryptoProvider.createNewGuid(),this.logger.trace("acquireTokenInteractive called",r),n=t.openBrowser,i=t.successTemplate,a=t.errorTemplate,s=t.windowHandle,u=t.loopbackClient,l=c(t,o),!this.nativeBrokerPlugin){e.next=6;break}return d=E(E({},l),{},{clientId:this.config.auth.clientId,scopes:t.scopes||je,redirectUri:"".concat(mt).concat(gt),authority:t.authority||this.config.auth.authority,correlationId:r,extraParameters:E(E({},l.extraQueryParameters),l.tokenQueryParameters),accountId:null===(p=l.account)||void 0===p?void 0:p.nativeAccountId}),e.abrupt("return",this.nativeBrokerPlugin.acquireTokenInteractive(d,s));case 6:return e.next=8,this.cryptoProvider.generatePkceCodes();case 8:return h=e.sent,f=h.verifier,m=h.challenge,g=u||new Ro,y={},v=null,e.prev=13,b=g.listenForAuthCode(i,a).then((function(e){y=e})).catch((function(e){v=e})),e.next=17,this.waitForRedirectUri(g);case 17:return w=e.sent,A=E(E({},l),{},{correlationId:r,scopes:t.scopes||je,redirectUri:w,responseMode:We,codeChallenge:m,codeChallengeMethod:$e.S256}),e.next=21,this.getAuthCodeUrl(A);case 21:return x=e.sent,e.next=24,n(x);case 24:return e.next=26,b;case 26:if(!v){e.next=28;break}throw v;case 28:if(!y.error){e.next=30;break}throw new Et(y.error,y.error_description,y.suberror);case 30:if(y.code){e.next=32;break}throw Co.createNoAuthCodeInResponseError();case 32:return S=y.client_info,_=E({code:y.code,codeVerifier:f,clientInfo:S||Be.EMPTY_STRING},A),e.next=35,this.acquireTokenByCode(_);case 35:return e.abrupt("return",e.sent);case 36:return e.prev=36,g.closeServer(),e.finish(36);case 39:case"end":return e.stop()}}),e,this,[[13,,36,39]])}))),function(e){return s.apply(this,arguments)})},{key:"acquireTokenSilent",value:(a=S(N().mark((function e(r){var n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.correlationId||this.cryptoProvider.createNewGuid(),this.logger.trace("acquireTokenSilent called",n),!this.nativeBrokerPlugin){e.next=4;break}return i=E(E({},r),{},{clientId:this.config.auth.clientId,scopes:r.scopes||je,redirectUri:"".concat(mt).concat(gt),authority:r.authority||this.config.auth.authority,correlationId:n,extraParameters:r.tokenQueryParameters,accountId:r.account.nativeAccountId,forceRefresh:r.forceRefresh||!1}),e.abrupt("return",this.nativeBrokerPlugin.acquireTokenSilent(i));case 4:return e.abrupt("return",w(t,"acquireTokenSilent",this,3)([r]));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"signOut",value:(i=S(N().mark((function e(t){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.nativeBrokerPlugin||!t.account.nativeAccountId){e.next=4;break}return r={clientId:this.config.auth.clientId,accountId:t.account.nativeAccountId,correlationId:t.correlationId||this.cryptoProvider.createNewGuid()},e.next=4,this.nativeBrokerPlugin.signOut(r);case 4:return e.next=6,this.getTokenCache().removeAccount(t.account);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getAllAccounts",value:(n=S(N().mark((function e(){var t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.nativeBrokerPlugin){e.next=3;break}return t=this.cryptoProvider.createNewGuid(),e.abrupt("return",this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,t));case 3:return e.abrupt("return",this.getTokenCache().getAllAccounts());case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"waitForRedirectUri",value:(r=S(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=0,i=setInterval((function(){if(50<n)return clearInterval(i),void r(Co.createLoopbackServerTimeoutError());try{var o=t.getRedirectUri();return clearInterval(i),void e(o)}catch(e){return e instanceof bt&&e.errorCode===To?void n++:(clearInterval(i),void r(e))}}),100)})));case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})}]);var r,n,i,a,s,u}(No),Mo=function(e){function t(e,r){var n;return P(this,t),(n=_(this,t,[e])).appTokenProvider=r,n}return C(t,e),M(t,[{key:"acquireToken",value:(o=S(N().mark((function e(t){var r,n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.skipCache&&!t.claims){e.next=2;break}return e.abrupt("return",this.executeTokenRequest(t,this.authority));case 2:return e.next=4,this.getCachedAuthenticationResult(t,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);case 4:if(r=e.sent,n=u(r,2),i=n[0],o=n[1],!i){e.next=15;break}if(o!==pt){e.next=14;break}return this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),e.next=14,this.executeTokenRequest(t,this.authority,!0);case 14:return e.abrupt("return",i);case 15:return e.abrupt("return",this.executeTokenRequest(t,this.authority));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getCachedAuthenticationResult",value:(i=S(N().mark((function e(t,r,n,i,o,a){var s,c,u,l,p,d,h;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r,l=r,d=ct,e.t0=u.serializableCache&&u.persistencePlugin,!e.t0){e.next=7;break}return p=new Li(u.serializableCache,!1),e.next=7,u.persistencePlugin.beforeCacheAccess(p);case 7:if(h=this.readAccessTokenFromCache(i,(null===(s=l.managedIdentityId)||void 0===s?void 0:s.id)||u.authOptions.clientId,new Un(t.scopes||[]),o),e.t1=u.serializableCache&&u.persistencePlugin&&p,!e.t1){e.next=12;break}return e.next=12,u.persistencePlugin.afterCacheAccess(p);case 12:if(!h){e.next=26;break}if(!vn(h.expiresOn,(null===(c=u.systemOptions)||void 0===c?void 0:c.tokenRenewalOffsetSeconds)||300)){e.next=17;break}e.t3=(null!=a&&a.setCacheOutcome(lt),[null,lt]),e.next=23;break;case 17:return h.refreshOn&&vn(h.refreshOn.toString(),0)&&(d=pt,null!=a&&a.setCacheOutcome(pt)),e.next=20,Mi.generateAuthenticationResult(n,i,{account:null,idToken:null,accessToken:h,refreshToken:null,appMetadata:null},!0,t);case 20:e.t4=e.sent,e.t5=d,e.t3=[e.t4,e.t5];case 23:e.t2=e.t3,e.next=27;break;case 26:e.t2=(null!=a&&a.setCacheOutcome(ut),[null,ut]);case 27:return e.abrupt("return",e.t2);case 28:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o,a){return i.apply(this,arguments)})},{key:"readAccessTokenFromCache",value:function(e,t,r,n){var i={homeAccountId:Be.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:Xe.ACCESS_TOKEN,clientId:t,realm:e.tenant,target:Un.createSearchScopes(r.asArray())},o=n.getAccessTokensByFilter(i);if(o.length<1)return null;if(o.length>1)throw Ir(tr);return o[0]}},{key:"executeTokenRequest",value:(n=S(N().mark((function e(t,r,n){var i,o,a,s,c,u,l,p,d,h,f;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appTokenProvider){e.next=10;break}return this.logger.info("Using appTokenProvider extensibility."),a={correlationId:t.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:t.scopes,claims:t.claims},o=yn(),e.next=6,this.appTokenProvider(a);case 6:s=e.sent,i={access_token:s.accessToken,expires_in:s.expiresInSeconds,refresh_in:s.refreshInSeconds,token_type:at.BEARER},e.next=22;break;case 10:return c=this.createTokenQueryParameters(t),u=Cr.appendQueryString(r.tokenEndpoint,c),e.next=14,this.createTokenRequestBody(t);case 14:return l=e.sent,p=this.createTokenRequestHeaders(),d={clientId:this.config.authOptions.clientId,authority:t.authority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},this.logger.info("Sending token request to endpoint: "+r.tokenEndpoint),o=yn(),e.next=20,this.executePostToTokenEndpoint(u,l,p,d,t.correlationId);case 20:h=e.sent,(i=h.body).status=h.status;case 22:return(f=new Mi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(i,n),e.next=26,f.handleServerTokenResponse(i,this.authority,o,t);case 26:return e.abrupt("return",e.sent);case 27:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"createTokenRequestBody",value:(r=S(N().mark((function e(t){var r,n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=new bi).addClientId(this.config.authOptions.clientId),r.addScopes(t.scopes,!1),r.addGrantType("client_credentials"),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),n=t.correlationId||this.config.cryptoInterface.createNewGuid(),r.addCorrelationId(n),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),i=t.clientAssertion||this.config.clientCredentials.clientAssertion,e.t0=i,!e.t0){e.next=13;break}return e.t1=r,e.next=10,qi(i.assertion,this.config.authOptions.clientId,t.resourceRequestUri);case 10:e.t2=e.sent,e.t1.addClientAssertion.call(e.t1,e.t2),r.addClientAssertionType(i.assertionType);case 13:return(!Ut.isEmptyObj(t.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(t.claims,this.config.authOptions.clientCapabilities),e.abrupt("return",r.createQueryString());case 15:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}]);var r,n,i,o}(Ai),qo=function(e){function t(e){return P(this,t),_(this,t,[e])}return C(t,e),M(t,[{key:"acquireToken",value:(o=S(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.scopeSet=new Un(t.scopes||[]),e.next=3,this.cryptoUtils.hashString(t.oboAssertion);case 3:if(this.userAssertionHash=e.sent,!t.skipCache&&!t.claims){e.next=6;break}return e.abrupt("return",this.executeTokenRequest(t,this.authority,this.userAssertionHash));case 6:return e.prev=6,e.next=9,this.getCachedAuthenticationResult(t);case 9:case 16:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(6),e.next=16,this.executeTokenRequest(t,this.authority,this.userAssertionHash);case 17:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e){return o.apply(this,arguments)})},{key:"getCachedAuthenticationResult",value:(i=S(N().mark((function e(t){var r,n,i,o,a,s,c,u;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,t)){e.next=3;break}throw null!==(r=this.serverTelemetryManager)&&void 0!==r&&r.setCacheOutcome(ut),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),Ir(gr);case 3:if(!vn(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds)){e.next=5;break}throw null!==(n=this.serverTelemetryManager)&&void 0!==n&&n.setCacheOutcome(lt),this.logger.info("OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ".concat(this.config.systemOptions.tokenRenewalOffsetSeconds," seconds.")),Ir(gr);case 5:return o=this.readIdTokenFromCacheForOBO(i.homeAccountId),s=null,o&&(a=mn(o.secret,po.base64Decode),c=a.oid||a.sub,u={homeAccountId:o.homeAccountId,environment:o.environment,tenantId:o.realm,username:Be.EMPTY_STRING,localAccountId:c||Be.EMPTY_STRING},s=this.cacheManager.readAccountFromCache(u)),e.abrupt("return",(this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),Mi.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:s,accessToken:i,idToken:o,refreshToken:null,appMetadata:null},!0,t,a)));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"readIdTokenFromCacheForOBO",value:function(e){var t={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:Xe.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},r=this.cacheManager.getIdTokensByFilter(t);return Object.values(r).length<1?null:Object.values(r)[0]}},{key:"readAccessTokenFromCacheForOBO",value:function(e,t){var r=t.authenticationScheme||at.BEARER,n={credentialType:r&&r.toLowerCase()!==at.BEARER.toLowerCase()?Xe.ACCESS_TOKEN_WITH_AUTH_SCHEME:Xe.ACCESS_TOKEN,clientId:e,target:Un.createSearchScopes(this.scopeSet.asArray()),tokenType:r,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash,userAssertionHash:this.userAssertionHash},i=this.cacheManager.getAccessTokensByFilter(n),o=i.length;if(o<1)return null;if(o>1)throw Ir(tr);return i[0]}},{key:"executeTokenRequest",value:(n=S(N().mark((function e(t,r,n){var i,o,a,s,c,u,l,p;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.createTokenQueryParameters(t),o=Cr.appendQueryString(r.tokenEndpoint,i),e.next=4,this.createTokenRequestBody(t);case 4:return a=e.sent,s=this.createTokenRequestHeaders(),c={clientId:this.config.authOptions.clientId,authority:t.authority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},u=yn(),e.next=10,this.executePostToTokenEndpoint(o,a,s,c,t.correlationId);case 10:return l=e.sent,(p=new Mi(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(l.body),e.next=15,p.handleServerTokenResponse(l.body,this.authority,u,t,void 0,n);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"createTokenRequestBody",value:(r=S(N().mark((function e(t){var r,n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=new bi).addClientId(this.config.authOptions.clientId),r.addScopes(t.scopes),r.addGrantType("urn:ietf:params:oauth:grant-type:jwt-bearer"),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),n=t.correlationId||this.config.cryptoInterface.createNewGuid(),r.addCorrelationId(n),r.addRequestTokenUse("on_behalf_of"),r.addOboAssertion(t.oboAssertion),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),i=this.config.clientCredentials.clientAssertion,e.t0=i,!e.t0){e.next=13;break}return e.t1=r,e.next=10,qi(i.assertion,this.config.authOptions.clientId,t.resourceRequestUri);case 10:e.t2=e.sent,e.t1.addClientAssertion.call(e.t1,e.t2),r.addClientAssertionType(i.assertionType);case 13:return(t.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(t.claims,this.config.authOptions.clientCapabilities),e.abrupt("return",r.createQueryString());case 15:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}]);var r,n,i,o}(Ai),Do=function(e){function t(e){var r;return P(this,t),(r=_(this,t,[e])).setClientCredential(r.config),r.appTokenProvider=void 0,r}return C(t,e),M(t,[{key:"SetAppTokenProvider",value:function(e){this.appTokenProvider=e}},{key:"acquireTokenByClientCredential",value:(n=S(N().mark((function e(t){var r,n,i,o,a,s,c,u,l;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.logger.info("acquireTokenByClientCredential called",t.correlationId),e.t0=t.clientAssertion,!e.t0){e.next=8;break}return e.next=5,qi(t.clientAssertion,this.config.auth.clientId);case 5:e.t1=e.sent,e.t2=ht,r={assertion:e.t1,assertionType:e.t2};case 8:return e.next=10,this.initializeBaseRequest(t);case 10:if(n=e.sent,i=E(E({},n),{},{scopes:n.scopes.filter((function(e){return!je.includes(e)}))}),o=E(E(E({},t),i),{},{clientAssertion:r}),a=new Cr(o.authority).getUrlComponents().PathSegments[0],!Object.values(Qe).includes(a)){e.next=16;break}throw Ir(xr);case 16:return s={azureRegion:o.azureRegion,environmentRegion:process.env.REGION_NAME},c=this.initializeServerTelemetryManager(771,o.correlationId,o.skipCache),e.prev=17,e.next=20,this.buildOauthClientConfiguration(o.authority,o.correlationId,c,s,t.azureCloudOptions);case 20:return u=e.sent,l=new Mo(u,this.appTokenProvider),this.logger.verbose("Client credential client created",o.correlationId),e.next=25,l.acquireToken(o);case 25:return e.abrupt("return",e.sent);case 28:throw e.prev=28,e.t3=e.catch(17),e.t3 instanceof bt&&e.t3.setCorrelationId(o.correlationId),c.cacheFailedRequest(e.t3),e.t3;case 31:case"end":return e.stop()}}),e,this,[[17,28]])}))),function(e){return n.apply(this,arguments)})},{key:"acquireTokenOnBehalfOf",value:(r=S(N().mark((function e(t){var r,n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.info("acquireTokenOnBehalfOf called",t.correlationId),e.t0=E,e.t1=E({},t),e.next=5,this.initializeBaseRequest(t);case 5:return e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2),e.prev=7,e.next=10,this.buildOauthClientConfiguration(r.authority,r.correlationId,void 0,void 0,t.azureCloudOptions);case 10:return n=e.sent,i=new qo(n),this.logger.verbose("On behalf of client created",r.correlationId),e.next=15,i.acquireToken(r);case 15:return e.abrupt("return",e.sent);case 18:throw e.prev=18,e.t3=e.catch(7),e.t3 instanceof bt&&e.t3.setCorrelationId(r.correlationId),e.t3;case 21:case"end":return e.stop()}}),e,this,[[7,18]])}))),function(e){return r.apply(this,arguments)})},{key:"setClientCredential",value:function(e){var t=!!e.auth.clientSecret,r=!!e.auth.clientAssertion,n=e.auth.clientCertificate||{thumbprint:Be.EMPTY_STRING,privateKey:Be.EMPTY_STRING},i=!!n.thumbprint||!!n.privateKey;if(!this.appTokenProvider){if(t&&r||r&&i||t&&i)throw Ir(mr);if(e.auth.clientSecret)this.clientSecret=e.auth.clientSecret;else if(e.auth.clientAssertion)this.developerProvidedClientAssertion=e.auth.clientAssertion;else{var o;if(!i)throw Ir(mr);this.clientAssertion=ko.fromCertificate(n.thumbprint,n.privateKey,null===(o=e.auth.clientCertificate)||void 0===o?void 0:o.x5c)}}}}]);var r,n}(No);process.env.ProgramData;var Bo="ManagedIdentityCredential - AppServiceMSI 2017",jo=K(Bo),Uo={name:"appServiceMsi2017",isAvailable:function(e){return S(N().mark((function t(){var r,n;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ye(e.scopes)){t.next=3;break}return t.abrupt("return",(jo.info("".concat(Bo,": Unavailable. Multiple scopes are not supported.")),!1));case 3:return r=process.env,n=Boolean(r.MSI_ENDPOINT&&r.MSI_SECRET),t.abrupt("return",(n||jo.info("".concat(Bo,": Unavailable. The environment variables needed are: MSI_ENDPOINT and MSI_SECRET.")),n));case 5:case"end":return t.stop()}}),t)})))()},getToken:function(e){var t=arguments;return S(N().mark((function r(){var n,i,o,a,s,c;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:{},i=e.identityClient,o=e.scopes,a=e.clientId,e.resourceId&&jo.warning("".concat(Bo,": managed Identity by resource Id is not supported. Argument resourceId might be ignored by the service.")),jo.info("".concat(Bo,": Using the endpoint and the secret coming form the environment variables: MSI_ENDPOINT=").concat(process.env.MSI_ENDPOINT," and MSI_SECRET=[REDACTED].")),s=(0,se.G6)(Object.assign(Object.assign({abortSignal:n.abortSignal},function(e,t){var r=ye(e);if(!r)throw new Error("".concat(Bo,": Multiple scopes are not supported."));var n={resource:r,"api-version":"2017-09-01"};t&&(n.clientid=t);var i=new URLSearchParams(n);if(!process.env.MSI_ENDPOINT)throw new Error("".concat(Bo,": Missing environment variable: MSI_ENDPOINT"));if(!process.env.MSI_SECRET)throw new Error("".concat(Bo,": Missing environment variable: MSI_SECRET"));return{url:"".concat(process.env.MSI_ENDPOINT,"?").concat(i.toString()),method:"GET",headers:(0,se.Nc)({Accept:"application/json",secret:process.env.MSI_SECRET})}}(o,a)),{allowInsecureConnection:!0})),r.next=6,i.sendTokenRequest(s);case 6:return c=r.sent,r.abrupt("return",c&&c.accessToken||null);case 8:case"end":return r.stop()}}),r)})))()}},Fo="ManagedIdentityCredential - AppServiceMSI 2019",zo=K(Fo),Ho={name:"appServiceMsi2019",isAvailable:function(e){return S(N().mark((function t(){var r,n;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ye(e.scopes)){t.next=3;break}return t.abrupt("return",(zo.info("".concat(Fo,": Unavailable. Multiple scopes are not supported.")),!1));case 3:return r=process.env,n=Boolean(r.IDENTITY_ENDPOINT&&r.IDENTITY_HEADER),t.abrupt("return",(n||zo.info("".concat(Fo,": Unavailable. The environment variables needed are: IDENTITY_ENDPOINT and IDENTITY_HEADER.")),n));case 5:case"end":return t.stop()}}),t)})))()},getToken:function(e){var t=arguments;return S(N().mark((function r(){var n,i,o,a,s,c,u;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:{},i=e.identityClient,o=e.scopes,a=e.clientId,s=e.resourceId,zo.info("".concat(Fo,": Using the endpoint and the secret coming form the environment variables: IDENTITY_ENDPOINT=").concat(process.env.IDENTITY_ENDPOINT," and IDENTITY_HEADER=[REDACTED].")),c=(0,se.G6)(Object.assign(Object.assign({abortSignal:n.abortSignal},function(e,t,r){var n=ye(e);if(!n)throw new Error("".concat(Fo,": Multiple scopes are not supported."));var i={resource:n,"api-version":"2019-08-01"};t&&(i.client_id=t),r&&(i.mi_res_id=r);var o=new URLSearchParams(i);if(!process.env.IDENTITY_ENDPOINT)throw new Error("".concat(Fo,": Missing environment variable: IDENTITY_ENDPOINT"));if(!process.env.IDENTITY_HEADER)throw new Error("".concat(Fo,": Missing environment variable: IDENTITY_HEADER"));return{url:"".concat(process.env.IDENTITY_ENDPOINT,"?").concat(o.toString()),method:"GET",headers:(0,se.Nc)({Accept:"application/json","X-IDENTITY-HEADER":process.env.IDENTITY_HEADER})}}(o,a,s)),{allowInsecureConnection:!0})),r.next=6,i.sendTokenRequest(c);case 6:return u=r.sent,r.abrupt("return",u&&u.accessToken||null);case 8:case"end":return r.stop()}}),r)})))()}},Qo=r(3024),Go=a.n(Qo),Ko="ManagedIdentityCredential - Azure Arc MSI",$o=K(Ko),Wo={name:"arc",isAvailable:function(e){return S(N().mark((function t(){var r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ye(e.scopes)){t.next=3;break}return t.abrupt("return",($o.info("".concat(Ko,": Unavailable. Multiple scopes are not supported.")),!1));case 3:return r=Boolean(process.env.IMDS_ENDPOINT&&process.env.IDENTITY_ENDPOINT),t.abrupt("return",(r||$o.info("".concat(Ko,": The environment variables needed are: IMDS_ENDPOINT and IDENTITY_ENDPOINT")),r));case 5:case"end":return t.stop()}}),t)})))()},getToken:function(e){var t=arguments;return S(N().mark((function r(){var n,i,o,a,s,c,u,l,p,d,h;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:{},o=e.identityClient,a=e.scopes,s=e.clientId,c=e.resourceId,s&&$o.warning("".concat(Ko,": user-assigned identities not supported. The argument clientId might be ignored by the service.")),c&&$o.warning("".concat(Ko,": user defined managed Identity by resource Id is not supported. Argument resourceId will be ignored.")),$o.info("".concat(Ko,": Authenticating.")),u=Object.assign(Object.assign({disableJsonStringifyOnBody:!0,deserializationMapper:void 0,abortSignal:n.abortSignal},function(e,t,r){var n=ye(e);if(!n)throw new Error("".concat(Ko,": Multiple scopes are not supported."));var i={resource:n,"api-version":"2019-11-01"};if(t&&(i.client_id=t),r&&(i.msi_res_id=r),!process.env.IDENTITY_ENDPOINT)throw new Error("".concat(Ko,": Missing environment variable: IDENTITY_ENDPOINT"));var o=new URLSearchParams(i);return(0,se.G6)({url:"".concat(process.env.IDENTITY_ENDPOINT,"?").concat(o.toString()),method:"GET",headers:(0,se.Nc)({Accept:"application/json",Metadata:"true"})})}(a,s,c)),{allowInsecureConnection:!0}),r.next=6,function(){var e=S(N().mark((function e(t,r){var n,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendRequest((0,se.G6)(r));case 2:if(401===(n=e.sent).status){e.next=6;break}throw i="",n.bodyAsText&&(i=" Response: ".concat(n.bodyAsText)),new Z(n.status,"".concat(Ko,": To authenticate with Azure Arc MSI, status code 401 is expected on the first request. ").concat(i));case 6:return o=n.headers.get("www-authenticate")||"",e.prev=7,e.abrupt("return",o.split("=").slice(1)[0]);case 11:throw e.prev=11,e.t0=e.catch(7),Error("Invalid www-authenticate header format: ".concat(o));case 14:case"end":return e.stop()}}),e,null,[[7,11]])})));return function(t,r){return e.apply(this,arguments)}}()(o,u);case 6:return function(e){if(!e)throw new Error("".concat(Ko,": Failed to find the token file."));if(!e.endsWith(".key"))throw new Error("".concat(Ko,": unexpected file path from HIMDS service: ").concat(e,"."));var t=function(){switch(process.platform){case"win32":if(!process.env.PROGRAMDATA)throw new Error("".concat(Ko,": PROGRAMDATA environment variable has no value."));return"".concat(process.env.PROGRAMDATA,"\\AzureConnectedMachineAgent\\Tokens");case"linux":return"/var/opt/azcmagent/tokens";default:throw new Error("".concat(Ko,": Unsupported platform ").concat(process.platform,"."))}}();if(!e.startsWith(t))throw new Error("".concat(Ko,": unexpected file path from HIMDS service: ").concat(e,"."));var r=Go().statSync(e);if(r.size>4096)throw new Error("".concat(Ko,": The file at ").concat(e," is larger than expected at ").concat(r.size," bytes."))}(l=r.sent),r.next=10,Go().promises.readFile(l,{encoding:"utf-8"});case 10:return p=r.sent,null===(i=u.headers)||void 0===i||i.set("Authorization","Basic ".concat(p)),d=(0,se.G6)(Object.assign(Object.assign({},u),{allowInsecureConnection:!0})),r.next=15,o.sendTokenRequest(d);case 15:return h=r.sent,r.abrupt("return",h&&h.accessToken||null);case 17:case"end":return r.stop()}}),r)})))()}},Vo="ManagedIdentityCredential - CloudShellMSI",Yo=K(Vo),Xo={name:"cloudShellMsi",isAvailable:function(e){return S(N().mark((function t(){var r;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ye(e.scopes)){t.next=3;break}return t.abrupt("return",(Yo.info("".concat(Vo,": Unavailable. Multiple scopes are not supported.")),!1));case 3:return r=Boolean(process.env.MSI_ENDPOINT),t.abrupt("return",(r||Yo.info("".concat(Vo,": Unavailable. The environment variable MSI_ENDPOINT is needed.")),r));case 5:case"end":return t.stop()}}),t)})))()},getToken:function(e){var t=arguments;return S(N().mark((function r(){var n,i,o,a,s,c,u;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:{},i=e.identityClient,o=e.scopes,a=e.clientId,s=e.resourceId,a&&Yo.warning("".concat(Vo,": user-assigned identities not supported. The argument clientId might be ignored by the service.")),s&&Yo.warning("".concat(Vo,": user defined managed Identity by resource Id not supported. The argument resourceId might be ignored by the service.")),Yo.info("".concat(Vo,": Using the endpoint coming form the environment variable MSI_ENDPOINT = ").concat(process.env.MSI_ENDPOINT,".")),c=(0,se.G6)(Object.assign(Object.assign({abortSignal:n.abortSignal},function(e,t,r){var n=ye(e);if(!n)throw new Error("".concat(Vo,": Multiple scopes are not supported."));var i={resource:n};if(t&&(i.client_id=t),r&&(i.msi_res_id=r),!process.env.MSI_ENDPOINT)throw new Error("".concat(Vo,": Missing environment variable: MSI_ENDPOINT"));var o=new URLSearchParams(i);return{url:process.env.MSI_ENDPOINT,method:"POST",body:o.toString(),headers:(0,se.Nc)({Accept:"application/json",Metadata:"true","Content-Type":"application/x-www-form-urlencoded"})}}(o,a,s)),{allowInsecureConnection:!0})),r.next=6,i.sendTokenRequest(c);case 6:return u=r.sent,r.abrupt("return",u&&u.accessToken||null);case 8:case"end":return r.stop()}}),r)})))()}},Jo="ManagedIdentityCredential - Fabric MSI",Zo=K(Jo),ea={name:"fabricMsi",isAvailable:function(e){return S(N().mark((function t(){var r,n;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ye(e.scopes)){t.next=3;break}return t.abrupt("return",(Zo.info("".concat(Jo,": Unavailable. Multiple scopes are not supported.")),!1));case 3:return r=process.env,n=Boolean(r.IDENTITY_ENDPOINT&&r.IDENTITY_HEADER&&r.IDENTITY_SERVER_THUMBPRINT),t.abrupt("return",(n||Zo.info("".concat(Jo,": Unavailable. The environment variables needed are: IDENTITY_ENDPOINT, IDENTITY_HEADER and IDENTITY_SERVER_THUMBPRINT")),n));case 5:case"end":return t.stop()}}),t)})))()},getToken:function(e){var t=arguments;return S(N().mark((function r(){var n,i,o,a,s,c,u;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:{},i=e.scopes,o=e.identityClient,a=e.clientId,(s=e.resourceId)&&Zo.warning("".concat(Jo,": user defined managed Identity by resource Id is not supported. Argument resourceId might be ignored by the service.")),Zo.info(["".concat(Jo,":"),"Using the endpoint and the secret coming from the environment variables:","IDENTITY_ENDPOINT=".concat(process.env.IDENTITY_ENDPOINT,","),"IDENTITY_HEADER=[REDACTED] and","IDENTITY_SERVER_THUMBPRINT=[REDACTED]."].join(" ")),c=(0,se.G6)(Object.assign({abortSignal:n.abortSignal},function(e,t,r){var n=ye(e);if(!n)throw new Error("".concat(Jo,": Multiple scopes are not supported."));var i={resource:n,"api-version":"2019-07-01-preview"};t&&(i.client_id=t),r&&(i.msi_res_id=r);var o=new URLSearchParams(i);if(!process.env.IDENTITY_ENDPOINT)throw new Error("Missing environment variable: IDENTITY_ENDPOINT");if(!process.env.IDENTITY_HEADER)throw new Error("Missing environment variable: IDENTITY_HEADER");return{url:"".concat(process.env.IDENTITY_ENDPOINT,"?").concat(o.toString()),method:"GET",headers:(0,se.Nc)({Accept:"application/json",secret:process.env.IDENTITY_HEADER})}}(i,a,s))),c.agent=new(Gi().Agent)({rejectUnauthorized:!1}),r.next=7,o.sendTokenRequest(c);case 7:return u=r.sent,r.abrupt("return",u&&u.accessToken||null);case 9:case"end":return r.stop()}}),r)})))()}},ta=K("IdentityUtils"),ra="1.0";function na(e,t,r){var n=function(t){return ta.getToken.info(t),new ne({scopes:Array.isArray(e)?e:[e],getTokenOptions:r,message:t})};if(!t)throw n("No response");if(!t.expiresOn)throw n('Response had no "expiresOn" property.');if(!t.accessToken)throw n('Response had no "accessToken" property.')}function ia(e,t){return t||(t=x),new RegExp("".concat(e,"/?$")).test(t)?t:t.endsWith("/")?t+e:"".concat(t,"/").concat(e)}function oa(e,t,r){return"adfs"===e&&t||r?[t]:[]}var aa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae.Ll?"Node":"Browser";return function(r,n,i){if(!i)switch(r){case De.Error:return void e.info("MSAL ".concat(t," V2 error: ").concat(n));case De.Info:return void e.info("MSAL ".concat(t," V2 info message: ").concat(n));case De.Verbose:return void e.info("MSAL ".concat(t," V2 verbose message: ").concat(n));case De.Warning:return void e.info("MSAL ".concat(t," V2 warning: ").concat(n))}}};function sa(e){switch(e){case"error":return De.Error;case"info":default:return De.Info;case"verbose":return De.Verbose;case"warning":return De.Warning}}function ca(e,t,r){if("AuthError"===t.name||"ClientAuthError"===t.name||"BrowserAuthError"===t.name){var n=t;switch(n.errorCode){case"endpoints_resolution_error":return ta.info(Q(e,t.message)),new X(t.message);case"device_code_polling_cancelled":return new de("The authentication has been aborted by the caller.");case"consent_required":case"interaction_required":case"login_required":ta.info(Q(e,"Authentication returned errorCode ".concat(n.errorCode)));break;default:ta.info(Q(e,"Failed to acquire token: ".concat(t.message)))}}return"ClientConfigurationError"===t.name||"BrowserConfigurationAuthError"===t.name||"AbortError"===t.name?t:"NativeAuthError"===t.name?(ta.info(Q(e,"Error from the native broker: ".concat(t.message," with status code: ").concat(t.statusCode))),t):new ne({scopes:e,getTokenOptions:r,message:t.message})}function ua(e){var t=u(e.authority.match(/([a-z]*\.[a-z]*\.[a-z]*)/)||[""],1)[0];return Object.assign(Object.assign({},e),{localAccountId:e.homeAccountId,environment:t})}function la(e,t){return{authority:ia(t.tenantId,t.environment),homeAccountId:t.homeAccountId,tenantId:t.tenantId||v,username:t.username,clientId:e,version:ra}}function pa(e){return JSON.stringify(e)}function da(e){var t=JSON.parse(e);if(t.version&&t.version!==ra)throw Error("Unsupported AuthenticationRecord version");return t}var ha="ManagedIdentityCredential - IMDS",fa=K(ha);function ma(e,t,r,n){var i,o=ye(e);if(!o)throw new Error("".concat(ha,": Multiple scopes are not supported."));var a=n||{},s=a.skipQuery,c=a.skipMetadataHeader,u="";if(!s){var l={resource:o,"api-version":"2018-02-01"};t&&(l.client_id=t),r&&(l.msi_res_id=r),u="?".concat(new URLSearchParams(l).toString())}var p=new URL("/metadata/identity/oauth2/token",null!==(i=process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)&&void 0!==i?i:ge),d={Accept:"application/json",Metadata:"true"};return c&&delete d.Metadata,{url:"".concat(p).concat(u),method:"GET",headers:(0,se.Nc)(d)}}var ga,ya={name:"imdsMsi",isAvailable:function(e){return S(N().mark((function t(){var r,n,i,o,a,s,c,u;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.scopes,n=e.identityClient,i=e.clientId,o=e.resourceId,a=e.getTokenOptions,s=void 0===a?{}:a,c=ye(r)){t.next=4;break}return t.abrupt("return",(fa.info("".concat(ha,": Unavailable. Multiple scopes are not supported.")),!1));case 4:if(!process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST){t.next=6;break}return t.abrupt("return",!0);case 6:if(n){t.next=8;break}throw new Error("Missing IdentityClient");case 8:return u=ma(c,i,o,{skipMetadataHeader:!0,skipQuery:!0}),t.abrupt("return",fe.withSpan("ManagedIdentityCredential-pingImdsEndpoint",s,function(){var e=S(N().mark((function e(t){var r,i,o,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.tracingOptions=t.tracingOptions,(o=(0,se.G6)(u)).timeout=(null===(r=t.requestOptions)||void 0===r?void 0:r.timeout)||1e3,o.allowInsecureConnection=!0,e.prev=3,fa.info("".concat(ha,": Pinging the Azure IMDS endpoint")),e.next=7,n.sendRequest(o);case 7:a=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",((0,ae.bJ)(e.t0)&&fa.verbose("".concat(ha,": Caught error ").concat(e.t0.name,": ").concat(e.t0.message)),fa.info("".concat(ha,": The Azure IMDS endpoint is unavailable")),!1));case 13:return e.abrupt("return",403===a.status&&(null===(i=a.bodyAsText)||void 0===i?void 0:i.includes("unreachable"))?(fa.info("".concat(ha,": The Azure IMDS endpoint is unavailable")),fa.info("".concat(ha,": ").concat(a.bodyAsText)),!1):(fa.info("".concat(ha,": The Azure IMDS endpoint is available")),!0));case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()));case 10:case"end":return t.stop()}}),t)})))()},getToken:function(e){var t=arguments;return S(N().mark((function r(){var n,i,o,a,s,c,u,l,p;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.length>1&&void 0!==t[1]?t[1]:{},i=e.identityClient,o=e.scopes,a=e.clientId,s=e.resourceId,process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST?fa.info("".concat(ha,": Using the Azure IMDS endpoint coming from the environment variable AZURE_POD_IDENTITY_AUTHORITY_HOST=").concat(process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST,".")):fa.info("".concat(ha,": Using the default Azure IMDS endpoint ").concat(ge,".")),c=e.retryConfig.startDelayInMs,u=0;case 5:if(!(u<e.retryConfig.maxRetries)){r.next=25;break}return r.prev=6,l=(0,se.G6)(Object.assign(Object.assign({abortSignal:n.abortSignal},ma(o,a,s)),{allowInsecureConnection:!0})),r.next=10,i.sendTokenRequest(l);case 10:return p=r.sent,r.abrupt("return",p&&p.accessToken||null);case 14:if(r.prev=14,r.t0=r.catch(6),404!==r.t0.statusCode){r.next=21;break}return r.next=19,(0,ae.cb)(c);case 19:return c*=e.retryConfig.intervalIncrement,r.abrupt("continue",22);case 21:throw r.t0;case 22:u++,r.next=5;break;case 25:throw new Z(404,"".concat(ha,": Failed to retrieve IMDS token after ").concat(e.retryConfig.maxRetries," retries."));case 26:case"end":return r.stop()}}),r,null,[[6,14]])})))()}};function va(e){var t,r,n=e;return void 0===n&&void 0!==(null===(r=null===(t=globalThis.process)||void 0===t?void 0:t.env)||void 0===r?void 0:r.AZURE_REGIONAL_AUTHORITY_NAME)&&(n=process.env.AZURE_REGIONAL_AUTHORITY_NAME),n===ga.AutoDiscoverRegion?"AUTO_DISCOVER":n}!function(e){e.AutoDiscoverRegion="AutoDiscoverRegion",e.USWest="westus",e.USWest2="westus2",e.USCentral="centralus",e.USEast="eastus",e.USEast2="eastus2",e.USNorthCentral="northcentralus",e.USSouthCentral="southcentralus",e.USWestCentral="westcentralus",e.CanadaCentral="canadacentral",e.CanadaEast="canadaeast",e.BrazilSouth="brazilsouth",e.EuropeNorth="northeurope",e.EuropeWest="westeurope",e.UKSouth="uksouth",e.UKWest="ukwest",e.FranceCentral="francecentral",e.FranceSouth="francesouth",e.SwitzerlandNorth="switzerlandnorth",e.SwitzerlandWest="switzerlandwest",e.GermanyNorth="germanynorth",e.GermanyWestCentral="germanywestcentral",e.NorwayWest="norwaywest",e.NorwayEast="norwayeast",e.AsiaEast="eastasia",e.AsiaSouthEast="southeastasia",e.JapanEast="japaneast",e.JapanWest="japanwest",e.AustraliaEast="australiaeast",e.AustraliaSouthEast="australiasoutheast",e.AustraliaCentral="australiacentral",e.AustraliaCentral2="australiacentral2",e.IndiaCentral="centralindia",e.IndiaSouth="southindia",e.IndiaWest="westindia",e.KoreaSouth="koreasouth",e.KoreaCentral="koreacentral",e.UAECentral="uaecentral",e.UAENorth="uaenorth",e.SouthAfricaNorth="southafricanorth",e.SouthAfricaWest="southafricawest",e.ChinaNorth="chinanorth",e.ChinaEast="chinaeast",e.ChinaNorth2="chinanorth2",e.ChinaEast2="chinaeast2",e.GermanyCentral="germanycentral",e.GermanyNorthEast="germanynortheast",e.GovernmentUSVirginia="usgovvirginia",e.GovernmentUSIowa="usgoviowa",e.GovernmentUSArizona="usgovarizona",e.GovernmentUSTexas="usgovtexas",e.GovernmentUSDodEast="usdodeast",e.GovernmentUSDodCentral="usdodcentral"}(ga||(ga={}));var ba=K("MsalClient");function Ea(e,t){var r,n,i,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=W(null!==(r=a.logger)&&void 0!==r?r:ba,t,e),c=ia(s,null!==(n=a.authorityHost)&&void 0!==n?n:process.env.AZURE_AUTHORITY_HOST),u=new we(Object.assign(Object.assign({},a.tokenCredentialOptions),{authorityHost:c,loggingOptions:a.loggingOptions}));return{auth:{clientId:e,authority:c,knownAuthorities:oa(s,c,a.disableInstanceDiscovery)},system:{networkClient:u,loggerOptions:{loggerCallback:aa(null!==(i=a.logger)&&void 0!==i?i:ba),logLevel:sa((0,U.XM)()),piiLoggingEnabled:null===(o=a.loggingOptions)||void 0===o?void 0:o.enableUnsafeSupportLogging}}}}function wa(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={msalConfig:Ea(e,t,n),cachedAccount:n.authenticationRecord?ua(n.authenticationRecord):null,pluginConfiguration:j(n),logger:null!==(r=n.logger)&&void 0!==r?r:ba},o=new Map;function a(){return s.apply(this,arguments)}function s(){return s=S(N().mark((function e(){var t,r,n,a,s=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(t=s.length>0&&void 0!==s[0]?s[0]:{}).enableCae?"CAE":"default",!(n=o.get(r))){e.next=5;break}return e.abrupt("return",(i.logger.getToken.info("Existing PublicClientApplication found in cache, returning it."),n));case 5:return i.logger.getToken.info("Creating new PublicClientApplication with CAE ".concat(t.enableCae?"enabled":"disabled",".")),a=t.enableCae?i.pluginConfiguration.cache.cachePluginCae:i.pluginConfiguration.cache.cachePlugin,i.msalConfig.auth.clientCapabilities=t.enableCae?["cp1"]:void 0,e.t0=Lo,e.t1=Object,e.t2=Object.assign({},i.msalConfig),e.t3={nativeBrokerPlugin:i.pluginConfiguration.broker.nativeBrokerPlugin},e.next=14,a;case 14:return e.t4=e.sent,e.t5={cachePlugin:e.t4},e.t6={broker:e.t3,cache:e.t5},e.t7=e.t1.assign.call(e.t1,e.t2,e.t6),n=new e.t0(e.t7),o.set(r,n),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}var c,u,l,p,d,h,f=new Map;function m(){return g.apply(this,arguments)}function g(){return g=S(N().mark((function e(){var t,r,n,o,a=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(t=a.length>0&&void 0!==a[0]?a[0]:{}).enableCae?"CAE":"default",!(n=f.get(r))){e.next=5;break}return e.abrupt("return",(i.logger.getToken.info("Existing ConfidentialClientApplication found in cache, returning it."),n));case 5:return i.logger.getToken.info("Creating new ConfidentialClientApplication with CAE ".concat(t.enableCae?"enabled":"disabled",".")),o=t.enableCae?i.pluginConfiguration.cache.cachePluginCae:i.pluginConfiguration.cache.cachePlugin,i.msalConfig.auth.clientCapabilities=t.enableCae?["cp1"]:void 0,e.t0=Do,e.t1=Object,e.t2=Object.assign({},i.msalConfig),e.t3={nativeBrokerPlugin:i.pluginConfiguration.broker.nativeBrokerPlugin},e.next=14,o;case 14:return e.t4=e.sent,e.t5={cachePlugin:e.t4},e.t6={broker:e.t3,cache:e.t5},e.t7=e.t1.assign.call(e.t1,e.t2,e.t6),n=new e.t0(e.t7),f.set(r,n),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function y(e,t,r,n){return v.apply(this,arguments)}function v(){return v=S(N().mark((function e(t,r,n,o){var a,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=null,e.prev=1,e.next=4,function(){var e=S(N().mark((function e(t,r){var n,o,a,s,c=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:{},null!==i.cachedAccount){e.next=12;break}return i.logger.getToken.info("No cached account found in local state, attempting to load it from MSAL cache."),o=t.getTokenCache(),e.next=6,o.getAllAccounts();case 6:if(void 0!==(a=e.sent)&&0!==a.length){e.next=9;break}throw new ne({scopes:r});case 9:if(!(a.length>1)){e.next=11;break}throw i.logger.info('More than one account was found authenticated for this Client ID and Tenant ID.\nHowever, no "authenticationRecord" has been provided for this credential,\ntherefore we\'re unable to pick between these accounts.\nA new login attempt will be requested, to ensure the correct account is picked.\nTo work with multiple accounts for the same Client ID and Tenant ID, please provide an "authenticationRecord" when initializing a credential to prevent this from happening.'),new ne({scopes:r});case 11:i.cachedAccount=a[0];case 12:return n.claims&&(i.cachedClaims=n.claims),s={account:i.cachedAccount,scopes:r,claims:i.cachedClaims},e.abrupt("return",(i.pluginConfiguration.broker.isEnabled&&(s.tokenQueryParameters||(s.tokenQueryParameters={}),i.pluginConfiguration.broker.enableMsaPassthrough&&(s.tokenQueryParameters.msal_request_type="consumer_passthrough")),i.logger.getToken.info("Attempting to acquire token silently"),t.acquireTokenSilent(s)));case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()(t,r,n);case 4:s=e.sent,e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(1),"AuthenticationRequiredError"===e.t0.name){e.next=11;break}throw e.t0;case 11:if(!n.disableAutomaticAuthentication){e.next=13;break}throw new ne({scopes:r,getTokenOptions:n,message:"Automatic authentication has been disabled. You may call the authentication() method."});case 13:if(null!==s){e.next=23;break}return e.prev=14,e.next=17,o();case 17:s=e.sent,e.next=23;break;case 20:throw e.prev=20,e.t1=e.catch(14),ca(r,e.t1,n);case 23:return e.abrupt("return",(na(r,s,n),i.cachedAccount=null!==(a=null==s?void 0:s.account)&&void 0!==a?a:null,i.logger.getToken.info(H(r)),{token:s.accessToken,expiresOnTimestamp:s.expiresOn.getTime()}));case 24:case"end":return e.stop()}}),e,null,[[1,7],[14,20]])}))),v.apply(this,arguments)}return{getActiveAccount:function(){if(i.cachedAccount)return la(e,i.cachedAccount)},getTokenByClientSecret:(h=S(N().mark((function e(t,r){var n,o,a,s=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},i.logger.getToken.info("Attempting to acquire token using client secret"),i.msalConfig.auth.clientSecret=r,e.next=4,m(n);case 4:return o=e.sent,e.prev=5,e.next=8,o.acquireTokenByClientCredential({scopes:t,authority:i.msalConfig.auth.authority,azureRegion:va(),claims:null==n?void 0:n.claims});case 8:return a=e.sent,e.abrupt("return",(na(t,a,n),i.logger.getToken.info(H(t)),{token:a.accessToken,expiresOnTimestamp:a.expiresOn.getTime()}));case 12:throw e.prev=12,e.t0=e.catch(5),ca(t,e.t0,n);case 15:case"end":return e.stop()}}),e,null,[[5,12]])}))),function(e,t){return h.apply(this,arguments)}),getTokenByClientAssertion:(d=S(N().mark((function e(t,r){var n,o,a,s=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},i.logger.getToken.info("Attempting to acquire token using client assertion"),i.msalConfig.auth.clientAssertion=r,e.next=4,m(n);case 4:return o=e.sent,e.prev=5,e.next=8,o.acquireTokenByClientCredential({scopes:t,authority:i.msalConfig.auth.authority,azureRegion:va(),claims:null==n?void 0:n.claims,clientAssertion:r});case 8:return a=e.sent,e.abrupt("return",(na(t,a,n),i.logger.getToken.info(H(t)),{token:a.accessToken,expiresOnTimestamp:a.expiresOn.getTime()}));case 12:throw e.prev=12,e.t0=e.catch(5),ca(t,e.t0,n);case 15:case"end":return e.stop()}}),e,null,[[5,12]])}))),function(e,t){return d.apply(this,arguments)}),getTokenByClientCertificate:(p=S(N().mark((function e(t,r){var n,o,a,s=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},i.logger.getToken.info("Attempting to acquire token using client certificate"),i.msalConfig.auth.clientCertificate=r,e.next=4,m(n);case 4:return o=e.sent,e.prev=5,e.next=8,o.acquireTokenByClientCredential({scopes:t,authority:i.msalConfig.auth.authority,azureRegion:va(),claims:null==n?void 0:n.claims});case 8:return a=e.sent,e.abrupt("return",(na(t,a,n),i.logger.getToken.info(H(t)),{token:a.accessToken,expiresOnTimestamp:a.expiresOn.getTime()}));case 12:throw e.prev=12,e.t0=e.catch(5),ca(t,e.t0,n);case 15:case"end":return e.stop()}}),e,null,[[5,12]])}))),function(e,t){return p.apply(this,arguments)}),getTokenByDeviceCode:(l=S(N().mark((function e(t,r){var n,o,s=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:{},i.logger.getToken.info("Attempting to acquire token using device code"),e.next=4,a(n);case 4:return o=e.sent,e.abrupt("return",y(o,t,n,(function(){var e,a,s={scopes:t,cancel:null!==(a=null===(e=null==n?void 0:n.abortSignal)||void 0===e?void 0:e.aborted)&&void 0!==a&&a,deviceCodeCallback:r,authority:i.msalConfig.auth.authority,claims:null==n?void 0:n.claims},c=o.acquireTokenByDeviceCode(s);return n.abortSignal&&n.abortSignal.addEventListener("abort",(function(){s.cancel=!0})),c})));case 6:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)}),getTokenByUsernamePassword:(u=S(N().mark((function e(t,r,n){var o,s,c=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>3&&void 0!==c[3]?c[3]:{},i.logger.getToken.info("Attempting to acquire token using username and password"),e.next=4,a(o);case 4:return s=e.sent,e.abrupt("return",y(s,t,o,(function(){var e={scopes:t,username:r,password:n,authority:i.msalConfig.auth.authority,claims:null==o?void 0:o.claims};return s.acquireTokenByUsernamePassword(e)})));case 6:case"end":return e.stop()}}),e)}))),function(e,t,r){return u.apply(this,arguments)}),getTokenByAuthorizationCode:(c=S(N().mark((function e(t,r,n,o){var s,c,u=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=u.length>4&&void 0!==u[4]?u[4]:{},i.logger.getToken.info("Attempting to acquire token using authorization code"),!o){e.next=9;break}return i.msalConfig.auth.clientSecret=o,e.next=6,m(s);case 6:c=e.sent,e.next=12;break;case 9:return e.next=11,a(s);case 11:c=e.sent;case 12:return e.abrupt("return",y(c,t,s,(function(){return c.acquireTokenByCode({scopes:t,redirectUri:r,code:n,authority:i.msalConfig.auth.authority,claims:null==s?void 0:s.claims})})));case 13:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return c.apply(this,arguments)})}}var Aa=K("ClientAssertionCredential"),xa=function(){return M((function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(P(this,e),!t||!r||!n)throw new Error("ClientAssertionCredential: tenantId, clientId, and clientAssertion are required parameters.");this.tenantId=t,this.additionallyAllowedTenantIds=V(null==i?void 0:i.additionallyAllowedTenants),this.options=i,this.getAssertion=n,this.msalClient=wa(r,t,Object.assign(Object.assign({},i),{logger:Aa,tokenCredentialOptions:this.options}))}),[{key:"getToken",value:(e=S(N().mark((function e(t){var r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",fe.withSpan("".concat(this.constructor.name,".getToken"),r,function(){var e=S(N().mark((function e(r){var i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.tenantId=ie(n.tenantId,r,n.additionallyAllowedTenantIds,Aa),e.next=3,n.getAssertion();case 3:return i=e.sent,o=Array.isArray(t)?t:[t],e.abrupt("return",n.msalClient.getTokenByClientAssertion(o,i,r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e}(),Sa=r(1943),_a="WorkloadIdentityCredential",ka=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_FEDERATED_TOKEN_FILE"],Ia=K(_a),Ta=function(){return M((function e(t){P(this,e),this.azureFederatedTokenFileContent=void 0,this.cacheDate=void 0;var r=z(ka).assigned.join(", ");Ia.info("Found the following environment variables: ".concat(r));var n=null!=t?t:{},i=n.tenantId||process.env.AZURE_TENANT_ID,o=n.clientId||process.env.AZURE_CLIENT_ID;this.federatedTokenFilePath=n.tokenFilePath||process.env.AZURE_FEDERATED_TOKEN_FILE,i&&$(Ia,i),o&&i&&this.federatedTokenFilePath&&(Ia.info("Invoking ClientAssertionCredential with tenant ID: ".concat(i,", clientId: ").concat(n.clientId," and federated token path: [REDACTED]")),this.client=new xa(i,o,this.readFileContents.bind(this),t))}),[{key:"getToken",value:(t=S(N().mark((function e(t,r){var n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=3;break}throw n="".concat(_a,': is unavailable. tenantId, clientId, and federatedTokenFilePath are required parameters. \n      In DefaultAzureCredential and ManagedIdentityCredential, these can be provided as environment variables - \n      "AZURE_TENANT_ID",\n      "AZURE_CLIENT_ID",\n      "AZURE_FEDERATED_TOKEN_FILE". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot  '),Ia.info(n),new X(n);case 3:return e.abrupt("return",(Ia.info("Invoking getToken() of Client Assertion Credential"),this.client.getToken(t,r)));case 4:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"readFileContents",value:(e=S(N().mark((function e(){var t;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.cacheDate&&Date.now()-this.cacheDate>=3e5&&(this.azureFederatedTokenFileContent=void 0),this.federatedTokenFilePath){e.next=2;break}throw new X("".concat(_a,": is unavailable. Invalid file path provided ").concat(this.federatedTokenFilePath,"."));case 2:if(this.azureFederatedTokenFileContent){e.next=9;break}return e.next=5,(0,Sa.readFile)(this.federatedTokenFilePath,"utf8");case 5:if(t=e.sent.trim()){e.next=8;break}throw new X("".concat(_a,": is unavailable. No content on the file ").concat(this.federatedTokenFilePath,"."));case 8:this.azureFederatedTokenFileContent=t,this.cacheDate=Date.now();case 9:return e.abrupt("return",this.azureFederatedTokenFileContent);case 10:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e,t}(),Ca="ManagedIdentityCredential - Token Exchange",Oa=K(Ca),Na=K("ManagedIdentityCredential"),Ra=function(){function e(t,r){var n,i,o;if(P(this,e),this.isEndpointUnavailable=null,this.isAppTokenProviderInitialized=!1,this.msiRetryConfig={maxRetries:5,startDelayInMs:800,intervalIncrement:2},"string"==typeof t?(this.clientId=t,o=r):(this.clientId=null==t?void 0:t.clientId,o=t),this.resourceId=null==o?void 0:o.resourceId,this.clientId&&this.resourceId)throw new Error("".concat(e.name," - Client Id and Resource Id can't be provided at the same time."));void 0!==(null===(n=null==o?void 0:o.retryOptions)||void 0===n?void 0:n.maxRetries)&&(this.msiRetryConfig.maxRetries=o.retryOptions.maxRetries),this.identityClient=new we(o),this.isAvailableIdentityClient=new we(Object.assign(Object.assign({},o),{retryOptions:{maxRetries:0}})),this.confidentialApp=new Do({auth:{authority:"https://login.microsoftonline.com/managed_identity",clientId:null!==(i=this.clientId)&&void 0!==i?i:y,clientSecret:"dummy-secret",cloudDiscoveryMetadata:'{"tenant_discovery_endpoint":"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1","metadata":[{"preferred_network":"login.microsoftonline.com","preferred_cache":"login.windows.net","aliases":["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{"preferred_network":"login.partner.microsoftonline.cn","preferred_cache":"login.partner.microsoftonline.cn","aliases":["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{"preferred_network":"login.microsoftonline.de","preferred_cache":"login.microsoftonline.de","aliases":["login.microsoftonline.de"]},{"preferred_network":"login.microsoftonline.us","preferred_cache":"login.microsoftonline.us","aliases":["login.microsoftonline.us","login.usgovcloudapi.net"]},{"preferred_network":"login-us.microsoftonline.com","preferred_cache":"login-us.microsoftonline.com","aliases":["login-us.microsoftonline.com"]}]}',authorityMetadata:'{"token_endpoint":"https://login.microsoftonline.com/common/oauth2/v2.0/token","token_endpoint_auth_methods_supported":["client_secret_post","private_key_jwt","client_secret_basic"],"jwks_uri":"https://login.microsoftonline.com/common/discovery/v2.0/keys","response_modes_supported":["query","fragment","form_post"],"subject_types_supported":["pairwise"],"id_token_signing_alg_values_supported":["RS256"],"response_types_supported":["code","id_token","code id_token","id_token token"],"scopes_supported":["openid","profile","email","offline_access"],"issuer":"https://login.microsoftonline.com/{tenantid}/v2.0","request_uri_parameter_supported":false,"userinfo_endpoint":"https://graph.microsoft.com/oidc/userinfo","authorization_endpoint":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize","device_authorization_endpoint":"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode","http_logout_supported":true,"frontchannel_logout_supported":true,"end_session_endpoint":"https://login.microsoftonline.com/common/oauth2/v2.0/logout","claims_supported":["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],"kerberos_endpoint":"https://login.microsoftonline.com/common/kerberos","tenant_region_scope":null,"cloud_instance_name":"microsoftonline.com","cloud_graph_host_name":"graph.windows.net","msgraph_host":"graph.microsoft.com","rbac_url":"https://pas.windows.net"}',clientCapabilities:[]},system:{loggerOptions:{logLevel:sa((0,U.XM)())}}})}return M(e,[{key:"cachedAvailableMSI",value:(n=S(N().mark((function t(r,n){var i,o,a,s;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cachedMSI){t.next=2;break}return t.abrupt("return",this.cachedMSI);case 2:i=[Wo,ea,Ho,Uo,Xo,{name:"tokenExchangeMsi",isAvailable:function(e){return S(N().mark((function t(){var r,n,i;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.clientId,n=process.env,i=Boolean((r||n.AZURE_CLIENT_ID)&&n.AZURE_TENANT_ID&&process.env.AZURE_FEDERATED_TOKEN_FILE),t.abrupt("return",(i||Oa.info("".concat(Ca,": Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE")),i));case 3:case"end":return t.stop()}}),t)})))()},getToken:function(e){var t=arguments;return S(N().mark((function r(){var n,i,o,a;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>1&&void 0!==t[1]?t[1]:{},i=e.scopes,o=e.clientId,a=new Ta(Object.assign(Object.assign({clientId:o,tenantId:process.env.AZURE_TENANT_ID,tokenFilePath:process.env.AZURE_FEDERATED_TOKEN_FILE},{}),{disableInstanceDiscovery:!0})),r.next=4,a.getToken(i,n);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()}},ya],o=0,a=i;case 4:if(!(o<a.length)){t.next=13;break}return s=a[o],t.next=8,s.isAvailable({scopes:r,identityClient:this.isAvailableIdentityClient,clientId:this.clientId,resourceId:this.resourceId,getTokenOptions:n});case 8:if(!t.sent){t.next=10;break}return t.abrupt("return",(this.cachedMSI=s,s));case 10:o++,t.next=4;break;case 13:throw new X("".concat(e.name," - No MSI credential available"));case 14:case"end":return t.stop()}}),t,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"authenticateManagedIdentity",value:(r=S(N().mark((function t(r,n){var i,o,a;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=fe.startSpan("".concat(e.name,".authenticateManagedIdentity"),n),o=i.span,a=i.updatedOptions,t.prev=1,t.next=4,this.cachedAvailableMSI(r,a);case 4:return t.abrupt("return",t.sent.getToken({identityClient:this.identityClient,scopes:r,clientId:this.clientId,resourceId:this.resourceId,retryConfig:this.msiRetryConfig},a));case 7:throw t.prev=7,t.t0=t.catch(1),o.setStatus({status:"error",error:t.t0}),t.t0;case 10:return t.prev=10,o.end(),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[1,7,10,13]])}))),function(e,t){return r.apply(this,arguments)})},{key:"getToken",value:(t=S(N().mark((function t(r,n){var i,o,a,s,c,u,l,p,d,h,f;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null,o=fe.startSpan("".concat(e.name,".getToken"),n),a=o.span,s=o.updatedOptions,t.prev=2,!0!==this.isEndpointUnavailable){t.next=6;break}throw c=new X("The managed identity endpoint is not currently available"),Na.getToken.info(Q(r,c)),c;case 6:return t.next=8,this.cachedAvailableMSI(r,s);case 8:if(t.t0=t.sent.name,"tokenExchangeMsi"!==t.t0){t.next=15;break}return t.next=12,this.authenticateManagedIdentity(r,s);case 12:i=t.sent,t.next=21;break;case 15:return u={correlationId:this.identityClient.getCorrelationId(),tenantId:(null==n?void 0:n.tenantId)||"managed_identity",scopes:Array.isArray(r)?r:[r],claims:null==n?void 0:n.claims},this.initializeSetAppTokenProvider(),t.next=19,this.confidentialApp.acquireTokenByClientCredential(Object.assign({},u));case 19:l=t.sent,i=this.handleResult(r,l||void 0);case 21:if(null!==i){t.next=25;break}throw this.isEndpointUnavailable=!0,p=new X("The managed identity endpoint was reached, yet no tokens were received."),Na.getToken.info(Q(r,p)),p;case 25:return t.abrupt("return",(this.isEndpointUnavailable=!1,Na.getToken.info(H(r)),i));case 28:if(t.prev=28,t.t1=t.catch(2),"AuthenticationRequiredError"!==t.t1.name){t.next=32;break}throw t.t1;case 32:if(a.setStatus({status:"error",error:t.t1}),"ENETUNREACH"!==t.t1.code){t.next=35;break}throw d=new X("".concat(e.name,": Unavailable. Network unreachable. Message: ").concat(t.t1.message)),Na.getToken.info(Q(r,d)),d;case 35:if("EHOSTUNREACH"!==t.t1.code){t.next=38;break}throw h=new X("".concat(e.name,": Unavailable. No managed identity endpoint found. Message: ").concat(t.t1.message)),Na.getToken.info(Q(r,h)),h;case 38:if(400!==t.t1.statusCode){t.next=40;break}throw new X("".concat(e.name,": The managed identity endpoint is indicating there's no available identity. Message: ").concat(t.t1.message));case 40:if(403!==t.t1.statusCode&&403!==t.t1.code||!t.t1.message.includes("unreachable")){t.next=43;break}throw f=new X("".concat(e.name,": Unavailable. Network unreachable. Message: ").concat(t.t1.message)),Na.getToken.info(Q(r,f)),f;case 43:if(void 0!==t.t1.statusCode){t.next=45;break}throw new X("".concat(e.name,": Authentication failed. Message ").concat(t.t1.message));case 45:throw new Z(t.t1.statusCode,{error:"".concat(e.name," authentication failed."),error_description:t.t1.message});case 46:return t.prev=46,a.end(),t.finish(46);case 49:case"end":return t.stop()}}),t,this,[[2,28,46,49]])}))),function(e,r){return t.apply(this,arguments)})},{key:"handleResult",value:function(e,t,r){return this.ensureValidMsalToken(e,t,r),Na.getToken.info(H(e)),{token:t.accessToken,expiresOnTimestamp:t.expiresOn.getTime()}}},{key:"ensureValidMsalToken",value:function(e,t,r){var n=function(t){return Na.getToken.info(t),new ne({scopes:Array.isArray(e)?e:[e],getTokenOptions:r,message:t})};if(!t)throw n("No response");if(!t.expiresOn)throw n('Response had no "expiresOn" property.');if(!t.accessToken)throw n('Response had no "accessToken" property.')}},{key:"initializeSetAppTokenProvider",value:function(){var e=this;this.isAppTokenProviderInitialized||(this.confidentialApp.SetAppTokenProvider(function(){var t=S(N().mark((function t(r){var n,i,o;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Na.info("SetAppTokenProvider invoked with parameters- ".concat(JSON.stringify(r))),n=Object.assign({},r),Na.info("authenticateManagedIdentity invoked with scopes- ".concat(JSON.stringify(r.scopes)," and getTokenOptions - ").concat(JSON.stringify(n))),t.next=5,e.authenticateManagedIdentity(r.scopes,n);case 5:if(!(i=t.sent)){t.next=10;break}return Na.info("SetAppTokenProvider will save the token in cache"),o=(null==i?void 0:i.expiresOnTimestamp)?Math.floor((i.expiresOnTimestamp-Date.now())/1e3):0,t.abrupt("return",{accessToken:null==i?void 0:i.token,expiresInSeconds:o});case 10:return t.abrupt("return",(Na.info('SetAppTokenProvider token has "no_access_token_returned" as the saved token'),{accessToken:"no_access_token_returned",expiresInSeconds:0}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.isAppTokenProviderInitialized=!0)}}]);var t,r,n}();function Pa(e){return Array.isArray(e)?e:[e]}function La(e,t){if(!e.match(/^[0-9a-zA-Z-_.:/]+$/)){var r=new Error("Invalid scope was specified by the user or calling client");throw t.getToken.info(Q(e,r)),r}}function Ma(e){return e.replace(/\/.default$/,"")}var qa=a(5317),Da=a.n(qa),Ba={getSafeWorkingDir:function(){if("win32"===process.platform){if(!process.env.SystemRoot)throw new Error("Azure CLI credential expects a 'SystemRoot' environment variable");return process.env.SystemRoot}return"/bin"},getAzureCliAccessToken:function(e,t,r){return S(N().mark((function n(){var i;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=[],n.abrupt("return",(t&&(i=["--tenant",t]),new Promise((function(t,n){try{Da().execFile("az",["account","get-access-token","--output","json","--resource",e].concat(m(i)),{cwd:Ba.getSafeWorkingDir(),shell:!0,timeout:r},(function(e,r,n){t({stdout:r,stderr:n,error:e})}))}catch(e){n(e)}}))));case 2:case"end":return n.stop()}}),n)})))()}},ja=K("AzureCliCredential"),Ua=function(){return M((function e(t){P(this,e),(null==t?void 0:t.tenantId)&&($(ja,null==t?void 0:t.tenantId),this.tenantId=null==t?void 0:t.tenantId),this.additionallyAllowedTenantIds=V(null==t?void 0:t.additionallyAllowedTenants),this.timeout=null==t?void 0:t.processTimeoutInMs}),[{key:"getToken",value:(e=S(N().mark((function e(t){var r,n,i,o=this,a=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},(n=ie(this.tenantId,r,this.additionallyAllowedTenantIds))&&$(ja,n),i="string"==typeof t?t:t[0],e.abrupt("return",(ja.getToken.info("Using the scope ".concat(i)),fe.withSpan("".concat(this.constructor.name,".getToken"),r,S(N().mark((function e(){var r,a,s,c,u,l,p,d,h,f,m,g,y;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,La(i,ja),u=Ma(i),e.next=5,Ba.getAzureCliAccessToken(u,n,o.timeout);case 5:if(l=e.sent,p=null===(r=l.stderr)||void 0===r?void 0:r.match("(.*)az login --scope(.*)"),d=(null===(a=l.stderr)||void 0===a?void 0:a.match("(.*)az login(.*)"))&&!p,!(null===(s=l.stderr)||void 0===s?void 0:s.match("az:(.*)not found"))&&!(null===(c=l.stderr)||void 0===c?void 0:c.startsWith("'az' is not recognized"))){e.next=11;break}throw h=new X("Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'."),ja.getToken.info(Q(t,h)),h;case 11:if(!d){e.next=14;break}throw f=new X("Please run 'az login' from a command prompt to authenticate before using this credential."),ja.getToken.info(Q(t,f)),f;case 14:return e.prev=14,m=l.stdout,g=o.parseRawResponse(m),e.abrupt("return",(ja.getToken.info(H(t)),g));case 19:if(e.prev=19,e.t0=e.catch(14),!l.stderr){e.next=23;break}throw new X(l.stderr);case 23:throw e.t0;case 24:e.next=30;break;case 26:throw e.prev=26,e.t1=e.catch(0),y="CredentialUnavailableError"===e.t1.name?e.t1:new X(e.t1.message||"Unknown error while trying to retrieve the access token"),ja.getToken.info(Q(t,y)),y;case 30:case"end":return e.stop()}}),e,null,[[0,26],[14,19]])}))))));case 5:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"parseRawResponse",value:function(e){var t=JSON.parse(e),r=t.accessToken,n=1e3*Number.parseInt(t.expires_on,10);if(!isNaN(n))return ja.getToken.info("expires_on is available and is valid, using it"),{token:r,expiresOnTimestamp:n};if(n=new Date(t.expiresOn).getTime(),isNaN(n))throw new X('Unexpected response from Azure CLI when getting token. Expected "expiresOn" to be a RFC3339 date string. Got: "'.concat(t.expiresOn,'"'));return{token:r,expiresOnTimestamp:n}}}]);var e}(),Fa={getSafeWorkingDir:function(){if("win32"===process.platform){if(!process.env.SystemRoot)throw new Error("Azure Developer CLI credential expects a 'SystemRoot' environment variable");return process.env.SystemRoot}return"/bin"},getAzdAccessToken:function(e,t,r){return S(N().mark((function n(){var i;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=[],n.abrupt("return",(t&&(i=["--tenant-id",t]),new Promise((function(t,n){try{Da().execFile("azd",["auth","token","--output","json"].concat(m(e.reduce((function(e,t){return e.concat("--scope",t)}),[])),m(i)),{cwd:Fa.getSafeWorkingDir(),timeout:r},(function(e,r,n){t({stdout:r,stderr:n,error:e})}))}catch(e){n(e)}}))));case 2:case"end":return n.stop()}}),n)})))()}},za=K("AzureDeveloperCliCredential"),Ha=function(){return M((function e(t){P(this,e),(null==t?void 0:t.tenantId)&&($(za,null==t?void 0:t.tenantId),this.tenantId=null==t?void 0:t.tenantId),this.additionallyAllowedTenantIds=V(null==t?void 0:t.additionallyAllowedTenants),this.timeout=null==t?void 0:t.processTimeoutInMs}),[{key:"getToken",value:(e=S(N().mark((function e(t){var r,n,i,o=this,a=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=ie(this.tenantId,r,this.additionallyAllowedTenantIds),e.abrupt("return",(n&&$(za,n),i="string"==typeof t?[t]:t,za.getToken.info("Using the scopes ".concat(t)),fe.withSpan("".concat(this.constructor.name,".getToken"),r,S(N().mark((function e(){var r,a,s,c,u,l,p,d,h,f;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i.forEach((function(e){La(e,za)})),e.next=4,Fa.getAzdAccessToken(i,n,o.timeout);case 4:if(u=e.sent,l=(null===(r=u.stderr)||void 0===r?void 0:r.match("not logged in, run `azd login` to login"))||(null===(a=u.stderr)||void 0===a?void 0:a.match("not logged in, run `azd auth login` to login")),!((null===(s=u.stderr)||void 0===s?void 0:s.match("azd:(.*)not found"))||(null===(c=u.stderr)||void 0===c?void 0:c.startsWith("'azd' is not recognized"))||u.error&&"ENOENT"===u.error.code)){e.next=9;break}throw p=new X("Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot."),za.getToken.info(Q(t,p)),p;case 9:if(!l){e.next=12;break}throw d=new X("Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot."),za.getToken.info(Q(t,d)),d;case 12:return e.prev=12,h=JSON.parse(u.stdout),e.abrupt("return",(za.getToken.info(H(t)),{token:h.token,expiresOnTimestamp:new Date(h.expiresOn).getTime()}));case 17:if(e.prev=17,e.t0=e.catch(12),!u.stderr){e.next=21;break}throw new X(u.stderr);case 21:throw e.t0;case 22:e.next=28;break;case 24:throw e.prev=24,e.t1=e.catch(0),f="CredentialUnavailableError"===e.t1.name?e.t1:new X(e.t1.message||"Unknown error while trying to retrieve the access token"),za.getToken.info(Q(t,f)),f;case 28:case"end":return e.stop()}}),e,null,[[0,24],[12,17]])}))))));case 3:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e}(),Qa=function(e,t,r){return new Promise((function(n,i){qa.execFile(e,t,r,(function(e,t,r){Buffer.isBuffer(t)&&(t=t.toString("utf8")),Buffer.isBuffer(r)&&(r=r.toString("utf8")),r||e?i(r?new Error(r):e):n(t)}))}))},Ga=K("AzurePowerShellCredential"),Ka="win32"===process.platform;function $a(e){return Ka?"".concat(e,".exe"):e}function Wa(e,t){return Va.apply(this,arguments)}function Va(){return Va=S(N().mark((function e(t,r){var n,i,o,a,c,u,l,p;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=f(t),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=15;break}return a=o.value,c=s(a),u=c[0],l=c.slice(1),e.next=11,Qa(u,l,{encoding:"utf8",timeout:r});case 11:p=e.sent,n.push(p);case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),i.e(e.t0);case 20:return e.prev=20,i.f(),e.finish(20);case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e,null,[[2,17,20,23]])}))),Va.apply(this,arguments)}var Ya=[$a("pwsh")];Ka&&Ya.push($a("powershell"));var Xa=function(){return M((function e(t){P(this,e),(null==t?void 0:t.tenantId)&&($(Ga,null==t?void 0:t.tenantId),this.tenantId=null==t?void 0:t.tenantId),this.additionallyAllowedTenantIds=V(null==t?void 0:t.additionallyAllowedTenants),this.timeout=null==t?void 0:t.processTimeoutInMs}),[{key:"getAzurePowerShellAccessToken",value:(t=S(N().mark((function e(t,r,n){var i,o,a,s,c;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0,o=[].concat(Ya);case 1:if(!(i<o.length)){e.next=27;break}return a=o[i],e.prev=3,e.next=6,Wa([[a,"/?"]],n);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(3),Ya.shift(),e.abrupt("continue",24);case 12:return s="",r&&(s='-TenantId "'.concat(r,'"')),e.next=16,Wa([[a,"-NoProfile","-NonInteractive","-Command","Import-Module Az.Accounts -MinimumVersion 2.2.0 -PassThru"],[a,"-NoProfile","-NonInteractive","-Command","Get-AzAccessToken ".concat(s,' -ResourceUrl "').concat(t,'" | ConvertTo-Json')]]);case 16:return c=e.sent[1],e.prev=17,e.abrupt("return",JSON.parse(c));case 21:throw e.prev=21,e.t1=e.catch(17),new Error("Unable to parse the output of PowerShell. Received output: ".concat(c));case 24:i++,e.next=1;break;case 27:throw new Error("Unable to execute PowerShell. Ensure that it is installed in your system");case 28:case"end":return e.stop()}}),e,null,[[3,8],[17,21]])}))),function(e,r,n){return t.apply(this,arguments)})},{key:"getToken",value:(e=S(N().mark((function e(t){var r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",fe.withSpan("".concat(this.constructor.name,".getToken"),r,S(N().mark((function e(){var i,o,a,s,c,u,l;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ie(n.tenantId,r,n.additionallyAllowedTenantIds),o="string"==typeof t?t:t[0],i&&$(Ga,i),e.prev=2,La(o,Ga),Ga.getToken.info("Using the scope ".concat(o)),a=Ma(o),e.next=7,n.getAzurePowerShellAccessToken(a,i,n.timeout);case 7:return s=e.sent,e.abrupt("return",(Ga.getToken.info(H(t)),{token:s.Token,expiresOnTimestamp:new Date(s.ExpiresOn).getTime()}));case 11:if(e.prev=11,e.t0=e.catch(2),!function(e){return e.message.match("The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory")}(e.t0)){e.next=16;break}throw c=new X("The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: \"Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force\"."),Ga.getToken.info(Q(o,c)),c;case 16:if(!function(e){return e.message.match("(.*)Run Connect-AzAccount to login(.*)")}(e.t0)){e.next=19;break}throw u=new X("Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential."),Ga.getToken.info(Q(o,u)),u;case 19:throw l=new X("".concat(e.t0,". ").concat("To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot.")),Ga.getToken.info(Q(o,l)),l;case 21:case"end":return e.stop()}}),e,null,[[2,11]])})))));case 2:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e,t}(),Ja=K("ChainedTokenCredential"),Za=function(){return M((function e(){P(this,e);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._sources=[],this._sources=r}),[{key:"getToken",value:(t=S(N().mark((function e(t){var r,n,i,o=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.getTokenInternal(t,r);case 3:return n=e.sent,i=n.token,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getTokenInternal",value:(e=S(N().mark((function e(t){var r,n,i,o,a=this,s=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},i=null,o=[],e.abrupt("return",fe.withSpan("ChainedTokenCredential.getToken",r,function(){var e=S(N().mark((function e(r){var s,c;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<a._sources.length&&null===i)){e.next=17;break}return e.prev=2,e.next=5,a._sources[s].getToken(t,r);case 5:i=e.sent,n=a._sources[s],e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(2),"CredentialUnavailableError"===e.t0.name||"AuthenticationRequiredError"===e.t0.name){e.next=13;break}throw Ja.getToken.info(Q(t,e.t0)),e.t0;case 13:o.push(e.t0);case 14:s++,e.next=1;break;case 17:if(i||!(o.length>0)){e.next=20;break}throw c=new te(o,"ChainedTokenCredential authentication failed."),Ja.getToken.info(Q(t,c)),c;case 20:if(Ja.getToken.info("Result for ".concat(n.constructor.name,": ").concat(H(t))),null!==i){e.next=22;break}throw new X("Failed to retrieve a valid token");case 22:return e.abrupt("return",{token:i,successfulCredential:n});case 23:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}]);var e,t}(),es="ClientCertificateCredential",ts=K(es),rs=function(){return M((function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(P(this,e),!t||!r)throw new Error("".concat(es,": tenantId and clientId are required parameters."));this.tenantId=t,this.additionallyAllowedTenantIds=V(null==i?void 0:i.additionallyAllowedTenants),this.sendCertificateChain=i.sendCertificateChain,this.certificateConfiguration=Object.assign({},"string"==typeof n?{certificatePath:n}:n);var o=this.certificateConfiguration.certificate,a=this.certificateConfiguration.certificatePath;if(!this.certificateConfiguration||!o&&!a)throw new Error("".concat(es,": Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot."));if(o&&a)throw new Error("".concat(es,": To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot."));this.msalClient=wa(r,t,Object.assign(Object.assign({},i),{logger:ts,tokenCredentialOptions:i}))}),[{key:"getToken",value:(r=S(N().mark((function e(t){var r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",fe.withSpan("".concat(es,".getToken"),r,function(){var e=S(N().mark((function e(r){var i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.tenantId=ie(n.tenantId,r,n.additionallyAllowedTenantIds,ts),i=Array.isArray(t)?t:[t],e.next=4,n.buildClientCertificate();case 4:return o=e.sent,e.abrupt("return",n.msalClient.getTokenByClientCertificate(i,o,r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"buildClientCertificate",value:(t=S(N().mark((function e(){var t,r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.parseCertificate();case 2:return t=e.sent,e.abrupt("return",(r=void 0!==this.certificateConfiguration.certificatePassword?(0,to.createPrivateKey)({key:t.certificateContents,passphrase:this.certificateConfiguration.certificatePassword,format:"pem"}).export({format:"pem",type:"pkcs8"}).toString():t.certificateContents,{thumbprint:t.thumbprint,privateKey:r,x5c:t.x5c}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"parseCertificate",value:(e=S(N().mark((function e(){var t,r,n,i,o,a,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.certificateConfiguration.certificate,r=this.certificateConfiguration.certificatePath,e.t0=t,e.t0){e.next=7;break}return e.next=6,(0,Sa.readFile)(r,"utf8");case 6:e.t0=e.sent;case 7:n=e.t0,i=this.sendCertificateChain?n:void 0,o=/(-+BEGIN CERTIFICATE-+)(\n\r?|\r\n?)([A-Za-z0-9+/\n\r]+=*)(\n\r?|\r\n?)(-+END CERTIFICATE-+)/g,a=[];do{(s=o.exec(n))&&a.push(s[3])}while(s);if(0!==a.length){e.next=14;break}throw new Error("The file at the specified path does not contain a PEM-encoded certificate.");case 14:return e.abrupt("return",{certificateContents:n,thumbprint:(0,to.createHash)("sha1").update(Buffer.from(a[0],"base64")).digest("hex").toUpperCase(),x5c:i});case 15:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e,t,r}(),ns=K("ClientSecretCredential"),is=function(){return M((function e(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(P(this,e),!t||!r||!n)throw new Error("ClientSecretCredential: tenantId, clientId, and clientSecret are required parameters. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");this.clientSecret=n,this.tenantId=t,this.additionallyAllowedTenantIds=V(null==i?void 0:i.additionallyAllowedTenants),this.msalClient=wa(r,t,Object.assign(Object.assign({},i),{logger:ns,tokenCredentialOptions:i}))}),[{key:"getToken",value:(e=S(N().mark((function e(t){var r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",fe.withSpan("".concat(this.constructor.name,".getToken"),r,function(){var e=S(N().mark((function e(r){var i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.tenantId=ie(n.tenantId,r,n.additionallyAllowedTenantIds,ns),i=Pa(t),e.abrupt("return",n.msalClient.getTokenByClientSecret(i,n.clientSecret,r));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e}(),os=K("UsernamePasswordCredential"),as=function(){return M((function e(t,r,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(P(this,e),!(t&&r&&n&&i))throw new Error("UsernamePasswordCredential: tenantId, clientId, username and password are required parameters. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");this.tenantId=t,this.additionallyAllowedTenantIds=V(null==o?void 0:o.additionallyAllowedTenants),this.username=n,this.password=i,this.msalClient=wa(r,this.tenantId,Object.assign(Object.assign({},o),{tokenCredentialOptions:null!=o?o:{}}))}),[{key:"getToken",value:(e=S(N().mark((function e(t){var r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",fe.withSpan("".concat(this.constructor.name,".getToken"),r,function(){var e=S(N().mark((function e(r){var i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.tenantId=ie(n.tenantId,r,n.additionallyAllowedTenantIds,os),i=Pa(t),e.abrupt("return",n.msalClient.getTokenByUsernamePassword(i,n.username,n.password,r));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e}(),ss=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_CLIENT_SECRET","AZURE_CLIENT_CERTIFICATE_PATH","AZURE_CLIENT_CERTIFICATE_PASSWORD","AZURE_USERNAME","AZURE_PASSWORD","AZURE_ADDITIONALLY_ALLOWED_TENANTS"],cs="EnvironmentCredential",us=K(cs),ls=function(){return M((function e(t){P(this,e),this._credential=void 0;var r=z(ss).assigned.join(", ");us.info("Found the following environment variables: ".concat(r));var n,i=process.env.AZURE_TENANT_ID,o=process.env.AZURE_CLIENT_ID,a=process.env.AZURE_CLIENT_SECRET,s=(null!==(n=process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS)&&void 0!==n?n:"").split(";"),c=Object.assign(Object.assign({},t),{additionallyAllowedTenantIds:s});if(i&&$(us,i),i&&o&&a)return us.info("Invoking ClientSecretCredential with tenant ID: ".concat(i,", clientId: ").concat(o," and clientSecret: [REDACTED]")),void(this._credential=new is(i,o,a,c));var u=process.env.AZURE_CLIENT_CERTIFICATE_PATH,l=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(i&&o&&u)return us.info("Invoking ClientCertificateCredential with tenant ID: ".concat(i,", clientId: ").concat(o," and certificatePath: ").concat(u)),void(this._credential=new rs(i,o,{certificatePath:u,certificatePassword:l},c));var p=process.env.AZURE_USERNAME,d=process.env.AZURE_PASSWORD;i&&o&&p&&d&&(us.info("Invoking UsernamePasswordCredential with tenant ID: ".concat(i,", clientId: ").concat(o," and username: ").concat(p)),this._credential=new as(i,o,p,d,c))}),[{key:"getToken",value:(e=S(N().mark((function e(t){var r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",fe.withSpan("".concat(cs,".getToken"),r,function(){var e=S(N().mark((function e(r){var i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n._credential){e.next=12;break}return e.prev=1,e.next=4,n._credential.getToken(t,r);case 4:return i=e.sent,e.abrupt("return",(us.getToken.info(H(t)),i));case 8:throw e.prev=8,e.t0=e.catch(1),o=new Z(400,{error:"".concat(cs," authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot."),error_description:e.t0.message.toString().split("More details:").join("")}),us.getToken.info(Q(t,o)),o;case 12:throw new X("".concat(cs," is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot."));case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}]);var e}(),ps=K("DefaultAzureCredential");function ds(){var e,t,r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null!==(e=i.retryOptions)&&void 0!==e||(i.retryOptions={maxRetries:5,retryDelayInMs:800});var o=null!==(t=null==i?void 0:i.managedIdentityClientId)&&void 0!==t?t:process.env.AZURE_CLIENT_ID,a=null!==(r=null==i?void 0:i.workloadIdentityClientId)&&void 0!==r?r:o,s=null==i?void 0:i.managedIdentityResourceId,c=process.env.AZURE_FEDERATED_TOKEN_FILE,u=null!==(n=null==i?void 0:i.tenantId)&&void 0!==n?n:process.env.AZURE_TENANT_ID;if(s){var l=Object.assign(Object.assign({},i),{resourceId:s});return new Ra(l)}if(c&&a){var p=Object.assign(Object.assign({},i),{tenantId:u});return new Ra(a,p)}if(o){var d=Object.assign(Object.assign({},i),{clientId:o});return new Ra(d)}return new Ra(i)}function hs(e){var t,r,n,i=null!==(t=null==e?void 0:e.managedIdentityClientId)&&void 0!==t?t:process.env.AZURE_CLIENT_ID,o=null!==(r=null==e?void 0:e.workloadIdentityClientId)&&void 0!==r?r:i,a=process.env.AZURE_FEDERATED_TOKEN_FILE,s=null!==(n=null==e?void 0:e.tenantId)&&void 0!==n?n:process.env.AZURE_TENANT_ID;if(a&&o){var c=Object.assign(Object.assign({},e),{tenantId:s,clientId:o,tokenFilePath:a});return new Ta(c)}if(s){var u=Object.assign(Object.assign({},e),{tenantId:s});return new Ta(u)}return new Ta(e)}function fs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.processTimeoutInMs;return new Ha(Object.assign({processTimeoutInMs:t},e))}function ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.processTimeoutInMs;return new Ua(Object.assign({processTimeoutInMs:t},e))}function gs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.processTimeoutInMs;return new Xa(Object.assign({processTimeoutInMs:t},e))}function ys(){return new ls(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}var vs=function(){return M((function e(t,r){P(this,e),this.credentialName=t,this.credentialUnavailableErrorMessage=r}),[{key:"getToken",value:function(){return ps.getToken.info("Skipping ".concat(this.credentialName,", reason: ").concat(this.credentialUnavailableErrorMessage)),Promise.resolve(null)}}])}(),bs=function(e){function t(e){return P(this,t),_(this,t,m([ys,hs,ds,ms,gs,fs].map((function(t){try{return t(e)}catch(e){return ps.warning("Skipped ".concat(t.name," because of an error creating the credential: ").concat(e)),new vs(t.name,e.message)}}))))}return C(t,e),M(t)}(Za),Es=function(){return M((function e(t){var r,n,i,o,a,s;if(P(this,e),this.app={},this.caeApp={},this.requiresConfidential=!1,this.logger=t.logger,this.msalConfig=this.defaultNodeMsalConfig(t),this.tenantId=W(t.logger,t.tenantId,t.clientId),this.additionallyAllowedTenantIds=V(null===(r=null==t?void 0:t.tokenCredentialOptions)||void 0===r?void 0:r.additionallyAllowedTenants),this.clientId=this.msalConfig.auth.clientId,(null==t?void 0:t.getAssertion)&&(this.getAssertion=t.getAssertion),this.enableBroker=null===(n=null==t?void 0:t.brokerOptions)||void 0===n?void 0:n.enabled,this.enableMsaPassthrough=null===(i=null==t?void 0:t.brokerOptions)||void 0===i?void 0:i.legacyEnableMsaPassthrough,this.parentWindowHandle=null===(o=t.brokerOptions)||void 0===o?void 0:o.parentWindowHandle,void 0!==b&&(null===(a=t.tokenCachePersistenceOptions)||void 0===a?void 0:a.enabled)){var c=t.tokenCachePersistenceOptions.name||O,u=Object.assign({name:"".concat(c,".").concat(T)},t.tokenCachePersistenceOptions),l=Object.assign({name:"".concat(c,".cae")},t.tokenCachePersistenceOptions);this.createCachePlugin=function(){return b(u)},this.createCachePluginCae=function(){return b(l)}}else if(null===(s=t.tokenCachePersistenceOptions)||void 0===s?void 0:s.enabled)throw new Error(["Persistent token caching was requested, but no persistence provider was configured.","You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`."].join(" "));if(!q()&&this.enableBroker)throw new Error(["Broker for WAM was requested to be enabled, but no native broker was configured.","You must install the identity-broker plugin package (`npm install --save @azure/identity-broker`)","and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling","`useIdentityPlugin(createNativeBrokerPlugin())` before using `enableBroker`."].join(" "));this.azureRegion=va(t.regionalAuthority)}),[{key:"defaultNodeMsalConfig",value:function(e){var t,r=e.clientId||y,n=W(e.logger,e.tenantId,e.clientId);this.authorityHost=e.authorityHost||process.env.AZURE_AUTHORITY_HOST;var i=ia(n,this.authorityHost);return this.identityClient=new we(Object.assign(Object.assign({},e.tokenCredentialOptions),{authorityHost:i,loggingOptions:e.loggingOptions})),{auth:{clientId:r,authority:i,knownAuthorities:oa(n,i,e.disableInstanceDiscovery),clientCapabilities:[]},system:{networkClient:this.identityClient,loggerOptions:{loggerCallback:aa(e.logger),logLevel:sa((0,U.XM)()),piiLoggingEnabled:null===(t=e.loggingOptions)||void 0===t?void 0:t.enableUnsafeSupportLogging}}}}},{key:"getApp",value:function(e,t){var r=t?this.caeApp:this.app;return"publicFirst"===e?r.public||r.confidential:"confidentialFirst"===e?r.confidential||r.public:"confidential"===e?r.confidential:r.public}},{key:"init",value:(n=S(N().mark((function e(t){var r,n=this;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null==t?void 0:t.abortSignal)&&t.abortSignal.addEventListener("abort",(function(){n.identityClient.abortRequests(t.correlationId)})),r=(null==t?void 0:t.enableCae)?this.caeApp:this.app,(null==t?void 0:t.enableCae)&&(this.msalConfig.auth.clientCapabilities=["cp1"]),r.public||r.confidential){e.next=28;break}if(e.t0=(null==t?void 0:t.enableCae)&&void 0!==this.createCachePluginCae,!e.t0){e.next=9;break}return e.next=7,this.createCachePluginCae();case 7:e.t1=e.sent,this.msalConfig.cache={cachePlugin:e.t1};case 9:if(e.t2=void 0!==this.createCachePlugin,!e.t2){e.next=15;break}return e.next=13,this.createCachePlugin();case 13:e.t3=e.sent,this.msalConfig.cache={cachePlugin:e.t3};case 15:if(q()&&this.enableBroker&&(this.msalConfig.broker={nativeBrokerPlugin:A.broker},this.parentWindowHandle||this.logger.warning("Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle.")),(null==t?void 0:t.enableCae)?this.caeApp.public=new Lo(this.msalConfig):this.app.public=new Lo(this.msalConfig),e.t4=this.getAssertion,!e.t4){e.next=22;break}return e.next=21,this.getAssertion();case 21:this.msalConfig.auth.clientAssertion=e.sent;case 22:if(!(this.msalConfig.auth.clientSecret||this.msalConfig.auth.clientAssertion||this.msalConfig.auth.clientCertificate)){e.next=26;break}(null==t?void 0:t.enableCae)?this.caeApp.confidential=new Do(this.msalConfig):this.app.confidential=new Do(this.msalConfig),e.next=28;break;case 26:if(!this.requiresConfidential){e.next=28;break}throw new Error("Unable to generate the MSAL confidential client. Missing either the client's secret, certificate or assertion.");case 28:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"withCancellation",value:function(e,t,r){return new Promise((function(n,i){e.then((function(e){return n(e)})).catch(i),t&&t.addEventListener("abort",(function(){null==r||r()}))}))}},{key:"getActiveAccount",value:(r=S(N().mark((function e(){var t,r,n,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],!this.account){e.next=3;break}return e.abrupt("return",this.account);case 3:return r=this.getApp("confidentialFirst",t).getTokenCache(),e.next=6,null==r?void 0:r.getAllAccounts();case 6:if(!(n=e.sent)){e.next=11;break}if(1!==n.length){e.next=10;break}return e.abrupt("return",(this.account=la(this.clientId,n[0]),this.account));case 10:this.logger.info('More than one account was found authenticated for this Client ID and Tenant ID.\nHowever, no "authenticationRecord" has been provided for this credential,\ntherefore we\'re unable to pick between these accounts.\nA new login attempt will be requested, to ensure the correct account is picked.\nTo work with multiple accounts for the same Client ID and Tenant ID, please provide an "authenticationRecord" when initializing a credential to prevent this from happening.');case 11:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getTokenSilent",value:(t=S(N().mark((function e(t,r){var n,i,o,a,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getActiveAccount(null==r?void 0:r.enableCae);case 2:if(this.account){e.next=4;break}throw new ne({scopes:t,getTokenOptions:r,message:"Silent authentication failed. We couldn't retrieve an active account from the cache."});case 4:return a={account:ua(this.account),correlationId:null==r?void 0:r.correlationId,scopes:t,authority:null==r?void 0:r.authority,claims:null==r?void 0:r.claims},q()&&this.enableBroker&&(a.tokenQueryParameters||(a.tokenQueryParameters={}),this.parentWindowHandle||this.logger.warning("Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle."),this.enableMsaPassthrough&&(a.tokenQueryParameters.msal_request_type="consumer_passthrough")),e.prev=6,this.logger.info("Attempting to acquire token silently"),e.next=10,null===(n=this.getApp("publicFirst",null==r?void 0:r.enableCae))||void 0===n?void 0:n.getTokenCache().getAllAccounts();case 10:return e.next=12,null===(i=this.getApp("confidential",null==r?void 0:r.enableCae))||void 0===i?void 0:i.acquireTokenSilent(a);case 12:if(e.t1=o=e.sent,e.t0=null!==e.t1,!e.t0){e.next=16;break}e.t0=void 0!==o;case 16:if(!e.t0){e.next=20;break}e.t2=o,e.next=23;break;case 20:return e.next=22,this.getApp("public",null==r?void 0:r.enableCae).acquireTokenSilent(a);case 22:e.t2=e.sent;case 23:return s=e.t2,e.abrupt("return",this.handleResult(t,s||void 0));case 27:throw e.prev=27,e.t3=e.catch(6),ca(t,e.t3,r);case 30:case"end":return e.stop()}}),e,this,[[6,27]])}))),function(e,r){return t.apply(this,arguments)})},{key:"getToken",value:(e=S(N().mark((function e(t){var r,n,i,o=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n=ie(this.tenantId,r,this.additionallyAllowedTenantIds)||this.tenantId,r.authority=ia(n,this.authorityHost),r.correlationId=(null==r?void 0:r.correlationId)||(0,ae.N4)(),e.next=6,this.init(r);case 6:return e.prev=6,(i=r.claims)&&(this.cachedClaims=i),this.cachedClaims&&!i&&(r.claims=this.cachedClaims),e.next=12,this.getTokenSilent(t,r);case 12:return e.abrupt("return",e.sent);case 15:if(e.prev=15,e.t0=e.catch(6),"AuthenticationRequiredError"===e.t0.name){e.next=19;break}throw e.t0;case 19:if(!(null==r?void 0:r.disableAutomaticAuthentication)){e.next=21;break}throw new ne({scopes:t,getTokenOptions:r,message:"Automatic authentication has been disabled. You may call the authentication() method."});case 21:return e.abrupt("return",(this.logger.info("Silent authentication failed, falling back to interactive method."),this.doGetToken(t,r)));case 22:case"end":return e.stop()}}),e,this,[[6,15]])}))),function(t){return e.apply(this,arguments)})},{key:"handleResult",value:function(e,t,r){return(null==t?void 0:t.account)&&(this.account=la(this.clientId,t.account)),na(e,t,r),this.logger.getToken.info(H(e)),{token:t.accessToken,expiresOnTimestamp:t.expiresOn.getTime()}}}]);var e,t,r,n}(),ws=a(721),As={open:a.n(ws)()},xs=function(e){function t(e){var r,n,i,o,a;return P(this,t),(r=_(this,t,[e])).loginHint=e.loginHint,r.errorTemplate=null===(n=e.browserCustomizationOptions)||void 0===n?void 0:n.errorMessage,r.successTemplate=null===(i=e.browserCustomizationOptions)||void 0===i?void 0:i.successMessage,r.logger=K("Node.js MSAL Open Browser"),r.useDefaultBrokerAccount=(null===(o=e.brokerOptions)||void 0===o?void 0:o.enabled)&&(null===(a=e.brokerOptions)||void 0===a?void 0:a.useDefaultBrokerAccount),r}return C(t,e),M(t,[{key:"doGetToken",value:(n=S(N().mark((function e(t){var r,n,i,o=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},e.prev=1,n={openBrowser:function(){var e=S(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,As.open(t,{wait:!0,newInstance:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),scopes:t,authority:null==r?void 0:r.authority,claims:null==r?void 0:r.claims,correlationId:null==r?void 0:r.correlationId,loginHint:this.loginHint,errorTemplate:this.errorTemplate,successTemplate:this.successTemplate},!q()||!this.enableBroker){e.next=5;break}return e.abrupt("return",this.doGetBrokeredToken(t,n,{enableCae:r.enableCae,useDefaultBrokerAccount:this.useDefaultBrokerAccount}));case 5:return q()&&!this.enableBroker&&this.logger.verbose("Authentication will resume normally without the broker, since it's not enabled"),e.next=8,this.getApp("public",null==r?void 0:r.enableCae).acquireTokenInteractive(n);case 8:return i=e.sent,e.abrupt("return",this.handleResult(t,i||void 0));case 12:throw e.prev=12,e.t0=e.catch(1),ca(t,e.t0,r);case 15:case"end":return e.stop()}}),e,this,[[1,12]])}))),function(e){return n.apply(this,arguments)})},{key:"doGetBrokeredToken",value:(r=S(N().mark((function e(t,r,n){var i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.verbose("Authentication will resume through the broker"),this.parentWindowHandle?r.windowHandle=Buffer.from(this.parentWindowHandle):this.logger.warning("Parent window handle is not specified for the broker. This may cause unexpected behavior. Please provide the parentWindowHandle."),this.enableMsaPassthrough&&((null!==(i=r.tokenQueryParameters)&&void 0!==i?i:r.tokenQueryParameters={}).msal_request_type="consumer_passthrough"),n.useDefaultBrokerAccount?(r.prompt="none",this.logger.verbose("Attempting broker authentication using the default broker account")):(r.prompt=void 0,this.logger.verbose("Attempting broker authentication without the default broker account")),e.prev=1,e.next=4,this.getApp("public",null==n?void 0:n.enableCae).acquireTokenInteractive(r);case 4:return o=e.sent,e.abrupt("return",(o.fromNativeBroker&&this.logger.verbose("This result is returned from native broker"),this.handleResult(t,o||void 0)));case 8:if(e.prev=8,e.t0=e.catch(1),this.logger.verbose("Failed to authenticate through the broker: ".concat(e.t0.message)),!n.useDefaultBrokerAccount){e.next=12;break}return e.abrupt("return",this.doGetBrokeredToken(t,r,{enableCae:n.enableCae,useDefaultBrokerAccount:!1}));case 12:throw ca(t,e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e,t,n){return r.apply(this,arguments)})}]);var r,n}(Es),Ss=K("InteractiveBrowserCredential"),_s=function(){return M((function e(t){var r,n,i,o;P(this,e);var a="function"==typeof t.redirectUri?t.redirectUri():t.redirectUri||"http://localhost";this.tenantId=null==t?void 0:t.tenantId,this.additionallyAllowedTenantIds=V(null==t?void 0:t.additionallyAllowedTenants);var s=t;if(null===(r=null==s?void 0:s.brokerOptions)||void 0===r?void 0:r.enabled){if(!(null===(n=null==s?void 0:s.brokerOptions)||void 0===n?void 0:n.parentWindowHandle))throw new Error("In order to do WAM authentication, `parentWindowHandle` under `brokerOptions` is a required parameter");this.msalFlow=new xs(Object.assign(Object.assign({},t),{tokenCredentialOptions:t,logger:Ss,redirectUri:a,browserCustomizationOptions:null==s?void 0:s.browserCustomizationOptions,brokerOptions:{enabled:!0,parentWindowHandle:s.brokerOptions.parentWindowHandle,legacyEnableMsaPassthrough:null===(i=s.brokerOptions)||void 0===i?void 0:i.legacyEnableMsaPassthrough,useDefaultBrokerAccount:null===(o=s.brokerOptions)||void 0===o?void 0:o.useDefaultBrokerAccount}}))}else this.msalFlow=new xs(Object.assign(Object.assign({},t),{tokenCredentialOptions:t,logger:Ss,redirectUri:a,browserCustomizationOptions:null==s?void 0:s.browserCustomizationOptions}));this.disableAutomaticAuthentication=null==t?void 0:t.disableAutomaticAuthentication}),[{key:"getToken",value:(t=S(N().mark((function e(t){var r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",fe.withSpan("".concat(this.constructor.name,".getToken"),r,function(){var e=S(N().mark((function e(r){var i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.tenantId=ie(n.tenantId,r,n.additionallyAllowedTenantIds,Ss),i=Pa(t),e.abrupt("return",n.msalFlow.getToken(i,Object.assign(Object.assign({},r),{disableAutomaticAuthentication:n.disableAutomaticAuthentication})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"authenticate",value:(e=S(N().mark((function e(t){var r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",fe.withSpan("".concat(this.constructor.name,".authenticate"),r,function(){var e=S(N().mark((function e(r){var i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pa(t),e.next=3,n.msalFlow.getToken(i,r);case 3:return e.abrupt("return",n.msalFlow.getActiveAccount());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e,t}(),ks=K("DeviceCodeCredential");function Is(e){console.log(e.message)}var Ts=function(){return M((function e(t){var r,n;P(this,e),this.tenantId=null==t?void 0:t.tenantId,this.additionallyAllowedTenantIds=V(null==t?void 0:t.additionallyAllowedTenants);var i=null!==(r=null==t?void 0:t.clientId)&&void 0!==r?r:y,o=W(ks,null==t?void 0:t.tenantId,i);this.userPromptCallback=null!==(n=null==t?void 0:t.userPromptCallback)&&void 0!==n?n:Is,this.msalClient=wa(i,o,Object.assign(Object.assign({},t),{logger:ks,tokenCredentialOptions:t||{}})),this.disableAutomaticAuthentication=null==t?void 0:t.disableAutomaticAuthentication}),[{key:"getToken",value:(t=S(N().mark((function e(t){var r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",fe.withSpan("".concat(this.constructor.name,".getToken"),r,function(){var e=S(N().mark((function e(r){var i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.tenantId=ie(n.tenantId,r,n.additionallyAllowedTenantIds,ks),i=Pa(t),e.abrupt("return",n.msalClient.getTokenByDeviceCode(i,n.userPromptCallback,Object.assign(Object.assign({},r),{disableAutomaticAuthentication:n.disableAutomaticAuthentication})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"authenticate",value:(e=S(N().mark((function e(t){var r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",fe.withSpan("".concat(this.constructor.name,".authenticate"),r,function(){var e=S(N().mark((function e(r){var i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Array.isArray(t)?t:[t],e.next=3,n.msalClient.getTokenByDeviceCode(i,n.userPromptCallback,Object.assign(Object.assign({},r),{disableAutomaticAuthentication:!1}));case 3:return e.abrupt("return",n.msalClient.getActiveAccount());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e,t}(),Cs="AzurePipelinesCredential",Os=K(Cs),Ns=function(){return M((function e(t,r,n,i,o){if(P(this,e),!(r&&t&&n&&i))throw new X("".concat(Cs,": is unavailable. tenantId, clientId, serviceConnectionId, and systemAccessToken are required parameters."));if(this.identityClient=new we(o),$(Os,t),Os.info("Invoking AzurePipelinesCredential with tenant ID: ".concat(t,", client ID: ").concat(r,", and service connection ID: ").concat(n)),!process.env.SYSTEM_OIDCREQUESTURI)throw new X("".concat(Cs,': is unavailable. Ensure that you\'re running this task in an Azure Pipeline, so that following missing system variable(s) can be defined- "SYSTEM_OIDCREQUESTURI"'));var a="".concat(process.env.SYSTEM_OIDCREQUESTURI,"?api-version=7.1&serviceConnectionId=").concat(n);Os.info("Invoking ClientAssertionCredential with tenant ID: ".concat(t,", client ID: ").concat(r," and service connection ID: ").concat(n)),this.clientAssertionCredential=new xa(t,r,this.requestOidcToken.bind(this,a,i),o)}),[{key:"getToken",value:(t=S(N().mark((function e(t,r){var n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.clientAssertionCredential){e.next=3;break}throw n="".concat(Cs,': is unavailable. To use Federation Identity in Azure Pipelines, the following parameters are required - \n      tenantId,\n      clientId,\n      serviceConnectionId,\n      systemAccessToken,\n      "SYSTEM_OIDCREQUESTURI".      \n      See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/azurepipelinescredential/troubleshoot'),Os.error(n),new X(n);case 3:return e.abrupt("return",(Os.info("Invoking getToken() of Client Assertion Credential"),this.clientAssertionCredential.getToken(t,r)));case 4:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"requestOidcToken",value:(e=S(N().mark((function e(t,r){var n,i,o,a,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Os.info("Requesting OIDC token from Azure Pipelines..."),Os.info(t),n=(0,se.G6)({url:t,method:"POST",headers:(0,se.Nc)({"Content-Type":"application/json",Authorization:"Bearer ".concat(r)})}),e.next=4,this.identityClient.sendRequest(n);case 4:if(i=e.sent,o=i.bodyAsText){e.next=8;break}throw Os.error("".concat(Cs,": Authenticated Failed. Received null token from OIDC request. Response status- ").concat(i.status,". Complete response - ").concat(JSON.stringify(i))),new Z(i.status,"".concat(Cs,": Authenticated Failed. Received null token from OIDC request. Response status- ").concat(i.status,". Complete response - ").concat(JSON.stringify(i)));case 8:if(e.prev=8,!(null==(a=JSON.parse(o))?void 0:a.oidcToken)){e.next=12;break}return e.abrupt("return",a.oidcToken);case 12:throw s="".concat(Cs,": Authentication Failed. oidcToken field not detected in the response."),200!==i.status&&(s+="Response = ".concat(JSON.stringify(a))),Os.error(s),new Z(i.status,s);case 16:throw e.prev=16,e.t0=e.catch(8),Os.error(e.t0.message),Os.error("".concat(Cs,": Authentication Failed. oidcToken field not detected in the response. Response = ").concat(o)),new Z(i.status,"".concat(Cs,": Authentication Failed. oidcToken field not detected in the response. Response = ").concat(o));case 19:case"end":return e.stop()}}),e,this,[[8,16]])}))),function(t,r){return e.apply(this,arguments)})}]);var e,t}(),Rs=K("AuthorizationCodeCredential"),Ps=function(){return M((function e(t,r,n,i,o,a){P(this,e),$(Rs,t),this.clientSecret=n,"string"==typeof o?(this.authorizationCode=i,this.redirectUri=o):(this.authorizationCode=n,this.redirectUri=i,this.clientSecret=void 0,a=o),this.tenantId=t,this.additionallyAllowedTenantIds=V(null==a?void 0:a.additionallyAllowedTenants),this.msalClient=wa(r,t,Object.assign(Object.assign({},a),{logger:Rs,tokenCredentialOptions:null!=a?a:{}}))}),[{key:"getToken",value:(e=S(N().mark((function e(t){var r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",fe.withSpan("".concat(this.constructor.name,".getToken"),r,function(){var e=S(N().mark((function e(r){var i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ie(n.tenantId,r,n.additionallyAllowedTenantIds),r.tenantId=i,o=Pa(t),e.abrupt("return",n.msalClient.getTokenByAuthorizationCode(o,n.redirectUri,n.authorizationCode,n.clientSecret,Object.assign(Object.assign({},r),{disableAutomaticAuthentication:n.disableAutomaticAuthentication})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e}(),Ls=(0,a(9023).promisify)(Ae.readFile),Ms=function(e){function t(e){var r;return P(this,t),(r=_(this,t,[e])).logger.info("Initialized MSAL's On-Behalf-Of flow"),r.requiresConfidential=!0,r.userAssertionToken=e.userAssertionToken,r.certificatePath=e.certificatePath,r.sendCertificateChain=e.sendCertificateChain,r.clientSecret=e.clientSecret,r}return C(t,e),M(t,[{key:"init",value:(n=S(N().mark((function e(r){var n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.certificatePath){e.next=13;break}return e.prev=1,e.next=4,function(){var e=S(N().mark((function e(t,r){var n,i,o,a,s,c;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},i=t.certificate,o=t.certificatePath,e.t0=i,e.t0){e.next=6;break}return e.next=5,Ls(o,"utf8");case 5:e.t0=e.sent;case 6:n.certificateContents=e.t0,r&&(n.x5c=n.certificateContents),a=/(-+BEGIN CERTIFICATE-+)(\n\r?|\r\n?)([A-Za-z0-9+/\n\r]+=*)(\n\r?|\r\n?)(-+END CERTIFICATE-+)/g,s=[];do{(c=a.exec(n.certificateContents))&&s.push(c[3])}while(c);if(0!==s.length){e.next=12;break}throw new Error("The file at the specified path does not contain a PEM-encoded certificate.");case 12:return e.abrupt("return",(n.thumbprint=(0,to.createHash)("sha1").update(Buffer.from(s[0],"base64")).digest("hex").toUpperCase(),n));case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()({certificatePath:this.certificatePath},this.sendCertificateChain);case 4:n=e.sent,this.msalConfig.auth.clientCertificate={thumbprint:n.thumbprint,privateKey:n.certificateContents,x5c:n.x5c},e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),this.logger.info(Q("",e.t0)),e.t0;case 11:e.next=14;break;case 13:this.msalConfig.auth.clientSecret=this.clientSecret;case 14:return e.abrupt("return",w(t,"init",this,3)([r]));case 15:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return n.apply(this,arguments)})},{key:"doGetToken",value:(r=S(N().mark((function e(t){var r,n,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.prev=1,e.next=4,this.getApp("confidential",r.enableCae).acquireTokenOnBehalfOf({scopes:t,correlationId:r.correlationId,authority:r.authority,claims:r.claims,oboAssertion:this.userAssertionToken});case 4:return n=e.sent,e.abrupt("return",this.handleResult(t,n||void 0));case 8:throw e.prev=8,e.t0=e.catch(1),ca(t,e.t0,r);case 11:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return r.apply(this,arguments)})}]);var r,n}(Es),qs="OnBehalfOfCredential",Ds=K(qs),Bs=function(){return M((function e(t){P(this,e),this.options=t;var r=t.clientSecret,n=t.certificatePath,i=t.tenantId,o=t.clientId,a=t.userAssertionToken,s=t.additionallyAllowedTenants;if(!i||!o||!r&&!n||!a)throw new Error("".concat(qs,": tenantId, clientId, clientSecret (or certificatePath) and userAssertionToken are required parameters."));this.tenantId=i,this.additionallyAllowedTenantIds=V(s),this.msalFlow=new Ms(Object.assign(Object.assign({},this.options),{logger:Ds,tokenCredentialOptions:this.options}))}),[{key:"getToken",value:(e=S(N().mark((function e(t){var r,n=this,i=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",fe.withSpan("".concat(qs,".getToken"),r,function(){var e=S(N().mark((function e(r){var i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.tenantId=ie(n.tenantId,r,n.additionallyAllowedTenantIds,Ds),i=Pa(t),e.abrupt("return",n.msalFlow.getToken(i,r));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}]);var e}();function js(e,t,r){var n=r||{},i=n.abortSignal,o=n.tracingOptions,a=(0,se.O8)();return a.addPolicy((0,se.N$)({credential:e,scopes:t})),S(N().mark((function e(){var t,r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendRequest({sendRequest:function(e){return Promise.resolve({request:e,status:200,headers:e.headers})}},(0,se.G6)({url:"https://example.com",abortSignal:i,tracingOptions:o}));case 2:if(e.t1=t=e.sent.headers.get("authorization"),e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===t;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=t.split(" ")[1];case 11:if(r=e.t2){e.next=14;break}throw new Error("Failed to get access token");case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})))}function Us(){return new bs}},3065:function(e,t,r){"use strict";var n=r(6928),i=function(e){return new u(e)};function o(e){return Array.isArray(e)?e:[e]}i.default=i,e.exports=i;var a="\\"===n.sep?/(?<=.)\\$/:/(?<=.)\/$/,s="undefined"!=typeof Symbol?Symbol.for("dockerignore"):"dockerignore";function c(e){return n.normalize(e).replace(a,"")}var u=function(){return M((function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ignorecase,r=void 0===t||t;P(this,e),this._rules=[],this._ignorecase=r,this[s]=!0,this._initCache()}),[{key:"_initCache",value:function(){this._cache={}}},{key:"add",value:function(e){return this._added=!1,"string"==typeof e&&(e=e.split(/\r?\n/g)),o(e).forEach(this._addPattern,this),this._added&&this._initCache(),this}},{key:"addPattern",value:function(e){return this.add(e)}},{key:"_addPattern",value:function(e){if(e&&e[s])return this._rules=this._rules.concat(e._rules),void(this._added=!0);if(this._checkPattern(e)){var t=this._createRule(e.trim());null!==t&&(this._added=!0,this._rules.push(t))}}},{key:"_checkPattern",value:function(e){return e&&"string"==typeof e&&0!==e.indexOf("#")&&""!==e.trim()}},{key:"filter",value:function(e){var t=this;return o(e).filter((function(e){return t._filter(e)}))}},{key:"createFilter",value:function(){var e=this;return function(t){return e._filter(t)}}},{key:"ignores",value:function(e){return!this._filter(e)}},{key:"_createRule",value:function(e){var t,r=e,i=!1;if("!"===e[0]&&(i=!0,e=e.substring(1).trim()),e.length>0&&(t=e=c(e),(e="/"===n.sep?t:t.replace(/\\/g,"/")).length>1&&"/"===e[0]&&(e=e.slice(1))),i&&(e="!"+e),""===(e=e.trim()))return null;if("!"===(e=c(e))[0]){if(1===e.length)return null;i=!0,e=e.substring(1)}else i=!1;return{origin:r,pattern:e,dirs:e.split(n.sep),negative:i}}},{key:"_filter",value:function(e){return!!e&&(e in this._cache?this._cache[e]:this._cache[e]=this._test(e))}},{key:"_test",value:function(e){var t=this;e=function(e){return"/"===n.sep?e:e.replace(/\//g,n.sep)}(e);var r=c(n.dirname(e)),i=r.split(n.sep),o=!1;return this._rules.forEach((function(a){var s=t._match(e,a);if(!s&&"."!==r)if(a.dirs.includes("**"))for(var c=a.dirs.filter((function(e){return"**"!==e})).length;c<=i.length;c++)s=s||t._match(i.slice(0,c).join(n.sep),a);else a.dirs.length<=i.length&&(s=t._match(i.slice(0,a.dirs.length).join(n.sep),a));s&&(o=!a.negative)})),!o}},{key:"_match",value:function(e,t){return this._compile(t).regexp.test(e)}},{key:"_compile",value:function(e){if(e.regexp)return e;for(var t="^",r="\\"===n.sep?"\\\\":n.sep,i=0;i<e.pattern.length;i++){var o=e.pattern[i];if("*"===o)"*"===e.pattern[i+1]?(i++,e.pattern[i+1]===n.sep&&i++,void 0===e.pattern[i+1]?t+=".*":t+="(.*".concat(r,")?")):t+="[^".concat(r,"]*");else if("?"===o)t+="[^".concat(r,"]");else if("."===o||"$"===o)t+="\\".concat(o);else if("\\"===o){if("\\"===n.sep){t+=r;continue}void 0!==e.pattern[i+1]?(t+="\\"+e.pattern[i+1],i++):t+="\\"}else t+=o}return t+="$",e.regexp=new RegExp(t,this._ignorecase?"i":""),e}}])}()},2594:function(e,t,r){"use strict";var n=r(1297),i=r(6049);function o(e){if(!(this instanceof o))return new o(e);this.headers=e.headers,this.negotiator=new n(e)}function a(e){return-1===e.indexOf("/")?i.lookup(e):e}function s(e){return"string"==typeof e}e.exports=o,o.prototype.type=o.prototype.types=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}if(!t||0===t.length)return this.negotiator.mediaTypes();if(!this.headers.accept)return t[0];var n=t.map(a),i=this.negotiator.mediaTypes(n.filter(s))[0];return!!i&&t[n.indexOf(i)]},o.prototype.encoding=o.prototype.encodings=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}return t&&0!==t.length?this.negotiator.encodings(t)[0]||!1:this.negotiator.encodings()},o.prototype.charset=o.prototype.charsets=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}return t&&0!==t.length?this.negotiator.charsets(t)[0]||!1:this.negotiator.charsets()},o.prototype.lang=o.prototype.langs=o.prototype.language=o.prototype.languages=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}return t&&0!==t.length?this.negotiator.languages(t)[0]||!1:this.negotiator.languages()}},3031:function(e){"use strict";function t(e,r,n){for(var i=0;i<e.length;i++){var o=e[i];n>0&&Array.isArray(o)?t(o,r,n-1):r.push(o)}return r}function r(e,t){for(var n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?r(i,t):t.push(i)}return t}e.exports=function(e,n){return null==n?r(e,[]):t(e,[],n)}},6395:function(e){e.exports={newInvalidAsn1Error:function(e){var t=new Error;return t.name="InvalidAsn1Error",t.message=e||"",t}}},5670:function(e,t,r){var n=r(6395),i=r(6299),o=r(3319),a=r(1431);for(var s in e.exports={Reader:o,Writer:a},i)i.hasOwnProperty(s)&&(e.exports[s]=i[s]);for(var c in n)n.hasOwnProperty(c)&&(e.exports[c]=n[c])},3319:function(e,t,r){var n=r(2613),i=r(4774).Buffer,o=r(6299),a=r(6395).newInvalidAsn1Error;function s(e){if(!e||!i.isBuffer(e))throw new TypeError("data must be a node Buffer");this._buf=e,this._size=e.length,this._len=0,this._offset=0}Object.defineProperty(s.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(s.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(s.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),s.prototype.readByte=function(e){if(this._size-this._offset<1)return null;var t=255&this._buf[this._offset];return e||(this._offset+=1),t},s.prototype.peek=function(){return this.readByte(!0)},s.prototype.readLength=function(e){if(void 0===e&&(e=this._offset),e>=this._size)return null;var t=255&this._buf[e++];if(null===t)return null;if(128&~t)this._len=t;else{if(0==(t&=127))throw a("Indefinite length not supported");if(t>4)throw a("encoding too long");if(this._size-e<t)return null;this._len=0;for(var r=0;r<t;r++)this._len=(this._len<<8)+(255&this._buf[e++])}return e},s.prototype.readSequence=function(e){var t=this.peek();if(null===t)return null;if(void 0!==e&&e!==t)throw a("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);return null===r?null:(this._offset=r,t)},s.prototype.readInt=function(){return this._readTag(o.Integer)},s.prototype.readBoolean=function(){return 0!==this._readTag(o.Boolean)},s.prototype.readEnumeration=function(){return this._readTag(o.Enumeration)},s.prototype.readString=function(e,t){e||(e=o.OctetString);var r=this.peek();if(null===r)return null;if(r!==e)throw a("Expected 0x"+e.toString(16)+": got 0x"+r.toString(16));var n=this.readLength(this._offset+1);if(null===n)return null;if(this.length>this._size-n)return null;if(this._offset=n,0===this.length)return t?i.alloc(0):"";var s=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,t?s:s.toString("utf8")},s.prototype.readOID=function(e){e||(e=o.OID);var t=this.readString(e,!0);if(null===t)return null;for(var r=[],n=0,i=0;i<t.length;i++){var a=255&t[i];n<<=7,n+=127&a,128&a||(r.push(n),n=0)}return n=r.shift(),r.unshift(n%40),r.unshift(n/40|0),r.join(".")},s.prototype._readTag=function(e){n.ok(void 0!==e);var t=this.peek();if(null===t)return null;if(t!==e)throw a("Expected 0x"+e.toString(16)+": got 0x"+t.toString(16));var r=this.readLength(this._offset+1);if(null===r)return null;if(this.length>4)throw a("Integer too long: "+this.length);if(this.length>this._size-r)return null;this._offset=r;for(var i=this._buf[this._offset],o=0,s=0;s<this.length;s++)o<<=8,o|=255&this._buf[this._offset++];return 128&~i||4===s||(o-=1<<8*s),0|o},e.exports=s},6299:function(e){e.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},1431:function(e,t,r){var n=r(2613),i=r(4774).Buffer,o=r(6299),a=r(6395).newInvalidAsn1Error,s={size:1024,growthFactor:8};function c(e){var t,r;t=s,r=e||{},n.ok(t),n.equal(D(t),"object"),n.ok(r),n.equal(D(r),"object"),Object.getOwnPropertyNames(t).forEach((function(e){if(!r[e]){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n)}})),e=r,this._buf=i.alloc(e.size||1024),this._size=this._buf.length,this._offset=0,this._options=e,this._seq=[]}Object.defineProperty(c.prototype,"buffer",{get:function(){if(this._seq.length)throw a(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),c.prototype.writeByte=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=e},c.prototype.writeInt=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");"number"!=typeof t&&(t=o.Integer);for(var r=4;(!(4286578688&e)||-8388608==(4286578688&e))&&r>1;)r--,e<<=8;if(r>4)throw a("BER ints cannot be > 0xffffffff");for(this._ensure(2+r),this._buf[this._offset++]=t,this._buf[this._offset++]=r;r-- >0;)this._buf[this._offset++]=(4278190080&e)>>>24,e<<=8},c.prototype.writeNull=function(){this.writeByte(o.Null),this.writeByte(0)},c.prototype.writeEnumeration=function(e,t){if("number"!=typeof e)throw new TypeError("argument must be a Number");return"number"!=typeof t&&(t=o.Enumeration),this.writeInt(e,t)},c.prototype.writeBoolean=function(e,t){if("boolean"!=typeof e)throw new TypeError("argument must be a Boolean");"number"!=typeof t&&(t=o.Boolean),this._ensure(3),this._buf[this._offset++]=t,this._buf[this._offset++]=1,this._buf[this._offset++]=e?255:0},c.prototype.writeString=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string (was: "+D(e)+")");"number"!=typeof t&&(t=o.OctetString);var r=i.byteLength(e);this.writeByte(t),this.writeLength(r),r&&(this._ensure(r),this._buf.write(e,this._offset),this._offset+=r)},c.prototype.writeBuffer=function(e,t){if("number"!=typeof t)throw new TypeError("tag must be a number");if(!i.isBuffer(e))throw new TypeError("argument must be a buffer");this.writeByte(t),this.writeLength(e.length),this._ensure(e.length),e.copy(this._buf,this._offset,0,e.length),this._offset+=e.length},c.prototype.writeStringArray=function(e){if(!e instanceof Array)throw new TypeError("argument must be an Array[String]");var t=this;e.forEach((function(e){t.writeString(e)}))},c.prototype.writeOID=function(e,t){if("string"!=typeof e)throw new TypeError("argument must be a string");if("number"!=typeof t&&(t=o.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(e))throw new Error("argument is not a valid OID string");var r=e.split("."),n=[];n.push(40*parseInt(r[0],10)+parseInt(r[1],10)),r.slice(2).forEach((function(e){!function(e,t){t<128?e.push(t):t<16384?(e.push(t>>>7|128),e.push(127&t)):t<2097152?(e.push(t>>>14|128),e.push(t>>>7&255|128),e.push(127&t)):t<268435456?(e.push(t>>>21|128),e.push(t>>>14&255|128),e.push(t>>>7&255|128),e.push(127&t)):(e.push(t>>>28&255|128),e.push(t>>>21&255|128),e.push(t>>>14&255|128),e.push(t>>>7&255|128),e.push(127&t))}(n,parseInt(e,10))}));var i=this;this._ensure(2+n.length),this.writeByte(t),this.writeLength(n.length),n.forEach((function(e){i.writeByte(e)}))},c.prototype.writeLength=function(e){if("number"!=typeof e)throw new TypeError("argument must be a Number");if(this._ensure(4),e<=127)this._buf[this._offset++]=e;else if(e<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=e;else if(e<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e;else{if(!(e<=16777215))throw a("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=e>>16,this._buf[this._offset++]=e>>8,this._buf[this._offset++]=e}},c.prototype.startSequence=function(e){"number"!=typeof e&&(e=o.Sequence|o.Constructor),this.writeByte(e),this._seq.push(this._offset),this._ensure(3),this._offset+=3},c.prototype.endSequence=function(){var e=this._seq.pop(),t=e+3,r=this._offset-t;if(r<=127)this._shift(t,r,-2),this._buf[e]=r;else if(r<=255)this._shift(t,r,-1),this._buf[e]=129,this._buf[e+1]=r;else if(r<=65535)this._buf[e]=130,this._buf[e+1]=r>>8,this._buf[e+2]=r;else{if(!(r<=16777215))throw a("Sequence too long");this._shift(t,r,1),this._buf[e]=131,this._buf[e+1]=r>>16,this._buf[e+2]=r>>8,this._buf[e+3]=r}},c.prototype._shift=function(e,t,r){n.ok(void 0!==e),n.ok(void 0!==t),n.ok(r),this._buf.copy(this._buf,e+r,e,e+t),this._offset+=r},c.prototype._ensure=function(e){if(n.ok(e),this._size-this._offset<e){var t=this._size*this._options.growthFactor;t-this._offset<e&&(t+=e);var r=i.alloc(t);this._buf.copy(r,0,0,this._offset),this._buf=r,this._size=t}},e.exports=c},3100:function(e,t,r){var n=r(5670);e.exports={Ber:n,BerReader:n.Reader,BerWriter:n.Writer}},7500:function(e,t,r){var n;e=r.nmd(e),n=function(t){"use strict";function r(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=e[t+i];return n}var n=function(e){var t=r(arguments,1);return function(){var n=r(arguments);return e.apply(null,t.concat(n))}},i=function(e){return function(){var t=r(arguments),n=t.pop();e.call(this,t,n)}};function o(e){var t=D(e);return null!=e&&("object"==t||"function"==t)}var a="function"==typeof setImmediate&&setImmediate,s="object"==("undefined"==typeof process?"undefined":D(process))&&"function"==typeof process.nextTick;function c(e){setTimeout(e,0)}function u(e){return function(t){var n=r(arguments,1);e((function(){t.apply(null,n)}))}}var l=u(a?setImmediate:s?process.nextTick:c);function p(e){return i((function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}o(n)&&"function"==typeof n.then?n.then((function(e){d(r,null,e)}),(function(e){d(r,e.message?e:new Error(e))})):r(null,n)}))}function d(e,t,r){try{e(t,r)}catch(e){l(h,e)}}function h(e){throw e}var f="function"==typeof Symbol;function m(e){return f&&"AsyncFunction"===e[Symbol.toStringTag]}function g(e){return m(e)?p(e):e}function y(e){return function(t){var n=r(arguments,1),o=i((function(r,n){var i=this;return e(t,(function(e,t){g(e).apply(i,r.concat(t))}),n)}));return n.length?o.apply(this,n):o}}var v="object"==("undefined"==typeof global?"undefined":D(global))&&global&&global.Object===Object&&global,b="object"==("undefined"==typeof self?"undefined":D(self))&&self&&self.Object===Object&&self,E=v||b||Function("return this")(),w=E.Symbol,A=Object.prototype,x=A.hasOwnProperty,S=A.toString,_=w?w.toStringTag:void 0,k=Object.prototype.toString,I="[object Null]",T="[object Undefined]",C=w?w.toStringTag:void 0;function O(e){return null==e?void 0===e?T:I:C&&C in Object(e)?function(e){var t=x.call(e,_),r=e[_];try{e[_]=void 0;var n=!0}catch(e){}var i=S.call(e);return n&&(t?e[_]=r:delete e[_]),i}(e):function(e){return k.call(e)}(e)}var N="[object AsyncFunction]",R="[object Function]",P="[object GeneratorFunction]",L="[object Proxy]",M=9007199254740991;function q(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=M}function B(e){return null!=e&&q(e.length)&&!function(e){if(!o(e))return!1;var t=O(e);return t==R||t==P||t==N||t==L}(e)}var j={};function U(){}function F(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}}var z="function"==typeof Symbol&&Symbol.iterator,H=function(e){return z&&e[z]&&e[z]()};function Q(e){return null!=e&&"object"==D(e)}function G(e){return Q(e)&&"[object Arguments]"==O(e)}var K=Object.prototype,$=K.hasOwnProperty,W=K.propertyIsEnumerable,V=G(function(){return arguments}())?G:function(e){return Q(e)&&$.call(e,"callee")&&!W.call(e,"callee")},Y=Array.isArray,X="object"==D(t)&&t&&!t.nodeType&&t,J=X&&e&&!e.nodeType&&e,Z=J&&J.exports===X?E.Buffer:void 0,ee=(Z?Z.isBuffer:void 0)||function(){return!1},te=9007199254740991,re=/^(?:0|[1-9]\d*)$/;function ne(e,t){var r=D(e);return!!(t=null==t?te:t)&&("number"==r||"symbol"!=r&&re.test(e))&&e>-1&&e%1==0&&e<t}var ie={};ie["[object Float32Array]"]=ie["[object Float64Array]"]=ie["[object Int8Array]"]=ie["[object Int16Array]"]=ie["[object Int32Array]"]=ie["[object Uint8Array]"]=ie["[object Uint8ClampedArray]"]=ie["[object Uint16Array]"]=ie["[object Uint32Array]"]=!0,ie["[object Arguments]"]=ie["[object Array]"]=ie["[object ArrayBuffer]"]=ie["[object Boolean]"]=ie["[object DataView]"]=ie["[object Date]"]=ie["[object Error]"]=ie["[object Function]"]=ie["[object Map]"]=ie["[object Number]"]=ie["[object Object]"]=ie["[object RegExp]"]=ie["[object Set]"]=ie["[object String]"]=ie["[object WeakMap]"]=!1;var oe,ae="object"==D(t)&&t&&!t.nodeType&&t,se=ae&&e&&!e.nodeType&&e,ce=se&&se.exports===ae&&v.process,ue=function(){try{return se&&se.require&&se.require("util").types||ce&&ce.binding&&ce.binding("util")}catch(e){}}(),le=ue&&ue.isTypedArray,pe=le?(oe=le,function(e){return oe(e)}):function(e){return Q(e)&&q(e.length)&&!!ie[O(e)]},de=Object.prototype.hasOwnProperty,he=Object.prototype,fe=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),me=Object.prototype.hasOwnProperty;function ge(e){return B(e)?function(e){var t=Y(e),r=!t&&V(e),n=!t&&!r&&ee(e),i=!t&&!r&&!n&&pe(e),o=t||r||n||i,a=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],s=a.length;for(var c in e)!de.call(e,c)||o&&("length"==c||n&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ne(c,s))||a.push(c);return a}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||he))return fe(e);var t,r,n=[];for(var i in Object(e))me.call(e,i)&&"constructor"!=i&&n.push(i);return n}(e)}function ye(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function ve(e){return function(t,r,n){if(n=F(n||U),e<=0||!t)return n(null);var i=function(e){if(B(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,n,i,o=H(e);return o?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(o):(r=ge(t=e),n=-1,i=r.length,function e(){var o=r[++n];return"__proto__"===o?e():n<i?{value:t[o],key:o}:null})}(t),o=!1,a=0,s=!1;function c(e,t){if(a-=1,e)o=!0,n(e);else{if(t===j||o&&a<=0)return o=!0,n(null);s||u()}}function u(){for(s=!0;a<e&&!o;){var t=i();if(null===t)return o=!0,void(a<=0&&n(null));a+=1,r(t.value,t.key,ye(c))}s=!1}u()}}function be(e,t,r,n){ve(t)(e,g(r),n)}function Ee(e,t){return function(r,n,i){return e(r,t,n,i)}}function we(e,t,r){r=F(r||U);var n=0,i=0,o=e.length;function a(e,t){e?r(e):++i!==o&&t!==j||r(null)}for(0===o&&r(null);n<o;n++)t(e[n],n,ye(a))}var Ae=Ee(be,1/0),xe=function(e,t,r){(B(e)?we:Ae)(e,g(t),r)};function Se(e){return function(t,r,n){return e(xe,t,g(r),n)}}function _e(e,t,r,n){n=n||U,t=t||[];var i=[],o=0,a=g(r);e(t,(function(e,t,r){var n=o++;a(e,(function(e,t){i[n]=t,r(e)}))}),(function(e){n(e,i)}))}var ke=Se(_e),Ie=y(ke);function Te(e){return function(t,r,n,i){return e(ve(r),t,g(n),i)}}var Ce=Te(_e),Oe=Ee(Ce,1),Ne=y(Oe);function Re(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}var Pe=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[++n];if(!1===t(i[s],s,i))break}return e};function Le(e,t){return e&&Pe(e,t,ge)}function Me(e){return e!=e}function qe(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):function(e,t,r){for(var n=e.length,i=r+-1;++i<n;)if(t(e[i],i,e))return i;return-1}(e,Me,r)}var De=function(e,t,n){"function"==typeof t&&(n=t,t=null),n=F(n||U);var i=ge(e).length;if(!i)return n(null);t||(t=i);var o={},a=0,s=!1,c=Object.create(null),u=[],l=[],p={};function d(e,t){u.push((function(){!function(e,t){if(!s){var i=ye((function(t,i){if(a--,arguments.length>2&&(i=r(arguments,1)),t){var u={};Le(o,(function(e,t){u[t]=e})),u[e]=i,s=!0,c=Object.create(null),n(t,u)}else o[e]=i,Re(c[e]||[],(function(e){e()})),h()}));a++;var u=g(t[t.length-1]);t.length>1?u(o,i):u(i)}}(e,t)}))}function h(){if(0===u.length&&0===a)return n(null,o);for(;u.length&&a<t;)u.shift()()}function f(t){var r=[];return Le(e,(function(e,n){Y(e)&&qe(e,t,0)>=0&&r.push(n)})),r}Le(e,(function(t,r){if(!Y(t))return d(r,[t]),void l.push(r);var n=t.slice(0,t.length-1),i=n.length;if(0===i)return d(r,t),void l.push(r);p[r]=i,Re(n,(function(o){if(!e[o])throw new Error("async.auto task `"+r+"` has a non-existent dependency `"+o+"` in "+n.join(", "));var a,s,u;s=function(){0==--i&&d(r,t)},(u=c[a=o])||(u=c[a]=[]),u.push(s)}))})),function(){for(var e=0;l.length;)e++,Re(f(l.pop()),(function(e){0==--p[e]&&l.push(e)}));if(e!==i)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),h()};function Be(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var je="[object Symbol]",Ue=1/0,Fe=w?w.prototype:void 0,ze=Fe?Fe.toString:void 0;function He(e){if("string"==typeof e)return e;if(Y(e))return Be(e,He)+"";if(function(e){return"symbol"==D(e)||Q(e)&&O(e)==je}(e))return ze?ze.call(e):"";var t=e+"";return"0"==t&&1/e==-Ue?"-0":t}var Qe=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),Ge="\\ud800-\\udfff",Ke="["+Ge+"]",$e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",We="\\ud83c[\\udffb-\\udfff]",Ve="[^"+Ge+"]",Ye="(?:\\ud83c[\\udde6-\\uddff]){2}",Xe="[\\ud800-\\udbff][\\udc00-\\udfff]",Je="(?:"+$e+"|"+We+")?",Ze="[\\ufe0e\\ufe0f]?",et=Ze+Je+"(?:\\u200d(?:"+[Ve,Ye,Xe].join("|")+")"+Ze+Je+")*",tt="(?:"+[Ve+$e+"?",$e,Ye,Xe,Ke].join("|")+")",rt=RegExp(We+"(?="+We+")|"+tt+et,"g");function nt(e){return function(e){return Qe.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}var it=/^\s+|\s+$/g,ot=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,at=/,/,st=/(=.+)?(\s*)$/,ct=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function ut(e,t){var r={};Le(e,(function(e,t){var n,i=m(e),o=!i&&1===e.length||i&&0===e.length;if(Y(e))n=e.slice(0,-1),e=e[e.length-1],r[t]=n.concat(n.length>0?a:e);else if(o)r[t]=e;else{if(n=function(e){return(e=(e=(e=e.toString().replace(ct,"")).match(ot)[2].replace(" ",""))?e.split(at):[]).map((function(e){return function(e,t){var r;if((e=null==(r=e)?"":He(r))&&void 0===t)return e.replace(it,"");if(!e||!(t=He(t)))return e;var n=nt(e),i=nt(t),o=function(e,t){for(var r=-1,n=e.length;++r<n&&qe(t,e[r],0)>-1;);return r}(n,i),a=function(e,t){for(var r=e.length;r--&&qe(t,e[r],0)>-1;);return r}(n,i)+1;return function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}(e,t,r)}(n,o,a).join("")}(e.replace(st,""))}))}(e),0===e.length&&!i&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");i||n.pop(),r[t]=n.concat(a)}function a(t,r){var i=Be(n,(function(e){return t[e]}));i.push(r),g(e).apply(null,i)}})),De(r,t)}function lt(){this.head=this.tail=null,this.length=0}function pt(e,t){e.length=1,e.head=e.tail=t}function dt(e,t,r){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var n=g(e),i=0,o=[],a=!1;function s(e,t,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(p.started=!0,Y(e)||(e=[e]),0===e.length&&p.idle())return l((function(){p.drain()}));for(var n=0,i=e.length;n<i;n++){var o={data:e[n],callback:r||U};t?p._tasks.unshift(o):p._tasks.push(o)}a||(a=!0,l((function(){a=!1,p.process()})))}function c(e){return function(t){i-=1;for(var r=0,n=e.length;r<n;r++){var a=e[r],s=qe(o,a,0);0===s?o.shift():s>0&&o.splice(s,1),a.callback.apply(a,arguments),null!=t&&p.error(t,a.data)}i<=p.concurrency-p.buffer&&p.unsaturated(),p.idle()&&p.drain(),p.process()}}var u=!1,p={_tasks:new lt,concurrency:t,payload:r,saturated:U,unsaturated:U,buffer:t/4,empty:U,drain:U,error:U,started:!1,paused:!1,push:function(e,t){s(e,!1,t)},kill:function(){p.drain=U,p._tasks.empty()},unshift:function(e,t){s(e,!0,t)},remove:function(e){p._tasks.remove(e)},process:function(){if(!u){for(u=!0;!p.paused&&i<p.concurrency&&p._tasks.length;){var e=[],t=[],r=p._tasks.length;p.payload&&(r=Math.min(r,p.payload));for(var a=0;a<r;a++){var s=p._tasks.shift();e.push(s),o.push(s),t.push(s.data)}i+=1,0===p._tasks.length&&p.empty(),i===p.concurrency&&p.saturated();var l=ye(c(e));n(t,l)}u=!1}},length:function(){return p._tasks.length},running:function(){return i},workersList:function(){return o},idle:function(){return p._tasks.length+i===0},pause:function(){p.paused=!0},resume:function(){!1!==p.paused&&(p.paused=!1,l(p.process))}};return p}function ht(e,t){return dt(e,1,t)}lt.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},lt.prototype.empty=function(){for(;this.head;)this.shift();return this},lt.prototype.insertAfter=function(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1},lt.prototype.insertBefore=function(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1},lt.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):pt(this,e)},lt.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):pt(this,e)},lt.prototype.shift=function(){return this.head&&this.removeLink(this.head)},lt.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},lt.prototype.toArray=function(){for(var e=Array(this.length),t=this.head,r=0;r<this.length;r++)e[r]=t.data,t=t.next;return e},lt.prototype.remove=function(e){for(var t=this.head;t;){var r=t.next;e(t)&&this.removeLink(t),t=r}return this};var ft=Ee(be,1);function mt(e,t,r,n){n=F(n||U);var i=g(r);ft(e,(function(e,r,n){i(t,e,(function(e,r){t=r,n(e)}))}),(function(e){n(e,t)}))}function gt(){var e=Be(arguments,g);return function(){var t=r(arguments),n=this,i=t[t.length-1];"function"==typeof i?t.pop():i=U,mt(e,t,(function(e,t,i){t.apply(n,e.concat((function(e){var t=r(arguments,1);i(e,t)})))}),(function(e,t){i.apply(n,[e].concat(t))}))}}var yt=function(){return gt.apply(null,r(arguments).reverse())},vt=Array.prototype.concat,bt=function(e,t,n,i){i=i||U;var o=g(n);Ce(e,t,(function(e,t){o(e,(function(e){return e?t(e):t(null,r(arguments,1))}))}),(function(e,t){for(var r=[],n=0;n<t.length;n++)t[n]&&(r=vt.apply(r,t[n]));return i(e,r)}))},Et=Ee(bt,1/0),wt=Ee(bt,1),At=function(){var e=r(arguments),t=[null].concat(e);return function(){return arguments[arguments.length-1].apply(this,t)}};function xt(e){return e}function St(e,t){return function(r,n,i,o){o=o||U;var a,s=!1;r(n,(function(r,n,o){i(r,(function(n,i){n?o(n):e(i)&&!a?(s=!0,a=t(!0,r),o(null,j)):o()}))}),(function(e){e?o(e):o(null,s?a:t(!1))}))}}function _t(e,t){return t}var kt=Se(St(xt,_t)),It=Te(St(xt,_t)),Tt=Ee(It,1);function Ct(e){return function(t){var n=r(arguments,1);n.push((function(t){var n=r(arguments,1);"object"==("undefined"==typeof console?"undefined":D(console))&&(t?console.error&&console.error(t):console[e]&&Re(n,(function(t){console[e](t)})))})),g(t).apply(null,n)}}var Ot=Ct("dir");function Nt(e,t,n){n=ye(n||U);var i=g(e),o=g(t);function a(e){if(e)return n(e);var t=r(arguments,1);t.push(s),o.apply(this,t)}function s(e,t){return e?n(e):t?void i(a):n(null)}s(null,!0)}function Rt(e,t,n){n=ye(n||U);var i=g(e),o=function(e){if(e)return n(e);var a=r(arguments,1);if(t.apply(this,a))return i(o);n.apply(null,[null].concat(a))};i(o)}function Pt(e,t,r){Rt(e,(function(){return!t.apply(this,arguments)}),r)}function Lt(e,t,r){r=ye(r||U);var n=g(t),i=g(e);function o(e){if(e)return r(e);i(a)}function a(e,t){return e?r(e):t?void n(o):r(null)}i(a)}function Mt(e){return function(t,r,n){return e(t,n)}}function qt(e,t,r){xe(e,Mt(g(t)),r)}function Dt(e,t,r,n){ve(t)(e,Mt(g(r)),n)}var Bt=Ee(Dt,1);function jt(e){return m(e)?e:i((function(t,r){var n=!0;t.push((function(){var e=arguments;n?l((function(){r.apply(null,e)})):r.apply(null,e)})),e.apply(this,t),n=!1}))}function Ut(e){return!e}var Ft=Se(St(Ut,Ut)),zt=Te(St(Ut,Ut)),Ht=Ee(zt,1);function Qt(e){return function(t){return null==t?void 0:t[e]}}function Gt(e,t,r,n){var i=new Array(t.length);e(t,(function(e,t,n){r(e,(function(e,r){i[t]=!!r,n(e)}))}),(function(e){if(e)return n(e);for(var r=[],o=0;o<t.length;o++)i[o]&&r.push(t[o]);n(null,r)}))}function Kt(e,t,r,n){var i=[];e(t,(function(e,t,n){r(e,(function(r,o){r?n(r):(o&&i.push({index:t,value:e}),n())}))}),(function(e){e?n(e):n(null,Be(i.sort((function(e,t){return e.index-t.index})),Qt("value")))}))}function $t(e,t,r,n){(B(t)?Gt:Kt)(e,t,g(r),n||U)}var Wt=Se($t),Vt=Te($t),Yt=Ee(Vt,1);function Xt(e,t){var r=ye(t||U),n=g(jt(e));!function e(t){if(t)return r(t);n(e)}()}var Jt=function(e,t,r,n){n=n||U;var i=g(r);Ce(e,t,(function(e,t){i(e,(function(r,n){return r?t(r):t(null,{key:n,val:e})}))}),(function(e,t){for(var r={},i=Object.prototype.hasOwnProperty,o=0;o<t.length;o++)if(t[o]){var a=t[o].key,s=t[o].val;i.call(r,a)?r[a].push(s):r[a]=[s]}return n(e,r)}))},Zt=Ee(Jt,1/0),er=Ee(Jt,1),tr=Ct("log");function rr(e,t,r,n){n=F(n||U);var i={},o=g(r);be(e,t,(function(e,t,r){o(e,t,(function(e,n){if(e)return r(e);i[t]=n,r()}))}),(function(e){n(e,i)}))}var nr=Ee(rr,1/0),ir=Ee(rr,1);function or(e,t){return t in e}function ar(e,t){var n=Object.create(null),o=Object.create(null);t=t||xt;var a=g(e),s=i((function(e,i){var s=t.apply(null,e);or(n,s)?l((function(){i.apply(null,n[s])})):or(o,s)?o[s].push(i):(o[s]=[i],a.apply(null,e.concat((function(){var e=r(arguments);n[s]=e;var t=o[s];delete o[s];for(var i=0,a=t.length;i<a;i++)t[i].apply(null,e)}))))}));return s.memo=n,s.unmemoized=e,s}var sr=u(s?process.nextTick:a?setImmediate:c);function cr(e,t,n){n=n||U;var i=B(t)?[]:{};e(t,(function(e,t,n){g(e)((function(e,o){arguments.length>2&&(o=r(arguments,1)),i[t]=o,n(e)}))}),(function(e){n(e,i)}))}function ur(e,t){cr(xe,e,t)}function lr(e,t,r){cr(ve(t),e,r)}var pr=function(e,t){var r=g(e);return dt((function(e,t){r(e[0],t)}),t,1)},dr=function(e,t){var r=pr(e,t);return r.push=function(e,t,n){if(null==n&&(n=U),"function"!=typeof n)throw new Error("task callback must be a function");if(r.started=!0,Y(e)||(e=[e]),0===e.length)return l((function(){r.drain()}));t=t||0;for(var i=r._tasks.head;i&&t>=i.priority;)i=i.next;for(var o=0,a=e.length;o<a;o++){var s={data:e[o],priority:t,callback:n};i?r._tasks.insertBefore(i,s):r._tasks.push(s)}l(r.process)},delete r.unshift,r};function hr(e,t){if(t=F(t||U),!Y(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)g(e[r])(t)}function fr(e,t,n,i){mt(r(e).reverse(),t,n,i)}function mr(e){var t=g(e);return i((function(e,n){return e.push((function(e,t){var i;e?n(null,{error:e}):(i=arguments.length<=2?t:r(arguments,1),n(null,{value:i}))})),t.apply(this,e)}))}function gr(e){var t;return Y(e)?t=Be(e,mr):(t={},Le(e,(function(e,r){t[r]=mr.call(this,e)}))),t}function yr(e,t,r,n){$t(e,t,(function(e,t){r(e,(function(e,r){t(e,!r)}))}),n)}var vr=Se(yr),br=Te(yr),Er=Ee(br,1);function wr(e){return function(){return e}}function Ar(e,t,r){var n={times:5,intervalFunc:wr(0)};if(arguments.length<3&&"function"==typeof e?(r=t||U,t=e):(function(e,t){if("object"==D(t))e.times=+t.times||5,e.intervalFunc="function"==typeof t.interval?t.interval:wr(+t.interval||0),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||5}}(n,e),r=r||U),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var i=g(t),o=1;!function e(){i((function(t){t&&o++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(t))?setTimeout(e,n.intervalFunc(o)):r.apply(null,arguments)}))}()}var xr=function(e,t){t||(t=e,e=null);var r=g(t);return i((function(t,n){function i(e){r.apply(null,t.concat(e))}e?Ar(e,i,n):Ar(i,n)}))};function Sr(e,t){cr(ft,e,t)}var _r=Se(St(Boolean,xt)),kr=Te(St(Boolean,xt)),Ir=Ee(kr,1);function Tr(e,t,r){var n=g(t);function i(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}ke(e,(function(e,t){n(e,(function(r,n){if(r)return t(r);t(null,{value:e,criteria:n})}))}),(function(e,t){if(e)return r(e);r(null,Be(t.sort(i),Qt("value")))}))}function Cr(e,t,r){var n=g(e);return i((function(i,o){var a,s=!1;i.push((function(){s||(o.apply(null,arguments),clearTimeout(a))})),a=setTimeout((function(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),s=!0,o(n)}),t),n.apply(null,i)}))}var Or=Math.ceil,Nr=Math.max;function Rr(e,t,r,n){var i=g(r);Ce(function(e,t){for(var r=-1,n=Nr(Or((t-e)/1),0),i=Array(n);n--;)i[++r]=e,e+=1;return i}(0,e),t,i,n)}var Pr=Ee(Rr,1/0),Lr=Ee(Rr,1);function Mr(e,t,r,n){arguments.length<=3&&(n=r,r=t,t=Y(e)?[]:{}),n=F(n||U);var i=g(r);xe(e,(function(e,r,n){i(t,e,r,n)}),(function(e){n(e,t)}))}function qr(e,t){var n,i=null;t=t||U,Bt(e,(function(e,t){g(e)((function(e,o){n=arguments.length>2?r(arguments,1):o,i=e,t(!e)}))}),(function(){t(i,n)}))}function Dr(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function Br(e,t,n){n=ye(n||U);var i=g(t);if(!e())return n(null);var o=function(t){if(t)return n(t);if(e())return i(o);var a=r(arguments,1);n.apply(null,[null].concat(a))};i(o)}function jr(e,t,r){Br((function(){return!e.apply(this,arguments)}),t,r)}var Ur=function(e,t){if(t=F(t||U),!Y(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function i(t){var r=g(e[n++]);t.push(ye(o)),r.apply(null,t)}function o(o){if(o||n===e.length)return t.apply(null,arguments);i(r(arguments,1))}i([])},Fr={apply:n,applyEach:Ie,applyEachSeries:Ne,asyncify:p,auto:De,autoInject:ut,cargo:ht,compose:yt,concat:Et,concatLimit:bt,concatSeries:wt,constant:At,detect:kt,detectLimit:It,detectSeries:Tt,dir:Ot,doDuring:Nt,doUntil:Pt,doWhilst:Rt,during:Lt,each:qt,eachLimit:Dt,eachOf:xe,eachOfLimit:be,eachOfSeries:ft,eachSeries:Bt,ensureAsync:jt,every:Ft,everyLimit:zt,everySeries:Ht,filter:Wt,filterLimit:Vt,filterSeries:Yt,forever:Xt,groupBy:Zt,groupByLimit:Jt,groupBySeries:er,log:tr,map:ke,mapLimit:Ce,mapSeries:Oe,mapValues:nr,mapValuesLimit:rr,mapValuesSeries:ir,memoize:ar,nextTick:sr,parallel:ur,parallelLimit:lr,priorityQueue:dr,queue:pr,race:hr,reduce:mt,reduceRight:fr,reflect:mr,reflectAll:gr,reject:vr,rejectLimit:br,rejectSeries:Er,retry:Ar,retryable:xr,seq:gt,series:Sr,setImmediate:l,some:_r,someLimit:kr,someSeries:Ir,sortBy:Tr,timeout:Cr,times:Pr,timesLimit:Rr,timesSeries:Lr,transform:Mr,tryEach:qr,unmemoize:Dr,until:jr,waterfall:Ur,whilst:Br,all:Ft,allLimit:zt,allSeries:Ht,any:_r,anyLimit:kr,anySeries:Ir,find:kt,findLimit:It,findSeries:Tt,forEach:qt,forEachSeries:Bt,forEachLimit:Dt,forEachOf:xe,forEachOfSeries:ft,forEachOfLimit:be,inject:mt,foldl:mt,foldr:fr,select:Wt,selectLimit:Vt,selectSeries:Yt,wrapSync:p};t.default=Fr,t.apply=n,t.applyEach=Ie,t.applyEachSeries=Ne,t.asyncify=p,t.auto=De,t.autoInject=ut,t.cargo=ht,t.compose=yt,t.concat=Et,t.concatLimit=bt,t.concatSeries=wt,t.constant=At,t.detect=kt,t.detectLimit=It,t.detectSeries=Tt,t.dir=Ot,t.doDuring=Nt,t.doUntil=Pt,t.doWhilst=Rt,t.during=Lt,t.each=qt,t.eachLimit=Dt,t.eachOf=xe,t.eachOfLimit=be,t.eachOfSeries=ft,t.eachSeries=Bt,t.ensureAsync=jt,t.every=Ft,t.everyLimit=zt,t.everySeries=Ht,t.filter=Wt,t.filterLimit=Vt,t.filterSeries=Yt,t.forever=Xt,t.groupBy=Zt,t.groupByLimit=Jt,t.groupBySeries=er,t.log=tr,t.map=ke,t.mapLimit=Ce,t.mapSeries=Oe,t.mapValues=nr,t.mapValuesLimit=rr,t.mapValuesSeries=ir,t.memoize=ar,t.nextTick=sr,t.parallel=ur,t.parallelLimit=lr,t.priorityQueue=dr,t.queue=pr,t.race=hr,t.reduce=mt,t.reduceRight=fr,t.reflect=mr,t.reflectAll=gr,t.reject=vr,t.rejectLimit=br,t.rejectSeries=Er,t.retry=Ar,t.retryable=xr,t.seq=gt,t.series=Sr,t.setImmediate=l,t.some=_r,t.someLimit=kr,t.someSeries=Ir,t.sortBy=Tr,t.timeout=Cr,t.times=Pr,t.timesLimit=Rr,t.timesSeries=Lr,t.transform=Mr,t.tryEach=qr,t.unmemoize=Dr,t.until=jr,t.waterfall=Ur,t.whilst=Br,t.all=Ft,t.allLimit=zt,t.allSeries=Ht,t.any=_r,t.anyLimit=kr,t.anySeries=Ir,t.find=kt,t.findLimit=It,t.findSeries=Tt,t.forEach=qt,t.forEachSeries=Bt,t.forEachLimit=Dt,t.forEachOf=xe,t.forEachOfSeries=ft,t.forEachOfLimit=be,t.inject=mt,t.foldl=mt,t.foldr=fr,t.select=Wt,t.selectLimit=Vt,t.selectSeries=Yt,t.wrapSync=p,Object.defineProperty(t,"__esModule",{value:!0})},n(t)},8128:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==D(Symbol.iterator)?function(e){return D(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":D(e)},n(e)}function i(){"use strict";i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new R(n||[]);return a(o,"_invoke",{value:T(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function E(){}function w(){}var A={};p(A,c,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==r&&o.call(S,c)&&(A=S);var _=w.prototype=b.prototype=Object.create(A);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(i,a,s,c){var u=h(e[i],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var i=f;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var u=h(t,r,n);if("normal"===u.type){if(i=n.done?y:m,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=y,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return E.prototype=w,a(_,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:E,configurable:!0}),E.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(I.prototype),p(I.prototype,u,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new I(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),p(_,l,"Generator"),p(_,c,(function(){return this})),p(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,c,"next",e)}function c(e){o(a,n,i,s,c,"throw",e)}s(void 0)}))}}var s=r(6083),c=r(6689),u=r(9031),l=u.Sequelize,p=u.DataTypes,d=r(7920),h=r(3577),f=r(8901),m=r(625),g=r(1323),y=r(9728),v=r(4336),b=s();b.use(s.json()),b.use(s.urlencoded({extended:!0})),b.use(y());var E=new l({dialect:"sqlite",dialectModule:c,storage:"./alerts.db"}),w=E.define("Alert",{id:{type:p.UUID,defaultValue:p.UUIDV4,primaryKey:!0},time_raised:{type:p.DATE,defaultValue:p.NOW},severity:{type:p.STRING,allowNull:!1},host:{type:p.STRING,allowNull:!1},service:{type:p.STRING,allowNull:!1},details:{type:p.STRING,allowNull:!1},isAlarm:{type:p.BOOLEAN,allowNull:!1},status:{type:p.STRING,defaultValue:"active"}});b.set("sequelize",E),b.set("models",{Alert:w}),b.use("/api/v1/",d),b.use("/api/v1/containers",f),b.use("/api/v1/azure",m),b.all("*",(function(e,t,r){r(new v("can't find ".concat(e.originalUrl," on the server"),404))})),b.use(h);var A,x=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.sync({force:!0});case 3:console.log("Database reset completed..."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error resetting database:",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=a(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.authenticate();case 3:return console.log("Database connected..."),e.next=6,x();case 6:return e.next=8,E.sync();case 8:console.log("Database synchronized..."),g.getPortPromise({startPort:8e3,stopPort:9e3}).then((function(e){console.log("Found available port: ".concat(e)),A=b.listen(e,(function(){console.log("Server running on http://localhost:".concat(e))}))})).catch((function(e){console.error("No available port found: ".concat(e.message))})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Failed to start server: ".concat(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e.exports={startServer:S,stopServer:function(){A&&A.close((function(){console.log("Server stopped.")}))}}},4336:function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==D(Symbol.iterator)?function(e){return D(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":D(e)},t(e)}function r(e){var t="function"==typeof Map?new Map:void 0;return r=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(n())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var a=new(e.bind.apply(e,o));return r&&i(a,r.prototype),a}(e,arguments,o(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i(r,e)},r(e)}function n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(n=function(){return!!e})()}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}var a=function(e){function r(e,i){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(a=function(e,r,i){return r=o(r),function(e,r){if(r&&("object"==t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,n()?Reflect.construct(r,i||[],o(e).constructor):r.apply(e,i))}(this,r,[e])).statusCode=i,a.status="".concat(i).startsWith("4")?"fail":"error",Error.captureStackTrace(a,a.contructor),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(r,e),a=r,Object.defineProperty(a,"prototype",{writable:!1}),a;var a}(r(Error));e.exports=a},3577:function(e,t,r){r(4336),e.exports=function(e,t,r,n){return e.statusCode=e.statusCode||500,e.status=e.status||"error",r.status(e.statusCode).json({status:e.status,message:e.message,error:e,stack:e.stack})}},7920:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==D(Symbol.iterator)?function(e){return D(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":D(e)},n(e)}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=r.next();return s=e.done,e})),e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){c=!0,a=e})),f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(){"use strict";a=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new R(n||[]);return o(a,"_invoke",{value:T(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function E(){}function w(){}var A={};p(A,c,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==r&&i.call(S,c)&&(A=S);var _=w.prototype=b.prototype=Object.create(A);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(o,a,s,c){var u=h(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,r,n){var i=f;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var u=h(t,r,n);if("normal"===u.type){if(i=n.done?y:m,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=y,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return E.prototype=w,o(_,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:E,configurable:!0}),E.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(I.prototype),p(I.prototype,u,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new I(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),p(_,l,"Generator"),p(_,c,(function(){return this})),p(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function s(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))}}var u=r(6083).Router();u.post("/alerts",function(){var e=c(a().mark((function e(t,r,n){var i,o,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.app.get("models"),o=i.Alert,e.prev=1,s=t.body,e.next=5,o.findOne({where:{severity:s.severity,host:s.host,service:s.service,details:s.details,isAlarm:s.isAlarm,status:s.status}});case 5:if(!e.sent){e.next=8;break}return e.abrupt("return",r.status(409).json({message:"Duplicate alert not added"}));case 8:return e.next=10,o.create(s);case 10:if("cleared"!==(c=e.sent).status){e.next=15;break}return e.next=14,c.destroy();case 14:return e.abrupt("return",r.json({message:"Alert cleared immediately after creation"}));case 15:r.status(201).json(c),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),n(e.t0);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t,r,n){return e.apply(this,arguments)}}()),u.post("/clear-alert",function(){var e=c(a().mark((function e(t,r,n){var i,o,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.app.get("models"),o=i.Alert,e.prev=1,(s=t.body).hasOwnProperty("severity")&&s.hasOwnProperty("host")&&s.hasOwnProperty("service")&&s.hasOwnProperty("details")&&s.hasOwnProperty("isAlarm")&&s.hasOwnProperty("status")){e.next=5;break}return e.abrupt("return",r.status(400).json({message:"Missing required fields"}));case 5:if("cleared"!==s.status){e.next=16;break}return e.next=8,o.findOne({where:{severity:s.severity,host:s.host,service:s.service,details:s.details,isAlarm:s.isAlarm,status:"active"}});case 8:if(!(c=e.sent)){e.next=15;break}return e.next=12,c.destroy();case 12:return e.abrupt("return",r.json({message:"Alert cleared and deleted from active list"}));case 15:return e.abrupt("return",r.status(404).json({message:"No matching active alert found to clear"}));case 16:r.status(400).json({message:"Alert status must be 'cleared' to delete"}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),n(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t,r,n){return e.apply(this,arguments)}}()),u.get("/alerts",function(){var e=c(a().mark((function e(t,r,n){var i,o,s,c,u,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.app.get("models"),o=i.Alert,e.prev=1,s=t.query.severity,c=t.query.host,u={where:{}},s&&(u.where.severity=s),c&&(u.where.host=c),e.next=9,o.findAll(u);case 9:l=e.sent,r.json(l),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,r,n){return e.apply(this,arguments)}}()),u.put("/alerts/:alertId",function(){var e=c(a().mark((function e(t,r,n){var i,o,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.app.get("models"),o=i.Alert,e.prev=1,s=t.body,e.next=5,o.findByPk(t.params.alertId);case 5:if(c=e.sent){e.next=8;break}return e.abrupt("return",r.status(404).json({message:"Alert not found"}));case 8:return e.next=10,c.update(s);case 10:r.json({message:"Alert updated"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,r,n){return e.apply(this,arguments)}}()),u.delete("/alerts/:alertId",function(){var e=c(a().mark((function e(t,r,n){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.app.get("models"),o=i.Alert,e.prev=1,e.next=4,o.findByPk(t.params.alertId);case 4:if(s=e.sent){e.next=7;break}return e.abrupt("return",r.status(404).json({message:"Alert not found"}));case 7:return e.next=9,s.destroy();case 9:r.json({message:"Alert deleted"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,r,n){return e.apply(this,arguments)}}()),u.delete("/clear-all-alerts",function(){var e=c(a().mark((function e(t,r,n){var o,s,c,u,l,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.app.get("models"),s=o.Alert,e.prev=1,e.next=4,s.findAll({where:{status:"active"}});case 4:c=e.sent,u=i(c),e.prev=6,u.s();case 8:if((l=u.n()).done){e.next=14;break}return p=l.value,e.next=12,p.destroy();case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),u.e(e.t0);case 19:return e.prev=19,u.f(),e.finish(19);case 22:r.json({message:"All alerts cleared successfully"}),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(1),n(e.t1);case 28:case"end":return e.stop()}}),e,null,[[1,25],[6,16,19,22]])})));return function(t,r,n){return e.apply(this,arguments)}}()),e.exports=u},625:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==D(Symbol.iterator)?function(e){return D(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":D(e)},n(e)}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){r=r.call(e)},n:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=r.next();return s=e.done,e})),e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){c=!0,a=e})),f:function(){try{s||null==r.return||r.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(){"use strict";a=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),s=new R(n||[]);return o(a,"_invoke",{value:T(e,r,s)}),a}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function E(){}function w(){}var A={};p(A,c,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==r&&i.call(S,c)&&(A=S);var _=w.prototype=b.prototype=Object.create(A);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(o,a,s,c){var u=h(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&i.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return a=a?a.then(i,i):i()}})}function T(t,r,n){var i=f;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var u=h(t,r,n);if("normal"===u.type){if(i=n.done?y:m,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=y,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(i.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return E.prototype=w,o(_,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:E,configurable:!0}),E.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(I.prototype),p(I.prototype,u,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new I(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),p(_,l,"Generator"),p(_,c,(function(){return this})),p(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function s(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){s(o,n,i,a,c,"next",e)}function c(e){s(o,n,i,a,c,"throw",e)}a(void 0)}))}}function u(e){var t,r,n,i=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new l(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function l(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return l=function(e){this.s=e,this.n=e.next},l.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new l(e)}var p=r(6083).Router();r(4518).checkAllContainers,r(998).config();var d=r(3037).SubscriptionClient,h=r(252).ContainerInstanceManagementClient,f=r(6365).ResourceManagementClient,m=r(5785).DefaultAzureCredential;function g(){return y.apply(this,arguments)}function y(){return(y=c(a().mark((function e(){var t,r,n,i,o,s,c,l,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new m,r=new d(t),n=[],i=!1,o=!1,e.prev=5,c=u(r.subscriptions.list());case 7:return e.next=9,c.next();case 9:if(!(i=!(l=e.sent).done)){e.next=15;break}p=l.value,n.push(p);case 12:i=!1,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),o=!0,s=e.t0;case 21:if(e.prev=21,e.prev=22,!i||null==c.return){e.next=26;break}return e.next=26,c.return();case 26:if(e.prev=26,!o){e.next=29;break}throw s;case 29:return e.finish(26);case 30:return e.finish(21);case 31:return e.abrupt("return",n);case 32:case"end":return e.stop()}}),e,null,[[5,17,21,31],[22,,26,30]])})))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=c(a().mark((function e(t){var r,n,i,o,s,c,l,p,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new m,n=new f(r,t),i=[],o=!1,s=!1,e.prev=5,l=u(n.resourceGroups.list());case 7:return e.next=9,l.next();case 9:if(!(o=!(p=e.sent).done)){e.next=15;break}d=p.value,i.push(d);case 12:o=!1,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),s=!0,c=e.t0;case 21:if(e.prev=21,e.prev=22,!o||null==l.return){e.next=26;break}return e.next=26,l.return();case 26:if(e.prev=26,!s){e.next=29;break}throw c;case 29:return e.finish(26);case 30:return e.finish(21);case 31:return e.abrupt("return",i);case 32:case"end":return e.stop()}}),e,null,[[5,17,21,31],[22,,26,30]])})))).apply(this,arguments)}p.get("/subscriptions",function(){var e=c(a().mark((function e(t,r,n){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:i=e.sent,r.status(200).json(i),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching subscriptions:",e.t0),n(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n){return e.apply(this,arguments)}}()),p.get("/resourcegroups",function(){var e=c(a().mark((function e(t,r,n){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=t.query.subscriptionId){e.next=4;break}return e.abrupt("return",r.status(400).json({error:"Subscription ID is required"}));case 4:return e.next=6,v(i);case 6:o=e.sent,r.status(200).json(o),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching resource groups:",e.t0),n(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,n){return e.apply(this,arguments)}}()),p.get("/containers",function(){var e=c(a().mark((function e(t,r,n){var o,s,c,l,p,d,f,g,y,v,b,E,w,A,x,S,_,k,I,T;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.query,s=o.azureSubscriptionId,c=o.resourceGroupName,s&&c){e.next=3;break}return e.abrupt("return",r.status(400).json({error:"Azure subscription ID or resource group name is missing or undefined."}));case 3:l=new h(new m,s),p=[],e.prev=5,d=l.containerGroups.listByResourceGroup(c),f=!1,g=!1,e.prev=9,v=u(d.byPage());case 11:return e.next=13,v.next();case 13:if(!(f=!(b=e.sent).done)){e.next=20;break}E=b.value,w=i(E);try{for(w.s();!(A=w.n()).done;){if(x=A.value,S={name:x.name,containers:[]},x.containers){_=i(x.containers);try{for(_.s();!(k=_.n()).done;)I=k.value,T={name:I.name,image:I.image,ports:I.ports.map((function(e){return{protocol:e.protocol,port:e.port}})),environmentVariables:I.environmentVariables.map((function(e){return{name:e.name,value:e.value}})),resources:{cpu:I.resources.requests.cpu,memoryInGB:I.resources.requests.memoryInGB}},S.containers.push(T)}catch(e){_.e(e)}finally{_.f()}}p.push(S)}}catch(e){w.e(e)}finally{w.f()}case 17:f=!1,e.next=11;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(9),g=!0,y=e.t0;case 26:if(e.prev=26,e.prev=27,!f||null==v.return){e.next=31;break}return e.next=31,v.return();case 31:if(e.prev=31,!g){e.next=34;break}throw y;case 34:return e.finish(31);case 35:return e.finish(26);case 36:return e.abrupt("return",r.status(200).json(p));case 39:e.prev=39,e.t1=e.catch(5),n(e.t1);case 42:case"end":return e.stop()}}),e,null,[[5,39],[9,22,26,36],[27,,31,35]])})));return function(t,r,n){return e.apply(this,arguments)}}()),e.exports=p},8901:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==D(Symbol.iterator)?function(e){return D(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":D(e)},n(e)}function i(){"use strict";i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new R(n||[]);return a(o,"_invoke",{value:T(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function E(){}function w(){}var A={};p(A,c,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==r&&o.call(S,c)&&(A=S);var _=w.prototype=b.prototype=Object.create(A);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(i,a,s,c){var u=h(e[i],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var i=f;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var u=h(t,r,n);if("normal"===u.type){if(i=n.done?y:m,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=y,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return E.prototype=w,a(_,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:E,configurable:!0}),E.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(I.prototype),p(I.prototype,u,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new I(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),p(_,l,"Generator"),p(_,c,(function(){return this})),p(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,c,"next",e)}function c(e){o(a,n,i,s,c,"throw",e)}s(void 0)}))}}var s=r(6083).Router(),c=r(4518),u=c.checkAllContainers,l=c.startContainer,p=c.stopContainer,d=c.restartContainer;s.get("/all",function(){var e=a(i().mark((function e(t,r,n){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:o=e.sent,r.status(200).json(o),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching containers:",e.t0.message),n(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n){return e.apply(this,arguments)}}()),s.post("/start/:id",function(){var e=a(i().mark((function e(t,r,n){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t.params.id,e.next=4,l(o);case 4:r.status(200).json({message:"Container ".concat(o," started")}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error starting container:",e.t0.message),n(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n){return e.apply(this,arguments)}}()),s.post("/stop/:id",function(){var e=a(i().mark((function e(t,r,n){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t.params.id,e.next=4,p(o);case 4:r.status(200).json({message:"Container ".concat(o," stopped")}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error stopping container:",e.t0.message),n(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n){return e.apply(this,arguments)}}()),s.post("/restart/:id",function(){var e=a(i().mark((function e(t,r,n){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=t.params.id,e.next=4,d(o);case 4:r.status(200).json({message:"Container ".concat(o," restarted")}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error restarting container:",e.t0.message),n(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,n){return e.apply(this,arguments)}}()),e.exports=s},4518:function(e,t,r){function n(e){return n="function"==typeof Symbol&&"symbol"==D(Symbol.iterator)?function(e){return D(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":D(e)},n(e)}function i(){"use strict";i=function(){return t};var e,t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var i=t&&t.prototype instanceof b?t:b,o=Object.create(i.prototype),s=new R(n||[]);return a(o,"_invoke",{value:T(e,r,s)}),o}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function b(){}function E(){}function w(){}var A={};p(A,c,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(P([])));S&&S!==r&&o.call(S,c)&&(A=S);var _=w.prototype=b.prototype=Object.create(A);function k(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(i,a,s,c){var u=h(e[i],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==n(p)&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}})}function T(t,r,n){var i=f;return function(o,a){if(i===g)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:e,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=C(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var u=h(t,r,n);if("normal"===u.type){if(i=n.done?y:m,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=y,n.method="throw",n.arg=u.arg)}}}function C(t,r){var n=r.method,i=t.iterator[n];if(i===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var o=h(i,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[c];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(o.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(n(t)+" is not iterable")}return E.prototype=w,a(_,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:E,configurable:!0}),E.displayName=p(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},k(I.prototype),p(I.prototype,u,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new I(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),p(_,l,"Generator"),p(_,c,(function(){return this})),p(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function o(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function s(e){o(a,n,i,s,c,"next",e)}function c(e){o(a,n,i,s,c,"throw",e)}s(void 0)}))}}var s=new(r(3841));function c(e){return u.apply(this,arguments)}function u(){return(u=a(i().mark((function e(t){var r,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.getContainer(t),e.next=3,r.inspect();case 3:return n=e.sent,e.next=6,r.stats({stream:!1});case 6:return o=e.sent,e.abrupt("return",{Id:n.Id,Name:n.Name,Image:n.Config.Image,State:n.State.Status,Status:n.State.Health?n.State.Health.Status:n.State.Status,Created:n.Created,Ports:n.NetworkSettings.Ports,Labels:n.Config.Labels,NetworkMode:n.HostConfig.NetworkMode,IPAddress:n.NetworkSettings.Networks[Object.keys(n.NetworkSettings.Networks)[0]].IPAddress,Mounts:n.Mounts.map((function(e){return{Source:e.Source,Destination:e.Destination,Mode:e.RW?"rw":"ro"}})),CPUUsage:(o.cpu_stats.cpu_usage.total_usage/o.cpu_stats.system_cpu_usage*100).toFixed(2)+"%",MemoryUsage:(o.memory_stats.usage/1048576).toFixed(2)+" MB",RestartCount:n.RestartCount,HealthCheck:n.State.Health?n.State.Health.Status:"N/A"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.exports={checkAllContainers:function(){return a(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.listContainers({all:!0});case 3:return t=e.sent,r=t.map((function(e){return c(e.Id)})),e.next=7,Promise.all(r);case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(0),console.error("Error checking all containers:",e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},startContainer:function(e){return a(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=s.getContainer(e),t.next=4,r.start();case 4:t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),console.error("Error starting container:",t.t0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},stopContainer:function(e){return a(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=s.getContainer(e),t.next=4,r.stop();case 4:t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),console.error("Error stopping container:",t.t0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},restartContainer:function(e){return a(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=s.getContainer(e),t.next=4,r.restart();case 4:t.next=10;break;case 6:throw t.prev=6,t.t0=t.catch(0),console.error("Error restarting container:",t.t0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}},4015:function(e,t,r){"use strict";var n=r(8947).lowlevel.crypto_hash,i=0,o=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])],this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};function a(e,t,r){return(e[0][t[r+3]]+e[1][t[r+2]]^e[2][t[r+1]])+e[3][t[r]]}function s(e,t){var r,n=0;for(r=0;r<4;r++,i++)i>=t&&(i=0),n=n<<8|e[i];return n}function c(e,t,r){var n,i=new o,a=new Uint32Array(8),c=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);for(i.expandstate(t,64,e,64),n=0;n<64;n++)i.expand0state(t,64),i.expand0state(e,64);for(n=0;n<8;n++)a[n]=s(c,c.byteLength);for(n=0;n<64;n++)i.enc(a,a.byteLength/8);for(n=0;n<8;n++)r[4*n+3]=a[n]>>>24,r[4*n+2]=a[n]>>>16,r[4*n+1]=a[n]>>>8,r[4*n+0]=a[n]}o.prototype.encipher=function(e,t){void 0===t&&(t=new Uint8Array(e.buffer),0!==e.byteOffset&&(t=t.subarray(e.byteOffset))),e[0]^=this.P[0];for(var r=1;r<16;r+=2)e[1]^=a(this.S,t,0)^this.P[r],e[0]^=a(this.S,t,4)^this.P[r+1];var n=e[0];e[0]=e[1]^this.P[17],e[1]=n},o.prototype.decipher=function(e){var t=new Uint8Array(e.buffer);0!==e.byteOffset&&(t=t.subarray(e.byteOffset)),e[0]^=this.P[17];for(var r=16;r>0;r-=2)e[1]^=a(this.S,t,0)^this.P[r],e[0]^=a(this.S,t,4)^this.P[r-1];var n=e[0];e[0]=e[1]^this.P[0],e[1]=n},o.prototype.expand0state=function(e,t){var r,n,o=new Uint32Array(2),a=new Uint8Array(o.buffer);for(r=0,i=0;r<18;r++)this.P[r]^=s(e,t);for(i=0,r=0;r<18;r+=2)this.encipher(o,a),this.P[r]=o[0],this.P[r+1]=o[1];for(r=0;r<4;r++)for(n=0;n<256;n+=2)this.encipher(o,a),this.S[r][n]=o[0],this.S[r][n+1]=o[1]},o.prototype.expandstate=function(e,t,r,n){var o,a,c=new Uint32Array(2);for(o=0,i=0;o<18;o++)this.P[o]^=s(r,n);for(o=0,i=0;o<18;o+=2)c[0]^=s(e,t),c[1]^=s(e,t),this.encipher(c),this.P[o]=c[0],this.P[o+1]=c[1];for(o=0;o<4;o++)for(a=0;a<256;a+=2)c[0]^=s(e,t),c[1]^=s(e,t),this.encipher(c),this.S[o][a]=c[0],this.S[o][a+1]=c[1];i=0},o.prototype.enc=function(e,t){for(var r=0;r<t;r++)this.encipher(e.subarray(2*r))},o.prototype.dec=function(e,t){for(var r=0;r<t;r++)this.decipher(e.subarray(2*r))},e.exports={BLOCKS:8,HASHSIZE:32,hash:c,pbkdf:function(e,t,r,i,o,a,s){var u,l,p,d,h,f,m=new Uint8Array(64),g=new Uint8Array(64),y=new Uint8Array(32),v=new Uint8Array(32),b=new Uint8Array(i+4),E=a;if(s<1)return-1;if(0===t||0===i||0===a||a>y.byteLength*y.byteLength||i>1<<20)return-1;for(d=Math.floor((a+y.byteLength-1)/y.byteLength),p=Math.floor((a+d-1)/d),u=0;u<i;u++)b[u]=r[u];for(n(m,e,t),f=1;a>0;f++){for(b[i+0]=f>>>24,b[i+1]=f>>>16,b[i+2]=f>>>8,b[i+3]=f,n(g,b,i+4),c(m,g,v),u=y.byteLength;u--;)y[u]=v[u];for(u=1;u<s;u++)for(n(g,v,v.byteLength),c(m,g,v),l=0;l<y.byteLength;l++)y[l]^=v[l];for(p=Math.min(p,a),u=0;u<p&&!((h=u*d+(f-1))>=E);u++)o[h]=y[u];a-=u}return 0}}},7813:function(e,t,r){"use strict";var n=r(181).Buffer,i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];for(var t=0,r=0;r<this._bufs.length;r++){var n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},o.prototype._reverseOffset=function(e){for(var t=e[0],r=e[1],n=0;n<t;n++)r+=this._bufs[n].length;return r},o.prototype.get=function(e){if(!(e>this.length||e<0)){var t=this._offset(e);return this._bufs[t[0]][t[1]]}},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length)return e||n.alloc(0);if(i<=0)return e||n.alloc(0);var o=!!e,a=this._offset(r),s=i-r,c=s,u=o&&t||0,l=a[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(var p=0;p<this._bufs.length;p++)this._bufs[p].copy(e,u),u+=this._bufs[p].length;return e}if(c<=this._bufs[a[0]].length-l)return o?this._bufs[a[0]].copy(e,t,l,l+c):this._bufs[a[0]].slice(l,l+c);o||(e=n.allocUnsafe(s));for(var d=a[0];d<this._bufs.length;d++){var h=this._bufs[d].length-l;if(!(c>h)){this._bufs[d].copy(e,u,l,l+c),u+=h;break}this._bufs[d].copy(e,u,l),u+=h,c-=h,l&&(l=0)}return e.length>u?e.slice(0,u):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();var r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){for(var e=this._new(),t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(var t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(var r=0;r<e._bufs.length;r++)this.append(e._bufs[r]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=n.from([e]):"string"==typeof e?e=n.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;for(var i=this._offset(t),o=i[0],a=i[1];o<this._bufs.length;o++){for(var s=this._bufs[o];a<s.length;)if(s.length-a>=e.length){var c=s.indexOf(e,a);if(-1!==c)return this._reverseOffset([o,c]);a=s.length-e.length+1}else{var u=this._reverseOffset([o,a]);if(this._match(u,e))return u;a++}a=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(var r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var t in e)!function(t){o.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.slice(r,r+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},4829:function(e,t,r){"use strict";var n=r(4198).Duplex,i=r(2017),o=r(7813);function a(e){if(!(this instanceof a))return new a(e);if("function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}o._init.call(this,e),n.call(this)}i(a,n),Object.assign(a.prototype,o.prototype),a.prototype._new=function(e){return new a(e)},a.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},a.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},a.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},a.prototype._isBufferList=function(e){return e instanceof a||e instanceof o||a.isBufferList(e)},a.isBufferList=o.isBufferList,e.exports=a,e.exports.BufferListStream=a,e.exports.BufferList=o},7059:function(e,t,r){"use strict";var n=r(6330)("body-parser"),i=Object.create(null);function o(e){return function(){return function(e){var t=i[e];if(void 0!==t)return t;switch(e){case"json":t=r(2899);break;case"raw":t=r(1827);break;case"text":t=r(1962);break;case"urlencoded":t=r(4244)}return i[e]=t}(e)}}t=e.exports=n.function((function(e){var r=Object.create(e||null,{type:{configurable:!0,enumerable:!0,value:void 0,writable:!0}}),n=t.urlencoded(r),i=t.json(r);return function(e,t,r){i(e,t,(function(i){if(i)return r(i);n(e,t,r)}))}}),"bodyParser: use individual json/urlencoded middlewares"),Object.defineProperty(t,"json",{configurable:!0,enumerable:!0,get:o("json")}),Object.defineProperty(t,"raw",{configurable:!0,enumerable:!0,get:o("raw")}),Object.defineProperty(t,"text",{configurable:!0,enumerable:!0,get:o("text")}),Object.defineProperty(t,"urlencoded",{configurable:!0,enumerable:!0,get:o("urlencoded")})},3499:function(e,t,r){"use strict";var n=r(2771),i=r(7013),o=r(7680),a=r(5249),s=r(5649),c=r(1170),u=r(3106);e.exports=function(e,t,r,l,p,d){var h,f,m=d;e._body=!0;var g=null!==m.encoding?m.encoding:null,y=m.verify;try{f=function(e,t,r){var i,o=(e.headers["content-encoding"]||"identity").toLowerCase(),a=e.headers["content-length"];if(t('content-encoding "%s"',o),!1===r&&"identity"!==o)throw n(415,"content encoding unsupported",{encoding:o,type:"encoding.unsupported"});switch(o){case"deflate":i=u.createInflate(),t("inflate body"),e.pipe(i);break;case"gzip":i=u.createGunzip(),t("gunzip body"),e.pipe(i);break;case"identity":(i=e).length=a;break;default:throw n(415,'unsupported content encoding "'+o+'"',{encoding:o,type:"encoding.unsupported"})}return i}(e,p,m.inflate),h=f.length,f.length=void 0}catch(e){return r(e)}if(m.length=h,m.encoding=y?null:g,null===m.encoding&&null!==g&&!a.encodingExists(g))return r(n(415,'unsupported charset "'+g.toUpperCase()+'"',{charset:g.toLowerCase(),type:"charset.unsupported"}));p("read body"),o(f,m,(function(o,u){var d;if(o)return d="encoding.unsupported"===o.type?n(415,'unsupported charset "'+g.toUpperCase()+'"',{charset:g.toLowerCase(),type:"charset.unsupported"}):n(400,o),f!==e&&(c(e),i(f,!0)),void function(e,t){s.isFinished(e)?t():(s(e,t),e.resume())}(e,(function(){r(n(400,d))}));if(y)try{p("verify body"),y(e,t,u,g)}catch(e){return void r(n(403,e,{body:u,type:e.type||"entity.verify.failed"}))}var h=u;try{p("parse body"),h="string"!=typeof u&&null!==g?a.decode(u,g):u,e.body=l(h)}catch(e){return void r(n(400,e,{body:h,type:e.type||"entity.parse.failed"}))}r()}))}},2899:function(e,t,r){"use strict";var n=r(5508),i=r(8597),o=r(2771),a=r(5753)("body-parser:json"),s=r(3499),c=r(1592);e.exports=function(e){var t=e||{},r="number"!=typeof t.limit?n.parse(t.limit||"100kb"):t.limit,h=!1!==t.inflate,f=t.reviver,m=!1!==t.strict,g=t.type||"application/json",y=t.verify||!1;if(!1!==y&&"function"!=typeof y)throw new TypeError("option verify must be function");var v="function"!=typeof g?function(e){return function(t){return Boolean(c(t,e))}}(g):g;function b(e){if(0===e.length)return{};if(m){var t=(r=e,(n=u.exec(r))?n[1]:void 0);if("{"!==t&&"["!==t)throw a("strict violation"),function(e,t){var r=e.indexOf(t),n="";if(-1!==r){n=e.substring(0,r)+l;for(var i=r+1;i<e.length;i++)n+=l}try{throw JSON.parse(n),new SyntaxError("strict violation")}catch(t){return d(t,{message:t.message.replace(p,(function(t){return e.substring(r,r+t.length)})),stack:t.stack})}}(e,t)}var r,n;try{return a("parse json"),JSON.parse(e,f)}catch(e){throw d(e,{message:e.message,stack:e.stack})}}return function(e,t,n){if(e._body)return a("body already parsed"),void n();if(e.body=e.body||{},!c.hasBody(e))return a("skip empty body"),void n();if(a("content-type %j",e.headers["content-type"]),!v(e))return a("skip parsing"),void n();var u=function(e){try{return(i.parse(e).parameters.charset||"").toLowerCase()}catch(e){return}}(e)||"utf-8";if("utf-"!==u.slice(0,4))return a("invalid charset"),void n(o(415,'unsupported charset "'+u.toUpperCase()+'"',{charset:u,type:"charset.unsupported"}));s(e,t,n,b,a,{encoding:u,inflate:h,limit:r,verify:y})}};var u=/^[\x20\x09\x0a\x0d]*([^\x20\x09\x0a\x0d])/,l="#",p=/#+/g;function d(e,t){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n];"stack"!==i&&"message"!==i&&delete e[i]}return e.stack=t.stack.replace(e.message,t.message),e.message=t.message,e}},1827:function(e,t,r){"use strict";var n=r(5508),i=r(5753)("body-parser:raw"),o=r(3499),a=r(1592);e.exports=function(e){var t=e||{},r=!1!==t.inflate,s="number"!=typeof t.limit?n.parse(t.limit||"100kb"):t.limit,c=t.type||"application/octet-stream",u=t.verify||!1;if(!1!==u&&"function"!=typeof u)throw new TypeError("option verify must be function");var l="function"!=typeof c?function(e){return function(t){return Boolean(a(t,e))}}(c):c;function p(e){return e}return function(e,t,n){return e._body?(i("body already parsed"),void n()):(e.body=e.body||{},a.hasBody(e)?(i("content-type %j",e.headers["content-type"]),l(e)?void o(e,t,n,p,i,{encoding:null,inflate:r,limit:s,verify:u}):(i("skip parsing"),void n())):(i("skip empty body"),void n()))}}},1962:function(e,t,r){"use strict";var n=r(5508),i=r(8597),o=r(5753)("body-parser:text"),a=r(3499),s=r(1592);e.exports=function(e){var t=e||{},r=t.defaultCharset||"utf-8",c=!1!==t.inflate,u="number"!=typeof t.limit?n.parse(t.limit||"100kb"):t.limit,l=t.type||"text/plain",p=t.verify||!1;if(!1!==p&&"function"!=typeof p)throw new TypeError("option verify must be function");var d="function"!=typeof l?function(e){return function(t){return Boolean(s(t,e))}}(l):l;function h(e){return e}return function(e,t,n){if(e._body)return o("body already parsed"),void n();if(e.body=e.body||{},!s.hasBody(e))return o("skip empty body"),void n();if(o("content-type %j",e.headers["content-type"]),!d(e))return o("skip parsing"),void n();var l=function(e){try{return(i.parse(e).parameters.charset||"").toLowerCase()}catch(e){return}}(e)||r;a(e,t,n,h,o,{encoding:l,inflate:c,limit:u,verify:p})}}},4244:function(e,t,r){"use strict";var n=r(5508),i=r(8597),o=r(2771),a=r(5753)("body-parser:urlencoded"),s=r(6330)("body-parser"),c=r(3499),u=r(1592);e.exports=function(e){var t=e||{};void 0===t.extended&&s("undefined extended: provide extended option");var r=!1!==t.extended,l=!1!==t.inflate,h="number"!=typeof t.limit?n.parse(t.limit||"100kb"):t.limit,f=t.type||"application/x-www-form-urlencoded",m=t.verify||!1;if(!1!==m&&"function"!=typeof m)throw new TypeError("option verify must be function");var g=r?function(e){var t=void 0!==e.parameterLimit?e.parameterLimit:1e3,r=d("qs");if(isNaN(t)||t<1)throw new TypeError("option parameterLimit must be a positive number");return isFinite(t)&&(t|=0),function(e){var n=p(e,t);if(void 0===n)throw a("too many parameters"),o(413,"too many parameters",{type:"parameters.too.many"});var i=Math.max(100,n);return a("parse extended urlencoding"),r(e,{allowPrototypes:!0,arrayLimit:i,depth:1/0,parameterLimit:t})}}(t):function(e){var t=void 0!==e.parameterLimit?e.parameterLimit:1e3,r=d("querystring");if(isNaN(t)||t<1)throw new TypeError("option parameterLimit must be a positive number");return isFinite(t)&&(t|=0),function(e){if(void 0===p(e,t))throw a("too many parameters"),o(413,"too many parameters",{type:"parameters.too.many"});return a("parse urlencoding"),r(e,void 0,void 0,{maxKeys:t})}}(t),y="function"!=typeof f?function(e){return function(t){return Boolean(u(t,e))}}(f):f;function v(e){return e.length?g(e):{}}return function(e,t,r){if(e._body)return a("body already parsed"),void r();if(e.body=e.body||{},!u.hasBody(e))return a("skip empty body"),void r();if(a("content-type %j",e.headers["content-type"]),!y(e))return a("skip parsing"),void r();var n=function(e){try{return(i.parse(e).parameters.charset||"").toLowerCase()}catch(e){return}}(e)||"utf-8";if("utf-8"!==n)return a("invalid charset"),void r(o(415,'unsupported charset "'+n.toUpperCase()+'"',{charset:n,type:"charset.unsupported"}));c(e,t,r,v,a,{debug:a,encoding:n,inflate:l,limit:h,verify:m})}};var l=Object.create(null);function p(e,t){for(var r=0,n=0;-1!==(n=e.indexOf("&",n));)if(n++,++r===t)return;return r}function d(e){var t=l[e];if(void 0!==t)return t.parse;switch(e){case"qs":t=r(5373);break;case"querystring":t=r(3480)}return l[e]=t,t.parse}},1045:function(e,t,r){"use strict";var n=r(181).Buffer,i=r(181).SlowBuffer;function o(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}e.exports=o,o.install=function(){n.prototype.equal=i.prototype.equal=function(e){return o(this,e)}};var a=n.prototype.equal,s=i.prototype.equal;o.restore=function(){n.prototype.equal=a,i.prototype.equal=s}},5508:function(e){"use strict";e.exports=function(e,t){return"string"==typeof e?a(e):"number"==typeof e?o(e,t):null},e.exports.format=o,e.exports.parse=a;var t=/\B(?=(\d{3})+(?!\d))/g,r=/(?:\.0*|(\.[^0]+)0+)$/,n={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},i=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function o(e,i){if(!Number.isFinite(e))return null;var o=Math.abs(e),a=i&&i.thousandsSeparator||"",s=i&&i.unitSeparator||"",c=i&&void 0!==i.decimalPlaces?i.decimalPlaces:2,u=Boolean(i&&i.fixedDecimals),l=i&&i.unit||"";l&&n[l.toLowerCase()]||(l=o>=n.pb?"PB":o>=n.tb?"TB":o>=n.gb?"GB":o>=n.mb?"MB":o>=n.kb?"KB":"B");var p=(e/n[l.toLowerCase()]).toFixed(c);return u||(p=p.replace(r,"$1")),a&&(p=p.split(".").map((function(e,r){return 0===r?e.replace(t,a):e})).join(".")),p+s+l}function a(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,r=i.exec(e),o="b";return r?(t=parseFloat(r[1]),o=r[4].toLowerCase()):(t=parseInt(e,10),o="b"),isNaN(t)?null:Math.floor(n[o]*t)}},8075:function(e,t,r){"use strict";var n=r(453),i=r(487),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},487:function(e,t,r){"use strict";var n=r(6743),i=r(453),o=r(6897),a=r(9675),s=i("%Function.prototype.apply%"),c=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||n.call(c,s),l=r(655),p=i("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new a("a function is required");var t=u(n,c,arguments);return o(t,1+p(0,e.length-(arguments.length-1)),!0)};var d=function(){return u(n,s,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d},1164:function(e,t,r){"use strict";e.exports=function(e,t){var r=t||{},i=r.type||"attachment",o=function(e,t){if(void 0!==e){var r={};if("string"!=typeof e)throw new TypeError("filename must be a string");if(void 0===t&&(t=!0),"string"!=typeof t&&"boolean"!=typeof t)throw new TypeError("fallback must be a string or boolean");if("string"==typeof t&&c.test(t))throw new TypeError("fallback must be ISO-8859-1 string");var i=n(e),o=d.test(i),s="string"!=typeof t?t&&y(i):n(t),u="string"==typeof s&&s!==i;return(u||!o||a.test(i))&&(r["filename*"]=i),(o||u)&&(r.filename=u?s:i),r}}(e,r.fallback);return function(e){var t=e.parameters,r=e.type;if(!r||"string"!=typeof r||!h.test(r))throw new TypeError("invalid type");var n=String(r).toLowerCase();if(t&&"object"==D(t))for(var i,o=Object.keys(t).sort(),a=0;a<o.length;a++){var s="*"===(i=o[a]).substr(-1)?w(t[i]):E(t[i]);n+="; "+i+"="+s}return n}(new A(i,o))},e.exports.parse=function(e){if(!e||"string"!=typeof e)throw new TypeError("argument string is required");var t=m.exec(e);if(!t)throw new TypeError("invalid type format");var r,n,i=t[0].length,o=t[1].toLowerCase(),a=[],s={};for(i=p.lastIndex=";"===t[0].substr(-1)?i-1:i;t=p.exec(e);){if(t.index!==i)throw new TypeError("invalid parameter format");if(i+=t[0].length,r=t[1].toLowerCase(),n=t[2],-1!==a.indexOf(r))throw new TypeError("invalid duplicate parameter");a.push(r),r.indexOf("*")+1!==r.length?"string"!=typeof s[r]&&('"'===n[0]&&(n=n.substr(1,n.length-2).replace(u,"$1")),s[r]=n):(r=r.slice(0,-1),n=g(n),s[r]=n)}if(-1!==i&&i!==e.length)throw new TypeError("invalid parameter format");return new A(o,s)};var n=r(6928).basename,i=r(2861).Buffer,o=/[\x00-\x20"'()*,/:;<=>?@[\\\]{}\x7f]/g,a=/%[0-9A-Fa-f]{2}/,s=/%([0-9A-Fa-f]{2})/g,c=/[^\x20-\x7e\xa0-\xff]/g,u=/\\([\u0000-\u007f])/g,l=/([\\"])/g,p=/;[\x09\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*=[\x09\x20]*("(?:[\x20!\x23-\x5b\x5d-\x7e\x80-\xff]|\\[\x20-\x7e])*"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*/g,d=/^[\x20-\x7e\x80-\xff]+$/,h=/^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/,f=/^([A-Za-z0-9!#$%&+\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/,m=/^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\x09\x20]*(?:$|;)/;function g(e){var t=f.exec(e);if(!t)throw new TypeError("invalid extended field value");var r,n=t[1].toLowerCase(),o=t[2].replace(s,v);switch(n){case"iso-8859-1":r=y(o);break;case"utf-8":r=i.from(o,"binary").toString("utf8");break;default:throw new TypeError("unsupported charset in extended field")}return r}function y(e){return String(e).replace(c,"?")}function v(e,t){return String.fromCharCode(parseInt(t,16))}function b(e){return"%"+String(e).charCodeAt(0).toString(16).toUpperCase()}function E(e){return'"'+String(e).replace(l,"\\$1")+'"'}function w(e){var t=String(e);return"UTF-8''"+encodeURIComponent(t).replace(o,b)}function A(e,t){this.type=e,this.parameters=t}},8597:function(e,t){"use strict";var r=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,n=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,i=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,o=/\\([\u000b\u0020-\u00ff])/g,a=/([\\"])/g,s=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function c(e){var t=String(e);if(i.test(t))return t;if(t.length>0&&!n.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(a,"\\$1")+'"'}function u(e){this.parameters=Object.create(null),this.type=e}t.format=function(e){if(!e||"object"!=D(e))throw new TypeError("argument obj is required");var t=e.parameters,r=e.type;if(!r||!s.test(r))throw new TypeError("invalid type");var n=r;if(t&&"object"==D(t))for(var o,a=Object.keys(t).sort(),u=0;u<a.length;u++){if(o=a[u],!i.test(o))throw new TypeError("invalid parameter name");n+="; "+o+"="+c(t[o])}return n},t.parse=function(e){if(!e)throw new TypeError("argument string is required");var t="object"==D(e)?function(e){var t;if("function"==typeof e.getHeader?t=e.getHeader("content-type"):"object"==D(e.headers)&&(t=e.headers&&e.headers["content-type"]),"string"!=typeof t)throw new TypeError("content-type header is missing from object");return t}(e):e;if("string"!=typeof t)throw new TypeError("argument string is required to be a string");var n=t.indexOf(";"),i=-1!==n?t.slice(0,n).trim():t.trim();if(!s.test(i))throw new TypeError("invalid media type");var a=new u(i.toLowerCase());if(-1!==n){var c,l,p;for(r.lastIndex=n;l=r.exec(t);){if(l.index!==n)throw new TypeError("invalid parameter format");n+=l[0].length,c=l[1].toLowerCase(),34===(p=l[2]).charCodeAt(0)&&-1!==(p=p.slice(1,-1)).indexOf("\\")&&(p=p.replace(o,"$1")),a.parameters[c]=p}if(n!==t.length)throw new TypeError("invalid parameter format")}return a}},9884:function(e,t,r){var n=r(6982);function i(e){return n.createHash("sha1").update(e).digest("hex")}t.sign=function(e,t){if("string"!=typeof e)throw new TypeError("Cookie value must be provided as a string.");if("string"!=typeof t)throw new TypeError("Secret string must be provided.");return e+"."+n.createHmac("sha256",t).update(e).digest("base64").replace(/\=+$/,"")},t.unsign=function(e,r){if("string"!=typeof e)throw new TypeError("Signed cookie string must be provided.");if("string"!=typeof r)throw new TypeError("Secret string must be provided.");var n=e.slice(0,e.lastIndexOf("."));return i(t.sign(n,r))==i(e)&&n}},7427:function(e,t){"use strict";t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var r={},n=(t||{}).decode||i,o=0;o<e.length;){var s=e.indexOf("=",o);if(-1===s)break;var c=e.indexOf(";",o);if(-1===c)c=e.length;else if(c<s){o=e.lastIndexOf(";",s-1)+1;continue}var u=e.slice(o,s).trim();if(void 0===r[u]){var l=e.slice(s+1,c).trim();34===l.charCodeAt(0)&&(l=l.slice(1,-1)),r[u]=a(l,n)}o=c+1}return r},t.serialize=function(e,t,i){var a=i||{},s=a.encode||o;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!n.test(e))throw new TypeError("argument name is invalid");var c=s(t);if(c&&!n.test(c))throw new TypeError("argument val is invalid");var u=e+"="+c;if(null!=a.maxAge){var l=a.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(l)}if(a.domain){if(!n.test(a.domain))throw new TypeError("option domain is invalid");u+="; Domain="+a.domain}if(a.path){if(!n.test(a.path))throw new TypeError("option path is invalid");u+="; Path="+a.path}if(a.expires){var p=a.expires;if(!function(e){return"[object Date]"===r.call(e)||e instanceof Date}(p)||isNaN(p.valueOf()))throw new TypeError("option expires is invalid");u+="; Expires="+p.toUTCString()}if(a.httpOnly&&(u+="; HttpOnly"),a.secure&&(u+="; Secure"),a.partitioned&&(u+="; Partitioned"),a.priority)switch("string"==typeof a.priority?a.priority.toLowerCase():a.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return u};var r=Object.prototype.toString,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function o(e){return encodeURIComponent(e)}function a(e,t){try{return t(e)}catch(t){return e}}},9728:function(e,t,r){!function(){"use strict";var t=r(5228),n=r(677),i={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function o(e){return"string"==typeof e||e instanceof String}function a(e,t){if(Array.isArray(t)){for(var r=0;r<t.length;++r)if(a(e,t[r]))return!0;return!1}return o(t)?e===t:t instanceof RegExp?t.test(e):!!t}function s(e,t){var r,n=t.headers.origin,i=[];return e.origin&&"*"!==e.origin?o(e.origin)?(i.push([{key:"Access-Control-Allow-Origin",value:e.origin}]),i.push([{key:"Vary",value:"Origin"}])):(r=a(n,e.origin),i.push([{key:"Access-Control-Allow-Origin",value:!!r&&n}]),i.push([{key:"Vary",value:"Origin"}])):i.push([{key:"Access-Control-Allow-Origin",value:"*"}]),i}function c(e){return!0===e.credentials?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function u(e){var t=e.exposedHeaders;return t?(t.join&&(t=t.join(",")),t&&t.length?{key:"Access-Control-Expose-Headers",value:t}:null):null}function l(e,t){for(var r=0,i=e.length;r<i;r++){var o=e[r];o&&(Array.isArray(o)?l(o,t):"Vary"===o.key&&o.value?n(t,o.value):o.value&&t.setHeader(o.key,o.value))}}e.exports=function(e){var r=null;return r="function"==typeof e?e:function(t,r){r(null,e)},function(e,n,o){r(e,(function(r,a){if(r)o(r);else{var p=t({},i,a),d=null;p.origin&&"function"==typeof p.origin?d=p.origin:p.origin&&(d=function(e,t){t(null,p.origin)}),d?d(e.headers.origin,(function(t,r){t||!r?o(t):(p.origin=r,function(e,t,r,n){var i=[];"OPTIONS"===(t.method&&t.method.toUpperCase&&t.method.toUpperCase())?(i.push(s(e,t)),i.push(c(e)),i.push(function(e){var t=e.methods;return t.join&&(t=e.methods.join(",")),{key:"Access-Control-Allow-Methods",value:t}}(e)),i.push(function(e,t){var r=e.allowedHeaders||e.headers,n=[];return r?r.join&&(r=r.join(",")):(r=t.headers["access-control-request-headers"],n.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),r&&r.length&&n.push([{key:"Access-Control-Allow-Headers",value:r}]),n}(e,t)),i.push(function(e){var t=("number"==typeof e.maxAge||e.maxAge)&&e.maxAge.toString();return t&&t.length?{key:"Access-Control-Max-Age",value:t}:null}(e)),i.push(u(e)),l(i,r),e.preflightContinue?n():(r.statusCode=e.optionsSuccessStatus,r.setHeader("Content-Length","0"),r.end())):(i.push(s(e,t)),i.push(c(e)),i.push(u(e)),l(i,r),n())}(p,e,n,o))})):o()}}))}}}()},7833:function(e,t,r){function n(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=r(9910)).log=function(){return"object"==("undefined"==typeof console?"undefined":D(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),r){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,n)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=n,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(n())},9910:function(e,t,r){var n;function i(e){function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;c++;var i=t.formatters[n];if("function"==typeof i){var o=a[c];r=i.call(e,o),a.splice(c,1),c--}return r})),t.formatArgs.call(e,a),(r.log||t.log||console.log.bind(console)).apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(r),r}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,i=0;i<n;i++)r[i]&&("-"===(e=r[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(6585),t.names=[],t.skips=[],t.formatters={}},5753:function(e,t,r){"undefined"!=typeof process&&"renderer"===process.type?e.exports=r(7833):e.exports=r(6033)},6033:function(e,t,r){var n=r(2018),i=r(9023);(t=e.exports=r(9910)).init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){return a.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(e){var r=this.namespace;if(this.useColors){var n=this.color,i="  [3"+n+";1m"+r+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push("[3"+n+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+r+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=s,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(o)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{});var o=parseInt(process.env.DEBUG_FD,10)||2;1!==o&&2!==o&&i.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var a=1===o?process.stdout:2===o?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new n.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":(t=new(r(9896).SyncWriteStream)(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":(t=new(r(9278).Socket)({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(o);function s(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)},t.enable(s())},41:function(e,t,r){"use strict";var n=r(655),i=r(8068),o=r(9675),a=r(5795);e.exports=function(e,t,r){if(!e||"object"!=D(e)&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=D(t))throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],p=!!a&&a(e,t);if(n)n(e,t,{configurable:null===u&&p?p.configurable:!u,enumerable:null===s&&p?p.enumerable:!s,value:r,writable:null===c&&p?p.writable:!c});else{if(!l&&(s||c||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},9795:function(e){"use strict";e.exports=function(e,t,r){var n=function(r){return Object.defineProperty(e,t,{value:r,enumerable:!0,writable:!0})};return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=r();return n(e),e},set:function(e){n(e)}}),e}},6330:function(e,t,r){var n=r(6928).relative;e.exports=function(e){if(!e)throw new TypeError("argument namespace is required");var t=c(h()[1])[0];function r(e){s.call(r,e)}return r._file=t,r._ignored=function(e){return!!process.noDeprecation||o(process.env.NO_DEPRECATION||"",e)}(e),r._namespace=e,r._traced=function(e){return!!process.traceDeprecation||o(process.env.TRACE_DEPRECATION||"",e)}(e),r._warned=Object.create(null),r.function=m,r.property=g,r};var i=process.cwd();function o(e,t){for(var r=e.split(/[ ,]+/),n=String(t).toLowerCase(),i=0;i<r.length;i++){var o=r[i];if(o&&("*"===o||o.toLowerCase()===n))return!0}return!1}function a(e){var t=this.name+": "+this.namespace;this.message&&(t+=" deprecated "+this.message);for(var r=0;r<e.length;r++)t+="\n    at "+e[r].toString();return t}function s(e,t){var r,n,i=(n="deprecation",("function"!=typeof(r=process).listenerCount?r.listeners(n).length:r.listenerCount(n))>0);if(i||!this._ignored){var o,a,s,d,f=0,m=!1,g=h(),v=this._file;for(t?(d=t,(s=c(g[1])).name=d.name,v=s[0]):s=d=c(g[f=2]);f<g.length;f++)if((a=(o=c(g[f]))[0])===v)m=!0;else if(a===this._file)v=this._file;else if(m)break;var b=o?d.join(":")+"__"+o.join(":"):void 0;if(void 0===b||!(b in this._warned)){this._warned[b]=!0;var E=e;if(E||(E=s!==d&&s.name?u(s):u(d)),i){var w=y(this._namespace,E,g.slice(f));process.emit("deprecation",w)}else{var A=(process.stderr.isTTY?p:l).call(this,E,o,g.slice(f));process.stderr.write(A+"\n","utf8")}}}}function c(e){var t=e.getFileName()||"<anonymous>",r=e.getLineNumber(),n=e.getColumnNumber();e.isEval()&&(t=e.getEvalOrigin()+", "+t);var i=[t,r,n];return i.callSite=e,i.name=e.getFunctionName(),i}function u(e){var t=e.callSite,r=e.name;r||(r="<anonymous@"+d(e)+">");var n=t.getThis(),i=n&&t.getTypeName();return"Object"===i&&(i=void 0),"Function"===i&&(i=n.name||i),i&&t.getMethodName()?i+"."+r:r}function l(e,t,r){var n=(new Date).toUTCString()+" "+this._namespace+" deprecated "+e;if(this._traced){for(var i=0;i<r.length;i++)n+="\n    at "+r[i].toString();return n}return t&&(n+=" at "+d(t)),n}function p(e,t,r){var n="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+e+"[39m";if(this._traced){for(var i=0;i<r.length;i++)n+="\n    [36mat "+r[i].toString()+"[39m";return n}return t&&(n+=" [36m"+d(t)+"[39m"),n}function d(e){return n(i,e[0])+":"+e[1]+":"+e[2]}function h(){var e=Error.stackTraceLimit,t={},r=Error.prepareStackTrace;Error.prepareStackTrace=f,Error.stackTraceLimit=Math.max(10,e),Error.captureStackTrace(t);var n=t.stack.slice(1);return Error.prepareStackTrace=r,Error.stackTraceLimit=e,n}function f(e,t){return t}function m(e,t){if("function"!=typeof e)throw new TypeError("argument fn must be a function");var r=function(e){for(var t="",r=0;r<e;r++)t+=", arg"+r;return t.substr(2)}(e.length),n=c(h()[1]);return n.name=e.name,new Function("fn","log","deprecate","message","site",'"use strict"\nreturn function ('+r+") {log.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n}")(e,s,this,t,n)}function g(e,t,r){if(!e||"object"!=D(e)&&"function"!=typeof e)throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(e,t);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable");var i=this,o=c(h()[1]);o.name=t,"value"in n&&(n=function(e,t){var r=Object.getOwnPropertyDescriptor(e,t),n=r.value;return r.get=function(){return n},r.writable&&(r.set=function(e){return n=e}),delete r.value,delete r.writable,Object.defineProperty(e,t,r),r}(e,t));var a=n.get,u=n.set;"function"==typeof a&&(n.get=function(){return s.call(i,r,o),a.apply(this,arguments)}),"function"==typeof u&&(n.set=function(){return s.call(i,r,o),u.apply(this,arguments)}),Object.defineProperty(e,t,n)}function y(e,t,r){var n,i=new Error;return Object.defineProperty(i,"constructor",{value:y}),Object.defineProperty(i,"message",{configurable:!0,enumerable:!1,value:t,writable:!0}),Object.defineProperty(i,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(i,"namespace",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(i,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==n?n:n=a.call(this,r)},set:function(e){n=e}}),i}},7013:function(e,t,r){"use strict";var n=r(4434).EventEmitter,i=r(9896).ReadStream,o=r(2203),a=r(3106);function s(){}function c(){this._binding.clear()}function u(){"number"==typeof this.fd&&this.close()}e.exports=function(e,t){return function(e){return e instanceof i}(e)?function(e){e.destroy(),"function"==typeof e.close&&e.on("open",u)}(e):function(e){return e instanceof a.Gzip||e instanceof a.Gunzip||e instanceof a.Deflate||e instanceof a.DeflateRaw||e instanceof a.Inflate||e instanceof a.InflateRaw||e instanceof a.Unzip}(e)?function(e){"function"==typeof e.destroy?e._binding?(e.destroy(),e._processing?(e._needDrain=!0,e.once("drain",c)):e._binding.clear()):e._destroy&&e._destroy!==o.Transform.prototype._destroy?e.destroy():e._destroy&&"function"==typeof e.close?(e.destroyed=!0,e.close()):e.destroy():"function"==typeof e.close&&function(e){if(!0===e._hadError){var t=null===e._binding?"_binding":"_handle";e[t]={close:function(){this[t]=null}}}e.close()}(e)}(e):function(e){return e instanceof o&&"function"==typeof e.destroy}(e)&&e.destroy(),e instanceof n&&t&&(e.removeAllListeners("error"),e.addListener("error",s)),e}},3168:function(e,t,r){var n=r(5692),i=r(8611),o=r(7016),a=r(2139),s=(e.exports.maxRedirects=5,{https:n,http:i});for(var c in s){var u=function(){};u.prototype=s[c],(u=new u).request=function(r){return function(n,i,s){s=s||{};var u,l="object"==D(n)&&"maxRedirects"in n?n.maxRedirects:t.maxRedirects,p=a.extend({count:0,max:l,clientRequest:null,userCallback:i},s);if(p.count>p.max){var d=new Error("Max redirects exceeded. To allow more redirects, pass options.maxRedirects property.");return p.clientRequest.emit("error",d),p.clientRequest}p.count++,u="string"==typeof n?n:o.format(a.extend({protocol:c},n));var h=Object.getPrototypeOf(r).request(n,function t(r,n){return function(i){if(i.statusCode<300||i.statusCode>399)return n.userCallback(i);if(!("location"in i.headers))return n.userCallback(i);var a=o.resolve(r,i.headers.location),s=o.parse(a).protocol;return s=s.substr(0,s.length-1),e.exports[s].get(a,t(r,n),n)}}(u,p));return p.clientRequest||(p.clientRequest=h),h}}(u),u.get=function(e){return function(t,r,n){var i=e.request(t,r,n);return i.end(),i}}(u),e.exports[c]=u}},6321:function(e,t,r){e.exports=o;var n=r(9023),i=r(4198);function o(e,t,r){var n=this;if(!(n instanceof o))return new o(e,t,r);i.Duplex.call(n,r),n._output=null,n.connect(e,t)}n.inherits(o,i.Duplex),o.prototype.connect=function(e,t){var r=this;r.req=e,r._output=t,r.emit("response",t),t.on("data",(function(e){r.push(e)||r._output.pause()})),t.on("end",(function(){r.push(null)}))},o.prototype._read=function(e){this._output&&this._output.resume()},o.prototype._write=function(e,t,r){this.req.write(e,t),r()},o.prototype.end=function(e,t,r){return this._output.socket.destroySoon(),this.req.end(e,t,r)},o.prototype.destroy=function(){this.req.destroy(),this._output.socket.destroy()},o.prototype.destroySoon=function(){this.req.destroy(),this._output.socket.destroy()}},8624:function(e,t,r){var n=r(3480),i=r(3168),o=r(9896),a=r(6928),s=r(7016),c=r(2056),u=r(6321),l=r(1780)("modem"),p=r(2139),d=r(9023),h=r(4546),f=r(857),m="Windows_NT"===f.type(),g=r(2203),y=function(){return new Promise((function(e){var t=a.join(f.homedir(),".docker","run","docker.sock");o.access(t,(function(r){e(r?"/var/run/docker.sock":t)}))}))},v=function(e){var t=function(){var e,t={};if(process.env.DOCKER_HOST)if(0===process.env.DOCKER_HOST.indexOf("unix://"))t.socketPath=process.env.DOCKER_HOST.substring(7)||y;else if(0===process.env.DOCKER_HOST.indexOf("npipe://"))t.socketPath=process.env.DOCKER_HOST.substring(8)||"//./pipe/docker_engine";else{var r=process.env.DOCKER_HOST;r.indexOf("//")<0&&(r="tcp://"+r);try{e=new s.URL(r)}catch(e){throw new Error("DOCKER_HOST env variable should be something like tcp://localhost:1234")}t.port=e.port,"1"===process.env.DOCKER_TLS_VERIFY||"2376"===t.port?t.protocol="https":"ssh:"===e.protocol?(t.protocol="ssh",t.username=e.username,t.sshOptions={agent:process.env.SSH_AUTH_SOCK}):t.protocol="http",process.env.DOCKER_PATH_PREFIX?t.pathPrefix=process.env.DOCKER_PATH_PREFIX:t.pathPrefix="/",t.host=e.hostname,process.env.DOCKER_CERT_PATH&&(t.ca=h(a.join(process.env.DOCKER_CERT_PATH,"ca.pem")),t.cert=o.readFileSync(a.join(process.env.DOCKER_CERT_PATH,"cert.pem")),t.key=o.readFileSync(a.join(process.env.DOCKER_CERT_PATH,"key.pem"))),process.env.DOCKER_CLIENT_TIMEOUT&&(t.timeout=parseInt(process.env.DOCKER_CLIENT_TIMEOUT,10))}else t.socketPath=m?"//./pipe/docker_engine":y;return t}(),r=Object.assign({},t,e);this.host=r.host,this.host||(this.socketPath=r.socketPath),this.port=r.port,this.pathPrefix=r.pathPrefix,this.username=r.username,this.password=r.password,this.version=r.version,this.key=r.key,this.cert=r.cert,this.ca=r.ca,this.timeout=r.timeout,this.connectionTimeout=r.connectionTimeout,this.checkServerIdentity=r.checkServerIdentity,this.agent=r.agent,this.headers=r.headers||{},this.sshOptions=Object.assign({},e?e.sshOptions:{},t.sshOptions),void 0===this.sshOptions.agentForward&&(this.sshOptions.agentForward=r.agentForward),this.key&&this.cert&&this.ca&&(this.protocol="https"),this.protocol=r.protocol||this.protocol||"http"};v.prototype.dial=function(e,t){var r,n,i,c=this;if(e.options&&(r=e.options),r&&r.authconfig&&delete r.authconfig,r&&r.abortSignal&&delete r.abortSignal,this.version&&(e.path="/"+this.version+e.path),this.host){var u=s.parse(this.host);n=s.format({protocol:u.protocol||this.protocol,hostname:u.hostname||this.host,port:this.port,pathname:u.pathname||this.pathPrefix}),n=s.resolve(n,e.path)}else n=e.path;-1!==e.path.indexOf("?")&&(r&&Object.keys(r).length>0?n+=this.buildQuerystring(r._query||r):n=n.substring(0,n.length-1));var l={path:n,method:e.method,headers:e.headers||Object.assign({},this.headers),key:this.key,cert:this.cert,ca:this.ca};if(this.checkServerIdentity&&(l.checkServerIdentity=this.checkServerIdentity),this.agent&&(l.agent=this.agent),e.authconfig&&(l.headers["X-Registry-Auth"]=e.authconfig.key||e.authconfig.base64||Buffer.from(JSON.stringify(e.authconfig)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_")),e.registryconfig&&(l.headers["X-Registry-Config"]=e.registryconfig.base64||Buffer.from(JSON.stringify(e.registryconfig)).toString("base64")),e.abortSignal&&(l.signal=e.abortSignal),e.file?(i="string"==typeof e.file?o.createReadStream(a.resolve(e.file)):e.file,l.headers["Content-Type"]="application/tar"):r&&"POST"===e.method&&(i=JSON.stringify(r._body||r),e.allowEmpty||"{}"!==i&&'""'!==i?l.headers["Content-Type"]="application/json":i=void 0),"string"==typeof i?l.headers["Content-Length"]=Buffer.byteLength(i):!0===Buffer.isBuffer(i)?l.headers["Content-Length"]=i.length:("PUT"===l.method||e.hijack||e.openStdin)&&(l.headers["Transfer-Encoding"]="chunked"),e.hijack&&(l.headers.Connection="Upgrade",l.headers.Upgrade="tcp"),this.socketPath)this.getSocketPath().then((function(r){l.socketPath=r,c.buildRequest(l,e,i,t)}));else{var p=s.parse(n);l.hostname=p.hostname,l.port=p.port,l.path=p.path,this.buildRequest(l,e,i,t)}},v.prototype.getSocketPath=function(){if(this.socketPath){if(this.socketPathCache)return Promise.resolve(this.socketPathCache);var e="function"==typeof this.socketPath?this.socketPath():this.socketPath;return this.socketPathCache=e,Promise.resolve(e)}},v.prototype.buildRequest=function(e,t,r,n){var o,a=this,s=!1,u="ssh"===a.protocol?Object.assign(e,{agent:c(Object.assign({},a.sshOptions,{host:a.host,port:a.port,username:a.username,password:a.password})),protocol:"http:"}):e,h=i["ssh"===a.protocol?"http":a.protocol].request(u,(function(){}));l("Sending: %s",d.inspect(e,{showHidden:!0,depth:null})),a.connectionTimeout&&(o=setTimeout((function(){l("Connection Timeout of %s ms exceeded",a.connectionTimeout),h.abort()}),a.connectionTimeout)),a.timeout&&h.on("socket",(function(e){e.setTimeout(a.timeout),e.on("timeout",(function(){l("Timeout of %s ms exceeded",a.timeout),h.abort()}))})),!0===t.hijack&&(clearTimeout(o),h.on("upgrade",(function(e,t,r){if(!1===s)return s=!0,n(null,t)}))),h.on("connect",(function(){clearTimeout(o)})),h.on("disconnect",(function(){clearTimeout(o)})),h.on("response",(function(r){if(clearTimeout(o),!0===t.isStream)!1===s&&(s=!0,a.buildPayload(null,t.isStream,t.statusCodes,t.openStdin,h,r,null,n));else{null!=e.signal&&g.addAbortSignal(e.signal,r);var i=[];r.on("data",(function(e){i.push(e)})),r.on("end",(function(){var e=Buffer.concat(i),o=e.toString();l("Received: %s",o);var c=p.parseJSON(o)||e;!1===s&&(s=!0,a.buildPayload(null,t.isStream,t.statusCodes,!1,h,r,c,n))}))}})),h.on("error",(function(e){clearTimeout(o),!1===s&&(s=!0,a.buildPayload(e,t.isStream,t.statusCodes,!1,{},{},null,n))})),"string"==typeof r||Buffer.isBuffer(r)?h.write(r):r&&(r.on("error",(function(e){h.destroy(e)})),r.pipe(h)),t.hijack||t.openStdin||"string"!=typeof r&&void 0!==r&&!Buffer.isBuffer(r)||h.end()},v.prototype.buildPayload=function(e,t,r,n,i,o,a,s){if(e)return s(e,null);!0!==r[o.statusCode]?function(e,t,r,n){var i="",o=!1;function a(e,t){!1===o&&(e?n(e):n(null,t)),o=!0}e?(t.on("data",(function(e){i+=e})),t.on("error",(function(e){a(e,null)})),t.on("end",(function(){a(null,p.parseJSON(i)||i)}))):n(null,r)}(t,o,a,(function(e,t){if(e)return s(e,null);var n=new Error("(HTTP code "+o.statusCode+") "+(r[o.statusCode]||"unexpected")+" - "+(t.message||t)+" ");n.reason=r[o.statusCode],n.statusCode=o.statusCode,n.json=a,s(n,null)})):s(null,n?new u(i,o):t?o:a)},v.prototype.demuxStream=function(e,t,r){var n=null,i=null,o=Buffer.from("");function a(e){var t=o.subarray(0,e);return o=Buffer.from(o.subarray(e,o.length)),t}e.on("data",(function e(s){if(s&&(o=Buffer.concat([o,s])),n){if(o.length>=i){var c=a(i);1===n?t.write(c):r.write(c),n=null,e()}}else if(o.length>=8){var u=a(8);n=u.readUInt8(0),i=u.readUInt32BE(4),e()}}))},v.prototype.followProgress=function(e,t,r){var n="",i=[],o=!1;function a(e){function t(e){if("\r"==e[e.length-1]&&(e=e.substr(0,e.length-1)),e.length>0){var t=JSON.parse(e);i.push(t),r&&r(t)}}n+=e.toString(),function(){for(var e;(e=n.indexOf("\n"))>=0;)0!=e?(t(n.slice(0,e)),n=n.slice(e+1)):n=n.slice(1)}()}function s(){o||t(null,i),o=!0}e.on("data",a),e.on("error",(function r(n){o=!0,e.removeListener("data",a),e.removeListener("error",r),e.removeListener("end",s),e.removeListener("close",s),t(n,i)})),e.on("end",s),e.on("close",s)},v.prototype.buildQuerystring=function(e){var t={};return Object.keys(e).map((function(r,n){e[r]&&"object"==D(e[r])&&!["t","extrahosts"].includes(r)?t[r]=JSON.stringify(e[r]):t[r]=e[r]})),n.stringify(t)},e.exports=v},2056:function(e,t,r){var n=r(7649).Client,i=r(8611);e.exports=function(e){var t=new n,r=new i.Agent;function o(e){throw t.end(),r.destroy(),e}return r.createConnection=function(n,i){try{t.once("ready",(function(){t.exec("docker system dial-stdio",(function(e,n){e&&o(e),i(null,n),n.addListener("error",(function(e){o(e)})),n.once("close",(function(){t.end(),r.destroy()}))}))})).on("error",(function(e){o(e)})).connect(e),t.once("end",(function(){return r.destroy()}))}catch(e){o(e)}},r}},2139:function(e){var t=[],r=t.forEach,n=t.slice;e.exports.extend=function(e){return r.call(n.call(arguments,1),(function(t){if(t)for(var r in t)e[r]=t[r]})),e},e.exports.parseJSON=function(e){try{return JSON.parse(e)}catch(e){return null}}},7840:function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=r(4127)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},4127:function(e,t,r){e.exports=function(e){function t(e){var r,i,o,a=null;function s(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(s.enabled){var o=s,a=Number(new Date),c=a-(r||a);o.diff=c,o.prev=r,o.curr=a,r=a,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";u++;var i=t.formatters[r];if("function"==typeof i){var a=n[u];e=i.call(o,a),n.splice(u,1),u--}return e})),t.formatArgs.call(o,n),(o.log||t.log).apply(o,n)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o)},set:function(e){a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){var e=[].concat(m(t.names.map(i)),m(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(270),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},1780:function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(7840):e.exports=r(6354)},6354:function(e,t,r){var n=r(2018),i=r(9023);t.init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return process.stderr.write(i.formatWithOptions.apply(i,[t.inspectOpts].concat(r))+"\n")},t.formatArgs=function(r){var n=this.namespace;if(this.useColors){var i=this.color,o="[3"+(i<8?i:"8;5;"+i),a="  ".concat(o,";1m").concat(n," [0m");r[0]=a+r[0].split("\n").join("\n"+a),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=i.deprecate((function(){}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{var o=r(7687);o&&(o.stderr||o).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(4127)(t);var a=e.exports.formatters;a.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},a.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},270:function(e){var t=1e3,r=60*t,n=60*r,i=24*n,o=7*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,s){s=s||{};var c,u,l=D(e);if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(c=e,(u=Math.abs(c))>=i?a(c,u,i,"day"):u>=n?a(c,u,n,"hour"):u>=r?a(c,u,r,"minute"):u>=t?a(c,u,t,"second"):c+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},4219:function(e,t,r){var n=r(9857),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/configs/"+this.id,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"config not found",500:"server error",503:"node is not part of a swarm"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.update=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/configs/"+this.id+"/update?",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"config not found",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/configs/"+this.id,method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"config not found",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},706:function(e,t,r){r(9857).extend;var n=r(6964),i=r(9857),o=function(e,t){this.modem=e,this.id=t,this.defaultOptions={top:{},start:{},commit:{},stop:{},pause:{},unpause:{},restart:{},resize:{},attach:{},remove:{},copy:{},kill:{},exec:{},rename:{},log:{},stats:{},getArchive:{},infoArchive:{},putArchive:{},update:{},wait:{}}};o.prototype[r(9023).inspect.custom]=function(){return this},o.prototype.inspect=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/json?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,404:"no such container",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.rename=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.rename),o={path:"/containers/"+this.id+"/rename?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.update=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.update),o={path:"/containers/"+this.id+"/update",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.top=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.top),o={path:"/containers/"+this.id+"/top?",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.changes=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/changes",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,404:"no such container",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.listCheckpoint=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/checkpoints?",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.deleteCheckpoint=function(e,t,r){var n=this,o=i.processArgs(t,r),a={path:"/containers/"+this.id+"/checkpoints/"+e+"?",method:"DELETE",abortSignal:o.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:o.opts};if(void 0===o.callback)return new this.modem.Promise((function(e,t){n.modem.dial(a,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(a,(function(e,t){o.callback(e,t)}))},o.prototype.createCheckpoint=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/checkpoints",method:"POST",abortSignal:n.opts.abortSignal,allowEmpty:!0,statusCodes:{200:!0,201:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.export=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/export",method:"GET",abortSignal:n.opts.abortSignal,isStream:!0,statusCodes:{200:!0,404:"no such container",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.start=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.start),o={path:"/containers/"+this.id+"/start?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,304:"container already started",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.pause=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.pause),o={path:"/containers/"+this.id+"/pause",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.unpause=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.unpause),o={path:"/containers/"+this.id+"/unpause",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.exec=function(e,t){var r=this,o=i.processArgs(e,t,this.defaultOptions.exec),a={path:"/containers/"+this.id+"/exec",method:"POST",abortSignal:o.opts.abortSignal,statusCodes:{200:!0,201:!0,404:"no such container",409:"container stopped/paused",500:"server error"},options:o.opts};if(void 0===o.callback)return new this.modem.Promise((function(e,t){r.modem.dial(a,(function(i,o){if(i)return t(i);e(new n(r.modem,o.Id))}))}));this.modem.dial(a,(function(e,t){if(e)return o.callback(e,t);o.callback(e,new n(r.modem,t.Id))}))},o.prototype.commit=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.commit);n.opts.container=this.id;var o={path:"/commit?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,201:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.stop=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.stop),o={path:"/containers/"+this.id+"/stop?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,304:"container already stopped",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.restart=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.restart),o={path:"/containers/"+this.id+"/restart?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.kill=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.kill),o={path:"/containers/"+this.id+"/kill?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.resize=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.resize),o={path:"/containers/"+this.id+"/resize?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.attach=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.attach),o={path:"/containers/"+this.id+"/attach?",method:"POST",abortSignal:n.opts.abortSignal,isStream:!0,hijack:n.opts.hijack,openStdin:n.opts.stdin,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.wait=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.wait),o={path:"/containers/"+this.id+"/wait?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.remove=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.remove),o={path:"/containers/"+this.id+"?",method:"DELETE",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.copy=function(e,t){var r=this;console.log("container.copy is deprecated since Docker v1.8.x");var n=i.processArgs(e,t,this.defaultOptions.copy),o={path:"/containers/"+this.id+"/copy",method:"POST",abortSignal:n.opts.abortSignal,isStream:!0,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.getArchive=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.getArchive),o={path:"/containers/"+this.id+"/archive?",method:"GET",abortSignal:n.opts.abortSignal,isStream:!0,statusCodes:{200:!0,400:"client error, bad parameters",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.infoArchive=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.infoArchive),o={path:"/containers/"+this.id+"/archive?",method:"HEAD",abortSignal:n.opts.abortSignal,isStream:!0,statusCodes:{200:!0,400:"client error, bad parameters",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.putArchive=function(e,t,r){var n=this,o=i.processArgs(t,r,this.defaultOptions.putArchive),a={path:"/containers/"+this.id+"/archive?",method:"PUT",file:e,abortSignal:o.opts.abortSignal,statusCodes:{200:!0,400:"client error, bad parameters",403:"client error, permission denied",404:"no such container",500:"server error"},options:o.opts};if(void 0===o.callback)return new this.modem.Promise((function(e,t){n.modem.dial(a,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(a,(function(e,t){o.callback(e,t)}))},o.prototype.logs=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.log),o={path:"/containers/"+this.id+"/logs?",method:"GET",abortSignal:n.opts.abortSignal,isStream:n.opts.follow||!1,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.stats=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.stats),o=!0;!1===n.opts.stream&&(o=!1);var a={path:"/containers/"+this.id+"/stats?",method:"GET",abortSignal:n.opts.abortSignal,isStream:o,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(a,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(a,(function(e,t){n.callback(e,t)}))},e.exports=o},3841:function(e,t,r){var n=r(4434).EventEmitter,i=r(8624),o=r(706),a=r(4220),s=r(5107),c=r(3079),u=r(5306),l=r(934),p=r(7685),d=r(4219),h=r(9260),f=r(4145),m=r(6964),g=r(9857),y=g.extend,v=function(e){if(!(this instanceof v))return new v(e);var t=global.Promise;e&&e.Promise&&(t=e.Promise,1===Object.keys(e).length&&(e=void 0)),e&&e.modem?this.modem=e.modem:this.modem=new i(e),this.modem.Promise=t};v.prototype.createContainer=function(e,t){var r=this,n={path:"/containers/create?",method:"POST",options:e,authconfig:e.authconfig,abortSignal:e.abortSignal,statusCodes:{200:!0,201:!0,400:"bad parameter",404:"no such container",406:"impossible to attach",500:"server error"}};if(delete e.authconfig,void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(n,i){if(n)return t(n);e(r.getContainer(i.Id))}))}));this.modem.dial(n,(function(e,n){if(e)return t(e,n);t(e,r.getContainer(n.Id))}))},v.prototype.createImage=function(e,t,r){var n=this;r||"function"!=typeof t?r||t||(e=(t=e).authconfig):(r=t,e=(t=e).authconfig||void 0);var i={path:"/images/create?",method:"POST",options:t,authconfig:e,abortSignal:t.abortSignal,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},v.prototype.loadImage=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,t=null);var i={path:"/images/load?",method:"POST",options:t,file:e,abortSignal:t&&t.abortSignal,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},v.prototype.importImage=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,t=void 0),t||(t={}),t.fromSrc="-";var i={path:"/images/create?",method:"POST",options:t,file:e,abortSignal:t.abortSignal,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},v.prototype.checkAuth=function(e,t){var r=this,n={path:"/auth",method:"POST",options:e,abortSignal:e.abortSignal,statusCodes:{200:!0,204:!0,500:"server error"}};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},v.prototype.buildImage=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,t=null);var i={path:"/build?",method:"POST",file:void 0,options:t,abortSignal:t&&t.abortSignal,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(t&&(t.registryconfig&&(i.registryconfig=i.options.registryconfig,delete i.options.registryconfig),t.authconfig&&(i.authconfig=i.options.authconfig,delete i.options.authconfig)),void 0===r)return new n.modem.Promise((function(t,r){g.prepareBuildContext(e,(function(e){i.file=e,n.modem.dial(i,(function(e,n){if(e)return r(e);t(n)}))}))}));g.prepareBuildContext(e,(function(e){i.file=e,n.modem.dial(i,(function(e,t){r(e,t)}))}))},v.prototype.getContainer=function(e){return new o(this.modem,e)},v.prototype.getImage=function(e){return new a(this.modem,e)},v.prototype.getVolume=function(e){return new s(this.modem,e)},v.prototype.getPlugin=function(e,t){return new l(this.modem,e,t)},v.prototype.getService=function(e){return new u(this.modem,e)},v.prototype.getTask=function(e){return new h(this.modem,e)},v.prototype.getNode=function(e){return new f(this.modem,e)},v.prototype.getNetwork=function(e){return new c(this.modem,e)},v.prototype.getSecret=function(e){return new p(this.modem,e)},v.prototype.getConfig=function(e){return new d(this.modem,e)},v.prototype.getExec=function(e){return new m(this.modem,e)},v.prototype.listContainers=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/containers/json?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.listImages=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/images/json?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.getImages=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/images/get?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,isStream:!0,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.listServices=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/services?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.listNodes=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/nodes?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",404:"no such node",500:"server error",503:"node is not part of a swarm"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.listTasks=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/tasks?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.createSecret=function(e,t){var r=g.processArgs(e,t),n=this,i={path:"/secrets/create?",method:"POST",options:r.opts,abortSignal:r.opts.abortSignal,statusCodes:{200:!0,201:!0,406:"server error or node is not part of a swarm",409:"name conflicts with an existing object",500:"server error"}};if(void 0===r.callback)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,i){if(r)return t(r);e(n.getSecret(i.ID))}))}));this.modem.dial(i,(function(e,t){if(e)return r.callback(e,t);r.callback(e,n.getSecret(t.ID))}))},v.prototype.createConfig=function(e,t){var r=g.processArgs(e,t),n=this,i={path:"/configs/create?",method:"POST",options:r.opts,abortSignal:r.opts.abortSignal,statusCodes:{200:!0,201:!0,406:"server error or node is not part of a swarm",409:"name conflicts with an existing object",500:"server error"}};if(void 0===r.callback)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,i){if(r)return t(r);e(n.getConfig(i.ID))}))}));this.modem.dial(i,(function(e,t){if(e)return r.callback(e,t);r.callback(e,n.getConfig(t.ID))}))},v.prototype.listSecrets=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/secrets?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.listConfigs=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/configs?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.createPlugin=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/plugins/create?",method:"POST",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(i,o){if(i)return t(i);e(r.getPlugin(n.opts.name))}))}));this.modem.dial(i,(function(e,t){if(e)return n.callback(e,t);n.callback(e,r.getPlugin(n.opts.name))}))},v.prototype.listPlugins=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/plugins?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.pruneImages=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/images/prune?",method:"POST",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.pruneBuilder=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/build/prune",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.pruneContainers=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/containers/prune?",method:"POST",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.pruneVolumes=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/volumes/prune?",method:"POST",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.pruneNetworks=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/networks/prune?",method:"POST",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.createVolume=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/volumes/create?",method:"POST",allowEmpty:!0,options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,201:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(n,i){if(n)return t(n);e(r.getVolume(i.Name))}))}));this.modem.dial(i,(function(e,t){if(e)return n.callback(e,t);n.callback(e,r.getVolume(t.Name))}))},v.prototype.createService=function(e,t,r){r||"function"!=typeof t?t||r||(t=e):(r=t,e=(t=e).authconfig||void 0);var n=this,i={path:"/services/create",method:"POST",options:t,authconfig:e,abortSignal:t&&t.abortSignal,statusCodes:{200:!0,201:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,i){if(r)return t(r);e(n.getService(i.ID||i.Id))}))}));this.modem.dial(i,(function(e,t){if(e)return r(e,t);r(e,n.getService(t.ID||t.Id))}))},v.prototype.listVolumes=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/volumes?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.createNetwork=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/networks/create?",method:"POST",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,201:!0,404:"driver not found",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(n,i){if(n)return t(n);e(r.getNetwork(i.Id))}))}));this.modem.dial(i,(function(e,t){if(e)return n.callback(e,t);n.callback(e,r.getNetwork(t.Id))}))},v.prototype.listNetworks=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/networks?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.searchImages=function(e,t){var r=this,n={path:"/images/search?",method:"GET",options:e,authconfig:e.authconfig,abortSignal:e.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},v.prototype.info=function(e,t){var r=this,n=g.processArgs(e,t);if(e={path:"/info",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}},void 0===n.callback)return new this.modem.Promise((function(t,n){r.modem.dial(e,(function(e,r){if(e)return n(e);t(r)}))}));this.modem.dial(e,(function(e,t){n.callback(e,t)}))},v.prototype.version=function(e,t){var r=this,n=g.processArgs(e,t);if(e={path:"/version",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}},void 0===n.callback)return new this.modem.Promise((function(t,n){r.modem.dial(e,(function(e,r){if(e)return n(e);t(r)}))}));this.modem.dial(e,(function(e,t){n.callback(e,t)}))},v.prototype.ping=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/_ping",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.df=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/system/df",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.getEvents=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/events?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.pull=function(e,t,r,n){var i=g.processArgs(t,r),o=g.parseRepositoryTag(e);i.opts.fromImage=o.repository,i.opts.tag=o.tag||"latest";var a=[i.opts,i.callback];return n&&(a=[n,i.opts,i.callback]),this.createImage.apply(this,a)},v.prototype.run=function(e,t,r,n,i,o){return"function"==typeof arguments[arguments.length-1]?this.runCallback(e,t,r,n,i,o):this.runPromise(e,t,r,n,i)},v.prototype.runCallback=function(e,t,r,i,o,a){a||"function"!=typeof i?a||"function"!=typeof o||(a=o,o={}):(a=i,i={},o={});var s=new n,c={Hostname:"",User:"",AttachStdin:!1,AttachStdout:!0,AttachStderr:!0,Tty:!0,OpenStdin:!1,StdinOnce:!1,Env:null,Cmd:t,Image:e,Volumes:{},VolumesFrom:[]};return y(c,i),this.createContainer(c,(function(e,t){if(e)return a(e,null,t);s.emit("container",t),t.attach({stream:!0,stdout:!0,stderr:!0},(function(e,n){if(e)return a(e,null,t);s.emit("stream",n),r&&(r instanceof Array?(n.on("end",(function(){try{r[0].end()}catch(e){}try{r[1].end()}catch(e){}})),t.modem.demuxStream(n,r[0],r[1])):(n.setEncoding("utf8"),n.pipe(r,{end:!0}))),t.start(o,(function(e,r){if(e)return a(e,r,t);s.emit("start",t),t.wait((function(e,r){s.emit("data",r),a(e,r,t)}))}))}))})),s},v.prototype.runPromise=function(e,t,r,n,i){var o=this;i=i||{};var a,s={Hostname:"",User:"",AttachStdin:!1,AttachStdout:!0,AttachStderr:!0,Tty:!0,OpenStdin:!1,StdinOnce:!1,Env:null,Cmd:t,Image:e,Volumes:{},VolumesFrom:[]};return y(s,n=n||{}),new this.modem.Promise((function(e,t){o.createContainer(s).then((function(e){return a=e,e.attach({stream:!0,stdout:!0,stderr:!0})})).then((function(e){return r&&(r instanceof Array?(e.on("end",(function(){try{r[0].end()}catch(e){}try{r[1].end()}catch(e){}})),a.modem.demuxStream(e,r[0],r[1])):(e.setEncoding("utf8"),e.pipe(r,{end:!0}))),a.start(i)})).then((function(e){return a.wait()})).then((function(t){e([t,a])})).catch((function(e){t(e)}))}))},v.prototype.swarmInit=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/swarm/init",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",406:"node is already part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.swarmJoin=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/swarm/join",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",406:"node is already part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.swarmLeave=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/swarm/leave?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,406:"node is not part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.swarmUpdate=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/swarm/update?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",406:"node is already part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.swarmInspect=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/swarm",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,406:"This node is not a swarm manager",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.Container=o,v.Image=a,v.Volume=s,v.Network=c,v.Service=u,v.Plugin=l,v.Secret=p,v.Task=h,v.Node=f,v.Exec=m,e.exports=v},6964:function(e,t,r){var n=r(9857),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.start=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/exec/"+this.id+"/start",method:"POST",abortSignal:i.opts.abortSignal,isStream:!0,allowEmpty:!0,hijack:i.opts.hijack,openStdin:i.opts.stdin,statusCodes:{200:!0,204:!0,404:"no such exec",409:"container stopped/paused",500:"container not running"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},i.prototype.resize=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/exec/"+this.id+"/resize?",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such exec",500:"container not running"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/exec/"+this.id+"/json",method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such exec",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},e.exports=i},4220:function(e,t,r){var n=r(9857),i=function(e,t){this.modem=e,this.name=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/images/"+this.name+"/json",method:"GET",statusCodes:{200:!0,404:"no such image",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},i.prototype.distribution=function(e,t){var r=n.processArgs(e,t),i=this,o={path:"/distribution/"+this.name+"/json",method:"GET",statusCodes:{200:!0,401:"no such image",500:"server error"},authconfig:r.opts?r.opts.authconfig:void 0};if(void 0===r.callback)return new this.modem.Promise((function(e,t){i.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return r.callback(e,t);r.callback(e,t)}))},i.prototype.history=function(e){var t=this,r={path:"/images/"+this.name+"/history",method:"GET",statusCodes:{200:!0,404:"no such image",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},i.prototype.get=function(e){var t=this,r={path:"/images/"+this.name+"/get",method:"GET",isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},i.prototype.push=function(e,t,r){var i=this,o=n.processArgs(e,t),a=!0;!1===o.opts.stream&&(a=!1);var s={path:"/images/"+this.name+"/push?",method:"POST",options:o.opts,authconfig:o.opts.authconfig||r,abortSignal:o.opts.abortSignal,isStream:a,statusCodes:{200:!0,404:"no such image",500:"server error"}};if(delete s.options.authconfig,void 0===t)return new this.modem.Promise((function(e,t){i.modem.dial(s,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(s,(function(e,r){t(e,r)}))},i.prototype.tag=function(e,t){var r=this,n={path:"/images/"+this.name+"/tag?",method:"POST",options:e,abortSignal:e&&e.abortSignal,statusCodes:{200:!0,201:!0,400:"bad parameter",404:"no such image",409:"conflict",500:"server error"}};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/images/"+this.name+"?",method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such image",409:"conflict",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},3079:function(e,t,r){var n=r(9857),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t);if(e={path:"/networks/"+this.id+"?",method:"GET",statusCodes:{200:!0,404:"no such network",500:"server error"},options:i.opts},void 0===i.callback)return new this.modem.Promise((function(t,n){r.modem.dial(e,(function(e,r){if(e)return n(e);t(r)}))}));this.modem.dial(e,(function(e,t){i.callback(e,t)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/networks/"+this.id,method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such network",409:"conflict",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.connect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/networks/"+this.id+"/connect",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,201:!0,404:"network or container is not found",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.disconnect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/networks/"+this.id+"/disconnect",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,201:!0,404:"network or container is not found",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},4145:function(e,t,r){var n=r(9857),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/nodes/"+this.id,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such node",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.update=function(e,t){var r=this;t||"function"!=typeof e||(t=e);var n={path:"/nodes/"+this.id+"/update?",method:"POST",abortSignal:e&&e.abortSignal,statusCodes:{200:!0,404:"no such node",406:"node is not part of a swarm",500:"server error"},options:e};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/nodes/"+this.id+"?",method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such node",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},934:function(e,t,r){var n=r(9857),i=function(e,t,r){this.modem=e,this.name=t,this.remote=r||t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"plugin is not installed",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"?",method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"plugin is not installed",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},i.prototype.privileges=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/privileges?",method:"GET",options:{remote:this.remote},abortSignal:i.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.pull=function(e,t){var r=this,i=n.processArgs(e,t);i.opts._query&&!i.opts._query.name&&(i.opts._query.name=this.name),i.opts._query&&!i.opts._query.remote&&(i.opts._query.remote=this.remote);var o={path:"/plugins/pull?",method:"POST",abortSignal:i.opts.abortSignal,isStream:!0,options:i.opts,statusCodes:{200:!0,204:!0,500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.enable=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/enable?",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.disable=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/disable",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.push=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/push",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"plugin not installed",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.configure=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/set",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"plugin not installed",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.upgrade=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,e=(t=e).authconfig||void 0);var i={path:"/plugins/"+this.name+"/upgrade?",method:"POST",abortSignal:t&&t.abortSignal,statusCodes:{200:!0,204:!0,404:"plugin not installed",500:"server error"},authconfig:e,options:t};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},e.exports=i},7685:function(e,t,r){var n=r(9857),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/secrets/"+this.id,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"secret not found",406:"node is not part of a swarm",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.update=function(e,t){var r=this;t||"function"!=typeof e||(t=e);var n={path:"/secrets/"+this.id+"/update?",method:"POST",abortSignal:e&&e.abortSignal,statusCodes:{200:!0,404:"secret not found",500:"server error"},options:e};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/secrets/"+this.id,method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"secret not found",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},5306:function(e,t,r){var n=r(9857),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/services/"+this.id,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such service",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/services/"+this.id,method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such service",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.update=function(e,t,r){var n=this;if(!r){var i=D(t);"function"===i?(r=t,e=(t=e).authconfig||void 0):"undefined"===i&&(e=(t=e).authconfig||void 0)}var o={path:"/services/"+this.id+"/update?",method:"POST",abortSignal:t&&t.abortSignal,statusCodes:{200:!0,404:"no such service",500:"server error"},authconfig:e,options:t};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){r(e,t)}))},i.prototype.logs=function(e,t){var r=this,i=n.processArgs(e,t,{}),o={path:"/services/"+this.id+"/logs?",method:"GET",abortSignal:i.opts.abortSignal,isStream:i.opts.follow||!1,statusCodes:{200:!0,404:"no such service",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},9260:function(e,t,r){var n=r(9857),i=function(e,t){this.modem=e,this.id=t,this.defaultOptions={log:{}}};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/tasks/"+this.id,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"unknown task",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.logs=function(e,t){var r=this,i=n.processArgs(e,t,this.defaultOptions.log),o={path:"/tasks/"+this.id+"/logs?",method:"GET",abortSignal:i.opts.abortSignal,isStream:i.opts.follow||!1,statusCodes:{101:!0,200:!0,404:"no such container",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},9857:function(e,t,r){var n=r(3065),i=r(9896),o=r(6928),a=r(5024),s=r(3106),c=[],u=c.forEach,l=c.slice;e.exports.extend=function(e){return u.call(l.call(arguments,1),(function(t){if(t)for(var r in t)e[r]=t[r]})),e},e.exports.processArgs=function(t,r,n){return r||"function"!=typeof t||(r=t,t=null),{callback:r,opts:e.exports.extend({},n,t)}},e.exports.parseRepositoryTag=function(e){var t,r=e.indexOf("@"),n=e.lastIndexOf(":");if(r>=0)t=r;else{if(!(n>=0))return{repository:e};t=n}var i=e.slice(t+1);return-1===i.indexOf("/")?{repository:e.slice(0,t),tag:i}:{repository:e}},e.exports.prepareBuildContext=function(e,t){e&&e.context?i.readFile(o.join(e.context,".dockerignore"),(function(r,i){var o,c;if(!r){var u=n({ignorecase:!1}).add(i.toString());c=u.createFilter(),o=function(e){return!c(e)}}var l=e.src.slice()||[],p=a.pack(e.context,{entries:c?l.filter(c):l,ignore:o});t(p.pipe(s.createGzip()))})):t(e)}},5107:function(e,t,r){var n=r(9857),i=function(e,t){this.modem=e,this.name=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/volumes/"+this.name,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such volume",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/volumes/"+this.name,method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{204:!0,404:"no such volume",409:"conflict",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},9139:function(e,t,r){"use strict";var n=r(9896),i=r(6928),o=n.lchown?"lchown":"chown",a=n.lchownSync?"lchownSync":"chownSync",s=n.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),c=function(e,t,r){try{return n[a](e,t,r)}catch(e){if("ENOENT"!==e.code)throw e}},u=s?function(e,t,r,i){return function(o){o&&"EISDIR"===o.code?n.chown(e,t,r,i):i(o)}}:function(e,t,r,n){return n},l=s?function(e,t,r){try{return c(e,t,r)}catch(i){if("EISDIR"!==i.code)throw i;!function(e,t,r){try{return n.chownSync(e,t,r)}catch(e){if("ENOENT"!==e.code)throw e}}(e,t,r)}}:function(e,t,r){return c(e,t,r)},p=process.version,d=function(e,t,r){return n.readdir(e,t,r)};/^v4\./.test(p)&&(d=function(e,t,r){return n.readdir(e,r)});var h=function(e,t,r,i){n[o](e,t,r,u(e,t,r,(function(e){i(e&&"ENOENT"!==e.code?e:null)})))},f=function(e,t,r,o,a){if("string"==typeof t)return n.lstat(i.resolve(e,t),(function(n,i){if(n)return a("ENOENT"!==n.code?n:null);i.name=t,f(e,i,r,o,a)}));if(t.isDirectory())m(i.resolve(e,t.name),r,o,(function(n){if(n)return a(n);var s=i.resolve(e,t.name);h(s,r,o,a)}));else{var s=i.resolve(e,t.name);h(s,r,o,a)}},m=function(e,t,r,n){d(e,{withFileTypes:!0},(function(i,o){if(i){if("ENOENT"===i.code)return n();if("ENOTDIR"!==i.code&&"ENOTSUP"!==i.code)return n(i)}if(i||!o.length)return h(e,t,r,n);var a=o.length,s=null,c=function(i){if(!s)return i?n(s=i):0==--a?h(e,t,r,n):void 0};o.forEach((function(n){return f(e,n,t,r,c)}))}))},g=function(e,t,r){var o;try{o=function(e){return n.readdirSync(e,{withFileTypes:!0})}(e)}catch(n){if("ENOENT"===n.code)return;if("ENOTDIR"===n.code||"ENOTSUP"===n.code)return l(e,t,r);throw n}return o&&o.length&&o.forEach((function(o){return function(e,t,r,o){if("string"==typeof t)try{var a=n.lstatSync(i.resolve(e,t));a.name=t,t=a}catch(e){if("ENOENT"===e.code)return;throw e}t.isDirectory()&&g(i.resolve(e,t.name),r,o),l(i.resolve(e,t.name),r,o)}(e,o,t,r)})),l(e,t,r)};e.exports=m,m.sync=g},5024:function(e,t,r){var n=r(9139),i=r(4231),o=r(815),a=r(9505),s=r(9896),c=r(6928),u="win32"===r(857).platform(),l=function(){},p=function(e){return e},d=u?function(e){return e.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")}:p,h=function(e,t){return function(r){r.name=r.name.split("/").slice(t).join("/");var n=r.linkname;return n&&("link"===r.type||c.isAbsolute(n))&&(r.linkname=n.split("/").slice(t).join("/")),e(r)}};t.pack=function(e,t){e||(e="."),t||(t={});var r=t.fs||s,n=t.ignore||t.filter||l,a=t.map||l,u=t.mapStream||p,m=function(e,t,r,n,i,o){var a=i||["."];return function(i){if(!a.length)return i();var s=a.shift(),u=c.join(r,s);t(u,(function(t,l){return t?i(t):l.isDirectory()?void e.readdir(u,(function(e,t){if(e)return i(e);o&&t.sort();for(var u=0;u<t.length;u++)n(c.join(r,s,t[u]))||a.push(c.join(s,t[u]));i(null,s,l)})):i(null,s,l)}))}}(r,t.dereference?r.stat:r.lstat,e,n,t.entries,t.sort),g=!1!==t.strict,y="number"==typeof t.umask?~t.umask:~f(),v="number"==typeof t.dmode?t.dmode:0,b="number"==typeof t.fmode?t.fmode:0,E=t.pack||i.pack(),w=t.finish||l;t.strip&&(a=h(a,t.strip)),t.readable&&(v|=parseInt(555,8),b|=parseInt(444,8)),t.writable&&(v|=parseInt(333,8),b|=parseInt(222,8));var A=function(n,i,s){if(n)return E.destroy(n);if(!i)return!1!==t.finalize&&E.finalize(),w(E);if(s.isSocket())return x();var l={name:d(i),mode:(s.mode|(s.isDirectory()?v:b))&y,mtime:s.mtime,size:s.size,type:"file",uid:s.uid,gid:s.gid};if(s.isDirectory())return l.size=0,l.type="directory",l=a(l)||l,E.entry(l,x);if(s.isSymbolicLink())return l.size=0,l.type="symlink",function(t,n){r.readlink(c.join(e,t),(function(e,t){if(e)return E.destroy(e);n.linkname=d(t),E.entry(n,x)}))}(i,l=a(l)||l);if(l=a(l)||l,!s.isFile())return g?E.destroy(new Error("unsupported type for "+i)):x();var p=E.entry(l,x);if(p){var h=u(r.createReadStream(c.join(e,i)),l);h.on("error",(function(e){p.destroy(e)})),o(h,p)}},x=function(e){if(e)return E.destroy(e);m(A)};return x(),E};var f=function(){return process.umask?process.umask():0};function m(e,t,r,n){if(t===r)return n(null,!0);e.lstat(t,(function(i,o){return i&&"ENOENT"!==i.code?n(i):i||o.isDirectory()?m(e,c.join(t,".."),r,n):void n(null,!1)}))}function g(e,t,r){a(e,{fs:t.fs},(function(e,i){!e&&i&&t.own?n(i,t.uid,t.gid,r):r(e)}))}t.extract=function(e,t){e||(e="."),t||(t={});var r=t.fs||s,n=t.ignore||t.filter||l,a=t.map||l,y=t.mapStream||p,v=!1!==t.chown&&!u&&0===(process.getuid?process.getuid():-1),b=t.extract||i.extract(),E=[],w=new Date,A="number"==typeof t.umask?~t.umask:~f(),x="number"==typeof t.dmode?t.dmode:0,S="number"==typeof t.fmode?t.fmode:0,_=!1!==t.strict;t.strip&&(a=h(a,t.strip)),t.readable&&(x|=parseInt(555,8),S|=parseInt(444,8)),t.writable&&(x|=parseInt(333,8),S|=parseInt(222,8));var k=function(e,t){for(var n,i;(n=(i=E).length?i[i.length-1]:null)&&e.slice(0,n[0].length)!==n[0];)E.pop();if(!n)return t();r.utimes(n[0],w,n[1],t)};return b.on("entry",(function(i,s,l){(i=a(i)||i).name=d(i.name);var p=c.join(e,c.join("/",i.name));if(n(p,i))return s.resume(),l();var h=function(e){if(e)return l(e);!function(e,n,i){!1===t.utimes?i():"directory"===n.type?r.utimes(e,w,n.mtime,i):"symlink"===n.type?k(e,i):r.utimes(e,w,n.mtime,(function(t){if(t)return i(t);k(e,i)}))}(p,i,(function(e){return e?l(e):u?l():void function(e,t,n){var i="symlink"===t.type,o=i?r.lchmod:r.chmod,a=i?r.lchown:r.chown;if(!o)return n();var s=(t.mode|("directory"===t.type?x:S))&A;o(e,s,(function(r){return r?n(r):v&&a?void a(e,t.uid,t.gid,n):n()}))}(p,i,l)}))},f=function(){var e=r.createWriteStream(p),t=y(s,i);e.on("error",(function(e){t.destroy(e)})),o(t,e,(function(t){if(t)return l(t);e.on("close",h)}))};if("directory"===i.type)return E.push([p,i.mtime]),g(p,{fs:r,own:v,uid:i.uid,gid:i.gid},h);var b=c.dirname(p);m(r,b,c.join(e,"."),(function(n,o){return n?l(n):o?void g(b,{fs:r,own:v,uid:i.uid,gid:i.gid},(function(n){if(n)return l(n);switch(i.type){case"file":return f();case"link":return function(){if(u)return l();r.unlink(p,(function(){var n=c.join(e,c.join("/",i.linkname));r.link(n,p,(function(e){if(e&&"EPERM"===e.code&&t.hardlinkAsFilesFallback)return s=r.createReadStream(n),f();h(e)}))}))}();case"symlink":return function(){if(u)return l();r.unlink(p,(function(){r.symlink(i.linkname,p,h)}))}()}if(_)return l(new Error("unsupported type for "+p+" ("+i.type+")"));s.resume(),l()})):l(new Error(b+" is not a valid path"))}))})),t.finish&&b.on("finish",t.finish),b}},998:function(e,t,r){var n=r(9896),i=r(6928),o=r(857),a=r(6982),s=r(56).version,c=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function u(e){console.log("[dotenv@".concat(s,"][DEBUG] ").concat(e))}function l(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function p(e,t){var r;try{r=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){var n=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw n.code="INVALID_DOTENV_KEY",n}throw e}var i=r.password;if(!i){var o=new Error("INVALID_DOTENV_KEY: Missing key part");throw o.code="INVALID_DOTENV_KEY",o}var a=r.searchParams.get("environment");if(!a){var s=new Error("INVALID_DOTENV_KEY: Missing environment part");throw s.code="INVALID_DOTENV_KEY",s}var c="DOTENV_VAULT_".concat(a.toUpperCase()),u=e.parsed[c];if(!u){var l=new Error("NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ".concat(c," in your .env.vault file."));throw l.code="NOT_FOUND_DOTENV_ENVIRONMENT",l}return{ciphertext:u,key:i}}function d(e){var t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path)){var r,o=f(e.path);try{for(o.s();!(r=o.n()).done;){var a=r.value;n.existsSync(a)&&(t=a.endsWith(".vault")?a:"".concat(a,".vault"))}}catch(e){o.e(e)}finally{o.f()}}else t=e.path.endsWith(".vault")?e.path:"".concat(e.path,".vault");else t=i.resolve(process.cwd(),".env.vault");return n.existsSync(t)?t:null}function h(e){return"~"===e[0]?i.join(o.homedir(),e.slice(1)):e}var m={configDotenv:function(e){var t=i.resolve(process.cwd(),".env"),r="utf8",o=Boolean(e&&e.debug);e&&e.encoding?r=e.encoding:o&&u("No encoding is specified. UTF-8 is used by default");var a,s=[t];if(e&&e.path)if(Array.isArray(e.path)){s=[];var c,l=f(e.path);try{for(l.s();!(c=l.n()).done;){var p=c.value;s.push(h(p))}}catch(e){l.e(e)}finally{l.f()}}else s=[h(e.path)];for(var d={},g=0,y=s;g<y.length;g++){var v=y[g];try{var b=m.parse(n.readFileSync(v,{encoding:r}));m.populate(d,b,e)}catch(e){o&&u("Failed to load ".concat(v," ").concat(e.message)),a=e}}var E=process.env;return e&&null!=e.processEnv&&(E=e.processEnv),m.populate(E,d,e),a?{parsed:d,error:a}:{parsed:d}},_configVault:function(e){console.log("[dotenv@".concat(s,"][INFO] Loading env from encrypted .env.vault"));var t=m._parseVault(e),r=process.env;return e&&null!=e.processEnv&&(r=e.processEnv),m.populate(r,t,e),{parsed:t}},_parseVault:function(e){var t=d(e),r=m.configDotenv({path:t});if(!r.parsed){var n=new Error("MISSING_DATA: Cannot parse ".concat(t," for an unknown reason"));throw n.code="MISSING_DATA",n}for(var i,o=l(e).split(","),a=o.length,s=0;s<a;s++)try{var c=p(r,o[s].trim());i=m.decrypt(c.ciphertext,c.key);break}catch(t){if(s+1>=a)throw t}return m.parse(i)},config:function(e){if(0===l(e).length)return m.configDotenv(e);var t,r=d(e);return r?m._configVault(e):(t="You set DOTENV_KEY but you are missing a .env.vault file at ".concat(r,". Did you forget to build it?"),console.log("[dotenv@".concat(s,"][WARN] ").concat(t)),m.configDotenv(e))},decrypt:function(e,t){var r=Buffer.from(t.slice(-64),"hex"),n=Buffer.from(e,"base64"),i=n.subarray(0,12),o=n.subarray(-16);n=n.subarray(12,-16);try{var s=a.createDecipheriv("aes-256-gcm",r,i);return s.setAuthTag(o),"".concat(s.update(n)).concat(s.final())}catch(e){var c=e instanceof RangeError,u="Invalid key length"===e.message,l="Unsupported state or unable to authenticate data"===e.message;if(c||u){var p=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw p.code="INVALID_DOTENV_KEY",p}if(l){var d=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw d.code="DECRYPTION_FAILED",d}throw e}},parse:function(e){var t,r={},n=e.toString();for(n=n.replace(/\r\n?/gm,"\n");null!=(t=c.exec(n));){var i=t[1],o=t[2]||"",a=(o=o.trim())[0];o=o.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===a&&(o=(o=o.replace(/\\n/g,"\n")).replace(/\\r/g,"\r")),r[i]=o}return r},populate:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Boolean(r&&r.debug),i=Boolean(r&&r.override);if("object"!=D(t)){var o=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw o.code="OBJECT_REQUIRED",o}for(var a=0,s=Object.keys(t);a<s.length;a++){var c=s[a];Object.prototype.hasOwnProperty.call(e,c)?(!0===i&&(e[c]=t[c]),n&&u('"'.concat(c,!0===i?'" is already defined and WAS overwritten':'" is already defined and was NOT overwritten'))):e[c]=t[c]}}};e.exports.configDotenv=m.configDotenv,e.exports._configVault=m._configVault,e.exports._parseVault=m._parseVault,e.exports.config=m.config,e.exports.decrypt=m.decrypt,e.exports.parse=m.parse,e.exports.populate=m.populate,e.exports=m},2010:function(e,t,r){"use strict";var n=r(2861).Buffer,i=r(3527);function o(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function a(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=o(e);var r=i(t),a=r+1,s=e.length,c=0;if(48!==e[c++])throw new Error('Could not find expected "seq"');var u=e[c++];if(129===u&&(u=e[c++]),s-c<u)throw new Error('"seq" specified length of "'+u+'", only "'+(s-c)+'" remaining');if(2!==e[c++])throw new Error('Could not find expected "int" for "r"');var l=e[c++];if(s-c-2<l)throw new Error('"r" specified length of "'+l+'", only "'+(s-c-2)+'" available');if(a<l)throw new Error('"r" specified length of "'+l+'", max of "'+a+'" is acceptable');var p=c;if(c+=l,2!==e[c++])throw new Error('Could not find expected "int" for "s"');var d=e[c++];if(s-c!==d)throw new Error('"s" specified length of "'+d+'", expected "'+(s-c)+'"');if(a<d)throw new Error('"s" specified length of "'+d+'", max of "'+a+'" is acceptable');var h=c;if((c+=d)!==s)throw new Error('Expected to consume entire buffer, but "'+(s-c)+'" bytes remain');var f=r-l,m=r-d,g=n.allocUnsafe(f+l+m+d);for(c=0;c<f;++c)g[c]=0;e.copy(g,c,p+Math.max(-f,0),p+l);for(var y=c=r;c<y+m;++c)g[c]=0;return e.copy(g,c,h+Math.max(-m,0),h+d),(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=o(e);var r=i(t),s=e.length;if(s!==2*r)throw new TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+s+'"');var c=a(e,0,r),u=a(e,r,e.length),l=r-c,p=r-u,d=2+l+1+1+p,h=d<128,f=n.allocUnsafe((h?2:3)+d),m=0;return f[m++]=48,h?f[m++]=d:(f[m++]=129,f[m++]=255&d),f[m++]=2,f[m++]=l,c<0?(f[m++]=0,m+=e.copy(f,m,0,r)):m+=e.copy(f,m,c,r),f[m++]=2,f[m++]=p,u<0?(f[m++]=0,e.copy(f,m,r)):e.copy(f,m,r+u),f}}},3527:function(e){"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var r={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=r[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}},4276:function(e){"use strict";function t(e,t){return function(r){for(var n=new Array(arguments.length),i="error"===e?r:null,o=0;o<n.length;o++)n[o]=arguments[o];t(i,this,e,n)}}e.exports=function(e,r){if(!Array.isArray(e))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var n=[],i=0;i<e.length;i++){var o=e[i];if(!Array.isArray(o)||o.length<2)throw new TypeError("each array member must be [ee, events...]");for(var a=o[0],s=1;s<o.length;s++){var c=o[s],u=t(c,l);a.on(c,u),n.push({ee:a,event:c,fn:u})}}function l(){p(),r.apply(null,arguments)}function p(){for(var e,t=0;t<n.length;t++)(e=n[t]).ee.removeListener(e.event,e.fn)}function d(e){r=e}return d.cancel=p,d}},2224:function(e){"use strict";e.exports=function(e){return String(e).replace(r,n).replace(t,encodeURI)};var t=/(?:[^\x21\x25\x26-\x3B\x3D\x3F-\x5B\x5D\x5F\x61-\x7A\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g,r=/(^|[^\uD800-\uDBFF])[\uDC00-\uDFFF]|[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/g,n="$1$2"},6611:function(e,t,r){var n=r(3519),i=function(){},o=function(e,t,r){if("function"==typeof t)return o(e,null,t);t||(t={}),r=n(r||i);var a=e._writableState,s=e._readableState,c=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,l=!1,p=function(){e.writable||d()},d=function(){u=!1,c||r.call(e)},h=function(){c=!1,u||r.call(e)},f=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},m=function(t){r.call(e,t)},g=function(){process.nextTick(y)},y=function(){if(!l)return(!c||s&&s.ended&&!s.destroyed)&&(!u||a&&a.ended&&!a.destroyed)?void 0:r.call(e,new Error("premature close"))},v=function(){e.req.on("finish",d)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",d),e.on("abort",g),e.req?v():e.on("request",v)):u&&!a&&(e.on("end",p),e.on("close",p)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",f),e.on("end",h),e.on("finish",d),!1!==t.error&&e.on("error",m),e.on("close",g),function(){l=!0,e.removeListener("complete",d),e.removeListener("abort",g),e.removeListener("request",v),e.req&&e.req.removeListener("finish",d),e.removeListener("end",p),e.removeListener("close",p),e.removeListener("finish",d),e.removeListener("exit",f),e.removeListener("end",h),e.removeListener("error",m),e.removeListener("close",g)}};e.exports=o},655:function(e,t,r){"use strict";var n=r(453)("%Object.defineProperty%",!0)||!1;if(n)try{n({},"a",{value:1})}catch(e){n=!1}e.exports=n},1237:function(e){"use strict";e.exports=EvalError},9383:function(e){"use strict";e.exports=Error},9290:function(e){"use strict";e.exports=RangeError},9538:function(e){"use strict";e.exports=ReferenceError},8068:function(e){"use strict";e.exports=SyntaxError},9675:function(e){"use strict";e.exports=TypeError},5345:function(e){"use strict";e.exports=URIError},580:function(e){"use strict";var t=/["'&<>]/;e.exports=function(e){var r,n=""+e,i=t.exec(n);if(!i)return n;var o="",a=0,s=0;for(a=i.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(o+=n.substring(s,a)),s=a+1,o+=r}return s!==a?o+n.substring(s,a):o}},7160:function(e,t,r){"use strict";e.exports=function(e,t){if(null==e)throw new TypeError("argument entity is required");var r,a=(r=e,"function"==typeof i&&r instanceof i||r&&"object"==D(r)&&"ctime"in r&&"[object Date]"===o.call(r.ctime)&&"mtime"in r&&"[object Date]"===o.call(r.mtime)&&"ino"in r&&"number"==typeof r.ino&&"size"in r&&"number"==typeof r.size),s=t&&"boolean"==typeof t.weak?t.weak:a;if(!a&&"string"!=typeof e&&!Buffer.isBuffer(e))throw new TypeError("argument entity must be string, Buffer, or fs.Stats");var c,u,l=a?(u=(c=e).mtime.getTime().toString(16),'"'+c.size.toString(16)+"-"+u+'"'):function(e){if(0===e.length)return'"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk"';var t=n.createHash("sha1").update(e,"utf8").digest("base64").substring(0,27);return'"'+("string"==typeof e?Buffer.byteLength(e,"utf8"):e.length).toString(16)+"-"+t+'"'}(e);return s?"W/"+l:l};var n=r(6982),i=r(9896).Stats,o=Object.prototype.toString},6083:function(e,t,r){"use strict";e.exports=r(8307)},7553:function(e,t,r){"use strict";var n=r(1737),i=r(1085),o=r(4761),a=r(5848),s=r(9536),c=r(5753)("express:application"),u=r(7698),l=r(8611),p=r(958).compileETag,d=r(958).compileQueryParser,h=r(958).compileTrust,f=r(6330)("express"),m=r(3031),g=r(8127),y=r(6928).resolve,v=r(7270),b=Object.prototype.hasOwnProperty,E=Array.prototype.slice,w=e.exports={},A="@@symbol:trust_proxy_default";function x(e){"test"!==this.get("env")&&console.error(e.stack||e.toString())}w.init=function(){this.cache={},this.engines={},this.settings={},this.defaultConfiguration()},w.defaultConfiguration=function(){var e="production";this.enable("x-powered-by"),this.set("etag","weak"),this.set("env",e),this.set("query parser","extended"),this.set("subdomain offset",2),this.set("trust proxy",!1),Object.defineProperty(this.settings,A,{configurable:!0,value:!0}),c("booting in %s mode",e),this.on("mount",(function(e){!0===this.settings[A]&&"function"==typeof e.settings["trust proxy fn"]&&(delete this.settings["trust proxy"],delete this.settings["trust proxy fn"]),v(this.request,e.request),v(this.response,e.response),v(this.engines,e.engines),v(this.settings,e.settings)})),this.locals=Object.create(null),this.mountpath="/",this.locals.settings=this.settings,this.set("view",u),this.set("views",y("views")),this.set("jsonp callback name","callback"),this.enable("view cache"),Object.defineProperty(this,"router",{get:function(){throw new Error("'app.router' is deprecated!\nPlease see the 3.x to 4.x migration guide for details on how to update your app.")}})},w.lazyrouter=function(){this._router||(this._router=new i({caseSensitive:this.enabled("case sensitive routing"),strict:this.enabled("strict routing")}),this._router.use(s(this.get("query parser fn"))),this._router.use(a.init(this)))},w.handle=function(e,t,r){var i=this._router,o=r||n(e,t,{env:this.get("env"),onerror:x.bind(this)});if(!i)return c("no routes defined on app"),void o();i.handle(e,t,o)},w.use=function(e){var t=0,r="/";if("function"!=typeof e){for(var n=e;Array.isArray(n)&&0!==n.length;)n=n[0];"function"!=typeof n&&(t=1,r=e)}var i=m(E.call(arguments,t));if(0===i.length)throw new TypeError("app.use() requires a middleware function");this.lazyrouter();var o=this._router;return i.forEach((function(e){if(!e||!e.handle||!e.set)return o.use(r,e);c(".use app under %s",r),e.mountpath=r,e.parent=this,o.use(r,(function(t,r,n){var i=t.app;e.handle(t,r,(function(e){v(t,i.request),v(r,i.response),n(e)}))})),e.emit("mount",this)}),this),this},w.route=function(e){return this.lazyrouter(),this._router.route(e)},w.engine=function(e,t){if("function"!=typeof t)throw new Error("callback function required");var r="."!==e[0]?"."+e:e;return this.engines[r]=t,this},w.param=function(e,t){if(this.lazyrouter(),Array.isArray(e)){for(var r=0;r<e.length;r++)this.param(e[r],t);return this}return this._router.param(e,t),this},w.set=function(e,t){if(1!==arguments.length){switch(c('set "%s" to %o',e,t),this.settings[e]=t,e){case"etag":this.set("etag fn",p(t));break;case"query parser":this.set("query parser fn",d(t));break;case"trust proxy":this.set("trust proxy fn",h(t)),Object.defineProperty(this.settings,A,{configurable:!0,value:!1})}return this}for(var r=this.settings;r&&r!==Object.prototype;){if(b.call(r,e))return r[e];r=Object.getPrototypeOf(r)}},w.path=function(){return this.parent?this.parent.path()+this.mountpath:""},w.enabled=function(e){return Boolean(this.set(e))},w.disabled=function(e){return!this.set(e)},w.enable=function(e){return this.set(e,!0)},w.disable=function(e){return this.set(e,!1)},o.forEach((function(e){w[e]=function(t){if("get"===e&&1===arguments.length)return this.set(t);this.lazyrouter();var r=this._router.route(t);return r[e].apply(r,E.call(arguments,1)),this}})),w.all=function(e){this.lazyrouter();for(var t=this._router.route(e),r=E.call(arguments,1),n=0;n<o.length;n++)t[o[n]].apply(t,r);return this},w.del=f.function(w.delete,"app.del: Use app.delete instead"),w.render=function(e,t,r){var n,i=this.cache,o=r,a=this.engines,s=t,c={};if("function"==typeof t&&(o=t,s={}),g(c,this.locals),s._locals&&g(c,s._locals),g(c,s),null==c.cache&&(c.cache=this.enabled("view cache")),c.cache&&(n=i[e]),!n){if(!(n=new(this.get("view"))(e,{defaultEngine:this.get("view engine"),root:this.get("views"),engines:a})).path){var u=Array.isArray(n.root)&&n.root.length>1?'directories "'+n.root.slice(0,-1).join('", "')+'" or "'+n.root[n.root.length-1]+'"':'directory "'+n.root+'"',l=new Error('Failed to lookup view "'+e+'" in views '+u);return l.view=n,o(l)}c.cache&&(i[e]=n)}!function(e,t,r){try{e.render(t,r)}catch(e){r(e)}}(n,c,o)},w.listen=function(){var e=l.createServer(this);return e.listen.apply(e,arguments)}},8307:function(e,t,r){"use strict";var n=r(7059),i=r(4434).EventEmitter,o=r(2800),a=r(7553),s=r(3204),c=r(1085),u=r(7058),l=r(4444);(t=e.exports=function(){var e=function(e){function t(t,r,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t,r,n){e.handle(t,r,n)}));return o(e,i.prototype,!1),o(e,a,!1),e.request=Object.create(u,{app:{configurable:!0,enumerable:!0,writable:!0,value:e}}),e.response=Object.create(l,{app:{configurable:!0,enumerable:!0,writable:!0,value:e}}),e.init(),e}).application=a,t.request=u,t.response=l,t.Route=s,t.Router=c,t.json=n.json,t.query=r(9536),t.raw=n.raw,t.static=r(2577),t.text=n.text,t.urlencoded=n.urlencoded,["bodyParser","compress","cookieSession","session","logger","cookieParser","favicon","responseTime","errorHandler","timeout","methodOverride","vhost","csrf","directory","limit","multipart","staticCache"].forEach((function(e){Object.defineProperty(t,e,{get:function(){throw new Error("Most middleware (like "+e+") is no longer bundled with Express and must be installed separately. Please see https://github.com/senchalabs/connect#middleware.")},configurable:!0})}))},5848:function(e,t,r){"use strict";var n=r(7270);t.init=function(e){return function(t,r,i){e.enabled("x-powered-by")&&r.setHeader("X-Powered-By","Express"),t.res=r,r.req=t,t.next=i,n(t,e.request),n(r,e.response),r.locals=r.locals||Object.create(null),i()}}},9536:function(e,t,r){"use strict";var n=r(8127),i=r(3189),o=r(5373);e.exports=function(e){var t=n({},e),r=o.parse;return"function"==typeof e&&(r=e,t=void 0),void 0!==t&&void 0===t.allowPrototypes&&(t.allowPrototypes=!0),function(e,n,o){if(!e.query){var a=i(e).query;e.query=r(a,t)}o()}}},7058:function(e,t,r){"use strict";var n=r(2594),i=r(6330)("express"),o=r(9278).isIP,a=r(1592),s=r(8611),c=r(1427),u=r(2878),l=r(3189),p=r(1729),d=Object.create(s.IncomingMessage.prototype);function h(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:r})}e.exports=d,d.get=d.header=function(e){if(!e)throw new TypeError("name argument is required to req.get");if("string"!=typeof e)throw new TypeError("name must be a string to req.get");var t=e.toLowerCase();switch(t){case"referer":case"referrer":return this.headers.referrer||this.headers.referer;default:return this.headers[t]}},d.accepts=function(){var e=n(this);return e.types.apply(e,arguments)},d.acceptsEncodings=function(){var e=n(this);return e.encodings.apply(e,arguments)},d.acceptsEncoding=i.function(d.acceptsEncodings,"req.acceptsEncoding: Use acceptsEncodings instead"),d.acceptsCharsets=function(){var e=n(this);return e.charsets.apply(e,arguments)},d.acceptsCharset=i.function(d.acceptsCharsets,"req.acceptsCharset: Use acceptsCharsets instead"),d.acceptsLanguages=function(){var e=n(this);return e.languages.apply(e,arguments)},d.acceptsLanguage=i.function(d.acceptsLanguages,"req.acceptsLanguage: Use acceptsLanguages instead"),d.range=function(e,t){var r=this.get("Range");if(r)return u(e,r,t)},d.param=function(e,t){var r=this.params||{},n=this.body||{},o=this.query||{};return i("req.param("+(1===arguments.length?"name":"name, default")+"): Use req.params, req.body, or req.query instead"),null!=r[e]&&r.hasOwnProperty(e)?r[e]:null!=n[e]?n[e]:null!=o[e]?o[e]:t},d.is=function(e){var t=e;if(!Array.isArray(e)){t=new Array(arguments.length);for(var r=0;r<t.length;r++)t[r]=arguments[r]}return a(this,t)},h(d,"protocol",(function(){var e=this.connection.encrypted?"https":"http";if(!this.app.get("trust proxy fn")(this.connection.remoteAddress,0))return e;var t=this.get("X-Forwarded-Proto")||e,r=t.indexOf(",");return-1!==r?t.substring(0,r).trim():t.trim()})),h(d,"secure",(function(){return"https"===this.protocol})),h(d,"ip",(function(){var e=this.app.get("trust proxy fn");return p(this,e)})),h(d,"ips",(function(){var e=this.app.get("trust proxy fn"),t=p.all(this,e);return t.reverse().pop(),t})),h(d,"subdomains",(function(){var e=this.hostname;if(!e)return[];var t=this.app.get("subdomain offset");return(o(e)?[e]:e.split(".").reverse()).slice(t)})),h(d,"path",(function(){return l(this).pathname})),h(d,"hostname",(function(){var e=this.app.get("trust proxy fn"),t=this.get("X-Forwarded-Host");if(t&&e(this.connection.remoteAddress,0)?-1!==t.indexOf(",")&&(t=t.substring(0,t.indexOf(",")).trimRight()):t=this.get("Host"),t){var r="["===t[0]?t.indexOf("]")+1:0,n=t.indexOf(":",r);return-1!==n?t.substring(0,n):t}})),h(d,"host",i.function((function(){return this.hostname}),"req.host: Use req.hostname instead")),h(d,"fresh",(function(){var e=this.method,t=this.res,r=t.statusCode;return("GET"===e||"HEAD"===e)&&(r>=200&&r<300||304===r)&&c(this.headers,{etag:t.get("ETag"),"last-modified":t.get("Last-Modified")})})),h(d,"stale",(function(){return!this.fresh})),h(d,"xhr",(function(){return"xmlhttprequest"===(this.get("X-Requested-With")||"").toLowerCase()}))},4444:function(e,t,r){"use strict";var n=r(2861).Buffer,i=r(1164),o=r(2771),a=r(6330)("express"),s=r(2224),c=r(580),u=r(8611),l=r(958).isAbsolute,p=r(5649),d=r(6928),h=r(2403),f=r(8127),m=r(9884).sign,g=r(958).normalizeType,y=r(958).normalizeTypes,v=r(958).setCharset,b=r(7427),E=r(7667),w=d.extname,A=E.mime,x=d.resolve,S=r(677),_=Object.create(u.ServerResponse.prototype);e.exports=_;var k=/;\s*charset\s*=/,I=/^(?:[a-zA-Z][a-zA-Z0-9+.-]*:)?\/\/[^\\\/\?]+/;function T(e,t,r,n){var i,o=!1;function a(){if(!o){o=!0;var e=new Error("Request aborted");e.code="ECONNABORTED",n(e)}}function s(e){o||(o=!0,n(e))}t.on("directory",(function(){if(!o){o=!0;var e=new Error("EISDIR, read");e.code="EISDIR",n(e)}})),t.on("end",(function(){o||(o=!0,n())})),t.on("error",s),t.on("file",(function(){i=!1})),t.on("stream",(function(){i=!0})),p(e,(function(e){return e&&"ECONNRESET"===e.code?a():e?s(e):void(o||setImmediate((function(){!1===i||o?o||(o=!0,n()):a()})))})),r.headers&&t.on("headers",(function(e){for(var t=r.headers,n=Object.keys(t),i=0;i<n.length;i++){var o=n[i];e.setHeader(o,t[o])}})),t.pipe(e)}function C(e,t,r,n){var i=t||r?JSON.stringify(e,t,r):JSON.stringify(e);return n&&"string"==typeof i&&(i=i.replace(/[<>&]/g,(function(e){switch(e.charCodeAt(0)){case 60:return"\\u003c";case 62:return"\\u003e";case 38:return"\\u0026";default:return e}}))),i}_.status=function(e){return("string"==typeof e||Math.floor(e)!==e)&&e>99&&e<1e3&&a("res.status("+JSON.stringify(e)+"): use res.status("+Math.floor(e)+") instead"),this.statusCode=e,this},_.links=function(e){var t=this.get("Link")||"";return t&&(t+=", "),this.set("Link",t+Object.keys(e).map((function(t){return"<"+e[t]+'>; rel="'+t+'"'})).join(", "))},_.send=function(e){var t,r,i=e,o=this.req,s=this.app;switch(2===arguments.length&&("number"!=typeof arguments[0]&&"number"==typeof arguments[1]?(a("res.send(body, status): Use res.status(status).send(body) instead"),this.statusCode=arguments[1]):(a("res.send(status, body): Use res.status(status).send(body) instead"),this.statusCode=arguments[0],i=arguments[1])),"number"==typeof i&&1===arguments.length&&(this.get("Content-Type")||this.type("txt"),a("res.send(status): Use res.sendStatus(status) instead"),this.statusCode=i,i=h.message[i]),D(i)){case"string":this.get("Content-Type")||this.type("html");break;case"boolean":case"number":case"object":if(null===i)i="";else{if(!n.isBuffer(i))return this.json(i);this.get("Content-Type")||this.type("bin")}}"string"==typeof i&&(t="utf8","string"==typeof(r=this.get("Content-Type"))&&this.set("Content-Type",v(r,"utf-8")));var c,u,l=s.get("etag fn"),p=!this.get("ETag")&&"function"==typeof l;return void 0!==i&&(n.isBuffer(i)?c=i.length:!p&&i.length<1e3?c=n.byteLength(i,t):(i=n.from(i,t),t=void 0,c=i.length),this.set("Content-Length",c)),p&&void 0!==c&&(u=l(i,t))&&this.set("ETag",u),o.fresh&&(this.statusCode=304),204!==this.statusCode&&304!==this.statusCode||(this.removeHeader("Content-Type"),this.removeHeader("Content-Length"),this.removeHeader("Transfer-Encoding"),i=""),205===this.statusCode&&(this.set("Content-Length","0"),this.removeHeader("Transfer-Encoding"),i=""),"HEAD"===o.method?this.end():this.end(i,t),this},_.json=function(e){var t=e;2===arguments.length&&("number"==typeof arguments[1]?(a("res.json(obj, status): Use res.status(status).json(obj) instead"),this.statusCode=arguments[1]):(a("res.json(status, obj): Use res.status(status).json(obj) instead"),this.statusCode=arguments[0],t=arguments[1]));var r=this.app,n=r.get("json escape"),i=C(t,r.get("json replacer"),r.get("json spaces"),n);return this.get("Content-Type")||this.set("Content-Type","application/json"),this.send(i)},_.jsonp=function(e){var t=e;2===arguments.length&&("number"==typeof arguments[1]?(a("res.jsonp(obj, status): Use res.status(status).jsonp(obj) instead"),this.statusCode=arguments[1]):(a("res.jsonp(status, obj): Use res.status(status).jsonp(obj) instead"),this.statusCode=arguments[0],t=arguments[1]));var r=this.app,n=r.get("json escape"),i=C(t,r.get("json replacer"),r.get("json spaces"),n),o=this.req.query[r.get("jsonp callback name")];return this.get("Content-Type")||(this.set("X-Content-Type-Options","nosniff"),this.set("Content-Type","application/json")),Array.isArray(o)&&(o=o[0]),"string"==typeof o&&0!==o.length&&(this.set("X-Content-Type-Options","nosniff"),this.set("Content-Type","text/javascript"),o=o.replace(/[^\[\]\w$.]/g,""),void 0===i?i="":"string"==typeof i&&(i=i.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")),i="/**/ typeof "+o+" === 'function' && "+o+"("+i+");"),this.send(i)},_.sendStatus=function(e){var t=h.message[e]||String(e);return this.statusCode=e,this.type("txt"),this.send(t)},_.sendFile=function(e,t,r){var n=r,i=this.req,o=i.next,a=t||{};if(!e)throw new TypeError("path argument is required to res.sendFile");if("string"!=typeof e)throw new TypeError("path must be a string to res.sendFile");if("function"==typeof t&&(n=t,a={}),!a.root&&!l(e))throw new TypeError("path must be absolute or specify root to res.sendFile");var s=encodeURI(e);T(this,E(i,s,a),a,(function(e){return n?n(e):e&&"EISDIR"===e.code?o():void(e&&"ECONNABORTED"!==e.code&&"write"!==e.syscall&&o(e))}))},_.sendfile=function(e,t,r){var n=r,i=this.req,o=i.next,a=t||{};"function"==typeof t&&(n=t,a={}),T(this,E(i,e,a),a,(function(e){return n?n(e):e&&"EISDIR"===e.code?o():void(e&&"ECONNABORTED"!==e.code&&"write"!==e.syscall&&o(e))}))},_.sendfile=a.function(_.sendfile,"res.sendfile: Use res.sendFile instead"),_.download=function(e,t,r,n){var o=n,a=t,s=r||null;"function"==typeof t?(o=t,a=null,s=null):"function"==typeof r&&(o=r,s=null),"object"!=D(t)||"function"!=typeof r&&void 0!==r||(a=null,s=t);var c={"Content-Disposition":i(a||e)};if(s&&s.headers)for(var u=Object.keys(s.headers),l=0;l<u.length;l++){var p=u[l];"content-disposition"!==p.toLowerCase()&&(c[p]=s.headers[p])}(s=Object.create(s)).headers=c;var d=s.root?e:x(e);return this.sendFile(d,s,o)},_.contentType=_.type=function(e){var t=-1===e.indexOf("/")?A.lookup(e):e;return this.set("Content-Type",t)},_.format=function(e){var t=this.req,r=t.next,n=Object.keys(e).filter((function(e){return"default"!==e})),i=n.length>0&&t.accepts(n);return this.vary("Accept"),i?(this.set("Content-Type",g(i).value),e[i](t,this,r)):e.default?e.default(t,this,r):r(o(406,{types:y(n).map((function(e){return e.value}))})),this},_.attachment=function(e){return e&&this.type(w(e)),this.set("Content-Disposition",i(e)),this},_.append=function(e,t){var r=this.get(e),n=t;return r&&(n=Array.isArray(r)?r.concat(t):Array.isArray(t)?[r].concat(t):[r,t]),this.set(e,n)},_.set=_.header=function(e,t){if(2===arguments.length){var r=Array.isArray(t)?t.map(String):String(t);if("content-type"===e.toLowerCase()){if(Array.isArray(r))throw new TypeError("Content-Type cannot be set to an Array");if(!k.test(r)){var n=A.charsets.lookup(r.split(";")[0]);n&&(r+="; charset="+n.toLowerCase())}}this.setHeader(e,r)}else for(var i in e)this.set(i,e[i]);return this},_.get=function(e){return this.getHeader(e)},_.clearCookie=function(e,t){var r=f({expires:new Date(1),path:"/"},t);return this.cookie(e,"",r)},_.cookie=function(e,t,r){var n=f({},r),i=this.req.secret,o=n.signed;if(o&&!i)throw new Error('cookieParser("secret") required for signed cookies');var a="object"==D(t)?"j:"+JSON.stringify(t):String(t);if(o&&(a="s:"+m(a,i)),null!=n.maxAge){var s=n.maxAge-0;isNaN(s)||(n.expires=new Date(Date.now()+s),n.maxAge=Math.floor(s/1e3))}return null==n.path&&(n.path="/"),this.append("Set-Cookie",b.serialize(e,String(a),n)),this},_.location=function(e){var t;t="back"===e?this.req.get("Referrer")||"/":String(e);var r=I.exec(t),n=r?r[0].length+1:0;return t=t.slice(0,n)+s(t.slice(n)),this.set("Location",t)},_.redirect=function(e){var t,r=e,i=302;2===arguments.length&&("number"==typeof arguments[0]?(i=arguments[0],r=arguments[1]):(a("res.redirect(url, status): Use res.redirect(status, url) instead"),i=arguments[1])),r=this.location(r).get("Location"),this.format({text:function(){t=h.message[i]+". Redirecting to "+r},html:function(){var e=c(r);t="<p>"+h.message[i]+'. Redirecting to <a href="'+e+'">'+e+"</a></p>"},default:function(){t=""}}),this.statusCode=i,this.set("Content-Length",n.byteLength(t)),"HEAD"===this.req.method?this.end():this.end(t)},_.vary=function(e){return!e||Array.isArray(e)&&!e.length?(a("res.vary(): Provide a field name"),this):(S(this,e),this)},_.render=function(e,t,r){var n=this.req.app,i=r,o=t||{},a=this.req,s=this;"function"==typeof t&&(i=t,o={}),o._locals=s.locals,i=i||function(e,t){if(e)return a.next(e);s.send(t)},n.render(e,o,i)}},1085:function(e,t,r){"use strict";var n=r(3204),i=r(3976),o=r(4761),a=r(8127),s=r(5753)("express:router"),c=r(6330)("express"),u=r(3031),l=r(3189),p=r(7270),d=/^\[object (\S+)\]$/,h=Array.prototype.slice,f=Object.prototype.toString,m=e.exports=function(e){var t=e||{};function r(e,t,n){r.handle(e,t,n)}return p(r,m),r.params={},r._params=[],r.caseSensitive=t.caseSensitive,r.mergeParams=t.mergeParams,r.strict=t.strict,r.stack=[],r};function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}function y(e,t){try{return e.match(t)}catch(e){return e}}m.param=function(e,t){if("function"==typeof e)return c("router.param(fn): Refactor to use path params"),void this._params.push(e);var r,n=this._params,i=n.length;":"===e[0]&&(c("router.param("+JSON.stringify(e)+", fn): Use router.param("+JSON.stringify(e.slice(1))+", fn) instead"),e=e.slice(1));for(var o=0;o<i;++o)(r=n[o](e,t))&&(t=r);if("function"!=typeof t)throw new Error("invalid param() call for "+e+", got "+t);return(this.params[e]=this.params[e]||[]).push(t),this},m.handle=function(e,t,r){var n=this;s("dispatching %s %s",e.method,e.url);var i,o,c=0,u=function(e){if("string"==typeof e&&0!==e.length&&"/"!==e[0]){var t=e.indexOf("?"),r=-1!==t?t:e.length,n=e.slice(0,r).indexOf("://");return-1!==n?e.substring(0,e.indexOf("/",3+n)):void 0}}(e.url)||"",p="",d=!1,h=0,f={},m=[],v=n.stack,b=e.params,E=e.baseUrl||"",w=function(e,t){for(var r=new Array(arguments.length-2),n=new Array(arguments.length-2),i=0;i<r.length;i++)r[i]=arguments[i+2],n[i]=t[r[i]];return function(){for(var i=0;i<r.length;i++)t[r[i]]=n[i];return e.apply(this,arguments)}}(r,e,"baseUrl","next","params");function A(r){var i="route"===r?null:r;if(d&&(e.url=e.url.slice(1),d=!1),0!==p.length&&(e.baseUrl=E,e.url=u+p+e.url.slice(u.length),p=""),"router"!==i)if(c>=v.length)setImmediate(w,i);else{if(++h>100)return setImmediate(A,r);var o,x,S,_=function(e){try{return l(e).pathname}catch(e){return}}(e);if(null==_)return w(i);for(;!0!==x&&c<v.length;)if(x=y(o=v[c++],_),S=o.route,"boolean"!=typeof x&&(i=i||x),!0===x&&S)if(i)x=!1;else{var k=e.method,I=S._handles_method(k);I||"OPTIONS"!==k||g(m,S._options()),I||"HEAD"===k||(x=!1)}if(!0!==x)return w(i);S&&(e.route=S),e.params=n.mergeParams?function(e,t){if("object"!=D(t)||!t)return e;var r=a({},t);if(!(0 in e)||!(0 in t))return a(r,e);for(var n=0,i=0;n in e;)n++;for(;i in t;)i++;for(n--;n>=0;n--)e[n+i]=e[n],n<i&&delete e[n];return a(r,e)}(o.params,b):o.params;var T=o.path;n.process_params(o,f,e,t,(function(r){r?A(i||r):S?o.handle_request(e,t,A):function(r,n,i,o){if(0!==i.length){if(i!==o.slice(0,i.length))return void A(n);var a=o[i.length];if(a&&"/"!==a&&"."!==a)return A(n);s("trim prefix (%s) from url %s",i,e.url),p=i,e.url=u+e.url.slice(u.length+p.length),u||"/"===e.url[0]||(e.url="/"+e.url,d=!0),e.baseUrl=E+("/"===p[p.length-1]?p.substring(0,p.length-1):p)}s("%s %s : %s",r.name,i,e.originalUrl),n?r.handle_error(n,e,t,A):r.handle_request(e,t,A)}(o,i,T,_),h=0}))}else setImmediate(w,null)}e.next=A,"OPTIONS"===e.method&&(i=w,o=function(e,r){if(r||0===m.length)return e(r);!function(e,t,r){try{var n=t.join(",");e.set("Allow",n),e.send(n)}catch(e){r(e)}}(t,m,e)},w=function(){var e=new Array(arguments.length+1);e[0]=i;for(var t=0,r=arguments.length;t<r;t++)e[t+1]=arguments[t];o.apply(this,e)}),e.baseUrl=E,e.originalUrl=e.originalUrl||e.url,A()},m.process_params=function(e,t,r,n,i){var o=this.params,a=e.keys;if(!a||0===a.length)return i();var s,c,u,l,p,d=0,h=0;function f(e){return e?i(e):d>=a.length?i():(h=0,c=a[d++],s=c.name,u=r.params[s],l=o[s],p=t[s],void 0!==u&&l?p&&(p.match===u||p.error&&"route"!==p.error)?(r.params[s]=p.value,f(p.error)):(t[s]=p={error:null,match:u,value:u},void m()):f())}function m(e){var t=l[h++];if(p.value=r.params[c.name],e)return p.error=e,void f(e);if(!t)return f();try{t(r,n,m,u,c.name)}catch(e){m(e)}}f()},m.use=function(e){var t=0,r="/";if("function"!=typeof e){for(var n=e;Array.isArray(n)&&0!==n.length;)n=n[0];"function"!=typeof n&&(t=1,r=e)}var o,a,c=u(h.call(arguments,t));if(0===c.length)throw new TypeError("Router.use() requires a middleware function");for(var l=0;l<c.length;l++){if("function"!=typeof(e=c[l]))throw new TypeError("Router.use() requires a middleware function but got a "+("object"!==(a=D(o=e))?a:f.call(o).replace(d,"$1")));s("use %o %s",r,e.name||"<anonymous>");var p=new i(r,{sensitive:this.caseSensitive,strict:!1,end:!1},e);p.route=void 0,this.stack.push(p)}return this},m.route=function(e){var t=new n(e),r=new i(e,{sensitive:this.caseSensitive,strict:this.strict,end:!0},t.dispatch.bind(t));return r.route=t,this.stack.push(r),t},o.concat("all").forEach((function(e){m[e]=function(t){var r=this.route(t);return r[e].apply(r,h.call(arguments,1)),this}}))},3976:function(e,t,r){"use strict";var n=r(5302),i=r(5753)("express:router:layer"),o=Object.prototype.hasOwnProperty;function a(e,t,r){if(!(this instanceof a))return new a(e,t,r);i("new %o",e);var o=t||{};this.handle=r,this.name=r.name||"<anonymous>",this.params=void 0,this.path=void 0,this.regexp=n(e,this.keys=[],o),this.regexp.fast_star="*"===e,this.regexp.fast_slash="/"===e&&!1===o.end}function s(e){if("string"!=typeof e||0===e.length)return e;try{return decodeURIComponent(e)}catch(t){throw t instanceof URIError&&(t.message="Failed to decode param '"+e+"'",t.status=t.statusCode=400),t}}e.exports=a,a.prototype.handle_error=function(e,t,r,n){var i=this.handle;if(4!==i.length)return n(e);try{i(e,t,r,n)}catch(e){n(e)}},a.prototype.handle_request=function(e,t,r){var n=this.handle;if(n.length>3)return r();try{n(e,t,r)}catch(e){r(e)}},a.prototype.match=function(e){var t;if(null!=e){if(this.regexp.fast_slash)return this.params={},this.path="",!0;if(this.regexp.fast_star)return this.params={0:s(e)},this.path=e,!0;t=this.regexp.exec(e)}if(!t)return this.params=void 0,this.path=void 0,!1;this.params={},this.path=t[0];for(var r=this.keys,n=this.params,i=1;i<t.length;i++){var a=r[i-1].name,c=s(t[i]);void 0===c&&o.call(n,a)||(n[a]=c)}return!0}},3204:function(e,t,r){"use strict";var n=r(5753)("express:router:route"),i=r(3031),o=r(3976),a=r(4761),s=Array.prototype.slice,c=Object.prototype.toString;function u(e){this.path=e,this.stack=[],n("new %o",e),this.methods={}}e.exports=u,u.prototype._handles_method=function(e){if(this.methods._all)return!0;var t="string"==typeof e?e.toLowerCase():e;return"head"!==t||this.methods.head||(t="get"),Boolean(this.methods[t])},u.prototype._options=function(){var e=Object.keys(this.methods);this.methods.get&&!this.methods.head&&e.push("head");for(var t=0;t<e.length;t++)e[t]=e[t].toUpperCase();return e},u.prototype.dispatch=function(e,t,r){var n=0,i=this.stack,o=0;if(0===i.length)return r();var a="string"==typeof e.method?e.method.toLowerCase():e.method;"head"!==a||this.methods.head||(a="get"),e.route=this,function s(c){if(c&&"route"===c)return r();if(c&&"router"===c)return r(c);if(++o>100)return setImmediate(s,c);var u=i[n++];if(!u)return r(c);u.method&&u.method!==a?s(c):c?u.handle_error(c,e,t,s):u.handle_request(e,t,s),o=0}()},u.prototype.all=function(){for(var e=i(s.call(arguments)),t=0;t<e.length;t++){var r=e[t];if("function"!=typeof r){var n=c.call(r);throw new TypeError("Route.all() requires a callback function but got a "+n)}var a=o("/",{},r);a.method=void 0,this.methods._all=!0,this.stack.push(a)}return this},a.forEach((function(e){u.prototype[e]=function(){for(var t=i(s.call(arguments)),r=0;r<t.length;r++){var a=t[r];if("function"!=typeof a){var u=c.call(a);throw new Error("Route."+e+"() requires a callback function but got a "+u)}n("%s %o",e,this.path);var l=o("/",{},a);l.method=e,this.methods[e]=!0,this.stack.push(l)}return this}}))},958:function(e,t,r){"use strict";var n=r(2861).Buffer,i=r(1164),o=r(8597),a=r(6330)("express"),s=r(3031),c=r(7667).mime,u=r(7160),l=r(1729),p=r(5373),d=r(3480);function h(e){return function(t,r){var i=n.isBuffer(t)?t:n.from(t,r);return u(i,e)}}function f(e){return p.parse(e,{allowPrototypes:!0})}function m(){return{}}t.etag=h({weak:!1}),t.wetag=h({weak:!0}),t.isAbsolute=function(e){return"/"===e[0]||":"===e[1]&&("\\"===e[2]||"/"===e[2])||"\\\\"===e.substring(0,2)||void 0},t.flatten=a.function(s,"utils.flatten: use array-flatten npm module instead"),t.normalizeType=function(e){return~e.indexOf("/")?function(e){for(var t=e.split(/ *; */),r={value:t[0],quality:1,params:{}},n=1;n<t.length;++n){var i=t[n].split(/ *= */);"q"===i[0]?r.quality=parseFloat(i[1]):r.params[i[0]]=i[1]}return r}(e):{value:c.lookup(e),params:{}}},t.normalizeTypes=function(e){for(var r=[],n=0;n<e.length;++n)r.push(t.normalizeType(e[n]));return r},t.contentDisposition=a.function(i,"utils.contentDisposition: use content-disposition npm module instead"),t.compileETag=function(e){var r;if("function"==typeof e)return e;switch(e){case!0:case"weak":r=t.wetag;break;case!1:break;case"strong":r=t.etag;break;default:throw new TypeError("unknown value for etag function: "+e)}return r},t.compileQueryParser=function(e){var t;if("function"==typeof e)return e;switch(e){case!0:case"simple":t=d.parse;break;case!1:t=m;break;case"extended":t=f;break;default:throw new TypeError("unknown value for query parser function: "+e)}return t},t.compileTrust=function(e){return"function"==typeof e?e:!0===e?function(){return!0}:"number"==typeof e?function(t,r){return r<e}:("string"==typeof e&&(e=e.split(",").map((function(e){return e.trim()}))),l.compile(e||[]))},t.setCharset=function(e,t){if(!e||!t)return e;var r=o.parse(e);return r.parameters.charset=t,o.format(r)}},7698:function(e,t,r){"use strict";var n=r(5753)("express:view"),i=r(6928),o=r(9896),a=i.dirname,s=i.basename,c=i.extname,u=i.join,l=i.resolve;function p(e,t){var i=t||{};if(this.defaultEngine=i.defaultEngine,this.ext=c(e),this.name=e,this.root=i.root,!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");var o=e;if(this.ext||(this.ext="."!==this.defaultEngine[0]?"."+this.defaultEngine:this.defaultEngine,o+=this.ext),!i.engines[this.ext]){var a=this.ext.slice(1);n('require "%s"',a);var s=r(9246)(a).__express;if("function"!=typeof s)throw new Error('Module "'+a+'" does not provide a view engine.');i.engines[this.ext]=s}this.engine=i.engines[this.ext],this.path=this.lookup(o)}function d(e){n('stat "%s"',e);try{return o.statSync(e)}catch(e){return}}e.exports=p,p.prototype.lookup=function(e){var t,r=[].concat(this.root);n('lookup "%s"',e);for(var i=0;i<r.length&&!t;i++){var o=r[i],c=l(o,e),u=a(c),p=s(c);t=this.resolve(u,p)}return t},p.prototype.render=function(e,t){n('render "%s"',this.path),this.engine(this.path,e,t)},p.prototype.resolve=function(e,t){var r=this.ext,n=u(e,t),i=d(n);return i&&i.isFile()||(i=d(n=u(e,s(t,r),"index"+r)))&&i.isFile()?n:void 0}},9246:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=9246,e.exports=t},1737:function(e,t,r){"use strict";var n=r(5753)("finalhandler"),i=r(2224),o=r(580),a=r(5649),s=r(3189),c=r(2403),u=r(1170),l=/\x20{2}/g,p=/\n/g,d="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))},h=a.isFinished;function f(e){return"boolean"!=typeof e.headersSent?Boolean(e._header):e.headersSent}e.exports=function(e,t,r){var m=r||{},g=m.env||"production",y=m.onerror;return function(r){var m,v,b;if(r||!f(t)){if(r?(b=function(e){return"number"==typeof e.status&&e.status>=400&&e.status<600?e.status:"number"==typeof e.statusCode&&e.statusCode>=400&&e.statusCode<600?e.statusCode:void 0}(r),void 0===b?b=function(e){var t=e.statusCode;return("number"!=typeof t||t<400||t>599)&&(t=500),t}(t):m=function(e){if(e.headers&&"object"==D(e.headers)){for(var t=Object.create(null),r=Object.keys(e.headers),n=0;n<r.length;n++){var i=r[n];t[i]=e.headers[i]}return t}}(r),v=function(e,t,r){var n;return"production"!==r&&((n=e.stack)||"function"!=typeof e.toString||(n=e.toString())),n||c.message[t]}(r,b,g)):(b=404,v="Cannot "+e.method+" "+i(function(e){try{return s.original(e).pathname}catch(e){return"resource"}}(e))),n("default %s",b),r&&y&&d(y,r,e,t),f(t))return n("cannot %d after headers sent",b),void e.socket.destroy();!function(e,t,r,n,i){function s(){var a=function(e){return'<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>Error</title>\n</head>\n<body>\n<pre>'+o(e).replace(p,"<br>").replace(l," &nbsp;")+"</pre>\n</body>\n</html>\n"}(i);t.statusCode=r,t.statusMessage=c.message[r],t.removeHeader("Content-Encoding"),t.removeHeader("Content-Language"),t.removeHeader("Content-Range"),function(e,t){if(t)for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];e.setHeader(i,t[i])}}(t,n),t.setHeader("Content-Security-Policy","default-src 'none'"),t.setHeader("X-Content-Type-Options","nosniff"),t.setHeader("Content-Type","text/html; charset=utf-8"),t.setHeader("Content-Length",Buffer.byteLength(a,"utf8")),"HEAD"!==e.method?t.end(a,"utf8"):t.end()}h(e)?s():(u(e),a(e,s),e.resume())}(e,t,b,m,v)}else n("cannot 404 after headers sent")}}},8295:function(e){"use strict";function t(e){return e.socket?e.socket.remoteAddress:e.connection.remoteAddress}e.exports=function(e){if(!e)throw new TypeError("argument req is required");var r=function(e){for(var t=e.length,r=[],n=e.length,i=e.length-1;i>=0;i--)switch(e.charCodeAt(i)){case 32:n===t&&(n=t=i);break;case 44:n!==t&&r.push(e.substring(n,t)),n=t=i;break;default:n=i}return n!==t&&r.push(e.substring(n,t)),r}(e.headers["x-forwarded-for"]||"");return[t(e)].concat(r)}},1427:function(e){"use strict";var t=/(?:^|,)\s*?no-cache\s*?(?:,|$)/;function r(e){var t=e&&Date.parse(e);return"number"==typeof t?t:NaN}e.exports=function(e,n){var i=e["if-modified-since"],o=e["if-none-match"];if(!i&&!o)return!1;var a=e["cache-control"];if(a&&t.test(a))return!1;if(o&&"*"!==o){var s=n.etag;if(!s)return!1;for(var c=!0,u=function(e){for(var t=0,r=[],n=0,i=0,o=e.length;i<o;i++)switch(e.charCodeAt(i)){case 32:n===t&&(n=t=i+1);break;case 44:r.push(e.substring(n,t)),n=t=i+1;break;default:t=i+1}return r.push(e.substring(n,t)),r}(o),l=0;l<u.length;l++){var p=u[l];if(p===s||p==="W/"+s||"W/"+p===s){c=!1;break}}if(c)return!1}if(i){var d=n["last-modified"];if(!(d&&r(d)<=r(i)))return!1}return!0}},2170:function(e,t,r){e.exports=r(9896).constants||r(9140)},9353:function(e){"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,a=function(e){for(var t=[],r=1,n=0;r<e.length;r+=1,n+=1)t[n]=e[r];return t}(arguments),s=r(0,i.length-a.length),c=[],u=0;u<s;u++)c[u]="$"+u;if(o=Function("binder","return function ("+function(e){for(var t="",r=0;r<e.length;r+=1)t+=e[r],r+1<e.length&&(t+=",");return t}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,n(a,arguments));return Object(t)===t?t:this}return i.apply(e,n(a,arguments))})),i.prototype){var l=function(){};l.prototype=i.prototype,o.prototype=new l,l.prototype=null}return o}},6743:function(e,t,r){"use strict";var n=r(9353);e.exports=Function.prototype.bind||n},453:function(e,t,r){"use strict";var n,i=r(9383),o=r(1237),a=r(9290),s=r(9538),c=r(8068),u=r(9675),l=r(5345),p=Function,d=function(e){try{return p('"use strict"; return ('+e+").constructor;")()}catch(e){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(e){h=null}var f=function(){throw new u},m=h?function(){try{return f}catch(e){try{return h(arguments,"callee").get}catch(e){return f}}}():f,g=r(4039)(),y=r(24)(),v=Object.getPrototypeOf||(y?function(e){return e.__proto__}:null),b={},E="undefined"!=typeof Uint8Array&&v?v(Uint8Array):n,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":g&&v?v([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&v?v(v([][Symbol.iterator]())):n,"%JSON%":"object"==("undefined"==typeof JSON?"undefined":D(JSON))?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&v?v((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&v?v((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&v?v(""[Symbol.iterator]()):n,"%Symbol%":g?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":m,"%TypedArray%":E,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(v)try{null.error}catch(e){var A=v(v(e));w["%Error.prototype%"]=A}var x=function e(t){var r;if("%AsyncFunction%"===t)r=d("async function () {}");else if("%GeneratorFunction%"===t)r=d("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=d("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&v&&(r=v(i.prototype))}return w[t]=r,r},S={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=r(6743),k=r(9957),I=_.call(Function.call,Array.prototype.concat),T=_.call(Function.apply,Array.prototype.splice),C=_.call(Function.call,String.prototype.replace),O=_.call(Function.call,String.prototype.slice),N=_.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,L=function(e,t){var r,n=e;if(k(S,n)&&(n="%"+(r=S[n])[0]+"%"),k(w,n)){var i=w[n];if(i===b&&(i=x(n)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===N(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=O(e,0,1),r=O(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return C(e,R,(function(e,t,r,i){n[n.length]=r?C(i,P,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=L("%"+n+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(n=l[0],T(r,I([0,1],l)));for(var p=1,d=!0;p<r.length;p+=1){var f=r[p],m=O(f,0,1),g=O(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new c("property names with quotes must have matching quotes");if("constructor"!==f&&d||(s=!0),k(w,o="%"+(n+="."+f)+"%"))a=w[o];else if(null!=a){if(!(f in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(h&&p+1>=r.length){var y=h(a,f);a=(d=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:a[f]}else d=k(a,f),a=a[f];d&&!s&&(w[o]=a)}}return a}},5795:function(e,t,r){"use strict";var n=r(453)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},5884:function(e){"use strict";e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:process.argv,r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return-1!==n&&(-1===i||n<i)}},592:function(e,t,r){"use strict";var n=r(655),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},24:function(e){"use strict";var t={__proto__:null,foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof r)}},4039:function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(1333);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==D(n("foo"))&&"symbol"==D(Symbol("bar"))&&i()}},1333:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==D(Symbol.iterator))return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},9957:function(e,t,r){"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(6743);e.exports=o.call(n,i)},2771:function(e,t,r){"use strict";var n,i=r(6330)("http-errors"),o=r(7270),a=r(2403),s=r(2017),c=r(6963);function u(e){return Number(String(e).charAt(0)+"00")}function l(e,t){var r=Object.getOwnPropertyDescriptor(e,"name");r&&r.configurable&&(r.value=t,Object.defineProperty(e,"name",r))}function p(e){return"Error"!==e.substr(-5)?e+"Error":e}e.exports=function e(){for(var t,r,n=500,o={},s=0;s<arguments.length;s++){var c=arguments[s],l=D(c);if("object"===l&&c instanceof Error)n=(t=c).status||t.statusCode||n;else if("number"===l&&0===s)n=c;else if("string"===l)r=c;else{if("object"!==l)throw new TypeError("argument #"+(s+1)+" unsupported type "+l);o=c}}"number"==typeof n&&(n<400||n>=600)&&i("non-error status code; use only 4xx or 5xx status codes"),("number"!=typeof n||!a.message[n]&&(n<400||n>=600))&&(n=500);var p=e[n]||e[u(n)];for(var d in t||(t=p?new p(r):new Error(r||a.message[n]),Error.captureStackTrace(t,e)),p&&t instanceof p&&t.status===n||(t.expose=n<500,t.status=t.statusCode=n),o)"status"!==d&&"statusCode"!==d&&(t[d]=o[d]);return t},e.exports.HttpError=function(){function e(){throw new TypeError("cannot construct abstract class")}return s(e,Error),e}(),e.exports.isHttpError=(n=e.exports.HttpError,function(e){return!(!e||"object"!=D(e))&&(e instanceof n||e instanceof Error&&"boolean"==typeof e.expose&&"number"==typeof e.statusCode&&e.status===e.statusCode)}),function(e,t,r){t.forEach((function(t){var n,i=c(a.message[t]);switch(u(t)){case 400:n=function(e,t,r){var n=p(t);function i(e){var t=null!=e?e:a.message[r],s=new Error(t);return Error.captureStackTrace(s,i),o(s,i.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:t,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),s}return s(i,e),l(i,n),i.prototype.status=r,i.prototype.statusCode=r,i.prototype.expose=!0,i}(r,i,t);break;case 500:n=function(e,t,r){var n=p(t);function i(e){var t=null!=e?e:a.message[r],s=new Error(t);return Error.captureStackTrace(s,i),o(s,i.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:t,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),s}return s(i,e),l(i,n),i.prototype.status=r,i.prototype.statusCode=r,i.prototype.expose=!1,i}(r,i,t)}n&&(e[t]=n,e[i]=n)}))}(e.exports,a.codes,e.exports.HttpError)},7161:function(e,t,r){"use strict";var n=r(4774).Buffer;t._dbcs=l;for(var i=-1,o=-2,a=-10,s=-1e3,c=new Array(256),u=0;u<256;u++)c[u]=i;function l(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var r=e.table();this.decodeTables=[],this.decodeTables[0]=c.slice(0),this.decodeTableSeq=[];for(var n=0;n<r.length;n++)this._addDecodeChunk(r[n]);this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var a={};if(e.encodeSkipVals)for(n=0;n<e.encodeSkipVals.length;n++){var u=e.encodeSkipVals[n];if("number"==typeof u)a[u]=!0;else for(var l=u.from;l<=u.to;l++)a[l]=!0}if(this._fillEncodeTable(0,0,a),e.encodeAdd)for(var p in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,p)&&this._setEncodeChar(p.charCodeAt(0),e.encodeAdd[p]);if(this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===i&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===i&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof e.gb18030){this.gb18030=e.gb18030();var d=this.decodeTables.length,h=this.decodeTables[d]=c.slice(0),f=this.decodeTables.length,m=this.decodeTables[f]=c.slice(0);for(n=129;n<=254;n++){var g=s-this.decodeTables[0][n],y=this.decodeTables[g];for(l=48;l<=57;l++)y[l]=s-d}for(n=129;n<=254;n++)h[n]=s-f;for(n=48;n<=57;n++)m[n]=o}}function p(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function d(e,t){this.nodeIdx=0,this.prevBuf=n.alloc(0),this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function h(e,t){if(e[0]>t)return-1;for(var r=0,n=e.length;r<n-1;){var i=r+Math.floor((n-r+1)/2);e[i]<=t?r=i:n=i}return r}l.prototype.encoder=p,l.prototype.decoder=d,l.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>=8)t.push(255&e);0==t.length&&t.push(0);for(var r=this.decodeTables[0],n=t.length-1;n>0;n--){var o=r[t[n]];if(o==i)r[t[n]]=s-this.decodeTables.length,this.decodeTables.push(r=c.slice(0));else{if(!(o<=s))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));r=this.decodeTables[s-o]}}return r},l.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),r=this._getDecodeTrieNode(t);t&=255;for(var n=1;n<e.length;n++){var i=e[n];if("string"==typeof i)for(var o=0;o<i.length;){var s=i.charCodeAt(o++);if(55296<=s&&s<56320){var c=i.charCodeAt(o++);if(!(56320<=c&&c<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);r[t++]=65536+1024*(s-55296)+(c-56320)}else if(4080<s&&s<=4095){for(var u=4095-s+2,l=[],p=0;p<u;p++)l.push(i.charCodeAt(o++));r[t++]=a-this.decodeTableSeq.length,this.decodeTableSeq.push(l)}else r[t++]=s}else{if("number"!=typeof i)throw new Error("Incorrect type '"+D(i)+"' given in "+this.encodingName+" at chunk "+e[0]);var d=r[t-1]+1;for(o=0;o<i;o++)r[t++]=d++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},l.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=c.slice(0)),this.encodeTable[t]},l.prototype._setEncodeChar=function(e,t){var r=this._getEncodeBucket(e),n=255&e;r[n]<=a?this.encodeTableSeq[a-r[n]][-1]=t:r[n]==i&&(r[n]=t)},l.prototype._setEncodeSequence=function(e,t){var r,n=e[0],o=this._getEncodeBucket(n),s=255&n;o[s]<=a?r=this.encodeTableSeq[a-o[s]]:(r={},o[s]!==i&&(r[-1]=o[s]),o[s]=a-this.encodeTableSeq.length,this.encodeTableSeq.push(r));for(var c=1;c<e.length-1;c++){var u=r[n];"object"==D(u)?r=u:(r=r[n]={},void 0!==u&&(r[-1]=u))}r[n=e[e.length-1]]=t},l.prototype._fillEncodeTable=function(e,t,r){for(var n=this.decodeTables[e],i=0;i<256;i++){var o=n[i],c=t+i;r[c]||(o>=0?this._setEncodeChar(o,c):o<=s?this._fillEncodeTable(s-o,c<<8,r):o<=a&&this._setEncodeSequence(this.decodeTableSeq[a-o],c))}},p.prototype.write=function(e){for(var t=n.alloc(e.length*(this.gb18030?4:3)),r=this.leadSurrogate,o=this.seqObj,s=-1,c=0,u=0;;){if(-1===s){if(c==e.length)break;var l=e.charCodeAt(c++)}else l=s,s=-1;if(55296<=l&&l<57344)if(l<56320){if(-1===r){r=l;continue}r=l,l=i}else-1!==r?(l=65536+1024*(r-55296)+(l-56320),r=-1):l=i;else-1!==r&&(s=l,l=i,r=-1);var p=i;if(void 0!==o&&l!=i){var d=o[l];if("object"==D(d)){o=d;continue}"number"==typeof d?p=d:null==d&&void 0!==(d=o[-1])&&(p=d,s=l),o=void 0}else if(l>=0){var f=this.encodeTable[l>>8];if(void 0!==f&&(p=f[255&l]),p<=a){o=this.encodeTableSeq[a-p];continue}if(p==i&&this.gb18030){var m=h(this.gb18030.uChars,l);if(-1!=m){p=this.gb18030.gbChars[m]+(l-this.gb18030.uChars[m]),t[u++]=129+Math.floor(p/12600),p%=12600,t[u++]=48+Math.floor(p/1260),p%=1260,t[u++]=129+Math.floor(p/10),p%=10,t[u++]=48+p;continue}}}p===i&&(p=this.defaultCharSingleByte),p<256?t[u++]=p:p<65536?(t[u++]=p>>8,t[u++]=255&p):(t[u++]=p>>16,t[u++]=p>>8&255,t[u++]=255&p)}return this.seqObj=o,this.leadSurrogate=r,t.slice(0,u)},p.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=n.alloc(10),t=0;if(this.seqObj){var r=this.seqObj[-1];void 0!==r&&(r<256?e[t++]=r:(e[t++]=r>>8,e[t++]=255&r)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},p.prototype.findIdx=h,d.prototype.write=function(e){var t=n.alloc(2*e.length),r=this.nodeIdx,c=this.prevBuf,u=this.prevBuf.length,l=-this.prevBuf.length;u>0&&(c=n.concat([c,e.slice(0,10)]));for(var p=0,d=0;p<e.length;p++){var f,m=p>=0?e[p]:c[p+u];if((f=this.decodeTables[r][m])>=0);else if(f===i)p=l,f=this.defaultCharUnicode.charCodeAt(0);else if(f===o){var g=l>=0?e.slice(l,p+1):c.slice(l+u,p+1+u),y=12600*(g[0]-129)+1260*(g[1]-48)+10*(g[2]-129)+(g[3]-48),v=h(this.gb18030.gbChars,y);f=this.gb18030.uChars[v]+y-this.gb18030.gbChars[v]}else{if(f<=s){r=s-f;continue}if(!(f<=a))throw new Error("iconv-lite internal error: invalid decoding table value "+f+" at "+r+"/"+m);for(var b=this.decodeTableSeq[a-f],E=0;E<b.length-1;E++)f=b[E],t[d++]=255&f,t[d++]=f>>8;f=b[b.length-1]}if(f>65535){f-=65536;var w=55296+Math.floor(f/1024);t[d++]=255&w,t[d++]=w>>8,f=56320+f%1024}t[d++]=255&f,t[d++]=f>>8,r=0,l=p+1}return this.nodeIdx=r,this.prevBuf=l>=0?e.slice(l):c.slice(l+u),t.slice(0,d).toString("ucs2")},d.prototype.end=function(){for(var e="";this.prevBuf.length>0;){e+=this.defaultCharUnicode;var t=this.prevBuf.slice(1);this.prevBuf=n.alloc(0),this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.nodeIdx=0,e}},7003:function(e,t,r){"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return r(679)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return r(6406)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return r(4488)}},gbk:{type:"_dbcs",table:function(){return r(4488).concat(r(5914))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return r(4488).concat(r(5914))},gb18030:function(){return r(9129)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return r(1166)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return r(2324)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return r(2324).concat(r(3267))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},3336:function(e,t,r){"use strict";for(var n=[r(2911),r(5082),r(1336),r(3770),r(8698),r(7446),r(7161),r(7003)],i=0;i<n.length;i++){var o=n[i];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}},2911:function(e,t,r){"use strict";var n=r(4774).Buffer;function i(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=c:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=u,""!==n.from("eda0bdedb2a9","hex").toString()&&(this.decoder=l,this.defaultCharUnicode=t.defaultCharUnicode))}e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=s,i.prototype.decoder=a;var o=r(3193).StringDecoder;function a(e,t){o.call(this,t.enc)}function s(e,t){this.enc=t.enc}function c(e,t){this.prevStr=""}function u(e,t){}function l(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}o.prototype.end||(o.prototype.end=function(){}),a.prototype=o.prototype,s.prototype.write=function(e){return n.from(e,this.enc)},s.prototype.end=function(){},c.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),n.from(e,"base64")},c.prototype.end=function(){return n.from(this.prevStr,"base64")},u.prototype.write=function(e){for(var t=n.alloc(3*e.length),r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[r++]=o:o<2048?(t[r++]=192+(o>>>6),t[r++]=128+(63&o)):(t[r++]=224+(o>>>12),t[r++]=128+(o>>>6&63),t[r++]=128+(63&o))}return t.slice(0,r)},u.prototype.end=function(){},l.prototype.write=function(e){for(var t=this.acc,r=this.contBytes,n=this.accBytes,i="",o=0;o<e.length;o++){var a=e[o];128!=(192&a)?(r>0&&(i+=this.defaultCharUnicode,r=0),a<128?i+=String.fromCharCode(a):a<224?(t=31&a,r=1,n=1):a<240?(t=15&a,r=2,n=1):i+=this.defaultCharUnicode):r>0?(t=t<<6|63&a,n++,0==--r&&(i+=2===n&&t<128&&t>0||3===n&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=r,this.accBytes=n,i},l.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},3770:function(e,t,r){"use strict";var n=r(4774).Buffer;function i(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var r="",i=0;i<128;i++)r+=String.fromCharCode(i);e.chars=r+e.chars}this.decodeBuf=n.from(e.chars,"ucs2");var o=n.alloc(65536,t.defaultCharSingleByte.charCodeAt(0));for(i=0;i<e.chars.length;i++)o[e.chars.charCodeAt(i)]=i;this.encodeBuf=o}function o(e,t){this.encodeBuf=t.encodeBuf}function a(e,t){this.decodeBuf=t.decodeBuf}t._sbcs=i,i.prototype.encoder=o,i.prototype.decoder=a,o.prototype.write=function(e){for(var t=n.alloc(e.length),r=0;r<e.length;r++)t[r]=this.encodeBuf[e.charCodeAt(r)];return t},o.prototype.end=function(){},a.prototype.write=function(e){for(var t=this.decodeBuf,r=n.alloc(2*e.length),i=0,o=0,a=0;a<e.length;a++)i=2*e[a],r[o=2*a]=t[i],r[o+1]=t[i+1];return r.toString("ucs2")},a.prototype.end=function(){}},7446:function(e){"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},8698:function(e){"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},5082:function(e,t,r){"use strict";var n=r(4774).Buffer;function i(){}function o(){}function a(){this.overflowByte=-1}function s(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function u(e,t){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=e||{},this.iconv=t.iconv}function l(e,t){var r=t||"utf-16le";if(e.length>=2)if(254==e[0]&&255==e[1])r="utf-16be";else if(255==e[0]&&254==e[1])r="utf-16le";else{for(var n=0,i=0,o=Math.min(e.length-e.length%2,64),a=0;a<o;a+=2)0===e[a]&&0!==e[a+1]&&i++,0!==e[a]&&0===e[a+1]&&n++;i>n?r="utf-16be":i<n&&(r="utf-16le")}return r}t.utf16be=i,i.prototype.encoder=o,i.prototype.decoder=a,i.prototype.bomAware=!0,o.prototype.write=function(e){for(var t=n.from(e,"ucs2"),r=0;r<t.length;r+=2){var i=t[r];t[r]=t[r+1],t[r+1]=i}return t},o.prototype.end=function(){},a.prototype.write=function(e){if(0==e.length)return"";var t=n.alloc(e.length+1),r=0,i=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,r=1,i=2);r<e.length-1;r+=2,i+=2)t[i]=e[r+1],t[i+1]=e[r];return this.overflowByte=r==e.length-1?e[e.length-1]:-1,t.slice(0,i).toString("ucs2")},a.prototype.end=function(){},t.utf16=s,s.prototype.encoder=c,s.prototype.decoder=u,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},u.prototype.write=function(e){if(!this.decoder){if(this.initialBytes.push(e),this.initialBytesLen+=e.length,this.initialBytesLen<16)return"";var t=l(e=n.concat(this.initialBytes),this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(e)},u.prototype.end=function(){if(!this.decoder){var e=n.concat(this.initialBytes),t=l(e,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);var r=this.decoder.write(e),i=this.decoder.end();return i?r+i:r}return this.decoder.end()}},1336:function(e,t,r){"use strict";var n=r(4774).Buffer;function i(e,t){this.iconv=t}t.utf7=i,t.unicode11utf7="utf7",i.prototype.encoder=a,i.prototype.decoder=s,i.prototype.bomAware=!0;var o=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function a(e,t){this.iconv=t.iconv}function s(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){return n.from(e.replace(o,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},a.prototype.end=function(){};for(var c=/[A-Za-z0-9\/+]/,u=[],l=0;l<256;l++)u[l]=c.test(String.fromCharCode(l));var p="+".charCodeAt(0),d="-".charCodeAt(0),h="&".charCodeAt(0);function f(e,t){this.iconv=t}function m(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=n.alloc(6),this.base64AccumIdx=0}function g(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(e){for(var t="",r=0,i=this.inBase64,o=this.base64Accum,a=0;a<e.length;a++)if(i){if(!u[e[a]]){if(a==r&&e[a]==d)t+="+";else{var s=o+e.slice(r,a).toString();t+=this.iconv.decode(n.from(s,"base64"),"utf16-be")}e[a]!=d&&a--,r=a+1,i=!1,o=""}}else e[a]==p&&(t+=this.iconv.decode(e.slice(r,a),"ascii"),r=a+1,i=!0);if(i){var c=(s=o+e.slice(r).toString()).length-s.length%8;o=s.slice(c),s=s.slice(0,c),t+=this.iconv.decode(n.from(s,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=i,this.base64Accum=o,t},s.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=f,f.prototype.encoder=m,f.prototype.decoder=g,f.prototype.bomAware=!0,m.prototype.write=function(e){for(var t=this.inBase64,r=this.base64Accum,i=this.base64AccumIdx,o=n.alloc(5*e.length+10),a=0,s=0;s<e.length;s++){var c=e.charCodeAt(s);32<=c&&c<=126?(t&&(i>0&&(a+=o.write(r.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),a),i=0),o[a++]=d,t=!1),t||(o[a++]=c,c===h&&(o[a++]=d))):(t||(o[a++]=h,t=!0),t&&(r[i++]=c>>8,r[i++]=255&c,i==r.length&&(a+=o.write(r.toString("base64").replace(/\//g,","),a),i=0)))}return this.inBase64=t,this.base64AccumIdx=i,o.slice(0,a)},m.prototype.end=function(){var e=n.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=d,this.inBase64=!1),e.slice(0,t)};var y=u.slice();y[",".charCodeAt(0)]=!0,g.prototype.write=function(e){for(var t="",r=0,i=this.inBase64,o=this.base64Accum,a=0;a<e.length;a++)if(i){if(!y[e[a]]){if(a==r&&e[a]==d)t+="&";else{var s=o+e.slice(r,a).toString().replace(/,/g,"/");t+=this.iconv.decode(n.from(s,"base64"),"utf16-be")}e[a]!=d&&a--,r=a+1,i=!1,o=""}}else e[a]==h&&(t+=this.iconv.decode(e.slice(r,a),"ascii"),r=a+1,i=!0);if(i){var c=(s=o+e.slice(r).toString().replace(/,/g,"/")).length-s.length%8;o=s.slice(c),s=s.slice(0,c),t+=this.iconv.decode(n.from(s,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=i,this.base64Accum=o,t},g.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},557:function(e,t){"use strict";function r(e,t){this.encoder=e,this.addBOM=!0}function n(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=r,r.prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},r.prototype.end=function(){return this.encoder.end()},t.StripBOM=n,n.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\ufeff"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},n.prototype.end=function(){return this.decoder.end()}},4802:function(e,t,r){"use strict";var n=r(181).Buffer;e.exports=function(e){var t=void 0;e.supportsNodeEncodingsExtension=!(n.from||new n(0)instanceof Uint8Array),e.extendNodeEncodings=function(){if(!t){if(t={},!e.supportsNodeEncodingsExtension)return console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node"),void console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility");var i={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};n.isNativeEncoding=function(e){return e&&i[e.toLowerCase()]};var o=r(181).SlowBuffer;if(t.SlowBufferToString=o.prototype.toString,o.prototype.toString=function(r,i,o){return r=String(r||"utf8").toLowerCase(),n.isNativeEncoding(r)?t.SlowBufferToString.call(this,r,i,o):(void 0===i&&(i=0),void 0===o&&(o=this.length),e.decode(this.slice(i,o),r))},t.SlowBufferWrite=o.prototype.write,o.prototype.write=function(r,i,o,a){if(isFinite(i))isFinite(o)||(a=o,o=void 0);else{var s=a;a=i,i=o,o=s}i=+i||0;var c=this.length-i;if(o?(o=+o)>c&&(o=c):o=c,a=String(a||"utf8").toLowerCase(),n.isNativeEncoding(a))return t.SlowBufferWrite.call(this,r,i,o,a);if(r.length>0&&(o<0||i<0))throw new RangeError("attempt to write beyond buffer bounds");var u=e.encode(r,a);return u.length<o&&(o=u.length),u.copy(this,i,0,o),o},t.BufferIsEncoding=n.isEncoding,n.isEncoding=function(t){return n.isNativeEncoding(t)||e.encodingExists(t)},t.BufferByteLength=n.byteLength,n.byteLength=o.byteLength=function(r,i){return i=String(i||"utf8").toLowerCase(),n.isNativeEncoding(i)?t.BufferByteLength.call(this,r,i):e.encode(r,i).length},t.BufferToString=n.prototype.toString,n.prototype.toString=function(r,i,o){return r=String(r||"utf8").toLowerCase(),n.isNativeEncoding(r)?t.BufferToString.call(this,r,i,o):(void 0===i&&(i=0),void 0===o&&(o=this.length),e.decode(this.slice(i,o),r))},t.BufferWrite=n.prototype.write,n.prototype.write=function(r,i,o,a){var s=i,c=o,u=a;if(isFinite(i))isFinite(o)||(a=o,o=void 0);else{var l=a;a=i,i=o,o=l}if(a=String(a||"utf8").toLowerCase(),n.isNativeEncoding(a))return t.BufferWrite.call(this,r,s,c,u);i=+i||0;var p=this.length-i;if(o?(o=+o)>p&&(o=p):o=p,r.length>0&&(o<0||i<0))throw new RangeError("attempt to write beyond buffer bounds");var d=e.encode(r,a);return d.length<o&&(o=d.length),d.copy(this,i,0,o),o},e.supportsStreams){var a=r(2203).Readable;t.ReadableSetEncoding=a.prototype.setEncoding,a.prototype.setEncoding=function(t,r){this._readableState.decoder=e.getDecoder(t,r),this._readableState.encoding=t},a.prototype.collect=e._collect}}},e.undoExtendNodeEncodings=function(){if(e.supportsNodeEncodingsExtension){if(!t)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete n.isNativeEncoding;var i=r(181).SlowBuffer;if(i.prototype.toString=t.SlowBufferToString,i.prototype.write=t.SlowBufferWrite,n.isEncoding=t.BufferIsEncoding,n.byteLength=t.BufferByteLength,n.prototype.toString=t.BufferToString,n.prototype.write=t.BufferWrite,e.supportsStreams){var o=r(2203).Readable;o.prototype.setEncoding=t.ReadableSetEncoding,delete o.prototype.collect}t=void 0}}}},5249:function(e,t,r){"use strict";var n=r(4774).Buffer,i=r(557),o=e.exports;o.encodings=null,o.defaultCharUnicode="",o.defaultCharSingleByte="?",o.encode=function(e,t,r){e=""+(e||"");var i=o.getEncoder(t,r),a=i.write(e),s=i.end();return s&&s.length>0?n.concat([a,s]):a},o.decode=function(e,t,r){"string"==typeof e&&(o.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),o.skipDecodeWarning=!0),e=n.from(""+(e||""),"binary"));var i=o.getDecoder(t,r),a=i.write(e),s=i.end();return s?a+s:a},o.encodingExists=function(e){try{return o.getCodec(e),!0}catch(e){return!1}},o.toEncoding=o.encode,o.fromEncoding=o.decode,o._codecDataCache={},o.getCodec=function(e){o.encodings||(o.encodings=r(3336));for(var t=o._canonicalizeEncoding(e),n={};;){var i=o._codecDataCache[t];if(i)return i;var a=o.encodings[t];switch(D(a)){case"string":t=a;break;case"object":for(var s in a)n[s]=a[s];n.encodingName||(n.encodingName=t),t=a.type;break;case"function":return n.encodingName||(n.encodingName=t),i=new a(n,o),o._codecDataCache[n.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},o._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},o.getEncoder=function(e,t){var r=o.getCodec(e),n=new r.encoder(t,r);return r.bomAware&&t&&t.addBOM&&(n=new i.PrependBOM(n,t)),n},o.getDecoder=function(e,t){var r=o.getCodec(e),n=new r.decoder(t,r);return!r.bomAware||t&&!1===t.stripBOM||(n=new i.StripBOM(n,t)),n};var a="undefined"!=typeof process&&process.versions&&process.versions.node;if(a){var s=a.split(".").map(Number);(s[0]>0||s[1]>=10)&&r(7792)(o),r(4802)(o)}},7792:function(e,t,r){"use strict";var n=r(181).Buffer,i=r(2203).Transform;function o(e,t){this.conv=e,(t=t||{}).decodeStrings=!1,i.call(this,t)}function a(e,t){this.conv=e,(t=t||{}).encoding=this.encoding="utf8",i.call(this,t)}e.exports=function(e){e.encodeStream=function(t,r){return new o(e.getEncoder(t,r),r)},e.decodeStream=function(t,r){return new a(e.getDecoder(t,r),r)},e.supportsStreams=!0,e.IconvLiteEncoderStream=o,e.IconvLiteDecoderStream=a,e._collect=a.prototype.collect},o.prototype=Object.create(i.prototype,{constructor:{value:o}}),o.prototype._transform=function(e,t,r){if("string"!=typeof e)return r(new Error("Iconv encoding stream needs strings as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n),r()}catch(e){r(e)}},o.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},o.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",(function(e){t.push(e)})),this.on("end",(function(){e(null,n.concat(t))})),this},a.prototype=Object.create(i.prototype,{constructor:{value:a}}),a.prototype._transform=function(e,t,r){if(!n.isBuffer(e))return r(new Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i,this.encoding),r()}catch(e){r(e)}},a.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},a.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",(function(e){t+=e})),this.on("end",(function(){e(null,t)})),this}},2017:function(e,t,r){try{var n=r(9023);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(6698)}},6698:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},640:function(e,t,r){e=r.nmd(e),function(){var t,r,n,i,o,a,s,c;r={},null!==e&&e.exports?e.exports=r:this.ipaddr=r,s=function(e,t,r,n){var i,o;if(e.length!==t.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(i=0;n>0;){if((o=r-n)<0&&(o=0),e[i]>>o!=t[i]>>o)return!1;n-=r,i+=1}return!0},r.subnetMatch=function(e,t,r){var n,i,o,a,s;for(o in null==r&&(r="unicast"),t)for(!(a=t[o])[0]||a[0]instanceof Array||(a=[a]),n=0,i=a.length;n<i;n++)if(s=a[n],e.kind()===s[0].kind()&&e.match.apply(e,s))return o;return r},r.IPv4=function(){function e(e){var t,r,n;if(4!==e.length)throw new Error("ipaddr: ipv4 octet count should be 4");for(t=0,r=e.length;t<r;t++)if(!(0<=(n=e[t])&&n<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=e}return e.prototype.kind=function(){return"ipv4"},e.prototype.toString=function(){return this.octets.join(".")},e.prototype.toNormalizedString=function(){return this.toString()},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.match=function(e,t){var r;if(void 0===t&&(e=(r=e)[0],t=r[1]),"ipv4"!==e.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return s(this.octets,e.octets,8,t)},e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]]},e.prototype.range=function(){return r.subnetMatch(this,this.SpecialRanges)},e.prototype.toIPv4MappedAddress=function(){return r.IPv6.parse("::ffff:"+this.toString())},e.prototype.prefixLengthFromSubnetMask=function(){var e,t,r,n,i,o,a;for(a={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},e=0,i=!1,t=r=3;r>=0;t=r+=-1){if(!((n=this.octets[t])in a))return null;if(o=a[n],i&&0!==o)return null;8!==o&&(i=!0),e+=o}return 32-e},e}(),n="(0?\\d+|0x[a-f0-9]+)",i={fourOctet:new RegExp("^"+n+"\\."+n+"\\."+n+"\\."+n+"$","i"),longValue:new RegExp("^"+n+"$","i")},r.IPv4.parser=function(e){var t,r,n,o,a;if(r=function(e){return"0"===e[0]&&"x"!==e[1]?parseInt(e,8):parseInt(e)},t=e.match(i.fourOctet))return function(){var e,i,o,a;for(a=[],e=0,i=(o=t.slice(1,6)).length;e<i;e++)n=o[e],a.push(r(n));return a}();if(t=e.match(i.longValue)){if((a=r(t[1]))>4294967295||a<0)throw new Error("ipaddr: address outside defined range");return function(){var e,t;for(t=[],o=e=0;e<=24;o=e+=8)t.push(a>>o&255);return t}().reverse()}return null},r.IPv6=function(){function e(e,t){var r,n,i,o,a,s;if(16===e.length)for(this.parts=[],r=n=0;n<=14;r=n+=2)this.parts.push(e[r]<<8|e[r+1]);else{if(8!==e.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=e}for(i=0,o=(s=this.parts).length;i<o;i++)if(!(0<=(a=s[i])&&a<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits");t&&(this.zoneId=t)}return e.prototype.kind=function(){return"ipv6"},e.prototype.toString=function(){return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/,"::")},e.prototype.toRFC5952String=function(){var e,t,r,n,i;for(n=/((^|:)(0(:|$)){2,})/g,i=this.toNormalizedString(),e=0,t=-1;r=n.exec(i);)r[0].length>t&&(e=r.index,t=r[0].length);return t<0?i:i.substring(0,e)+"::"+i.substring(e+t)},e.prototype.toByteArray=function(){var e,t,r,n,i;for(e=[],t=0,r=(i=this.parts).length;t<r;t++)n=i[t],e.push(n>>8),e.push(255&n);return e},e.prototype.toNormalizedString=function(){var e,t,r;return e=function(){var e,r,n,i;for(i=[],e=0,r=(n=this.parts).length;e<r;e++)t=n[e],i.push(t.toString(16));return i}.call(this).join(":"),r="",this.zoneId&&(r="%"+this.zoneId),e+r},e.prototype.toFixedLengthString=function(){var e,t,r;return e=function(){var e,r,n,i;for(i=[],e=0,r=(n=this.parts).length;e<r;e++)t=n[e],i.push(t.toString(16).padStart(4,"0"));return i}.call(this).join(":"),r="",this.zoneId&&(r="%"+this.zoneId),e+r},e.prototype.match=function(e,t){var r;if(void 0===t&&(e=(r=e)[0],t=r[1]),"ipv6"!==e.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return s(this.parts,e.parts,16,t)},e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],"6to4":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],reserved:[[new e([8193,3512,0,0,0,0,0,0]),32]]},e.prototype.range=function(){return r.subnetMatch(this,this.SpecialRanges)},e.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},e.prototype.toIPv4Address=function(){var e,t,n;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return e=(n=this.parts.slice(-2))[0],t=n[1],new r.IPv4([e>>8,255&e,t>>8,255&t])},e.prototype.prefixLengthFromSubnetMask=function(){var e,t,r,n,i,o,a;for(a={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0},e=0,i=!1,t=r=7;r>=0;t=r+=-1){if(!((n=this.parts[t])in a))return null;if(o=a[n],i&&0!==o)return null;16!==o&&(i=!0),e+=o}return 128-e},e}(),o="(?:[0-9a-f]+::?)+",c="%[0-9a-z]{1,}",a={zoneIndex:new RegExp(c,"i"),native:new RegExp("^(::)?("+o+")?([0-9a-f]+)?(::)?("+c+")?$","i"),transitional:new RegExp("^((?:"+o+")|(?:::)(?:"+o+")?)"+n+"\\."+n+"\\."+n+"\\."+n+"("+c+")?$","i")},t=function(e,t){var r,n,i,o,s,c;if(e.indexOf("::")!==e.lastIndexOf("::"))return null;for((c=(e.match(a.zoneIndex)||[])[0])&&(c=c.substring(1),e=e.replace(/%.+$/,"")),r=0,n=-1;(n=e.indexOf(":",n+1))>=0;)r++;if("::"===e.substr(0,2)&&r--,"::"===e.substr(-2,2)&&r--,r>t)return null;for(s=t-r,o=":";s--;)o+="0:";return":"===(e=e.replace("::",o))[0]&&(e=e.slice(1)),":"===e[e.length-1]&&(e=e.slice(0,-1)),{parts:t=function(){var t,r,n,o;for(o=[],t=0,r=(n=e.split(":")).length;t<r;t++)i=n[t],o.push(parseInt(i,16));return o}(),zoneId:c}},r.IPv6.parser=function(e){var r,n,i,o,s,c,u;if(a.native.test(e))return t(e,8);if((o=e.match(a.transitional))&&(u=o[6]||"",(r=t(o[1].slice(0,-1)+u,6)).parts)){for(n=0,i=(c=[parseInt(o[2]),parseInt(o[3]),parseInt(o[4]),parseInt(o[5])]).length;n<i;n++)if(!(0<=(s=c[n])&&s<=255))return null;return r.parts.push(c[0]<<8|c[1]),r.parts.push(c[2]<<8|c[3]),{parts:r.parts,zoneId:r.zoneId}}return null},r.IPv4.isIPv4=r.IPv6.isIPv6=function(e){return null!==this.parser(e)},r.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},r.IPv4.isValidFourPartDecimal=function(e){return!(!r.IPv4.isValid(e)||!e.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},r.IPv6.isValid=function(e){var t;if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{return new this((t=this.parser(e)).parts,t.zoneId),!0}catch(e){return!1}},r.IPv4.parse=function(e){var t;if(null===(t=this.parser(e)))throw new Error("ipaddr: string is not formatted like ip address");return new this(t)},r.IPv6.parse=function(e){var t;if(null===(t=this.parser(e)).parts)throw new Error("ipaddr: string is not formatted like ip address");return new this(t.parts,t.zoneId)},r.IPv4.parseCIDR=function(e){var t,r,n;if((r=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(r[2]))>=0&&t<=32)return n=[this.parse(r[1]),t],Object.defineProperty(n,"toString",{value:function(){return this.join("/")}}),n;throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},r.IPv4.subnetMaskFromPrefixLength=function(e){var t,r,n;if((e=parseInt(e))<0||e>32)throw new Error("ipaddr: invalid IPv4 prefix length");for(n=[0,0,0,0],r=0,t=Math.floor(e/8);r<t;)n[r]=255,r++;return t<4&&(n[t]=Math.pow(2,e%8)-1<<8-e%8),new this(n)},r.IPv4.broadcastAddressFromCIDR=function(e){var t,r,n,i,o;try{for(n=(t=this.parseCIDR(e))[0].toByteArray(),o=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),i=[],r=0;r<4;)i.push(parseInt(n[r],10)|255^parseInt(o[r],10)),r++;return new this(i)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},r.IPv4.networkAddressFromCIDR=function(e){var t,r,n,i,o;try{for(n=(t=this.parseCIDR(e))[0].toByteArray(),o=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),i=[],r=0;r<4;)i.push(parseInt(n[r],10)&parseInt(o[r],10)),r++;return new this(i)}catch(e){throw new Error("ipaddr: the address does not have IPv4 CIDR format")}},r.IPv6.parseCIDR=function(e){var t,r,n;if((r=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(r[2]))>=0&&t<=128)return n=[this.parse(r[1]),t],Object.defineProperty(n,"toString",{value:function(){return this.join("/")}}),n;throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},r.isValid=function(e){return r.IPv6.isValid(e)||r.IPv4.isValid(e)},r.parse=function(e){if(r.IPv6.isValid(e))return r.IPv6.parse(e);if(r.IPv4.isValid(e))return r.IPv4.parse(e);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},r.parseCIDR=function(e){try{return r.IPv6.parseCIDR(e)}catch(t){try{return r.IPv4.parseCIDR(e)}catch(e){throw new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},r.fromByteArray=function(e){var t;if(4===(t=e.length))return new r.IPv4(e);if(16===t)return new r.IPv6(e);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},r.process=function(e){var t;return"ipv6"===(t=this.parse(e)).kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t}}.call(this)},4796:function(e,t,r){"use strict";var n,i=r(9896);e.exports=function(){return void 0===n&&(n=function(){try{return i.statSync("/.dockerenv"),!0}catch(e){return!1}}()||function(){try{return i.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){return!1}}()),n}},9870:function(e,t,r){"use strict";var n=r(857),i=r(9896),o=r(4796),a=function(){if("linux"!==process.platform)return!1;if(n.release().toLowerCase().includes("microsoft"))return!o();try{return!!i.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!o()}catch(e){return!1}};process.env.__IS_WSL_TEST__?e.exports=a:e.exports=a()},7260:function(e,t,r){var n=r(652);e.exports=function(e,t){t=t||{};var r=n.decode(e,t);if(!r)return null;var i=r.payload;if("string"==typeof i)try{var o=JSON.parse(i);null!==o&&"object"==D(o)&&(i=o)}catch(e){}return!0===t.complete?{header:r.header,payload:i,signature:r.signature}:i}},4040:function(e,t,r){e.exports={decode:r(7260),verify:r(1691),sign:r(7651),JsonWebTokenError:r(1741),NotBeforeError:r(3726),TokenExpiredError:r(8980)}},1741:function(e){var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};(t.prototype=Object.create(Error.prototype)).constructor=t,e.exports=t},3726:function(e,t,r){var n=r(1741),i=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};(i.prototype=Object.create(n.prototype)).constructor=i,e.exports=i},8980:function(e,t,r){var n=r(1741),i=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};(i.prototype=Object.create(n.prototype)).constructor=i,e.exports=i},1977:function(e,t,r){var n=r(9589);e.exports=n.satisfies(process.version,">=15.7.0")},4977:function(e,t,r){var n=r(9589);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},4623:function(e,t,r){var n=r(9589);e.exports=n.satisfies(process.version,">=16.9.0")},855:function(e,t,r){var n=r(1880);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var i=n(e);if(void 0===i)return;return Math.floor(r+i/1e3)}return"number"==typeof e?r+e:void 0}},7019:function(e,t,r){var n=r(1977),i=r(4623),o={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},a={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(e&&t){var r=t.asymmetricKeyType;if(r){var s=o[r];if(!s)throw new Error('Unknown key type "'.concat(r,'".'));if(!s.includes(e))throw new Error('"alg" parameter for "'.concat(r,'" key type must be one of: ').concat(s.join(", "),"."));if(n)switch(r){case"ec":var c=t.asymmetricKeyDetails.namedCurve,u=a[e];if(c!==u)throw new Error('"alg" parameter "'.concat(e,'" requires curve "').concat(u,'".'));break;case"rsa-pss":if(i){var l=parseInt(e.slice(-3),10),p=t.asymmetricKeyDetails,d=p.hashAlgorithm,h=p.mgf1HashAlgorithm,f=p.saltLength;if(d!=="sha".concat(l)||h!==d)throw new Error('Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" '.concat(e,"."));if(void 0!==f&&f>l>>3)throw new Error('Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" '.concat(e,"."))}}}}}},6942:function(e,t,r){var n=r(1045),i=r(2861).Buffer,o=r(6982),a=r(2010),s=r(9023),c="secret must be a string or buffer",u="key must be a string or a buffer",l="key must be a string, a buffer or an object",p="function"==typeof o.createPublicKey;function d(e){if(!i.isBuffer(e)&&"string"!=typeof e){if(!p)throw g(u);if("object"!=D(e))throw g(u);if("string"!=typeof e.type)throw g(u);if("string"!=typeof e.asymmetricKeyType)throw g(u);if("function"!=typeof e.export)throw g(u)}}function h(e){if(!i.isBuffer(e)&&"string"!=typeof e&&"object"!=D(e))throw g(l)}function f(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function g(e){var t=[].slice.call(arguments,1),r=s.format.bind(s,e).apply(null,t);return new TypeError(r)}function y(e){var t;return t=e,i.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function v(e){return function(t,r){!function(e){if(!i.isBuffer(e)){if("string"==typeof e)return e;if(!p)throw g(c);if("object"!=D(e))throw g(c);if("secret"!==e.type)throw g(c);if("function"!=typeof e.export)throw g(c)}}(r),t=y(t);var n=o.createHmac("sha"+e,r);return f((n.update(t),n.digest("base64")))}}function b(e){return function(t,r,o){var a=v(e)(t,o);return n(i.from(r),i.from(a))}}function E(e){return function(t,r){h(r),t=y(t);var n=o.createSign("RSA-SHA"+e);return f((n.update(t),n.sign(r,"base64")))}}function w(e){return function(t,r,n){d(n),t=y(t),r=m(r);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify(n,r,"base64")}}function A(e){return function(t,r){h(r),t=y(t);var n=o.createSign("RSA-SHA"+e);return f((n.update(t),n.sign({key:r,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function x(e){return function(t,r,n){d(n),t=y(t),r=m(r);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:n,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function S(e){var t=E(e);return function(){var r=t.apply(null,arguments);return a.derToJose(r,"ES"+e)}}function _(e){var t=w(e);return function(r,n,i){return n=a.joseToDer(n,"ES"+e).toString("base64"),t(r,n,i)}}function k(){return function(){return""}}function I(){return function(e,t){return""===t}}p&&(u+=" or a KeyObject",c+="or a KeyObject"),e.exports=function(e){var t={hs:v,rs:E,ps:A,es:S,none:k},r={hs:b,rs:w,ps:x,es:_,none:I},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw g('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(n[1]||n[3]).toLowerCase(),o=n[2];return{sign:t[i](o),verify:r[i](o)}}},652:function(e,t,r){var n=r(6456),i=r(3440);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=i.verify,t.decode=i.decode,t.isValid=i.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new i(e)}},2103:function(e,t,r){var n=r(2861).Buffer,i=r(2203);function o(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==D(e))return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+D(e)+")")}r(9023).inherits(o,i),o.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},o.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=o},6456:function(e,t,r){var n=r(2861).Buffer,i=r(2103),o=r(6942),a=r(2203),s=r(7894),c=r(9023);function u(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,i=e.encoding,a=o(t.alg),l=function(e,t,r){r=r||"utf8";var n=u(s(e),"binary"),i=u(s(t),r);return c.format("%s.%s",n,i)}(t,r,i),p=a.sign(l,n);return c.format("%s.%s",l,p)}function p(e){var t=e.secret||e.privateKey||e.key,r=new i(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new i(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}c.inherits(p,a),p.prototype.sign=function(){try{var e=l({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},p.sign=l,e.exports=p},7894:function(e,t,r){var n=r(181).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},3440:function(e,t,r){var n=r(2861).Buffer,i=r(2103),o=r(6942),a=r(2203),s=r(7894),c=r(9023),u=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function l(e){var t=e.split(".",1)[0];return function(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(e){return}}(n.from(t,"base64").toString("binary"))}function p(e){return e.split(".")[2]}function d(e){return u.test(e)&&!!l(e)}function h(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var i=p(e=s(e)),a=function(e){return e.split(".",2).join(".")}(e);return o(t).verify(a,i,r)}function f(e,t){if(t=t||{},!d(e=s(e)))return null;var r=l(e);if(!r)return null;var i=function(e,t){t=t||"utf8";var r=e.split(".")[1];return n.from(r,"base64").toString(t)}(e);return("JWT"===r.typ||t.json)&&(i=JSON.parse(i,t.encoding)),{header:r,payload:i,signature:p(e)}}function m(e){var t=(e=e||{}).secret||e.publicKey||e.key,r=new i(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new i(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}c.inherits(m,a),m.prototype.verify=function(){try{var e=h(this.signature.buffer,this.algorithm,this.key.buffer),t=f(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=f,m.isValid=d,m.verify=h,e.exports=m},1880:function(e){var t=1e3,r=60*t,n=60*r,i=24*n,o=7*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,s){s=s||{};var c,u,l=D(e);if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(c=e,(u=Math.abs(c))>=i?a(c,u,i,"day"):u>=n?a(c,u,n,"hour"):u>=r?a(c,u,r,"minute"):u>=t?a(c,u,t,"second"):c+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},7651:function(e,t,r){var n=r(855),i=r(4977),o=r(7019),a=r(652),s=r(6111),c=r(7914),u=r(8928),l=r(3639),p=r(9001),d=r(5931),h=r(7083),f=r(6982),m=f.KeyObject,g=f.createSecretKey,y=f.createPrivateKey,v=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&v.splice(3,0,"PS256","PS384","PS512");var b={expiresIn:{isValid:function(e){return u(e)||d(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return u(e)||d(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return d(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:s.bind(null,v),message:'"algorithm" must be a valid string enum value'},header:{isValid:p,message:'"header" must be an object'},encoding:{isValid:d,message:'"encoding" must be a string'},issuer:{isValid:d,message:'"issuer" must be a string'},subject:{isValid:d,message:'"subject" must be a string'},jwtid:{isValid:d,message:'"jwtid" must be a string'},noTimestamp:{isValid:c,message:'"noTimestamp" must be a boolean'},keyid:{isValid:d,message:'"keyid" must be a string'},mutatePayload:{isValid:c,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:c,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:c,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},E={iat:{isValid:l,message:'"iat" should be a number of seconds'},exp:{isValid:l,message:'"exp" should be a number of seconds'},nbf:{isValid:l,message:'"nbf" should be a number of seconds'}};function w(e,t,r,n){if(!p(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach((function(i){var o=e[i];if(o){if(!o.isValid(r[i]))throw new Error(o.message)}else if(!t)throw new Error('"'+i+'" is not allowed in "'+n+'"')}))}var A={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},x=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,i){"function"==typeof r?(i=r,r={}):r=r||{};var s="object"==D(e)&&!Buffer.isBuffer(e),c=Object.assign({alg:r.algorithm||"HS256",typ:s?"JWT":void 0,kid:r.keyid},r.header);function u(e){if(i)return i(e);throw e}if(!t&&"none"!==r.algorithm)return u(new Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof m))try{t=y(t)}catch(e){try{t=g("string"==typeof t?Buffer.from(t):t)}catch(e){return u(new Error("secretOrPrivateKey is not valid key material"))}}if(c.alg.startsWith("HS")&&"secret"!==t.type)return u(new Error("secretOrPrivateKey must be a symmetric key when using ".concat(c.alg)));if(/^(?:RS|PS|ES)/.test(c.alg)){if("private"!==t.type)return u(new Error("secretOrPrivateKey must be an asymmetric key when using ".concat(c.alg)));if(!r.allowInsecureKeySizes&&!c.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return u(new Error("secretOrPrivateKey has a minimum key size of 2048 bits for ".concat(c.alg)))}if(void 0===e)return u(new Error("payload is required"));if(s){try{!function(e){w(E,!0,e,"payload")}(e)}catch(e){return u(e)}r.mutatePayload||(e=Object.assign({},e))}else{var l=x.filter((function(e){return void 0!==r[e]}));if(l.length>0)return u(new Error("invalid "+l.join(",")+" option for "+D(e)+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return u(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return u(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(e){w(b,!1,e,"options")}(r)}catch(e){return u(e)}if(!r.allowInvalidAsymmetricKeyTypes)try{o(c.alg,t)}catch(e){return u(e)}var p=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:s&&(e.iat=p),void 0!==r.notBefore){try{e.nbf=n(r.notBefore,p)}catch(e){return u(e)}if(void 0===e.nbf)return u(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==D(e)){try{e.exp=n(r.expiresIn,p)}catch(e){return u(e)}if(void 0===e.exp)return u(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(A).forEach((function(t){var n=A[t];if(void 0!==r[t]){if(void 0!==e[n])return u(new Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=r[t]}}));var d=r.encoding||"utf8";if("function"!=typeof i){var f=a.sign({header:c,payload:e,secret:t,encoding:d});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(c.alg)&&f.length<256)throw new Error("secretOrPrivateKey has a minimum key size of 2048 bits for ".concat(c.alg));return f}i=i&&h(i),a.createSign({header:c,privateKey:t,payload:e,encoding:d}).once("error",i).once("done",(function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(c.alg)&&e.length<256)return i(new Error("secretOrPrivateKey has a minimum key size of 2048 bits for ".concat(c.alg)));i(null,e)}))}},1691:function(e,t,r){var n=r(1741),i=r(3726),o=r(8980),a=r(7260),s=r(855),c=r(7019),u=r(4977),l=r(652),p=r(6982),d=p.KeyObject,h=p.createSecretKey,f=p.createPublicKey,m=["RS256","RS384","RS512"],g=["ES256","ES384","ES512"],y=["RS256","RS384","RS512"],v=["HS256","HS384","HS512"];u&&(m.splice(m.length,0,"PS256","PS384","PS512"),y.splice(y.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,u){var p;if("function"!=typeof r||u||(u=r,r={}),r||(r={}),r=Object.assign({},r),p=u||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return p(new n("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return p(new n("nonce must be a non-empty string"));if(void 0!==r.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof r.allowInvalidAsymmetricKeyTypes)return p(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));var b=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return p(new n("jwt must be provided"));if("string"!=typeof e)return p(new n("jwt must be a string"));var E,w=e.split(".");if(3!==w.length)return p(new n("jwt malformed"));try{E=a(e,{complete:!0})}catch(e){return p(e)}if(!E)return p(new n("invalid token"));var A,x=E.header;if("function"==typeof t){if(!u)return p(new n("verify must be called asynchronous if secret or public key is provided as a callback"));A=t}else A=function(e,r){return r(null,t)};return A(x,(function(t,a){if(t)return p(new n("error in secret or public key callback: "+t.message));var u,A=""!==w[2].trim();if(!A&&a)return p(new n("jwt signature is required"));if(A&&!a)return p(new n("secret or public key must be provided"));if(!A&&!r.algorithms)return p(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=a&&!(a instanceof d))try{a=f(a)}catch(e){try{a=h("string"==typeof a?Buffer.from(a):a)}catch(e){return p(new n("secretOrPublicKey is not valid key material"))}}if(r.algorithms||("secret"===a.type?r.algorithms=v:["rsa","rsa-pss"].includes(a.asymmetricKeyType)?r.algorithms=y:"ec"===a.asymmetricKeyType?r.algorithms=g:r.algorithms=m),-1===r.algorithms.indexOf(E.header.alg))return p(new n("invalid algorithm"));if(x.alg.startsWith("HS")&&"secret"!==a.type)return p(new n("secretOrPublicKey must be a symmetric key when using ".concat(x.alg)));if(/^(?:RS|PS|ES)/.test(x.alg)&&"public"!==a.type)return p(new n("secretOrPublicKey must be an asymmetric key when using ".concat(x.alg)));if(!r.allowInvalidAsymmetricKeyTypes)try{c(x.alg,a)}catch(e){return p(e)}try{u=l.verify(e,E.header.alg,a)}catch(e){return p(e)}if(!u)return p(new n("invalid signature"));var S=E.payload;if(void 0!==S.nbf&&!r.ignoreNotBefore){if("number"!=typeof S.nbf)return p(new n("invalid nbf value"));if(S.nbf>b+(r.clockTolerance||0))return p(new i("jwt not active",new Date(1e3*S.nbf)))}if(void 0!==S.exp&&!r.ignoreExpiration){if("number"!=typeof S.exp)return p(new n("invalid exp value"));if(b>=S.exp+(r.clockTolerance||0))return p(new o("jwt expired",new Date(1e3*S.exp)))}if(r.audience){var _=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(S.aud)?S.aud:[S.aud]).some((function(e){return _.some((function(t){return t instanceof RegExp?t.test(e):t===e}))})))return p(new n("jwt audience invalid. expected: "+_.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&S.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(S.iss)))return p(new n("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&S.sub!==r.subject)return p(new n("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&S.jti!==r.jwtid)return p(new n("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&S.nonce!==r.nonce)return p(new n("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof S.iat)return p(new n("iat required when maxAge is specified"));var k=s(r.maxAge,S.iat);if(void 0===k)return p(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(b>=k+(r.clockTolerance||0))return p(new o("maxAge exceeded",new Date(1e3*k)))}if(!0===r.complete){var I=E.signature;return p(null,{header:x,payload:S,signature:I})}return p(null,S)}))}},6111:function(e){var t=1/0,r=9007199254740991,n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=/^(?:0|[1-9]\d*)$/,c=parseInt;function u(e){return e!=e}var l,p,d=Object.prototype,h=d.hasOwnProperty,f=d.toString,m=d.propertyIsEnumerable,g=(l=Object.keys,p=Object,function(e){return l(p(e))}),y=Math.max;function v(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||s.test(e))&&e>-1&&e%1==0&&e<t}var b=Array.isArray;function E(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=w(e)?f.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function w(e){var t=D(e);return!!e&&("object"==t||"function"==t)}function A(e){return!!e&&"object"==D(e)}e.exports=function(e,r,s,l){var p;e=E(e)?e:(p=e)?function(e,t){return function(t){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=(o=t[r],e[o]);var o;return i}(t)}(p,function(e){return E(e)?function(e){var t=b(e)||function(e){return function(e){return A(e)&&E(e)}(e)&&h.call(e,"callee")&&(!m.call(e,"callee")||"[object Arguments]"==f.call(e))}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],r=t.length,n=!!r;for(var i in e)!h.call(e,i)||n&&("length"==i||v(i,r))||t.push(i);return t}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||d))return g(e);var t,r,n=[];for(var i in Object(e))h.call(e,i)&&"constructor"!=i&&n.push(i);return n}(e)}(p)):[],s=s&&!l?function(e){var r=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==D(e)||A(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var r=o.test(e);return r||a.test(e)?c(e.slice(2),r?2:8):i.test(e)?NaN:+e}(e))===t||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),s=r%1;return r==r?s?r-s:r:0}(s):0;var x=e.length;return s<0&&(s=y(x+s,0)),function(e){return"string"==typeof e||!b(e)&&A(e)&&"[object String]"==f.call(e)}(e)?s<=x&&e.indexOf(r,s)>-1:!!x&&function(e,t,r){if(t!=t)return function(e,t,r){for(var n=e.length,i=r+-1;++i<n;)if(t(e[i],i,e))return i;return-1}(e,u,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,r,s)>-1}},7914:function(e){var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||function(e){return!!e&&"object"==D(e)}(e)&&"[object Boolean]"==t.call(e)}},8928:function(e){var t=1/0,r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s=Object.prototype.toString;function c(e){var t=D(e);return!!e&&("object"==t||"function"==t)}e.exports=function(e){return"number"==typeof e&&e==function(e){var u=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==D(e)||function(e){return!!e&&"object"==D(e)}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var u=i.test(e);return u||o.test(e)?a(e.slice(2),u?2:8):n.test(e)?NaN:+e}(e))===t||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),l=u%1;return u==u?l?u-l:u:0}(e)}},3639:function(e){var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||function(e){return!!e&&"object"==D(e)}(e)&&"[object Number]"==t.call(e)}},9001:function(e){var t,r,n=Function.prototype,i=Object.prototype,o=n.toString,a=i.hasOwnProperty,s=o.call(Object),c=i.toString,u=(t=Object.getPrototypeOf,r=Object,function(e){return t(r(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==D(e)}(e)||"[object Object]"!=c.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=u(e);if(null===t)return!0;var r=a.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&o.call(r)==s}},5931:function(e){var t=Object.prototype.toString,r=Array.isArray;e.exports=function(e){return"string"==typeof e||!r(e)&&function(e){return!!e&&"object"==D(e)}(e)&&"[object String]"==t.call(e)}},7083:function(e){var t=1/0,r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s=Object.prototype.toString;function c(e){var t=D(e);return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,u){var l;if("function"!=typeof u)throw new TypeError("Expected a function");return e=function(e){var u=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==D(e)||function(e){return!!e&&"object"==D(e)}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var u=i.test(e);return u||o.test(e)?a(e.slice(2),u?2:8):n.test(e)?NaN:+e}(e))===t||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),l=u%1;return u==u?l?u-l:u:0}(e),function(){return--e>0&&(l=u.apply(this,arguments)),e<=1&&(u=void 0),l}}(2,e)}},864:function(e,t){var r=/; *([!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) *= *("(?:[ !\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u0020-\u007e])*"|[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+) */g,n=/^[\u0020-\u007e\u0080-\u00ff]+$/,i=/^[!#$%&'\*\+\-\.0-9A-Z\^_`a-z\|~]+$/,o=/\\([\u0000-\u007f])/g,a=/([\\"])/g,s=/^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/,c=/^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/,u=/^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;function l(e){var t=String(e);if(i.test(t))return t;if(t.length>0&&!n.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(a,"\\$1")+'"'}t.format=function(e){if(!e||"object"!=D(e))throw new TypeError("argument obj is required");var t=e.parameters,r=e.subtype,n=e.suffix,o=e.type;if(!o||!c.test(o))throw new TypeError("invalid type");if(!r||!s.test(r))throw new TypeError("invalid subtype");var a=o+"/"+r;if(n){if(!c.test(n))throw new TypeError("invalid suffix");a+="+"+n}if(t&&"object"==D(t))for(var u,p=Object.keys(t).sort(),d=0;d<p.length;d++){if(u=p[d],!i.test(u))throw new TypeError("invalid parameter name");a+="; "+u+"="+l(t[u])}return a},t.parse=function(e){if(!e)throw new TypeError("argument string is required");if("object"==D(e)&&(e=function(e){return"function"==typeof e.getHeader?e.getHeader("content-type"):"object"==D(e.headers)?e.headers&&e.headers["content-type"]:void 0}(e)),"string"!=typeof e)throw new TypeError("argument string is required to be a string");var t,n,i,a=e.indexOf(";"),s=function(e){var t=u.exec(e.toLowerCase());if(!t)throw new TypeError("invalid media type");var r,n=t[1],i=t[2],o=i.lastIndexOf("+");return-1!==o&&(r=i.substr(o+1),i=i.substr(0,o)),{type:n,subtype:i,suffix:r}}(-1!==a?e.substr(0,a):e),c={};for(r.lastIndex=a;n=r.exec(e);){if(n.index!==a)throw new TypeError("invalid parameter format");a+=n[0].length,t=n[1].toLowerCase(),'"'===(i=n[2])[0]&&(i=i.substr(1,i.length-2).replace(o,"$1")),c[t]=i}if(-1!==a&&a!==e.length)throw new TypeError("invalid parameter format");return s.parameters=c,s}},2800:function(e){"use strict";e.exports=function(e,r,n){if(!e)throw new TypeError("argument dest is required");if(!r)throw new TypeError("argument src is required");return void 0===n&&(n=!0),Object.getOwnPropertyNames(r).forEach((function(i){if(n||!t.call(e,i)){var o=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(e,i,o)}})),e};var t=Object.prototype.hasOwnProperty},4761:function(e,t,r){"use strict";var n=r(8611);e.exports=n.METHODS&&n.METHODS.map((function(e){return e.toLowerCase()}))||["get","post","put","head","delete","options","trace","copy","lock","mkcol","move","purge","propfind","proppatch","unlock","report","mkactivity","checkout","merge","m-search","notify","subscribe","unsubscribe","patch","search","connect"]},7598:function(e,t,r){e.exports=r(1813)},6049:function(e,t,r){"use strict";var n,i,o,a=r(7598),s=r(6928).extname,c=/^\s*([^;\s]*)(?:;|\s|$)/,u=/^text\//i;function l(e){if(!e||"string"!=typeof e)return!1;var t=c.exec(e),r=t&&a[t[1].toLowerCase()];return r&&r.charset?r.charset:!(!t||!u.test(t[1]))&&"UTF-8"}t.charset=l,t.charsets={lookup:l},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var r=-1===e.indexOf("/")?t.lookup(e):e;if(!r)return!1;if(-1===r.indexOf("charset")){var n=t.charset(r);n&&(r+="; charset="+n.toLowerCase())}return r},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var r=c.exec(e),n=r&&t.extensions[r[1].toLowerCase()];return!(!n||!n.length)&&n[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var r=s("x."+e).toLowerCase().substr(1);return r&&t.types[r]||!1},t.types=Object.create(null),n=t.extensions,i=t.types,o=["nginx","apache",void 0,"iana"],Object.keys(a).forEach((function(e){var t=a[e],r=t.extensions;if(r&&r.length){n[e]=r;for(var s=0;s<r.length;s++){var c=r[s];if(i[c]){var u=o.indexOf(a[i[c]].source),l=o.indexOf(t.source);if("application/octet-stream"!==i[c]&&(u>l||u===l&&"application/"===i[c].substr(0,12)))continue}i[c]=e}}}))},4849:function(e,t,r){r(6928);var n=r(9896);function i(){this.types=Object.create(null),this.extensions=Object.create(null)}i.prototype.define=function(e){for(var t in e){for(var r=e[t],n=0;n<r.length;n++)process.env.DEBUG_MIME&&this.types[r[n]]&&console.warn((this._loading||"define()").replace(/.*\//,""),'changes "'+r[n]+'" extension type from '+this.types[r[n]]+" to "+t),this.types[r[n]]=t;this.extensions[t]||(this.extensions[t]=r[0])}},i.prototype.load=function(e){this._loading=e;var t={};n.readFileSync(e,"ascii").split(/[\r\n]+/).forEach((function(e){var r=e.replace(/\s*#.*|^\s*|\s*$/g,"").split(/\s+/);t[r.shift()]=r})),this.define(t),this._loading=null},i.prototype.lookup=function(e,t){var r=e.replace(/^.*[\.\/\\]/,"").toLowerCase();return this.types[r]||t||this.default_type},i.prototype.extension=function(e){var t=e.match(/^\s*([^;\s]*)(?:;|\s|$)/)[1].toLowerCase();return this.extensions[t]};var o=new i;o.define(r(9415)),o.default_type=o.lookup("bin"),o.Mime=i,o.charsets={lookup:function(e,t){return/^text\/|^application\/(javascript|json)/.test(e)?"UTF-8":t}},e.exports=o},9505:function(e,t,r){var n=r(6928),i=r(9896),o=parseInt("0777",8);function a(e,t,r,s){"function"==typeof t?(r=t,t={}):t&&"object"==D(t)||(t={mode:t});var c=t.mode,u=t.fs||i;void 0===c&&(c=o&~process.umask()),s||(s=null);var l=r||function(){};e=n.resolve(e),u.mkdir(e,c,(function(r){if(!r)return l(null,s=s||e);"ENOENT"===r.code?a(n.dirname(e),t,(function(r,n){r?l(r,n):a(e,t,l,n)})):u.stat(e,(function(e,t){e||!t.isDirectory()?l(r,s):l(null,s)}))}))}e.exports=a.mkdirp=a.mkdirP=a,a.sync=function e(t,r,a){r&&"object"==D(r)||(r={mode:r});var s=r.mode,c=r.fs||i;void 0===s&&(s=o&~process.umask()),a||(a=null),t=n.resolve(t);try{c.mkdirSync(t,s),a=a||t}catch(i){if("ENOENT"===i.code)a=e(n.dirname(t),r,a),e(t,r,a);else{var u;try{u=c.statSync(t)}catch(e){throw i}if(!u.isDirectory())throw i}}return a}},1099:function(e,t,r){var n=r(6928),i=r(9896),o=parseInt("0777",8);function a(e,t,r,s){"function"==typeof t?(r=t,t={}):t&&"object"==D(t)||(t={mode:t});var c=t.mode,u=t.fs||i;void 0===c&&(c=o),s||(s=null);var l=r||function(){};e=n.resolve(e),u.mkdir(e,c,(function(r){if(!r)return l(null,s=s||e);if("ENOENT"===r.code){if(n.dirname(e)===e)return l(r);a(n.dirname(e),t,(function(r,n){r?l(r,n):a(e,t,l,n)}))}else u.stat(e,(function(e,t){e||!t.isDirectory()?l(r,s):l(null,s)}))}))}e.exports=a.mkdirp=a.mkdirP=a,a.sync=function e(t,r,a){r&&"object"==D(r)||(r={mode:r});var s=r.mode,c=r.fs||i;void 0===s&&(s=o),a||(a=null),t=n.resolve(t);try{c.mkdirSync(t,s),a=a||t}catch(i){if("ENOENT"===i.code)a=e(n.dirname(t),r,a),e(t,r,a);else{var u;try{u=c.statSync(t)}catch(e){throw i}if(!u.isDirectory())throw i}}return a}},6585:function(e){var t=1e3,r=60*t,n=60*r,i=24*n;function o(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,a){a=a||{};var s,c=D(e);if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(o){var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===c&&!1===isNaN(e))return a.long?o(s=e,i,"day")||o(s,n,"hour")||o(s,r,"minute")||o(s,t,"second")||s+" ms":function(e){return e>=i?Math.round(e/i)+"d":e>=n?Math.round(e/n)+"h":e>=r?Math.round(e/r)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1297:function(e,t,r){"use strict";var n=r(5097),i=r(8736),o=r(6199),a=r(4493);function s(e){if(!(this instanceof s))return new s(e);this.request=e}e.exports=s,e.exports.Negotiator=s,s.prototype.charset=function(e){var t=this.charsets(e);return t&&t[0]},s.prototype.charsets=function(e){return n(this.request.headers["accept-charset"],e)},s.prototype.encoding=function(e){var t=this.encodings(e);return t&&t[0]},s.prototype.encodings=function(e){return i(this.request.headers["accept-encoding"],e)},s.prototype.language=function(e){var t=this.languages(e);return t&&t[0]},s.prototype.languages=function(e){return o(this.request.headers["accept-language"],e)},s.prototype.mediaType=function(e){var t=this.mediaTypes(e);return t&&t[0]},s.prototype.mediaTypes=function(e){return a(this.request.headers.accept,e)},s.prototype.preferredCharset=s.prototype.charset,s.prototype.preferredCharsets=s.prototype.charsets,s.prototype.preferredEncoding=s.prototype.encoding,s.prototype.preferredEncodings=s.prototype.encodings,s.prototype.preferredLanguage=s.prototype.language,s.prototype.preferredLanguages=s.prototype.languages,s.prototype.preferredMediaType=s.prototype.mediaType,s.prototype.preferredMediaTypes=s.prototype.mediaTypes},5097:function(e){"use strict";e.exports=i,e.exports.preferredCharsets=i;var t=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function r(e,r){var n=t.exec(e);if(!n)return null;var i=n[1],o=1;if(n[2])for(var a=n[2].split(";"),s=0;s<a.length;s++){var c=a[s].trim().split("=");if("q"===c[0]){o=parseFloat(c[1]);break}}return{charset:i,q:o,i:r}}function n(e,t,r){var n=0;if(t.charset.toLowerCase()===e.toLowerCase())n|=1;else if("*"!==t.charset)return null;return{i:r,o:t.i,q:t.q,s:n}}function i(e,t){var i=function(e){for(var t=e.split(","),n=0,i=0;n<t.length;n++){var o=r(t[n].trim(),n);o&&(t[i++]=o)}return t.length=i,t}(void 0===e?"*":e||"");if(!t)return i.filter(s).sort(o).map(a);var c=t.map((function(e,t){return function(e,t,r){for(var i={o:-1,q:0,s:0},o=0;o<t.length;o++){var a=n(e,t[o],r);a&&(i.s-a.s||i.q-a.q||i.o-a.o)<0&&(i=a)}return i}(e,i,t)}));return c.filter(s).sort(o).map((function(e){return t[c.indexOf(e)]}))}function o(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function a(e){return e.charset}function s(e){return e.q>0}},8736:function(e){"use strict";e.exports=i,e.exports.preferredEncodings=i;var t=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function r(e,r){var n=t.exec(e);if(!n)return null;var i=n[1],o=1;if(n[2])for(var a=n[2].split(";"),s=0;s<a.length;s++){var c=a[s].trim().split("=");if("q"===c[0]){o=parseFloat(c[1]);break}}return{encoding:i,q:o,i:r}}function n(e,t,r){var n=0;if(t.encoding.toLowerCase()===e.toLowerCase())n|=1;else if("*"!==t.encoding)return null;return{i:r,o:t.i,q:t.q,s:n}}function i(e,t){var i=function(e){for(var t=e.split(","),i=!1,o=1,a=0,s=0;a<t.length;a++){var c=r(t[a].trim(),a);c&&(t[s++]=c,i=i||n("identity",c),o=Math.min(o,c.q||1))}return i||(t[s++]={encoding:"identity",q:o,i:a}),t.length=s,t}(e||"");if(!t)return i.filter(s).sort(o).map(a);var c=t.map((function(e,t){return function(e,t,r){for(var i={o:-1,q:0,s:0},o=0;o<t.length;o++){var a=n(e,t[o],r);a&&(i.s-a.s||i.q-a.q||i.o-a.o)<0&&(i=a)}return i}(e,i,t)}));return c.filter(s).sort(o).map((function(e){return t[c.indexOf(e)]}))}function o(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function a(e){return e.encoding}function s(e){return e.q>0}},6199:function(e){"use strict";e.exports=i,e.exports.preferredLanguages=i;var t=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function r(e,r){var n=t.exec(e);if(!n)return null;var i=n[1],o=n[2],a=i;o&&(a+="-"+o);var s=1;if(n[3])for(var c=n[3].split(";"),u=0;u<c.length;u++){var l=c[u].split("=");"q"===l[0]&&(s=parseFloat(l[1]))}return{prefix:i,suffix:o,q:s,i:r,full:a}}function n(e,t,n){var i=r(e);if(!i)return null;var o=0;if(t.full.toLowerCase()===i.full.toLowerCase())o|=4;else if(t.prefix.toLowerCase()===i.full.toLowerCase())o|=2;else if(t.full.toLowerCase()===i.prefix.toLowerCase())o|=1;else if("*"!==t.full)return null;return{i:n,o:t.i,q:t.q,s:o}}function i(e,t){var i=function(e){for(var t=e.split(","),n=0,i=0;n<t.length;n++){var o=r(t[n].trim(),n);o&&(t[i++]=o)}return t.length=i,t}(void 0===e?"*":e||"");if(!t)return i.filter(s).sort(o).map(a);var c=t.map((function(e,t){return function(e,t,r){for(var i={o:-1,q:0,s:0},o=0;o<t.length;o++){var a=n(e,t[o],r);a&&(i.s-a.s||i.q-a.q||i.o-a.o)<0&&(i=a)}return i}(e,i,t)}));return c.filter(s).sort(o).map((function(e){return t[c.indexOf(e)]}))}function o(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function a(e){return e.full}function s(e){return e.q>0}},4493:function(e){"use strict";e.exports=i,e.exports.preferredMediaTypes=i;var t=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function r(e,r){var n=t.exec(e);if(!n)return null;var i=Object.create(null),o=1,a=n[2],s=n[1];if(n[3])for(var l=function(e){for(var t=e.split(";"),r=1,n=0;r<t.length;r++)c(t[n])%2==0?t[++n]=t[r]:t[n]+=";"+t[r];for(t.length=n+1,r=0;r<t.length;r++)t[r]=t[r].trim();return t}(n[3]).map(u),p=0;p<l.length;p++){var d=l[p],h=d[0].toLowerCase(),f=d[1],m=f&&'"'===f[0]&&'"'===f[f.length-1]?f.substr(1,f.length-2):f;if("q"===h){o=parseFloat(m);break}i[h]=m}return{type:s,subtype:a,params:i,q:o,i:r}}function n(e,t,n){var i=r(e),o=0;if(!i)return null;if(t.type.toLowerCase()==i.type.toLowerCase())o|=4;else if("*"!=t.type)return null;if(t.subtype.toLowerCase()==i.subtype.toLowerCase())o|=2;else if("*"!=t.subtype)return null;var a=Object.keys(t.params);if(a.length>0){if(!a.every((function(e){return"*"==t.params[e]||(t.params[e]||"").toLowerCase()==(i.params[e]||"").toLowerCase()})))return null;o|=1}return{i:n,o:t.i,q:t.q,s:o}}function i(e,t){var i=function(e){for(var t=function(e){for(var t=e.split(","),r=1,n=0;r<t.length;r++)c(t[n])%2==0?t[++n]=t[r]:t[n]+=","+t[r];return t.length=n+1,t}(e),n=0,i=0;n<t.length;n++){var o=r(t[n].trim(),n);o&&(t[i++]=o)}return t.length=i,t}(void 0===e?"*/*":e||"");if(!t)return i.filter(s).sort(o).map(a);var u=t.map((function(e,t){return function(e,t,r){for(var i={o:-1,q:0,s:0},o=0;o<t.length;o++){var a=n(e,t[o],r);a&&(i.s-a.s||i.q-a.q||i.o-a.o)<0&&(i=a)}return i}(e,i,t)}));return u.filter(s).sort(o).map((function(e){return t[u.indexOf(e)]}))}function o(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function a(e){return e.type+"/"+e.subtype}function s(e){return e.q>0}function c(e){for(var t=0,r=0;-1!==(r=e.indexOf('"',r));)t++,r++;return t}function u(e){var t,r,n=e.indexOf("=");return-1===n?t=e:(t=e.substr(0,n),r=e.substr(n+1)),[t,r]}},5228:function(e){"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))r.call(o,u)&&(s[u]=o[u]);if(t){a=t(o);for(var l=0;l<a.length;l++)n.call(o,a[l])&&(s[a[l]]=o[a[l]])}}return s}},8859:function(e,t,r){var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&c&&"function"==typeof c.get?c.get:null,l=s&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,E=String.prototype.toUpperCase,w=String.prototype.toLowerCase,A=RegExp.prototype.test,x=Array.prototype.concat,S=Array.prototype.join,_=Array.prototype.slice,k=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,C="function"==typeof Symbol&&"symbol"==D(Symbol.iterator)?Symbol.prototype.toString:null,O="function"==typeof Symbol&&"object"==D(Symbol.iterator),N="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function L(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||A.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-k(-e):k(e);if(n!==e){var i=String(n),o=v.call(t,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var M=r(8093),q=M.custom,B=H(q)?q:null;function j(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function U(e){return b.call(String(e),/"/g,"&quot;")}function F(e){return!("[object Array]"!==K(e)||N&&"object"==D(e)&&N in e)}function z(e){return!("[object RegExp]"!==K(e)||N&&"object"==D(e)&&N in e)}function H(e){if(O)return e&&"object"==D(e)&&e instanceof Symbol;if("symbol"==D(e))return!0;if(!e||"object"!=D(e)||!C)return!1;try{return C.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,i){var s=r||{};if(G(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var c=!G(s,"customInspect")||s.customInspect;if("boolean"!=typeof c&&"symbol"!==c)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var m=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return W(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var E=String(t);return m?L(t,E):E}if("bigint"==typeof t){var A=String(t)+"n";return m?L(t,A):A}var k=void 0===s.depth?5:s.depth;if(void 0===n&&(n=0),n>=k&&k>0&&"object"==D(t))return F(t)?"[Array]":"[Object]";var T,q=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=S.call(Array(e.indent+1)," ")}return{base:r,prev:S.call(Array(t+1),r)}}(s,n);if(void 0===i)i=[];else if($(i,t)>=0)return"[Circular]";function Q(t,r,o){if(r&&(i=_.call(i)).push(r),o){var a={depth:s.depth};return G(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,n+1,i)}return e(t,s,n+1,i)}if("function"==typeof t&&!z(t)){var V=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),te=ee(t,Q);return"[Function"+(V?": "+V:" (anonymous)")+"]"+(te.length>0?" { "+S.call(te,", ")+" }":"")}if(H(t)){var re=O?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(t);return"object"!=D(t)||O?re:Y(re)}if((T=t)&&"object"==D(T)&&("undefined"!=typeof HTMLElement&&T instanceof HTMLElement||"string"==typeof T.nodeName&&"function"==typeof T.getAttribute)){for(var ne="<"+w.call(String(t.nodeName)),ie=t.attributes||[],oe=0;oe<ie.length;oe++)ne+=" "+ie[oe].name+"="+j(U(ie[oe].value),"double",s);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+"</"+w.call(String(t.nodeName))+">"}if(F(t)){if(0===t.length)return"[]";var ae=ee(t,Q);return q&&!function(e){for(var t=0;t<e.length;t++)if($(e[t],"\n")>=0)return!1;return!0}(ae)?"["+Z(ae,q)+"]":"[ "+S.call(ae,", ")+" ]"}if(function(e){return!("[object Error]"!==K(e)||N&&"object"==D(e)&&N in e)}(t)){var se=ee(t,Q);return"cause"in Error.prototype||!("cause"in t)||R.call(t,"cause")?0===se.length?"["+String(t)+"]":"{ ["+String(t)+"] "+S.call(se,", ")+" }":"{ ["+String(t)+"] "+S.call(x.call("[cause]: "+Q(t.cause),se),", ")+" }"}if("object"==D(t)&&c){if(B&&"function"==typeof t[B]&&M)return M(t,{depth:k-n});if("symbol"!==c&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=D(e))return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ce=[];return a&&a.call(t,(function(e,r){ce.push(Q(r,t,!0)+" => "+Q(e,t))})),J("Map",o.call(t),ce,q)}if(function(e){if(!u||!e||"object"!=D(e))return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ue=[];return l&&l.call(t,(function(e){ue.push(Q(e,t))})),J("Set",u.call(t),ue,q)}if(function(e){if(!p||!e||"object"!=D(e))return!1;try{p.call(e,p);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return X("WeakMap");if(function(e){if(!d||!e||"object"!=D(e))return!1;try{d.call(e,d);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return X("WeakSet");if(function(e){if(!h||!e||"object"!=D(e))return!1;try{return h.call(e),!0}catch(e){}return!1}(t))return X("WeakRef");if(function(e){return!("[object Number]"!==K(e)||N&&"object"==D(e)&&N in e)}(t))return Y(Q(Number(t)));if(function(e){if(!e||"object"!=D(e)||!I)return!1;try{return I.call(e),!0}catch(e){}return!1}(t))return Y(Q(I.call(t)));if(function(e){return!("[object Boolean]"!==K(e)||N&&"object"==D(e)&&N in e)}(t))return Y(f.call(t));if(function(e){return!("[object String]"!==K(e)||N&&"object"==D(e)&&N in e)}(t))return Y(Q(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||"undefined"!=typeof global&&t===global)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==K(e)||N&&"object"==D(e)&&N in e)}(t)&&!z(t)){var le=ee(t,Q),pe=P?P(t)===Object.prototype:t instanceof Object||t.constructor===Object,de=t instanceof Object?"":"null prototype",he=!pe&&N&&Object(t)===t&&N in t?v.call(K(t),8,-1):de?"Object":"",fe=(pe||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(he||de?"["+S.call(x.call([],he||[],de||[]),": ")+"] ":"");return 0===le.length?fe+"{}":q?fe+"{"+Z(le,q)+"}":fe+"{ "+S.call(le,", ")+" }"}return String(t)};var Q=Object.prototype.hasOwnProperty||function(e){return e in this};function G(e,t){return Q.call(e,t)}function K(e){return m.call(e)}function $(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function W(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return W(v.call(e,0,t.maxStringLength),t)+n}return j(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,V),"single",t)}function V(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+E.call(t.toString(16))}function Y(e){return"Object("+e+")"}function X(e){return e+" { ? }"}function J(e,t,r,n){return e+" ("+t+") {"+(n?Z(r,n):S.call(r,", "))+"}"}function Z(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+S.call(e,","+r)+"\n"+t.prev}function ee(e,t){var r=F(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=G(e,i)?t(e[i],e):""}var o,a="function"==typeof T?T(e):[];if(O){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var c in e)G(e,c)&&(r&&String(Number(c))===c&&c<e.length||O&&o["$"+c]instanceof Symbol||(A.call(/[^\w$]/,c)?n.push(t(c,e)+": "+t(e[c],e)):n.push(c+": "+t(e[c],e))));if("function"==typeof T)for(var u=0;u<a.length;u++)R.call(e,a[u])&&n.push("["+t(a[u])+"]: "+t(e[a[u]],e));return n}},8093:function(e,t,r){e.exports=r(9023).inspect},5649:function(e,t,r){"use strict";e.exports=function(e,t){return!1!==a(e)?(o(t,null,e),e):(function(e,t){var r=e.__onFinished;r&&r.queue||(r=e.__onFinished=function(e){function t(r){if(e.__onFinished===t&&(e.__onFinished=null),t.queue){var n=t.queue;t.queue=null;for(var i=0;i<n.length;i++)n[i](r,e)}}return t.queue=[],t}(e),function(e,t){var r,n,o=!1;function a(e){r.cancel(),n.cancel(),o=!0,t(e)}function s(t){e.removeListener("socket",s),o||r===n&&(n=i([[t,"error","close"]],a))}r=n=i([[e,"end","finish"]],a),e.socket?s(e.socket):(e.on("socket",s),void 0===e.socket&&function(e,t){var r=e.assignSocket;"function"==typeof r&&(e.assignSocket=function(e){r.call(this,e),t(e)})}(e,s))}(e,r)),r.queue.push(t)}(e,(r=t,n.AsyncResource&&(s=new n.AsyncResource(r.name||"bound-anonymous-fn")),s&&s.runInAsyncScope?s.runInAsyncScope.bind(s,r,null):r)),e);var r,s},e.exports.isFinished=a;var n=function(){try{return r(290)}catch(e){return{}}}(),i=r(4276),o="function"==typeof setImmediate?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function a(e){var t=e.socket;return"boolean"==typeof e.finished?Boolean(e.finished||t&&!t.writable):"boolean"==typeof e.complete?Boolean(e.upgrade||!t||!t.readable||e.complete&&!e.readable):void 0}},3519:function(e,t,r){var n=r(6587);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(i),e.exports.strict=n(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},721:function(e,t,r){var n,i=r(6928),o=r(5317),s=r(9896),c=s.promises,u=s.constants,l=r(9870),p=r(4796),d=r(9795),h=i.join(__dirname,"xdg-open"),g=process,y=g.platform,v=g.arch,b=function(){var e,t="/mnt/";return S(N().mark((function r(){var n,i,o,s;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=2;break}return r.abrupt("return",e);case 2:return n="/etc/wsl.conf",i=!1,r.prev=4,r.next=7,c.access(n,u.F_OK);case 7:i=!0,r.next=12;break;case 10:r.prev=10,r.t0=r.catch(4);case 12:if(i){r.next=14;break}return r.abrupt("return",t);case 14:return r.next=16,c.readFile(n,{encoding:"utf8"});case 16:return o=r.sent,s=a(/(?<!#.*)root\s*=\s*(.*)/g,{mountPoint:1}).exec(o),r.abrupt("return",s?e=(e=s.groups.mountPoint.trim()).endsWith("/")?e:"".concat(e,"/"):t);case 19:case"end":return r.stop()}}),r,null,[[4,10]])})))}(),w=function(){var e=S(N().mark((function e(t,r){var n,i,o,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=f(t),e.prev=1,i.s();case 3:if((o=i.n()).done){e.next=16;break}return a=o.value,e.prev=5,e.next=8,r(a);case 8:return e.abrupt("return",e.sent);case 11:e.prev=11,e.t0=e.catch(5),n=e.t0;case 14:e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(1),i.e(e.t1);case 21:return e.prev=21,i.f(),e.finish(21);case 24:throw n;case 25:case"end":return e.stop()}}),e,null,[[1,18,21,24],[5,11]])})));return function(t,r){return e.apply(this,arguments)}}(),A=function(){var e=S(N().mark((function e(t){var r,i,a,s,d,f,g,v,x,S,_,k;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=E({wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1},t),!Array.isArray(t.app)){e.next=2;break}return e.abrupt("return",w(t.app,(function(e){return A(E(E({},t),{},{app:e}))})));case 2:if(i=t.app||{},a=i.name,s=i.arguments,d=m(d=void 0===s?[]:s),!Array.isArray(a)){e.next=5;break}return e.abrupt("return",w(a,(function(e){return A(E(E({},t),{},{app:{name:e,arguments:d}}))})));case 5:if(f=[],g={},"darwin"!==y){e.next=10;break}r="open",t.wait&&f.push("--wait-apps"),t.background&&f.push("--background"),t.newInstance&&f.push("--new"),a&&f.push("-a",a),e.next=35;break;case 10:if("win32"!==y&&(!l||(void 0===n&&(n=function(){try{return c.statSync("/run/.containerenv"),!0}catch(e){return!1}}()||p()),n)||a)){e.next=19;break}return e.next=13,b();case 13:v=e.sent,r=l?"".concat(v,"c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe"):"".concat(process.env.SYSTEMROOT,"\\System32\\WindowsPowerShell\\v1.0\\powershell"),f.push("-NoProfile","-NonInteractive","ExecutionPolicy","Bypass","-EncodedCommand"),l||(g.windowsVerbatimArguments=!0),x=["Start"],t.wait&&x.push("-Wait"),a?(x.push('"`"'.concat(a,'`""'),"-ArgumentList"),t.target&&d.unshift(t.target)):t.target&&x.push('"'.concat(t.target,'"')),d.length>0&&(d=d.map((function(e){return'"`"'.concat(e,'`""')})),x.push(d.join(","))),t.target=Buffer.from(x.join(" "),"utf16le").toString("base64"),e.next=35;break;case 19:if(!a){e.next=23;break}r=a,e.next=34;break;case 23:return S="/"===__dirname,_=!1,e.prev=25,e.next=28,c.access(h,u.X_OK);case 28:_=!0,e.next=33;break;case 31:e.prev=31,e.t0=e.catch(25);case 33:r=process.versions.electron||"android"===y||S||!_?"xdg-open":h;case 34:d.length>0&&f.push.apply(f,m(d)),t.wait||(g.stdio="ignore",g.detached=!0);case 35:return t.target&&f.push(t.target),"darwin"===y&&d.length>0&&f.push.apply(f,["--args"].concat(m(d))),k=o.spawn(r,f,g),e.abrupt("return",t.wait?new Promise((function(e,r){k.once("error",r),k.once("close",(function(n){!t.allowNonzeroExitCode&&n>0?r(new Error("Exited with code ".concat(n))):e(k)}))})):(k.unref(),k));case 38:case"end":return e.stop()}}),e,null,[[25,31]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a `target`");return A(E(E({},t),{},{target:e}))};function _(e){if("string"==typeof e||Array.isArray(e))return e;var t=e[v];if(!t)throw new Error("".concat(v," is not supported"));return t}function k(e,t){var r=e[y],n=t.wsl;if(n&&l)return _(n);if(!r)throw new Error("".concat(y," is not supported"));return _(r)}var I={};d(I,"chrome",(function(){return k({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}})})),d(I,"firefox",(function(){return k({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"})})),d(I,"edge",(function(){return k({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"})})),x.apps=I,x.openApp=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a `name`");var r=(t||{}).arguments,n=void 0===r?[]:r;if(null!=n&&!Array.isArray(n))throw new TypeError("Expected `appArguments` as Array type");return A(E(E({},t),{},{app:{name:e,arguments:n}}))},e.exports=x},3189:function(e,t,r){"use strict";var n=r(7016),i=n.parse,o=n.Url;function a(e){var t=e.url;if(void 0!==t){var r=e._parsedUrl;return c(t,r)?r:((r=s(t))._raw=t,e._parsedUrl=r)}}function s(e){if("string"!=typeof e||47!==e.charCodeAt(0))return i(e);for(var t=e,r=null,n=null,a=1;a<e.length;a++)switch(e.charCodeAt(a)){case 63:null===n&&(t=e.substring(0,a),r=e.substring(a+1),n=e.substring(a));break;case 9:case 10:case 12:case 13:case 32:case 35:case 160:case 65279:return i(e)}var s=void 0!==o?new o:{};return s.path=e,s.href=e,s.pathname=t,null!==n&&(s.query=r,s.search=n),s}function c(e,t){return"object"==D(t)&&null!==t&&(void 0===o||t instanceof o)&&t._raw===e}e.exports=a,e.exports.original=function(e){var t=e.originalUrl;if("string"!=typeof t)return a(e);var r=e._parsedOriginalUrl;return c(t,r)?r:((r=s(t))._raw=t,e._parsedOriginalUrl=r)}},5302:function(e){e.exports=function e(r,n,i){n=n||[];var o,a=(i=i||{}).strict,s=!1!==i.end,c=i.sensitive?"":"i",u=0,l=n.length,p=0,d=0;if(r instanceof RegExp){for(;o=t.exec(r.source);)n.push({name:d++,optional:!1,offset:o.index});return r}if(Array.isArray(r))return r=r.map((function(t){return e(t,n,i).source})),new RegExp("(?:"+r.join("|")+")",c);for(r=("^"+r+(a?"":"/"===r[r.length-1]?"?":"/?")).replace(/\/\(/g,"/(?:").replace(/([\/\.])/g,"\\$1").replace(/(\\\/)?(\\\.)?:(\w+)(\(.*?\))?(\*)?(\?)?/g,(function(e,t,r,i,o,a,s,c){t=t||"",r=r||"",o=o||"([^\\/"+r+"]+?)",s=s||"",n.push({name:i,optional:!!s,offset:c+u});var l=(s?"":t)+"(?:"+r+(s?t:"")+o+(a?"((?:[\\/"+r+"].+?)?)":"")+")"+s;return u+=l.length-e.length,l})).replace(/\*/g,(function(e,t){for(var r=n.length;r-- >l&&n[r].offset>t;)n[r].offset+=3;return"(.*)"}));o=t.exec(r);){for(var h=0,f=o.index;"\\"===r.charAt(--f);)h++;h%2!=1&&((l+p===n.length||n[l+p].offset>o.index)&&n.splice(l+p,0,{name:d++,optional:!1,offset:o.index}),p++)}return r+=s?"$":"/"===r[r.length-1]?"":"(?=\\/|$)",new RegExp(r,c)};var t=/\((?!\?)/g},1323:function(e,t,r){"use strict";var n=r(9896),i=r(857),o=r(9278),a=r(6928),s=r(7500),c=r(8092),u=r(1099).mkdirp,l=c("portfinder:testPort"),p=c("portfinder:getPort"),d=c("portfinder:defaultHosts"),h={testPort:function(e,r){function n(){l("done w/ testPort(): OK",e.host,"port",e.port),e.server.removeListener("error",i),e.server.close(),r(null,e.port)}function i(i){if(l("done w/ testPort(): failed",e.host,"w/ port",e.port,"with error",i.code),e.server.removeListener("listening",n),"EADDRINUSE"!=i.code&&"EACCES"!=i.code)return r(i);var o=t.nextPort(e.port);if(o>t.highestPort)return r(new Error("No open ports available"));h.testPort({port:o,host:e.host,server:e.server},r)}r||(r=e,e={}),e.server=e.server||o.createServer((function(){})),l("entered testPort(): trying",e.host,"port",e.port),e.server.once("error",i),e.server.once("listening",n),e.host?e.server.listen(e.port,e.host):e.server.listen(e.port)}};t.basePort=8e3,t.setBasePort=function(e){t.basePort=e},t.highestPort=65535,t.setHighestPort=function(e){t.highestPort=e},t.basePath="/tmp/portfinder",t.getPort=function(e,r){if(r||(r=e,e={}),e.port=Number(e.port)||Number(t.basePort),e.host=e.host||null,e.stopPort=Number(e.stopPort)||Number(t.highestPort),!e.startPort){if(e.startPort=Number(e.port),e.startPort<0)throw Error("Provided options.startPort("+e.startPort+") is less than 0, which are cannot be bound.");if(e.stopPort<e.startPort)throw Error("Provided options.stopPort("+e.stopPort+"is less than options.startPort ("+e.startPort+")")}e.host&&-1!==t._defaultHosts.indexOf(e.host)&&t._defaultHosts.push(e.host);var n,i=[];return s.eachSeries(t._defaultHosts,(function(t,r){return p("in eachSeries() iteration callback: host is",t),h.testPort({host:t,port:e.port},(function(e,o){return e?(p("in eachSeries() iteration callback testPort() callback","with an err:",e.code),n=t,r(e)):(p("in eachSeries() iteration callback testPort() callback","with a success for port",o),i.push(o),r())}))}),(function(o){if(o){if(p("in eachSeries() result callback: err is",o),"EADDRNOTAVAIL"===o.code||"EINVAL"===o.code){if(e.host===n){var a="Provided host "+e.host+" could NOT be bound. Please provide a different host address or hostname";return r(Error(a))}var s=t._defaultHosts.indexOf(n);return t._defaultHosts.splice(s,1),t.getPort(e,r)}return r(o)}return i.sort((function(e,t){return e-t})),p("in eachSeries() result callback: openPorts is",i),i[0]===i[i.length-1]?i[0]<=e.stopPort?r(null,i[0]):(a="No open ports found in between "+e.startPort+" and "+e.stopPort,r(Error(a))):t.getPort({port:i.pop(),host:e.host,startPort:e.startPort,stopPort:e.stopPort},r)}))},t.getPortPromise=function(e){if("function"!=typeof Promise)throw Error("Native promise support is not available in this version of node.Please install a polyfill and assign Promise to global.Promise before calling this method");return e||(e={}),new Promise((function(r,n){t.getPort(e,(function(e,t){if(e)return n(e);r(t)}))}))},t.getPorts=function(e,r,n){n||(n=r,r={});var i=null;s.timesSeries(e,(function(e,n){i&&(r.port=t.nextPort(i)),t.getPort(r,(function(e,t){e?n(e):(i=t,n(null,t))}))}),n)},t.getSocket=function(e,r){function i(){n.stat(e.path,(function(n){n?"ENOENT"==n.code?r(null,e.path):r(n):(e.path=t.nextSocket(e.path),t.getSocket(e,r))}))}return r||(r=e,e={}),e.mod=e.mod||parseInt(755,8),e.path=e.path||t.basePath+".sock",e.exists?i():(o=a.dirname(e.path),void n.stat(o,(function(t,n){if(t||!n.isDirectory())return function(t){u(t,e.mod,(function(t){if(t)return r(t);e.exists=!0,i()}))}(o);e.exists=!0,i()})));var o},t.nextPort=function(e){return e+1},t.nextSocket=function(e){var t=a.dirname(e),r=a.basename(e,".sock").match(/^([a-zA-z]+)(\d*)$/i),n=parseInt(r[2]),i=r[1];return isNaN(n)&&(n=0),n+=1,a.join(t,i+n+".sock")},t._defaultHosts=function(){var e={};try{e=i.networkInterfaces()}catch(e){if("uv_interface_addresses"!==e.syscall)throw e}for(var t=Object.keys(e),r=["0.0.0.0"],n=0;n<t.length;n++)for(var o=e[t[n]],a=0;a<o.length;a++){var s=o[a];r.push(s.address)}return r.push(null),d("exports._defaultHosts is: %o",r),r}()},9544:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==D(Symbol.iterator)?function(e){return D(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":D(e)},n(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":n(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(3303)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},3303:function(e,t,r){"use strict";e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function a(){if(a.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o=a,s=Number(new Date),c=s-(r||s);o.diff=c,o.prev=r,o.curr=s,r=s,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return e;u++;var i=n.formatters[r];if("function"==typeof i){var a=t[u];e=i.call(o,a),t.splice(u,1),u--}return e})),n.formatArgs.call(o,t),(o.log||n.log).apply(o,t)}}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=i,a.extend=o,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function i(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function o(e,t){return n(this.namespace+(void 0===t?":":t)+e)}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var o=n.instances[t];o.enabled=n.enabled(o.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(7750),Object.keys(e).forEach((function(t){n[t]=e[t]})),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},8092:function(e,t,r){"use strict";"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(9544):e.exports=r(2026)},2026:function(e,t,r){"use strict";var n=r(2018),i=r(9023);t.init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){return process.stderr.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(r){var n=this.namespace;if(this.useColors){var i=this.color,o="[3"+(i<8?i:"8;5;"+i),a="  ".concat(o,";1m").concat(n," [0m");r[0]=a+r[0].split("\n").join("\n"+a),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var o=r(7687);o&&(o.stderr||o).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(3303)(t);var a=e.exports.formatters;a.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},a.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},7750:function(e){var t=1e3,r=60*t,n=60*r,i=24*n,o=7*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,s){s=s||{};var c,u,l=D(e);if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(c=e,(u=Math.abs(c))>=i?a(c,u,i,"day"):u>=n?a(c,u,n,"hour"):u>=r?a(c,u,r,"minute"):u>=t?a(c,u,t,"second"):c+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1729:function(e,t,r){"use strict";e.exports=function(e,t){if(!e)throw new TypeError("req argument is required");if(!t)throw new TypeError("trust argument is required");var r=u(e,t);return r[r.length-1]},e.exports.all=u,e.exports.compile=l;var n=r(8295),i=r(640),o=/^[0-9]+$/,a=i.isValid,s=i.parse,c={linklocal:["169.254.0.0/16","fe80::/10"],loopback:["127.0.0.1/8","::1/128"],uniquelocal:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","fc00::/7"]};function u(e,t){var r=n(e);if(!t)return r;"function"!=typeof t&&(t=l(t));for(var i=0;i<r.length-1;i++)t(r[i],i)||(r.length=i+1);return r}function l(e){if(!e)throw new TypeError("argument is required");var t,r,n,i,o,u,l,h,f;if("string"==typeof e)t=[e];else{if(!Array.isArray(e))throw new TypeError("unsupported trust argument");t=e.slice()}for(var m=0;m<t.length;m++)e=t[m],Object.prototype.hasOwnProperty.call(c,e)&&(e=c[e],t.splice.apply(t,[m,1].concat(e)),m+=e.length-1);return r=function(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=p(e[r]);return t}(t),0===(n=r.length)?d:1===n?(o=r[0],u=o[0],l=u.kind(),h="ipv4"===l,f=o[1],function(e){if(!a(e))return!1;var t=s(e);if(t.kind()!==l){if(h&&!t.isIPv4MappedAddress())return!1;t=h?t.toIPv4Address():t.toIPv4MappedAddress()}return t.match(u,f)}):(i=r,function(e){if(!a(e))return!1;for(var t,r=s(e),n=r.kind(),o=0;o<i.length;o++){var c=i[o],u=c[0],l=u.kind(),p=c[1],d=r;if(n!==l){if("ipv4"===l&&!r.isIPv4MappedAddress())continue;t||(t="ipv4"===l?r.toIPv4Address():r.toIPv4MappedAddress()),d=t}if(d.match(u,p))return!0}return!1})}function p(e){var t=e.lastIndexOf("/"),r=-1!==t?e.substring(0,t):e;if(!a(r))throw new TypeError("invalid IP address: "+r);var n=s(r);-1===t&&"ipv6"===n.kind()&&n.isIPv4MappedAddress()&&(n=n.toIPv4Address());var i="ipv6"===n.kind()?128:32,c=-1!==t?e.substring(t+1,e.length):null;if((c=null===c?i:o.test(c)?parseInt(c,10):"ipv4"===n.kind()&&a(c)?function(e){var t=s(e);return"ipv4"===t.kind()?t.prefixLengthFromSubnetMask():null}(c):null)<=0||c>i)throw new TypeError("invalid range on address: "+e);return[n,c]}function d(){return!1}},815:function(e,t,r){var n=r(3519),i=r(6611),o=r(9896),a=function(){},s=/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},u=function(e){e()},l=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||a)&&t.pop()||a;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var p=t.map((function(l,d){var h=d<t.length-1;return function(e,t,r,u){u=n(u);var l=!1;e.on("close",(function(){l=!0})),i(e,{readable:t,writable:r},(function(e){if(e)return u(e);l=!0,u()}));var p=!1;return function(t){if(!l&&!p)return p=!0,function(e){return!!s&&!!o&&(e instanceof(o.ReadStream||a)||e instanceof(o.WriteStream||a))&&c(e.close)}(e)?e.close(a):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void u(t||new Error("stream was destroyed"))}}(l,h,d>0,(function(t){e||(e=t),t&&p.forEach(u),h||(p.forEach(u),r(e))}))}));return t.reduce(l)}},4765:function(e){"use strict";var t=String.prototype.replace,r=/%20/g,n="RFC3986";e.exports={default:n,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}},5373:function(e,t,r){"use strict";var n=r(8636),i=r(2642),o=r(4765);e.exports={formats:o,parse:i,stringify:n}},2642:function(e,t,r){"use strict";var n=r(7720),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,r,n){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(o),u=s?o.slice(0,s.index):o,l=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var p=0;r.depth>0&&null!==(s=a.exec(o))&&p<r.depth;){if(p+=1,!r.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+o.slice(s.index)+"]"),function(e,t,r,n){for(var i=n?t:c(t,r),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(u,10);r.parseArrays||""!==u?!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[])[l]=i:"__proto__"!==u&&(a[u]=i):a={0:i}}i=a}return i}(l,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var r,u={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=t.parameterLimit===1/0?void 0:t.parameterLimit,d=l.split(t.delimiter,p),h=-1,f=t.charset;if(t.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?f="utf-8":"utf8=%26%2310003%3B"===d[r]&&(f="iso-8859-1"),h=r,r=d.length);for(r=0;r<d.length;++r)if(r!==h){var m,g,y=d[r],v=y.indexOf("]="),b=-1===v?y.indexOf("="):v+1;-1===b?(m=t.decoder(y,a.decoder,f,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(y.slice(0,b),a.decoder,f,"key"),g=n.maybeMap(c(y.slice(b+1),t),(function(e){return t.decoder(e,a.decoder,f,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===f&&(g=s(g)),y.indexOf("[]=")>-1&&(g=o(g)?[g]:g),i.call(u,m)?u[m]=n.combine(u[m],g):u[m]=g}return u}(e,r):e,p=r.plainObjects?Object.create(null):{},d=Object.keys(l),h=0;h<d.length;++h){var f=d[h],m=u(f,l[f],r,"string"==typeof e);p=n.merge(p,m,r)}return!0===r.allowSparse?p:n.compact(p)}},8636:function(e,t,r){"use strict";var n=r(920),i=r(7720),o=r(4765),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},c=Array.isArray,u=String.prototype.split,l=Array.prototype.push,p=function(e,t){l.apply(e,c(t)?t:[t])},d=Date.prototype.toISOString,h=o.default,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:h,formatter:o.formatters[h],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},m={},g=function e(t,r,o,a,s,l,d,h,g,y,v,b,E,w,A,x){for(var S,_=t,k=x,I=0,T=!1;void 0!==(k=k.get(m))&&!T;){var C=k.get(t);if(I+=1,void 0!==C){if(C===I)throw new RangeError("Cyclic object value");T=!0}void 0===k.get(m)&&(I=0)}if("function"==typeof h?_=h(r,_):_ instanceof Date?_=v(_):"comma"===o&&c(_)&&(_=i.maybeMap(_,(function(e){return e instanceof Date?v(e):e}))),null===_){if(s)return d&&!w?d(r,f.encoder,A,"key",b):r;_=""}if("string"==typeof(S=_)||"number"==typeof S||"boolean"==typeof S||"symbol"==D(S)||"bigint"==typeof S||i.isBuffer(_)){if(d){var O=w?r:d(r,f.encoder,A,"key",b);if("comma"===o&&w){for(var N=u.call(String(_),","),R="",P=0;P<N.length;++P)R+=(0===P?"":",")+E(d(N[P],f.encoder,A,"value",b));return[E(O)+(a&&c(_)&&1===N.length?"[]":"")+"="+R]}return[E(O)+"="+E(d(_,f.encoder,A,"value",b))]}return[E(r)+"="+E(String(_))]}var L,M=[];if(void 0===_)return M;if("comma"===o&&c(_))L=[{value:_.length>0?_.join(",")||null:void 0}];else if(c(h))L=h;else{var q=Object.keys(_);L=g?q.sort(g):q}for(var B=a&&c(_)&&1===_.length?r+"[]":r,j=0;j<L.length;++j){var U=L[j],F="object"==D(U)&&void 0!==U.value?U.value:_[U];if(!l||null!==F){var z=c(_)?"function"==typeof o?o(B,U):B:B+(y?"."+U:"["+U+"]");x.set(t,I);var H=n();H.set(m,x),p(M,e(F,z,o,a,s,l,d,h,g,y,v,b,E,w,A,H))}}return M};e.exports=function(e,t){var r,i=e,u=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=o.formatters[r],i=f.filter;return("function"==typeof e.filter||c(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===e.allowDots?f.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"==typeof u.filter?i=(0,u.filter)("",i):c(u.filter)&&(r=u.filter);var l,d=[];if("object"!=D(i)||null===i)return"";l=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=s[l];if(t&&"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var m="comma"===h&&t&&t.commaRoundTrip;r||(r=Object.keys(i)),u.sort&&r.sort(u.sort);for(var y=n(),v=0;v<r.length;++v){var b=r[v];u.skipNulls&&null===i[b]||p(d,g(i[b],b,h,m,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,y))}var E=d.join(u.delimiter),w=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),E.length>0?w+E:""}},7720:function(e,t,r){"use strict";var n=r(4765),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"==D(l)&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:a,prop:u}),r.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,i,o){if(0===e.length)return e;var s=e;if("symbol"==D(e)?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;++u){var l=s.charCodeAt(u);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===n.RFC1738&&(40===l||41===l)?c+=s.charAt(u):l<128?c+=a[l]:l<2048?c+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?c+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(u+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(u)),c+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return c},isBuffer:function(e){return!(!e||"object"!=D(e)||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=D(r)){if(o(t))t.push(r);else{if(!t||"object"!=D(t))return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=D(t))return[t].concat(r);var a=t;return o(t)&&!o(r)&&(a=s(t,n)),o(t)&&o(r)?(r.forEach((function(r,o){if(i.call(t,o)){var a=t[o];a&&"object"==D(a)&&r&&"object"==D(r)?t[o]=e(a,r,n):t.push(r)}else t[o]=r})),t):Object.keys(r).reduce((function(t,o){var a=r[o];return i.call(t,o)?t[o]=e(t[o],a,n):t[o]=a,t}),a)}}},2878:function(e){"use strict";function t(e,t){return{start:e.start,end:e.end,index:t}}function r(e){return{start:e.start,end:e.end}}function n(e,t){return e.index-t.index}function i(e,t){return e.start-t.start}e.exports=function(e,o,a){if("string"!=typeof o)throw new TypeError("argument str must be a string");var s=o.indexOf("=");if(-1===s)return-2;var c=o.slice(s+1).split(","),u=[];u.type=o.slice(0,s);for(var l=0;l<c.length;l++){var p=c[l].split("-"),d=parseInt(p[0],10),h=parseInt(p[1],10);isNaN(d)?(d=e-h,h=e-1):isNaN(h)&&(h=e-1),h>e-1&&(h=e-1),isNaN(d)||isNaN(h)||d>h||d<0||u.push({start:d,end:h})}return u.length<1?-1:a&&a.combine?function(e){for(var o=e.map(t).sort(i),a=0,s=1;s<o.length;s++){var c=o[s],u=o[a];c.start>u.end+1?o[++a]=c:c.end>u.end&&(u.end=c.end,u.index=Math.min(u.index,c.index))}o.length=a+1;var l=o.sort(n).map(r);return l.type=e.type,l}(u):u}},7680:function(e,t,r){"use strict";var n=function(){try{return r(290)}catch(e){return{}}}(),i=r(5508),o=r(2771),a=r(5249),s=r(1170);e.exports=function(e,t,r){var o=r,a=t||{};if(void 0===e)throw new TypeError("argument stream is required");if("object"!=D(e)||null===e||"function"!=typeof e.on)throw new TypeError("argument stream must be a stream");if(!0!==t&&"string"!=typeof t||(a={encoding:t}),"function"==typeof t&&(o=t,a={}),void 0!==o&&"function"!=typeof o)throw new TypeError("argument callback must be a function");if(!o&&!global.Promise)throw new TypeError("argument callback is required");var s,c,l=!0!==a.encoding?a.encoding:"utf-8",p=i.parse(a.limit),d=null==a.length||isNaN(a.length)?null:parseInt(a.length,10);return o?u(e,l,d,p,(s=o,n.AsyncResource&&(c=new n.AsyncResource(s.name||"bound-anonymous-fn")),c&&c.runInAsyncScope?c.runInAsyncScope.bind(c,s,null):s)):new Promise((function(t,r){u(e,l,d,p,(function(e,n){if(e)return r(e);t(n)}))}))};var c=/^Encoding not recognized: /;function u(e,t,r,n,i){var u=!1,l=!0;if(null!==n&&null!==r&&r>n)return m(o(413,"request entity too large",{expected:r,length:r,limit:n,type:"entity.too.large"}));var p=e._readableState;if(e._decoder||p&&(p.encoding||p.decoder))return m(o(500,"stream encoding should not be set",{type:"stream.encoding.set"}));if(void 0!==e.readable&&!e.readable)return m(o(500,"stream is not readable",{type:"stream.not.readable"}));var d,h=0;try{d=function(e){if(!e)return null;try{return a.getDecoder(e)}catch(t){if(!c.test(t.message))throw t;throw o(415,"specified encoding unsupported",{encoding:e,type:"encoding.unsupported"})}}(t)}catch(e){return m(e)}var f=d?"":[];function m(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];function n(){b(),t[0]&&function(e){s(e),"function"==typeof e.pause&&e.pause()}(e),i.apply(null,t)}u=!0,l?process.nextTick(n):n()}function g(){u||m(o(400,"request aborted",{code:"ECONNABORTED",expected:r,length:r,received:h,type:"request.aborted"}))}function y(e){u||(h+=e.length,null!==n&&h>n?m(o(413,"request entity too large",{limit:n,received:h,type:"entity.too.large"})):d?f+=d.write(e):f.push(e))}function v(e){if(!u){if(e)return m(e);null!==r&&h!==r?m(o(400,"request size did not match content length",{expected:r,length:r,received:h,type:"request.size.invalid"})):m(null,d?f+(d.end()||""):Buffer.concat(f))}}function b(){f=null,e.removeListener("aborted",g),e.removeListener("data",y),e.removeListener("end",v),e.removeListener("error",v),e.removeListener("close",b)}e.on("aborted",g),e.on("close",b),e.on("data",y),e.on("end",v),e.on("error",v),l=!1}},113:function(e){"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){function t(e,n,i){return P(this,t),_(this,t,[function(e,t,n){return"string"==typeof r?r:r(e,t,n)}(e,n,i)])}return C(t,e),M(t)}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s;return"string"==typeof t&&"not "===t.substr(0,4)?(i="must not be",t=t.replace(/^not /,"")):i="must be",o=function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length)," argument"===e.substring(r-9,r)}(e)?"The ".concat(e," ").concat(i," ").concat(n(t,"type")):'The "'.concat(e,'" ').concat(("number"!=typeof s&&(s=0),s+1>(a=e).length||-1===a.indexOf(".",s)?"argument":"property")," ").concat(i," ").concat(n(t,"type")),o+". Received type "+D(r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.F=t},5382:function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var i=r(5412),o=r(6708);r(2017)(u,i);for(var a=n(o.prototype),s=0;s<a.length;s++){var c=a[s];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},3600:function(e,t,r){"use strict";e.exports=i;var n=r(4610);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(2017)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},5412:function(e,t,r){"use strict";var n;e.exports=S,S.ReadableState=x,r(4434).EventEmitter;var i,o=function(e,t){return e.listeners(t).length},a=r(1416),s=r(181).Buffer,c=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},u=r(9023);i=u&&u.debuglog?u.debuglog("stream"):function(){};var l,p,d,h=r(345),f=r(5896),m=r(5291).getHighWaterMark,g=r(113).F,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,E=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(2017)(S,a);var w=f.errorOrDestroy,A=["error","close","destroy","pause","resume"];function x(e,t,i){n=n||r(5382),e=e||{},"boolean"!=typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(3141).I),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||r(5382),!(this instanceof S))return new S(e);var t=this instanceof n;this._readableState=new x(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function _(e,t,r,n,o){i("readableAddChunk",t);var a,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(i("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,O(e)))}}(e,u);else if(o||(a=function(e,t){var r,n;return n=t,s.isBuffer(n)||n instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(u,t)),a)w(e,a);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=function(e){return s.from(e)}(t)),n)u.endEmitted?w(e,new E):k(e,u,t,!0);else if(u.ended)w(e,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?k(e,u,t,!1):N(e,u)):k(e,u,t,!1)}else n||(u.reading=!1,N(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function k(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&C(e)),N(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=f.destroy,S.prototype._undestroy=f.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=s.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},S.prototype.unshift=function(e){return _(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){l||(l=r(3141).I);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=I?e=I:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;i("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(i("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(O,e))}function O(e){var t=e._readableState;i("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,q(e)}function N(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(R,e,t))}function R(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(i("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){i("readable nexttick read 0"),e.read(0)}function M(e,t){i("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),q(e),t.flowing&&!t.reading&&e.read(0)}function q(e){var t=e._readableState;for(i("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function B(e){var t=e._readableState;i("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(j,t,e))}function j(e,t){if(i("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){i("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return i("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):C(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,o=t.needReadable;return i("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&i("length less than watermark",o=!0),t.ended||t.reading?i("reading or ended",o=!1):o&&(i("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){w(this,new b("_read()"))},S.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===process.stdout||e===process.stderr?f:s;function s(){i("onend"),e.end()}n.endEmitted?process.nextTick(a):r.once("end",a),e.on("unpipe",(function t(o,a){i("onunpipe"),o===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,i("cleanup"),e.removeListener("close",d),e.removeListener("finish",h),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",f),r.removeListener("data",l),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;i("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,q(e))}}(r);e.on("drain",c);var u=!1;function l(t){i("ondata");var o=e.write(t);i("dest.write",o),!1===o&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==U(n.pipes,e))&&!u&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function p(t){i("onerror",t),f(),e.removeListener("error",p),0===o(e,"error")&&w(e,t)}function d(){e.removeListener("finish",h),f()}function h(){i("onfinish"),e.removeListener("close",d),f()}function f(){i("unpipe"),r.unpipe(e)}return r.on("data",l),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",p),e.once("close",d),e.once("finish",h),e.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?C(this):n.reading||process.nextTick(L,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),r},S.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(i("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(M,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){i("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var a=0;a<A.length;a++)e.on(A[a],this.emit.bind(this,A[a]));return this._read=function(t){i("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=r(2955)),p(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=D,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(e,t){return void 0===d&&(d=r(6532)),d(S,e,t)})},4610:function(e,t,r){"use strict";e.exports=l;var n=r(113).F,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r(5382);function u(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",p)}function p(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(2017)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},6708:function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t){var r=e.entry;for(e.entry=null;r;){var n=r.callback;t.pendingcb--,n(void 0),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=S,S.WritableState=x;var o,a={deprecate:r(7983)},s=r(1416),c=r(181).Buffer,u=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},l=r(5896),p=r(5291).getHighWaterMark,d=r(113).F,h=d.ERR_INVALID_ARG_TYPE,f=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,v=d.ERR_STREAM_NULL_VALUES,b=d.ERR_STREAM_WRITE_AFTER_END,E=d.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function A(){}function x(e,t,o){i=i||r(5382),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(O,e,t),e._writableState.errorEmitted=!0,w(e,n)):(i(n),e._writableState.errorEmitted=!0,w(e,n),O(e,t))}(e,r,n,t,i);else{var o=T(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||I(e,r),n?process.nextTick(k,e,r,o,i):k(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(e){var t=this instanceof(i=i||r(5382));if(!t&&!o.call(S,this))return new S(e);this._writableState=new x(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function _(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),O(e,t)}function I(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),a=t.corkedRequestsFree;a.entry=r;for(var s=0,c=!0;r;)o[s]=r,r.isBuf||(c=!1),r=r.next,s+=1;o.allBuffers=c,_(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,l=r.encoding,p=r.callback;if(_(e,t,!1,t.objectMode?1:u.length,u,l,p),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),O(e,t)}))}function O(e,t){var r=T(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(C,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(2017)(S,s),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!o.call(this,e)||this===S&&e&&e._writableState instanceof x}})):o=function(e){return e instanceof this},S.prototype.pipe=function(){w(this,new g)},S.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,a=!i.objectMode&&(n=e,c.isBuffer(n)||n instanceof u);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=A),i.ending?function(e,t){var r=new b;w(e,r),process.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i;return null===r?i=new v:"string"==typeof r||t.objectMode||(i=new h("chunk",["string","Buffer"],r)),!i||(w(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else _(e,t,!1,s,n,i,o);return u}(this,i,a,e,t,r)),o},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new f("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,O(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(e,t){t(e)}},2955:function(e,t,r){"use strict";var n;function i(e,t,r){return(t=function(e){var t=function(e){if("object"!=D(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(6238),a=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),p=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function f(e){var t=e[a];if(null!==t){var r=e[d].read();null!==r&&(e[l]=null,e[a]=null,e[s]=null,t(h(r,!1)))}}function m(e){process.nextTick(f,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(h(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[u]?r(h(void 0,!0)):t[p](r,n)}),n)}}(n,this));else{var i=this[d].read();if(null!==i)return Promise.resolve(h(i,!1));r=new Promise(this[p])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(h(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(y,(i(t={},d,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,p,{value:function(e,t){var n=r[d].read();n?(r[l]=null,r[a]=null,r[s]=null,e(h(n,!1))):(r[a]=e,r[s]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[l]=null,r[a]=null,r[s]=null,t(e)),void(r[c]=e)}var n=r[a];null!==n&&(r[l]=null,r[a]=null,r[s]=null,n(h(void 0,!0))),r[u]=!0})),e.on("readable",m.bind(null,r)),r}},345:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){var t=function(e){if("object"!=D(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:String(t)}var s=r(181).Buffer,c=r(9023).inspect,u=c&&c.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return c(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},5896:function(e){"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(r,o),i(e)):process.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},6238:function(e,t,r){"use strict";var n=r(113).F.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){s=!1,u=!0,a||o.call(t)},p=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,p=!0,s||o.call(t)},h=function(e){o.call(t,e)},f=function(){var e;return a&&!p?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",l),t.on("abort",f),t.req?m():t.on("request",m)):s&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",d),t.on("finish",l),!1!==r.error&&t.on("error",h),t.on("close",f),function(){t.removeListener("complete",l),t.removeListener("abort",f),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",f)}}},6532:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return(t=function(e){var t=function(e){if("object"!=D(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(113).F.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var s;if(t&&"function"==typeof t.next)s=t;else if(t&&t[Symbol.asyncIterator])s=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);s=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),u=!1;function l(){return p.apply(this,arguments)}function p(){var e;return e=N().mark((function(){var e,t;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s.next();case 3:if(e=r.sent,t=e.value,!e.done){r.next=9;break}c.push(null),r.next=18;break;case 9:return r.t0=c,r.next=12,t;case 12:if(r.t1=r.sent,!r.t0.push.call(r.t0,r.t1)){r.next=17;break}l(),r.next=18;break;case 17:u=!1;case 18:r.next=23;break;case 20:r.prev=20,r.t2=r.catch(0),c.destroy(r.t2);case 23:case"end":return r.stop()}}),e,null,[[0,20]])})),p=function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,c,"next",e)}function c(e){n(a,i,o,s,c,"throw",e)}s(void 0)}))},p.apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},7758:function(e,t,r){"use strict";var n,i=r(113).F,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var l,p=function(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var d=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(6238)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}(e,o,i>0,(function(e){l||(l=e),e&&d.forEach(c),o||(d.forEach(c),p(l))}))}));return t.reduce(u)}},5291:function(e,t,r){"use strict";var n=r(113).F.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},1416:function(e,t,r){e.exports=r(2203)},4198:function(e,t,r){var n=r(2203);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(5412)).Stream=n||t,t.Readable=t,t.Writable=r(6708),t.Duplex=r(5382),t.Transform=r(4610),t.PassThrough=r(3600),t.finished=r(6238),t.pipeline=r(7758))},2861:function(e,t,r){var n=r(181),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},4774:function(e,t,r){"use strict";var n,i=r(181),o=i.Buffer,a={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(a[n]=i[n]);var s=a.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(s[n]=o[n]);if(a.Buffer.prototype=o.prototype,s.from&&s.from!==Uint8Array.from||(s.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+D(e));if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+D(e));return o(e,t,r)}),s.alloc||(s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+D(e));if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=o(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!a.kStringMaxLength)try{a.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a},3904:function(e,t,r){var n=Symbol("SemVer ANY"),i=function(){function e(t,r){if(P(this,e),r=o(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),l("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}return M(e,[{key:"parse",value:function(e){var t=this.options.loose?s[c.COMPARATORLOOSE]:s[c.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: ".concat(e));this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new p(r[2],this.options.loose):this.semver=n}},{key:"toString",value:function(){return this.value}},{key:"test",value:function(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new p(e,this.options)}catch(e){return!1}return u(e,this.operator,this.semver,this.options)}},{key:"intersects",value:function(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(t.value,r).test(this.value):""===t.operator?""===t.value||new d(this.value,r).test(t.semver):!((r=o(r)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===t.value)||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!t.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!t.operator.startsWith("<"))&&(this.semver.version!==t.semver.version||!this.operator.includes("=")||!t.operator.includes("="))&&!(u(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<"))&&!(u(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}}],[{key:"ANY",get:function(){return n}}])}();e.exports=i;var o=r(8587),a=r(9718),s=a.safeRe,c=a.t,u=r(2111),l=r(7272),p=r(3908),d=r(8311)},8311:function(e,t,r){var n=function(){function e(t,r){var n=this;if(P(this,e),r=o(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof a)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((function(e){return n.parseRange(e.trim())})).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(this.raw));if(this.set.length>1){var i=this.set[0];if(this.set=this.set.filter((function(e){return!E(e[0])})),0===this.set.length)this.set=[i];else if(this.set.length>1){var s,c=f(this.set);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(1===u.length&&w(u[0])){this.set=[u];break}}}catch(e){c.e(e)}finally{c.f()}}}this.format()}return M(e,[{key:"format",value:function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range}},{key:"toString",value:function(){return this.range}},{key:"parseRange",value:function(e){var t=this,r=((this.options.includePrerelease&&v)|(this.options.loose&&b))+":"+e,n=i.get(r);if(n)return n;var o=this.options.loose,c=o?l[p.HYPHENRANGELOOSE]:l[p.HYPHENRANGE];e=e.replace(c,L(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(l[p.COMPARATORTRIM],d),s("comparator trim",e),e=e.replace(l[p.TILDETRIM],h),s("tilde trim",e),e=e.replace(l[p.CARETTRIM],g),s("caret trim",e);var u=e.split(" ").map((function(e){return x(e,t.options)})).join(" ").split(/\s+/).map((function(e){return R(e,t.options)}));o&&(u=u.filter((function(e){return s("loose invalid filter",e,t.options),!!e.match(l[p.COMPARATORLOOSE])}))),s("range list",u);var y,w=new Map,A=u.map((function(e){return new a(e,t.options)})),S=f(A);try{for(S.s();!(y=S.n()).done;){var _=y.value;if(E(_))return[_];w.set(_.value,_)}}catch(e){S.e(e)}finally{S.f()}w.size>1&&w.has("")&&w.delete("");var k=m(w.values());return i.set(r,k),k}},{key:"intersects",value:function(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((function(e){return A(e,r)&&t.set.some((function(t){return A(t,r)&&e.every((function(e){return t.every((function(t){return e.intersects(t,r)}))}))}))}))}},{key:"test",value:function(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(q(this.set[t],e,this.options))return!0;return!1}}])}();e.exports=n;var i=new(r(8794)),o=r(8587),a=r(3904),s=r(7272),c=r(3908),u=r(9718),l=u.safeRe,p=u.t,d=u.comparatorTrimReplace,h=u.tildeTrimReplace,g=u.caretTrimReplace,y=r(6874),v=y.FLAG_INCLUDE_PRERELEASE,b=y.FLAG_LOOSE,E=function(e){return"<0.0.0-0"===e.value},w=function(e){return""===e.value},A=function(e,t){for(var r=!0,n=e.slice(),i=n.pop();r&&n.length;)r=n.every((function(e){return i.intersects(e,t)})),i=n.pop();return r},x=function(e,t){return s("comp",e,t),e=I(e,t),s("caret",e),e=_(e,t),s("tildes",e),e=C(e,t),s("xrange",e),e=N(e,t),s("stars",e),e},S=function(e){return!e||"x"===e.toLowerCase()||"*"===e},_=function(e,t){return e.trim().split(/\s+/).map((function(e){return k(e,t)})).join(" ")},k=function(e,t){var r=t.loose?l[p.TILDELOOSE]:l[p.TILDE];return e.replace(r,(function(t,r,n,i,o){var a;return s("tilde",e,t,r,n,i,o),S(r)?a="":S(n)?a=">=".concat(r,".0.0 <").concat(+r+1,".0.0-0"):S(i)?a=">=".concat(r,".").concat(n,".0 <").concat(r,".").concat(+n+1,".0-0"):o?(s("replaceTilde pr",o),a=">=".concat(r,".").concat(n,".").concat(i,"-").concat(o," <").concat(r,".").concat(+n+1,".0-0")):a=">=".concat(r,".").concat(n,".").concat(i," <").concat(r,".").concat(+n+1,".0-0"),s("tilde return",a),a}))},I=function(e,t){return e.trim().split(/\s+/).map((function(e){return T(e,t)})).join(" ")},T=function(e,t){s("caret",e,t);var r=t.loose?l[p.CARETLOOSE]:l[p.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(function(t,r,i,o,a){var c;return s("caret",e,t,r,i,o,a),S(r)?c="":S(i)?c=">=".concat(r,".0.0").concat(n," <").concat(+r+1,".0.0-0"):S(o)?c="0"===r?">=".concat(r,".").concat(i,".0").concat(n," <").concat(r,".").concat(+i+1,".0-0"):">=".concat(r,".").concat(i,".0").concat(n," <").concat(+r+1,".0.0-0"):a?(s("replaceCaret pr",a),c="0"===r?"0"===i?">=".concat(r,".").concat(i,".").concat(o,"-").concat(a," <").concat(r,".").concat(i,".").concat(+o+1,"-0"):">=".concat(r,".").concat(i,".").concat(o,"-").concat(a," <").concat(r,".").concat(+i+1,".0-0"):">=".concat(r,".").concat(i,".").concat(o,"-").concat(a," <").concat(+r+1,".0.0-0")):(s("no pr"),c="0"===r?"0"===i?">=".concat(r,".").concat(i,".").concat(o).concat(n," <").concat(r,".").concat(i,".").concat(+o+1,"-0"):">=".concat(r,".").concat(i,".").concat(o).concat(n," <").concat(r,".").concat(+i+1,".0-0"):">=".concat(r,".").concat(i,".").concat(o," <").concat(+r+1,".0.0-0")),s("caret return",c),c}))},C=function(e,t){return s("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return O(e,t)})).join(" ")},O=function(e,t){e=e.trim();var r=t.loose?l[p.XRANGELOOSE]:l[p.XRANGE];return e.replace(r,(function(r,n,i,o,a,c){s("xRange",e,r,n,i,o,a,c);var u=S(i),l=u||S(o),p=l||S(a),d=p;return"="===n&&d&&(n=""),c=t.includePrerelease?"-0":"",u?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&d?(l&&(o=0),a=0,">"===n?(n=">=",l?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):"<="===n&&(n="<",l?i=+i+1:o=+o+1),"<"===n&&(c="-0"),r="".concat(n+i,".").concat(o,".").concat(a).concat(c)):l?r=">=".concat(i,".0.0").concat(c," <").concat(+i+1,".0.0-0"):p&&(r=">=".concat(i,".").concat(o,".0").concat(c," <").concat(i,".").concat(+o+1,".0-0")),s("xRange return",r),r}))},N=function(e,t){return s("replaceStars",e,t),e.trim().replace(l[p.STAR],"")},R=function(e,t){return s("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?p.GTE0PRE:p.GTE0],"")},L=function(e){return function(t,r,n,i,o,a,s,c,u,l,p,d){return"".concat(r=S(n)?"":S(i)?">=".concat(n,".0.0").concat(e?"-0":""):S(o)?">=".concat(n,".").concat(i,".0").concat(e?"-0":""):a?">=".concat(r):">=".concat(r).concat(e?"-0":"")," ").concat(c=S(u)?"":S(l)?"<".concat(+u+1,".0.0-0"):S(p)?"<".concat(u,".").concat(+l+1,".0-0"):d?"<=".concat(u,".").concat(l,".").concat(p,"-").concat(d):e?"<".concat(u,".").concat(l,".").concat(+p+1,"-0"):"<=".concat(c)).trim()}},q=function(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(var i=0;i<e.length;i++)if(s(e[i].semver),e[i].semver!==a.ANY&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}},3908:function(e,t,r){var n=r(7272),i=r(6874),o=i.MAX_LENGTH,a=i.MAX_SAFE_INTEGER,s=r(9718),c=s.safeRe,u=s.t,l=r(8587),p=r(1123).compareIdentifiers,d=function(){function e(t,r){if(P(this,e),r=l(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError('Invalid version. Must be a string. Got type "'.concat(D(t),'".'));if(t.length>o)throw new TypeError("version is longer than ".concat(o," characters"));n("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;var i=t.trim().match(r.loose?c[u.LOOSE]:c[u.FULL]);if(!i)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}return M(e,[{key:"format",value:function(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}},{key:"toString",value:function(){return this.version}},{key:"compare",value:function(t){if(n("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}},{key:"compareMain",value:function(t){return t instanceof e||(t=new e(t,this.options)),p(this.major,t.major)||p(this.minor,t.minor)||p(this.patch,t.patch)}},{key:"comparePre",value:function(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var r=0;do{var i=this.prerelease[r],o=t.prerelease[r];if(n("prerelease compare",r,i,o),void 0===i&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===i)return-1;if(i!==o)return p(i,o)}while(++r)}},{key:"compareBuild",value:function(t){t instanceof e||(t=new e(t,this.options));var r=0;do{var i=this.build[r],o=t.build[r];if(n("build compare",r,i,o),void 0===i&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===i)return-1;if(i!==o)return p(i,o)}while(++r)}},{key:"inc",value:function(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":var n=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[n];else{for(var i=this.prerelease.length;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(t){var o=[t,n];!1===r&&(o=[t]),0===p(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break;default:throw new Error("invalid increment argument: ".concat(e))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}}])}();e.exports=d},7414:function(e,t,r){var n=r(144);e.exports=function(e,t){var r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},2111:function(e,t,r){var n=r(4641),i=r(3999),o=r(5580),a=r(4089),s=r(9440),c=r(5200);e.exports=function(e,t,r,u){switch(t){case"===":return"object"==D(e)&&(e=e.version),"object"==D(r)&&(r=r.version),e===r;case"!==":return"object"==D(e)&&(e=e.version),"object"==D(r)&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,u);case"!=":return i(e,r,u);case">":return o(e,r,u);case">=":return a(e,r,u);case"<":return s(e,r,u);case"<=":return c(e,r,u);default:throw new TypeError("Invalid operator: ".concat(t))}}},6170:function(e,t,r){var n=r(3908),i=r(144),o=r(9718),a=o.safeRe,s=o.t;e.exports=function(e,t){if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var o,c=t.includePrerelease?a[s.COERCERTLFULL]:a[s.COERCERTL];(o=c.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&o.index+o[0].length===r.index+r[0].length||(r=o),c.lastIndex=o.index+o[1].length+o[2].length;c.lastIndex=-1}else r=e.match(t.includePrerelease?a[s.COERCEFULL]:a[s.COERCE]);if(null===r)return null;var u=r[2],l=r[3]||"0",p=r[4]||"0",d=t.includePrerelease&&r[5]?"-".concat(r[5]):"",h=t.includePrerelease&&r[6]?"+".concat(r[6]):"";return i("".concat(u,".").concat(l,".").concat(p).concat(d).concat(h),t)}},909:function(e,t,r){var n=r(3908);e.exports=function(e,t,r){var i=new n(e,r),o=new n(t,r);return i.compare(o)||i.compareBuild(o)}},1763:function(e,t,r){var n=r(560);e.exports=function(e,t){return n(e,t,!0)}},560:function(e,t,r){var n=r(3908);e.exports=function(e,t,r){return new n(e,r).compare(new n(t,r))}},1832:function(e,t,r){var n=r(144);e.exports=function(e,t){var r=n(e,null,!0),i=n(t,null,!0),o=r.compare(i);if(0===o)return null;var a=o>0,s=a?r:i,c=a?i:r,u=!!s.prerelease.length;if(c.prerelease.length&&!u)return c.patch||c.minor?s.patch?"patch":s.minor?"minor":"major":"major";var l=u?"pre":"";return r.major!==i.major?l+"major":r.minor!==i.minor?l+"minor":r.patch!==i.patch?l+"patch":"prerelease"}},4641:function(e,t,r){var n=r(560);e.exports=function(e,t,r){return 0===n(e,t,r)}},5580:function(e,t,r){var n=r(560);e.exports=function(e,t,r){return n(e,t,r)>0}},4089:function(e,t,r){var n=r(560);e.exports=function(e,t,r){return n(e,t,r)>=0}},3007:function(e,t,r){var n=r(3908);e.exports=function(e,t,r,i,o){"string"==typeof r&&(o=i,i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i,o).version}catch(e){return null}}},9440:function(e,t,r){var n=r(560);e.exports=function(e,t,r){return n(e,t,r)<0}},5200:function(e,t,r){var n=r(560);e.exports=function(e,t,r){return n(e,t,r)<=0}},2938:function(e,t,r){var n=r(3908);e.exports=function(e,t){return new n(e,t).major}},6254:function(e,t,r){var n=r(3908);e.exports=function(e,t){return new n(e,t).minor}},3999:function(e,t,r){var n=r(560);e.exports=function(e,t,r){return 0!==n(e,t,r)}},144:function(e,t,r){var n=r(3908);e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},9255:function(e,t,r){var n=r(3908);e.exports=function(e,t){return new n(e,t).patch}},4110:function(e,t,r){var n=r(144);e.exports=function(e,t){var r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},9970:function(e,t,r){var n=r(560);e.exports=function(e,t,r){return n(t,e,r)}},4277:function(e,t,r){var n=r(909);e.exports=function(e,t){return e.sort((function(e,r){return n(r,e,t)}))}},7638:function(e,t,r){var n=r(8311);e.exports=function(e,t,r){try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},3927:function(e,t,r){var n=r(909);e.exports=function(e,t){return e.sort((function(e,r){return n(e,r,t)}))}},6953:function(e,t,r){var n=r(144);e.exports=function(e,t){var r=n(e,t);return r?r.version:null}},9589:function(e,t,r){var n=r(9718),i=r(6874),o=r(3908),a=r(1123),s=r(144),c=r(6953),u=r(7414),l=r(3007),p=r(1832),d=r(2938),h=r(6254),f=r(9255),m=r(4110),g=r(560),y=r(9970),v=r(1763),b=r(909),E=r(3927),w=r(4277),A=r(5580),x=r(9440),S=r(4641),_=r(3999),k=r(4089),I=r(5200),T=r(2111),C=r(6170),O=r(3904),N=r(8311),R=r(7638),P=r(7631),L=r(9628),M=r(7889),q=r(1261),D=r(3874),B=r(7075),j=r(5571),U=r(5342),F=r(6780),z=r(2525),H=r(5032);e.exports={parse:s,valid:c,clean:u,inc:l,diff:p,major:d,minor:h,patch:f,prerelease:m,compare:g,rcompare:y,compareLoose:v,compareBuild:b,sort:E,rsort:w,gt:A,lt:x,eq:S,neq:_,gte:k,lte:I,cmp:T,coerce:C,Comparator:O,Range:N,satisfies:R,toComparators:P,maxSatisfying:L,minSatisfying:M,minVersion:q,validRange:D,outside:B,gtr:j,ltr:U,intersects:F,simplifyRange:z,subset:H,SemVer:o,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers}},6874:function(e){var t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},7272:function(e){var t="object"==("undefined"==typeof process?"undefined":D(process))&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=console).error.apply(e,["SEMVER"].concat(r))}:function(){};e.exports=t},1123:function(e){var t=/^[0-9]+$/,r=function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,r){var n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1}));e.exports={compareIdentifiers:r,rcompareIdentifiers:function(e,t){return r(t,e)}}},8794:function(e){e.exports=function(){return M((function e(){P(this,e),this.max=1e3,this.map=new Map}),[{key:"get",value:function(e){var t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}},{key:"delete",value:function(e){return this.map.delete(e)}},{key:"set",value:function(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){var r=this.map.keys().next().value;this.delete(r)}this.map.set(e,t)}return this}}])}()},8587:function(e){var t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=function(e){return e?"object"!=D(e)?t:e:r}},9718:function(e,t,r){var n=r(6874),i=n.MAX_SAFE_COMPONENT_LENGTH,o=n.MAX_SAFE_BUILD_LENGTH,a=n.MAX_LENGTH,s=r(7272),c=(t=e.exports={}).re=[],l=t.safeRe=[],p=t.src=[],d=t.t={},h=0,f="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",a],[f,o]],g=function(e,t,r){var n=function(e){for(var t=0,r=m;t<r.length;t++){var n=u(r[t],2),i=n[0],o=n[1];e=e.split("".concat(i,"*")).join("".concat(i,"{0,").concat(o,"}")).split("".concat(i,"+")).join("".concat(i,"{1,").concat(o,"}"))}return e}(t),i=h++;s(e,i,t),d[e]=i,p[i]=t,c[i]=new RegExp(t,r?"g":void 0),l[i]=new RegExp(n,r?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(f,"*")),g("MAINVERSION","(".concat(p[d.NUMERICIDENTIFIER],")\\.(").concat(p[d.NUMERICIDENTIFIER],")\\.(").concat(p[d.NUMERICIDENTIFIER],")")),g("MAINVERSIONLOOSE","(".concat(p[d.NUMERICIDENTIFIERLOOSE],")\\.(").concat(p[d.NUMERICIDENTIFIERLOOSE],")\\.(").concat(p[d.NUMERICIDENTIFIERLOOSE],")")),g("PRERELEASEIDENTIFIER","(?:".concat(p[d.NUMERICIDENTIFIER],"|").concat(p[d.NONNUMERICIDENTIFIER],")")),g("PRERELEASEIDENTIFIERLOOSE","(?:".concat(p[d.NUMERICIDENTIFIERLOOSE],"|").concat(p[d.NONNUMERICIDENTIFIER],")")),g("PRERELEASE","(?:-(".concat(p[d.PRERELEASEIDENTIFIER],"(?:\\.").concat(p[d.PRERELEASEIDENTIFIER],")*))")),g("PRERELEASELOOSE","(?:-?(".concat(p[d.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(p[d.PRERELEASEIDENTIFIERLOOSE],")*))")),g("BUILDIDENTIFIER","".concat(f,"+")),g("BUILD","(?:\\+(".concat(p[d.BUILDIDENTIFIER],"(?:\\.").concat(p[d.BUILDIDENTIFIER],")*))")),g("FULLPLAIN","v?".concat(p[d.MAINVERSION]).concat(p[d.PRERELEASE],"?").concat(p[d.BUILD],"?")),g("FULL","^".concat(p[d.FULLPLAIN],"$")),g("LOOSEPLAIN","[v=\\s]*".concat(p[d.MAINVERSIONLOOSE]).concat(p[d.PRERELEASELOOSE],"?").concat(p[d.BUILD],"?")),g("LOOSE","^".concat(p[d.LOOSEPLAIN],"$")),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE","".concat(p[d.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),g("XRANGEIDENTIFIER","".concat(p[d.NUMERICIDENTIFIER],"|x|X|\\*")),g("XRANGEPLAIN","[v=\\s]*(".concat(p[d.XRANGEIDENTIFIER],")(?:\\.(").concat(p[d.XRANGEIDENTIFIER],")(?:\\.(").concat(p[d.XRANGEIDENTIFIER],")(?:").concat(p[d.PRERELEASE],")?").concat(p[d.BUILD],"?)?)?")),g("XRANGEPLAINLOOSE","[v=\\s]*(".concat(p[d.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(p[d.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(p[d.XRANGEIDENTIFIERLOOSE],")(?:").concat(p[d.PRERELEASELOOSE],")?").concat(p[d.BUILD],"?)?)?")),g("XRANGE","^".concat(p[d.GTLT],"\\s*").concat(p[d.XRANGEPLAIN],"$")),g("XRANGELOOSE","^".concat(p[d.GTLT],"\\s*").concat(p[d.XRANGEPLAINLOOSE],"$")),g("COERCEPLAIN","(^|[^\\d])(\\d{1,".concat(i,"})(?:\\.(\\d{1,").concat(i,"}))?(?:\\.(\\d{1,").concat(i,"}))?")),g("COERCE","".concat(p[d.COERCEPLAIN],"(?:$|[^\\d])")),g("COERCEFULL",p[d.COERCEPLAIN]+"(?:".concat(p[d.PRERELEASE],")?")+"(?:".concat(p[d.BUILD],")?(?:$|[^\\d])")),g("COERCERTL",p[d.COERCE],!0),g("COERCERTLFULL",p[d.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM","(\\s*)".concat(p[d.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",g("TILDE","^".concat(p[d.LONETILDE]).concat(p[d.XRANGEPLAIN],"$")),g("TILDELOOSE","^".concat(p[d.LONETILDE]).concat(p[d.XRANGEPLAINLOOSE],"$")),g("LONECARET","(?:\\^)"),g("CARETTRIM","(\\s*)".concat(p[d.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",g("CARET","^".concat(p[d.LONECARET]).concat(p[d.XRANGEPLAIN],"$")),g("CARETLOOSE","^".concat(p[d.LONECARET]).concat(p[d.XRANGEPLAINLOOSE],"$")),g("COMPARATORLOOSE","^".concat(p[d.GTLT],"\\s*(").concat(p[d.LOOSEPLAIN],")$|^$")),g("COMPARATOR","^".concat(p[d.GTLT],"\\s*(").concat(p[d.FULLPLAIN],")$|^$")),g("COMPARATORTRIM","(\\s*)".concat(p[d.GTLT],"\\s*(").concat(p[d.LOOSEPLAIN],"|").concat(p[d.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE","^\\s*(".concat(p[d.XRANGEPLAIN],")\\s+-\\s+(").concat(p[d.XRANGEPLAIN],")\\s*$")),g("HYPHENRANGELOOSE","^\\s*(".concat(p[d.XRANGEPLAINLOOSE],")\\s+-\\s+(").concat(p[d.XRANGEPLAINLOOSE],")\\s*$")),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},5571:function(e,t,r){var n=r(7075);e.exports=function(e,t,r){return n(e,t,">",r)}},6780:function(e,t,r){var n=r(8311);e.exports=function(e,t,r){return e=new n(e,r),t=new n(t,r),e.intersects(t,r)}},5342:function(e,t,r){var n=r(7075);e.exports=function(e,t,r){return n(e,t,"<",r)}},9628:function(e,t,r){var n=r(3908),i=r(8311);e.exports=function(e,t,r){var o=null,a=null,s=null;try{s=new i(t,r)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(o&&-1!==a.compare(e)||(a=new n(o=e,r)))})),o}},7889:function(e,t,r){var n=r(3908),i=r(8311);e.exports=function(e,t,r){var o=null,a=null,s=null;try{s=new i(t,r)}catch(e){return null}return e.forEach((function(e){s.test(e)&&(o&&1!==a.compare(e)||(a=new n(o=e,r)))})),o}},1261:function(e,t,r){var n=r(3908),i=r(8311),o=r(5580);e.exports=function(e,t){e=new i(e,t);var r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(var a=function(){var t=e.set[s],i=null;t.forEach((function(e){var t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!o(t,i)||(i=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(e.operator))}})),!i||r&&!o(r,i)||(r=i)},s=0;s<e.set.length;++s)a();return r&&e.test(r)?r:null}},7075:function(e,t,r){var n=r(3908),i=r(3904),o=i.ANY,a=r(8311),s=r(7638),c=r(5580),u=r(9440),l=r(5200),p=r(4089);e.exports=function(e,t,r,d){var h,f,m,g,y;switch(e=new n(e,d),t=new a(t,d),r){case">":h=c,f=l,m=u,g=">",y=">=";break;case"<":h=u,f=p,m=c,g="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(e,t,d))return!1;for(var v,b=function(){var r=t.set[E],n=null,a=null;return r.forEach((function(e){e.semver===o&&(e=new i(">=0.0.0")),n=n||e,a=a||e,h(e.semver,n.semver,d)?n=e:m(e.semver,a.semver,d)&&(a=e)})),n.operator===g||n.operator===y?{v:!1}:a.operator&&a.operator!==g||!f(e,a.semver)?a.operator===y&&m(e,a.semver)?{v:!1}:void 0:{v:!1}},E=0;E<t.set.length;++E)if(v=b())return v.v;return!0}},2525:function(e,t,r){var n=r(7638),i=r(560);e.exports=function(e,t,r){var o,a=[],s=null,c=null,l=e.sort((function(e,t){return i(e,t,r)})),p=f(l);try{for(p.s();!(o=p.n()).done;){var d=o.value;n(d,t,r)?(c=d,s||(s=d)):(c&&a.push([s,c]),c=null,s=null)}}catch(e){p.e(e)}finally{p.f()}s&&a.push([s,null]);for(var h=[],m=0,g=a;m<g.length;m++){var y=u(g[m],2),v=y[0],b=y[1];v===b?h.push(v):b||v!==l[0]?b?v===l[0]?h.push("<=".concat(b)):h.push("".concat(v," - ").concat(b)):h.push(">=".concat(v)):h.push("*")}var E=h.join(" || "),w="string"==typeof t.raw?t.raw:String(t);return E.length<w.length?E:t}},5032:function(e,t,r){var n=r(8311),i=r(3904),o=i.ANY,a=r(7638),s=r(560),c=[new i(">=0.0.0-0")],u=[new i(">=0.0.0")],l=function(e,t,r){if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?c:u}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=u}var n,i,l,h,m,g,y,v,b=new Set,E=f(e);try{for(E.s();!(v=E.n()).done;){var w=v.value;">"===w.operator||">="===w.operator?n=p(n,w,r):"<"===w.operator||"<="===w.operator?i=d(i,w,r):b.add(w.semver)}}catch(e){E.e(e)}finally{E.f()}if(b.size>1)return null;if(n&&i){if((l=s(n.semver,i.semver,r))>0)return null;if(0===l&&(">="!==n.operator||"<="!==i.operator))return null}var A,x=f(b);try{for(x.s();!(A=x.n()).done;){var S=A.value;if(n&&!a(S,String(n),r))return null;if(i&&!a(S,String(i),r))return null;var _,k=f(t);try{for(k.s();!(_=k.n()).done;){var I=_.value;if(!a(S,String(I),r))return!1}}catch(e){k.e(e)}finally{k.f()}return!0}}catch(e){x.e(e)}finally{x.f()}var T=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver,C=!(!n||r.includePrerelease||!n.semver.prerelease.length)&&n.semver;T&&1===T.prerelease.length&&"<"===i.operator&&0===T.prerelease[0]&&(T=!1);var O,N=f(t);try{for(N.s();!(O=N.n()).done;){var R=O.value;if(y=y||">"===R.operator||">="===R.operator,g=g||"<"===R.operator||"<="===R.operator,n)if(C&&R.semver.prerelease&&R.semver.prerelease.length&&R.semver.major===C.major&&R.semver.minor===C.minor&&R.semver.patch===C.patch&&(C=!1),">"===R.operator||">="===R.operator){if((h=p(n,R,r))===R&&h!==n)return!1}else if(">="===n.operator&&!a(n.semver,String(R),r))return!1;if(i)if(T&&R.semver.prerelease&&R.semver.prerelease.length&&R.semver.major===T.major&&R.semver.minor===T.minor&&R.semver.patch===T.patch&&(T=!1),"<"===R.operator||"<="===R.operator){if((m=d(i,R,r))===R&&m!==i)return!1}else if("<="===i.operator&&!a(i.semver,String(R),r))return!1;if(!R.operator&&(i||n)&&0!==l)return!1}}catch(e){N.e(e)}finally{N.f()}return!(n&&g&&!i&&0!==l||i&&y&&!n&&0!==l||C||T)},p=function(e,t,r){if(!e)return t;var n=s(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},d=function(e,t,r){if(!e)return t;var n=s(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;e=new n(e,r),t=new n(t,r);var i,o=!1,a=f(e.set);try{e:for(a.s();!(i=a.n()).done;){var s,c=i.value,u=f(t.set);try{for(u.s();!(s=u.n()).done;){var p=s.value,d=l(c,p,r);if(o=o||null!==d,d)continue e}}catch(e){u.e(e)}finally{u.f()}if(o)return!1}}catch(e){a.e(e)}finally{a.f()}return!0}},7631:function(e,t,r){var n=r(8311);e.exports=function(e,t){return new n(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))}},3874:function(e,t,r){var n=r(8311);e.exports=function(e,t){try{return new n(e,t).range||"*"}catch(e){return null}}},7667:function(e,t,r){"use strict";var n=r(2771),i=r(5753)("send"),o=r(6330)("send"),a=r(7013),s=r(2224),c=r(580),u=r(7160),l=r(1427),p=r(9896),d=r(4849),h=r(8991),f=r(5649),m=r(2878),g=r(6928),y=r(2403),v=r(2203),b=r(9023),E=g.extname,w=g.join,A=g.normalize,x=g.resolve,S=g.sep,_=/^ *bytes=/,k=31536e6,I=/(?:^|[\\/])\.\.(?:[\\/]|$)/;function T(e,t,r){v.call(this);var n=r||{};if(this.options=n,this.path=t,this.req=e,this._acceptRanges=void 0===n.acceptRanges||Boolean(n.acceptRanges),this._cacheControl=void 0===n.cacheControl||Boolean(n.cacheControl),this._etag=void 0===n.etag||Boolean(n.etag),this._dotfiles=void 0!==n.dotfiles?n.dotfiles:"ignore","ignore"!==this._dotfiles&&"allow"!==this._dotfiles&&"deny"!==this._dotfiles)throw new TypeError('dotfiles option must be "allow", "deny", or "ignore"');this._hidden=Boolean(n.hidden),void 0!==n.hidden&&o("hidden: use dotfiles: '"+(this._hidden?"allow":"ignore")+"' instead"),void 0===n.dotfiles&&(this._dotfiles=void 0),this._extensions=void 0!==n.extensions?R(n.extensions,"extensions option"):[],this._immutable=void 0!==n.immutable&&Boolean(n.immutable),this._index=void 0!==n.index?R(n.index,"index option"):["index.html"],this._lastModified=void 0===n.lastModified||Boolean(n.lastModified),this._maxage=n.maxAge||n.maxage,this._maxage="string"==typeof this._maxage?h(this._maxage):Number(this._maxage),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),k),this._root=n.root?x(n.root):null,!this._root&&n.from&&this.from(n.from)}function C(e,t,r){return e+" "+(r?r.start+"-"+r.end:"*")+"/"+t}function O(e,t){return'<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>'+e+"</title>\n</head>\n<body>\n<pre>"+t+"</pre>\n</body>\n</html>\n"}function N(e,t){return("function"!=typeof e.listenerCount?e.listeners(t).length:e.listenerCount(t))>0}function R(e,t){for(var r=[].concat(e||[]),n=0;n<r.length;n++)if("string"!=typeof r[n])throw new TypeError(t+" must be array of strings or false");return r}function P(e){var t=e&&Date.parse(e);return"number"==typeof t?t:NaN}e.exports=function(e,t,r){return new T(e,t,r)},e.exports.mime=d,b.inherits(T,v),T.prototype.etag=o.function((function(e){return this._etag=Boolean(e),i("etag %s",this._etag),this}),"send.etag: pass etag as option"),T.prototype.hidden=o.function((function(e){return this._hidden=Boolean(e),this._dotfiles=void 0,i("hidden %s",this._hidden),this}),"send.hidden: use dotfiles option"),T.prototype.index=o.function((function(e){var t=e?R(e,"paths argument"):[];return i("index %o",e),this._index=t,this}),"send.index: pass index as option"),T.prototype.root=function(e){return this._root=x(String(e)),i("root %s",this._root),this},T.prototype.from=o.function(T.prototype.root,"send.from: pass root as option"),T.prototype.root=o.function(T.prototype.root,"send.root: pass root as option"),T.prototype.maxage=o.function((function(e){return this._maxage="string"==typeof e?h(e):Number(e),this._maxage=isNaN(this._maxage)?0:Math.min(Math.max(0,this._maxage),k),i("max-age %d",this._maxage),this}),"send.maxage: pass maxAge as option"),T.prototype.error=function(e,t){if(N(this,"error"))return this.emit("error",function(e,t){return t?t instanceof Error?n(e,t,{expose:!1}):n(e,t):n(e)}(e,t));var r=this.res,i=y.message[e]||String(e),o=O("Error",c(i));!function(e){for(var t=function(e){return"function"!=typeof e.getHeaderNames?Object.keys(e._headers||{}):e.getHeaderNames()}(e),r=0;r<t.length;r++)e.removeHeader(t[r])}(r),t&&t.headers&&function(e,t){for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];e.setHeader(i,t[i])}}(r,t.headers),r.statusCode=e,r.setHeader("Content-Type","text/html; charset=UTF-8"),r.setHeader("Content-Length",Buffer.byteLength(o)),r.setHeader("Content-Security-Policy","default-src 'none'"),r.setHeader("X-Content-Type-Options","nosniff"),r.end(o)},T.prototype.hasTrailingSlash=function(){return"/"===this.path[this.path.length-1]},T.prototype.isConditionalGET=function(){return this.req.headers["if-match"]||this.req.headers["if-unmodified-since"]||this.req.headers["if-none-match"]||this.req.headers["if-modified-since"]},T.prototype.isPreconditionFailure=function(){var e=this.req,t=this.res,r=e.headers["if-match"];if(r){var n=t.getHeader("ETag");return!n||"*"!==r&&function(e){for(var t=0,r=[],n=0,i=0,o=e.length;i<o;i++)switch(e.charCodeAt(i)){case 32:n===t&&(n=t=i+1);break;case 44:n!==t&&r.push(e.substring(n,t)),n=t=i+1;break;default:t=i+1}return n!==t&&r.push(e.substring(n,t)),r}(r).every((function(e){return e!==n&&e!=="W/"+n&&"W/"+e!==n}))}var i=P(e.headers["if-unmodified-since"]);if(!isNaN(i)){var o=P(t.getHeader("Last-Modified"));return isNaN(o)||o>i}return!1},T.prototype.removeContentHeaderFields=function(){var e=this.res;e.removeHeader("Content-Encoding"),e.removeHeader("Content-Language"),e.removeHeader("Content-Length"),e.removeHeader("Content-Range"),e.removeHeader("Content-Type")},T.prototype.notModified=function(){var e=this.res;i("not modified"),this.removeContentHeaderFields(),e.statusCode=304,e.end()},T.prototype.headersAlreadySent=function(){var e=new Error("Can't set headers after they are sent.");i("headers already sent"),this.error(500,e)},T.prototype.isCachable=function(){var e=this.res.statusCode;return e>=200&&e<300||304===e},T.prototype.onStatError=function(e){switch(e.code){case"ENAMETOOLONG":case"ENOENT":case"ENOTDIR":this.error(404,e);break;default:this.error(500,e)}},T.prototype.isFresh=function(){return l(this.req.headers,{etag:this.res.getHeader("ETag"),"last-modified":this.res.getHeader("Last-Modified")})},T.prototype.isRangeFresh=function(){var e=this.req.headers["if-range"];if(!e)return!0;if(-1!==e.indexOf('"')){var t=this.res.getHeader("ETag");return Boolean(t&&-1!==e.indexOf(t))}return P(this.res.getHeader("Last-Modified"))<=P(e)},T.prototype.redirect=function(e){var t=this.res;if(N(this,"directory"))this.emit("directory",t,e);else if(this.hasTrailingSlash())this.error(403);else{var r=s(function(e){for(var t=0;t<e.length&&"/"===e[t];t++);return t>1?"/"+e.substr(t):e}(this.path+"/")),n=O("Redirecting",'Redirecting to <a href="'+c(r)+'">'+c(r)+"</a>");t.statusCode=301,t.setHeader("Content-Type","text/html; charset=UTF-8"),t.setHeader("Content-Length",Buffer.byteLength(n)),t.setHeader("Content-Security-Policy","default-src 'none'"),t.setHeader("X-Content-Type-Options","nosniff"),t.setHeader("Location",r),t.end(n)}},T.prototype.pipe=function(e){var t=this._root;this.res=e;var r,n=function(e){try{return decodeURIComponent(e)}catch(e){return-1}}(this.path);if(-1===n)return this.error(400),e;if(~n.indexOf("\0"))return this.error(400),e;if(null!==t){if(n&&(n=A("."+S+n)),I.test(n))return i('malicious path "%s"',n),this.error(403),e;r=n.split(S),n=A(w(t,n))}else{if(I.test(n))return i('malicious path "%s"',n),this.error(403),e;r=A(n).split(S),n=x(n)}if(function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.length>1&&"."===r[0])return!0}return!1}(r)){var o=this._dotfiles;switch(void 0===o&&(o="."===r[r.length-1][0]?this._hidden?"allow":"ignore":"allow"),i('%s dotfile "%s"',o,n),o){case"allow":break;case"deny":return this.error(403),e;default:return this.error(404),e}}return this._index.length&&this.hasTrailingSlash()?(this.sendIndex(n),e):(this.sendFile(n),e)},T.prototype.send=function(e,t){var r=t.size,n=this.options,o={},a=this.res,s=this.req,c=s.headers.range,u=n.start||0;if(function(e){return"boolean"!=typeof e.headersSent?Boolean(e._header):e.headersSent}(a))this.headersAlreadySent();else{if(i('pipe "%s"',e),this.setHeader(e,t),this.type(e),this.isConditionalGET()){if(this.isPreconditionFailure())return void this.error(412);if(this.isCachable()&&this.isFresh())return void this.notModified()}if(r=Math.max(0,r-u),void 0!==n.end){var l=n.end-u+1;r>l&&(r=l)}if(this._acceptRanges&&_.test(c)){if(c=m(r,c,{combine:!0}),this.isRangeFresh()||(i("range stale"),c=-2),-1===c)return i("range unsatisfiable"),a.setHeader("Content-Range",C("bytes",r)),this.error(416,{headers:{"Content-Range":a.getHeader("Content-Range")}});-2!==c&&1===c.length&&(i("range %j",c),a.statusCode=206,a.setHeader("Content-Range",C("bytes",r,c[0])),u+=c[0].start,r=c[0].end-c[0].start+1)}for(var p in n)o[p]=n[p];o.start=u,o.end=Math.max(u,u+r-1),a.setHeader("Content-Length",r),"HEAD"!==s.method?this.stream(e,o):a.end()}},T.prototype.sendFile=function(e){var t=0,r=this;function n(o){if(r._extensions.length<=t)return o?r.onStatError(o):r.error(404);var a=e+"."+r._extensions[t++];i('stat "%s"',a),p.stat(a,(function(e,t){return e?n(e):t.isDirectory()?n():(r.emit("file",a,t),void r.send(a,t))}))}i('stat "%s"',e),p.stat(e,(function(t,i){return t&&"ENOENT"===t.code&&!E(e)&&e[e.length-1]!==S?n(t):t?r.onStatError(t):i.isDirectory()?r.redirect(e):(r.emit("file",e,i),void r.send(e,i))}))},T.prototype.sendIndex=function(e){var t=-1,r=this;!function n(o){if(++t>=r._index.length)return o?r.onStatError(o):r.error(404);var a=w(e,r._index[t]);i('stat "%s"',a),p.stat(a,(function(e,t){return e?n(e):t.isDirectory()?n():(r.emit("file",a,t),void r.send(a,t))}))}()},T.prototype.stream=function(e,t){var r=this,n=this.res,i=p.createReadStream(e,t);function o(){a(i,!0)}this.emit("stream",i),i.pipe(n),f(n,o),i.on("error",(function(e){o(),r.onStatError(e)})),i.on("end",(function(){r.emit("end")}))},T.prototype.type=function(e){var t=this.res;if(!t.getHeader("Content-Type")){var r=d.lookup(e);if(r){var n=d.charsets.lookup(r);i("content-type %s",r),t.setHeader("Content-Type",r+(n?"; charset="+n:""))}else i("no content-type")}},T.prototype.setHeader=function(e,t){var r=this.res;if(this.emit("headers",r,e,t),this._acceptRanges&&!r.getHeader("Accept-Ranges")&&(i("accept ranges"),r.setHeader("Accept-Ranges","bytes")),this._cacheControl&&!r.getHeader("Cache-Control")){var n="public, max-age="+Math.floor(this._maxage/1e3);this._immutable&&(n+=", immutable"),i("cache-control %s",n),r.setHeader("Cache-Control",n)}if(this._lastModified&&!r.getHeader("Last-Modified")){var o=t.mtime.toUTCString();i("modified %s",o),r.setHeader("Last-Modified",o)}if(this._etag&&!r.getHeader("ETag")){var a=u(t);i("etag %s",a),r.setHeader("ETag",a)}}},8991:function(e){var t=1e3,r=60*t,n=60*r,i=24*n,o=7*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,s){s=s||{};var c,u,l=D(e);if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===l&&isFinite(e))return s.long?(c=e,(u=Math.abs(c))>=i?a(c,u,i,"day"):u>=n?a(c,u,n,"hour"):u>=r?a(c,u,r,"minute"):u>=t?a(c,u,t,"second"):c+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2577:function(e,t,r){"use strict";var n=r(2224),i=r(580),o=r(3189),a=r(6928).resolve,s=r(7667),c=r(7016);e.exports=function(e,t){if(!e)throw new TypeError("root path required");if("string"!=typeof e)throw new TypeError("root path must be a string");var r=Object.create(t||null),u=!1!==r.fallthrough,l=!1!==r.redirect,p=r.setHeaders;if(p&&"function"!=typeof p)throw new TypeError("option setHeaders must be function");r.maxage=r.maxage||r.maxAge||0,r.root=a(e);var d=l?function(e){if(this.hasTrailingSlash())this.error(404);else{var t=o.original(this.req);t.path=null,t.pathname=function(e){for(var t=0;t<e.length&&47===e.charCodeAt(t);t++);return t>1?"/"+e.substr(t):e}(t.pathname+"/");var r=n(c.format(t)),a='<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>Redirecting</title>\n</head>\n<body>\n<pre>Redirecting to <a href="'+i(r)+'">'+i(r)+"</a></pre>\n</body>\n</html>\n";e.statusCode=301,e.setHeader("Content-Type","text/html; charset=UTF-8"),e.setHeader("Content-Length",Buffer.byteLength(a)),e.setHeader("Content-Security-Policy","default-src 'none'"),e.setHeader("X-Content-Type-Options","nosniff"),e.setHeader("Location",r),e.end(a)}}:function(){this.error(404)};return function(e,t,n){if("GET"!==e.method&&"HEAD"!==e.method)return u?n():(t.statusCode=405,t.setHeader("Allow","GET, HEAD"),t.setHeader("Content-Length","0"),void t.end());var i=!u,a=o.original(e),c=o(e).pathname;"/"===c&&"/"!==a.pathname.substr(-1)&&(c="");var l=s(e,c,r);l.on("directory",d),p&&l.on("headers",p),u&&l.on("file",(function(){i=!0})),l.on("error",(function(e){!i&&e.statusCode<500?n():n(e)})),l.pipe(t)}},e.exports.mime=s.mime},6897:function(e,t,r){"use strict";var n=r(453),i=r(41),o=r(592)(),a=r(5795),s=r(9675),c=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new s("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in e&&a){var l=a(e,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(u=!1)}return(n||u||!r)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},7270:function(e){"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r]);return e})},920:function(e,t,r){"use strict";var n=r(453),i=r(8075),o=r(8859),a=r(9675),s=n("%WeakMap%",!0),c=n("%Map%",!0),u=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),p=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),h=i("Map.prototype.set",!0),f=i("Map.prototype.has",!0),m=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new a("Side channel does not contain "+o(e))},get:function(n){if(s&&n&&("object"==D(n)||"function"==typeof n)){if(e)return u(e,n)}else if(c){if(t)return d(t,n)}else if(r)return function(e,t){var r=m(e,t);return r&&r.value}(r,n)},has:function(n){if(s&&n&&("object"==D(n)||"function"==typeof n)){if(e)return p(e,n)}else if(c){if(t)return f(t,n)}else if(r)return function(e,t){return!!m(e,t)}(r,n);return!1},set:function(n,i){s&&n&&("object"==D(n)||"function"==typeof n)?(e||(e=new s),l(e,n,i)):c?(t||(t=new c),h(t,n,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=m(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,i))}};return n}},4546:function(e,t,r){var n=r(9896);e.exports=function(e,t,r){t=void 0!==t?t:"\n",r=void 0!==r?r:"utf8";var i=[],o=n.readFileSync(e,r);if(o.indexOf("-END CERTIFICATE-")<0||o.indexOf("-BEGIN CERTIFICATE-")<0)throw Error("File does not contain 'BEGIN CERTIFICATE' or 'END CERTIFICATE'");var a,s,c=[];for(a=0,s=(o=o.split(t)).length;a<s;a++){var u=o[a];0!==u.length&&(c.push(u),u.match(/-END CERTIFICATE-/)&&(i.push(c.join(t)),c=[]))}return i}},7838:function(e,t,r){"use strict";var n=r(2203),i=n.Duplex,o=n.Readable,a=n.Writable,s=r(2535).CHANNEL_EXTENDED_DATATYPE.STDERR,c=r(5623).bufferSlice,u=2097152,l=1048576,p=function(e){function t(e,r){var n;return P(this,t),(n=_(this,t,[r]))._channel=e,n}return C(t,e),M(t,[{key:"_read",value:function(e){this._channel._waitChanDrain&&(this._channel._waitChanDrain=!1,this._channel.incoming.window<=l&&m(this._channel))}}])}(o),d=function(e){function t(e){var r;return P(this,t),(r=_(this,t,[{highWaterMark:u}]))._channel=e,r}return C(t,e),M(t,[{key:"_write",value:function(e,t,r){var n=this._channel,i=n._client._protocol,o=n.outgoing,a=o.packetSize,u=o.id,l=o.window,p=e.length,d=0;if("open"===o.state){for(;p-d>0&&l>0;){var h=p-d;h>l&&(h=l),h>a&&(h=a),0===d&&h===p?i.channelExtData(u,e,s):i.channelExtData(u,c(e,d,d+h),s),d+=h,l-=h}if(o.window=l,p-d>0)return 0===l&&(n._waitWindow=!0),n._chunkErr=d>0?c(e,d,p):e,void(n._chunkcbErr=r);r()}}}])}(a);function h(){this.eof(),!this.server&&this.allowHalfOpen||this.close(),this.writable=!1}function f(){this.readable=!1}function m(e){if("closed"!==e.outgoing.state){var t=u-e.incoming.window;t<=0||(e.incoming.window+=t,e._client._protocol.channelWindowAdjust(e.outgoing.id,t))}}e.exports={Channel:function(e){function t(e,r,n){var i;P(this,t);var o={highWaterMark:u,allowHalfOpen:!n||n&&!1!==n.allowHalfOpen,emitClose:!1};(i=_(this,t,[o])).allowHalfOpen=o.allowHalfOpen;var a=!(!n||!n.server);return i.server=a,i.type=r.type,i.subtype=void 0,i.incoming=r.incoming,i.outgoing=r.outgoing,i._callbacks=[],i._client=e,i._hasX11=!1,i._exit={code:void 0,signal:void 0,dump:void 0,desc:void 0},i.stdin=i.stdout=i,i.stderr=a?new d(i):new p(i,o),i._waitWindow=!1,i._waitChanDrain=!1,i._chunk=void 0,i._chunkcb=void 0,i._chunkErr=void 0,i._chunkcbErr=void 0,i.on("finish",h).on("prefinish",h),i.on("end",f).on("close",f),i}return C(t,e),M(t,[{key:"_read",value:function(e){this._waitChanDrain&&(this._waitChanDrain=!1,this.incoming.window<=l&&m(this))}},{key:"_write",value:function(e,t,r){var n=this._client._protocol,i=this.outgoing,o=i.packetSize,a=i.id,s=i.window,u=e.length,l=0;if("open"===i.state){for(;u-l>0&&s>0;){var p=u-l;p>s&&(p=s),p>o&&(p=o),0===l&&p===u?n.channelData(a,e):n.channelData(a,c(e,l,l+p)),l+=p,s-=p}if(i.window=s,u-l>0)return 0===s&&(this._waitWindow=!0),this._chunk=l>0?c(e,l,u):e,void(this._chunkcb=r);r()}}},{key:"eof",value:function(){"open"===this.outgoing.state&&(this.outgoing.state="eof",this._client._protocol.channelEOF(this.outgoing.id))}},{key:"close",value:function(){"open"!==this.outgoing.state&&"eof"!==this.outgoing.state||(this.outgoing.state="closing",this._client._protocol.channelClose(this.outgoing.id))}},{key:"destroy",value:function(){return this.end(),this.close(),this}},{key:"setWindow",value:function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");"session"!==this.type||"shell"!==this.subtype&&"exec"!==this.subtype||!this.writable||"open"!==this.outgoing.state||this._client._protocol.windowChange(this.outgoing.id,e,t,r,n)}},{key:"signal",value:function(e){if(this.server)throw new Error("Client-only method called in server mode");"session"===this.type&&this.writable&&"open"===this.outgoing.state&&this._client._protocol.signal(this.outgoing.id,e)}},{key:"exit",value:function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");"session"===this.type&&this.writable&&"open"===this.outgoing.state&&("number"==typeof e?this._client._protocol.exitStatus(this.outgoing.id,e):this._client._protocol.exitSignal(this.outgoing.id,e,t,r))}}])}(i),MAX_WINDOW:u,PACKET_SIZE:32768,windowAdjust:m,WINDOW_THRESHOLD:l}},7852:function(e,t,r){"use strict";var n=r(9278).Socket,i=r(2203).Duplex,o=r(6928).resolve,a=r(9896).readFile,s=r(5317),c=s.execFile,u=s.spawn,l=r(8946),p=l.isParsedKey,d=l.parseKey,h=r(5623),m=h.makeBufferParser,g=h.readUInt32BE,y=h.writeUInt32BE,v=h.writeUInt32LE;function b(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}function E(){}var w=Buffer.alloc(0),A=m(),x=function(){return M((function e(){P(this,e)}),[{key:"getIdentities",value:function(e){e(new Error("Missing getIdentities() implementation"))}},{key:"sign",value:function(e,t,r,n){"function"==typeof r&&(n=r),n(new Error("Missing sign() implementation"))}}])}(),S=function(e){function t(e){var r;return P(this,t),(r=_(this,t)).socketPath=e,r}return C(t,e),M(t,[{key:"getStream",value:function(e){e=b(e);var t=new n;function r(){try{t.destroy()}catch(e){}e(new Error("Failed to connect to agent"))}t.on("connect",(function(){e(null,t)})),t.on("close",r).on("end",r).on("error",r),t.connect(this.socketPath)}},{key:"getIdentities",value:function(e){e=b(e),this.getStream((function(t,r){function n(t){if(r)try{r.destroy()}catch(e){}t||(t=new Error("Failed to retrieve identities from agent")),e(t)}if(t)return n(t);var i=new N(!0);i.on("error",n),i.pipe(r).pipe(i),r.on("close",n).on("end",n).on("error",n),i.getIdentities((function(t,i){if(t)return n(t);try{r.destroy()}catch(e){}e(null,i)}))}))}},{key:"sign",value:function(e,t,r,n){"function"==typeof r?(n=r,r=void 0):"object"==D(r)&&null!==r||(r=void 0),n=b(n),this.getStream((function(i,o){function a(e){if(o)try{o.destroy()}catch(e){}e||(e=new Error("Failed to sign data with agent")),n(e)}if(i)return a(i);var s=new N(!0);s.on("error",a),s.pipe(o).pipe(s),o.on("close",a).on("end",a).on("error",a),s.sign(e,t,r,(function(e,t){if(e)return a(e);try{o.destroy()}catch(e){}n(null,t)}))}))}}])}(x),k=function(){var e=o(__dirname,"..","util/pagent.exe"),t=R(R(R(R(R(R({},10,new Error("Invalid pagent.exe arguments")),11,new Error("Pageant is not running")),12,new Error("pagent.exe could not create an mmap")),13,new Error("pagent.exe could not set mode for stdin")),14,new Error("pagent.exe could not set mode for stdout")),15,new Error("pagent.exe did not get expected input payload"));function r(e){e.buffer=null,e.proc&&(e.proc.kill(),e.proc=void 0)}var n=function(n){function i(){var e;return P(this,i),(e=_(this,i)).proc=void 0,e.buffer=null,e}return C(i,n),M(i,[{key:"_read",value:function(e){}},{key:"_write",value:function(r,n,i){var o=this;if(null===this.buffer)this.buffer=r;else{var a=Buffer.allocUnsafe(this.buffer.length+r.length);this.buffer.copy(a,0),r.copy(a,this.buffer.length),this.buffer=a}if(this.buffer.length<4)return i();var s,c=g(this.buffer,0);if(this.buffer.length-4<c)return i();if(r=this.buffer.slice(0,4+c),this.buffer.length>4+c)return i(new Error("Unexpected multiple agent requests"));this.buffer=null;var l=this.proc=u(e,[r.length]);l.stdout.on("data",(function(e){o.push(e)})),l.on("error",(function(e){i(s=e)})),l.on("close",(function(e){if(o.proc=void 0,!s){if(s=t[e])return i(s);i()}})),l.stdin.end(r)}},{key:"_final",value:function(e){r(this),e()}},{key:"_destroy",value:function(e,t){r(this),t()}}])}(i);return function(e){function t(){return P(this,t),_(this,t,arguments)}return C(t,e),M(t,[{key:"getStream",value:function(e){e(null,new n)}}])}(S)}(),I=function(){var e=/^!<socket >(\d+) s ([A-Z0-9]{8}-[A-Z0-9]{8}-[A-Z0-9]{8}-[A-Z0-9]{8})/;return function(t){function r(){return P(this,r),_(this,r,arguments)}return C(r,t),M(r,[{key:"getStream",value:function(t){t=b(t);var r=this.socketPath,i=!1;a(r,(function o(s,u){if(s)return i?t(new Error("Invalid cygwin unix socket path")):void c("cygpath",["-w",r],(function(e,n,s){if(e||0===n.length)return t(new Error("Invalid cygwin unix socket path"));i=!0,r=n.toString().replace(/[\r\n]/g,""),a(r,o)}));var l=e.exec(u.toString("ascii"));if(!l)return t(new Error("Malformed cygwin unix socket file"));for(var p,d,h=0,f=!1,m=[],y=Buffer.alloc(12),b=parseInt(l[1],10),E=l[2].replace(/-/g,""),w=Buffer.allocUnsafe(16),A=0,x=0;x<32;++A,x+=2)w[A]=parseInt(E.substring(x,x+2),16);for(var S=0;S<16;S+=4)v(w,g(w,S),S);function _(){h=0,p="secret",d.write(w)}function k(e){if(h+=e.length,"secret"!==p){if("creds"===p&&(f||m.push(e),12===h)){if(d.removeListener("connect",_),d.removeListener("data",k),d.removeListener("error",I),d.removeListener("end",I),d.removeListener("close",I),f)return t(null,d);f=!0,y=Buffer.concat(m),v(y,process.pid,0),d.on("error",(function(){})),d.destroy(),T()}}else 16===h&&(h=0,p="creds",d.write(y))}function I(){t(new Error("Problem negotiating cygwin unix socket security"))}function T(){(d=new n).on("connect",_),d.on("data",k),d.on("error",I),d.on("end",I),d.on("close",I),d.connect(b)}T()}))}}])}(S)}(),T=/^[/\\][/\\]\.[/\\]pipe[/\\].+/;function O(e){return"win32"!==process.platform||T.test(e)?new S(e):"pageant"===e?new k:new I(e)}var N=function(){var e=Symbol("Inbound Request Type"),t=Symbol("Inbound Request Response"),r=Symbol("Inbound Request Context"),n=function(){return M((function n(i,o){P(this,n),this[e]=i,this[t]=void 0,this[r]=o}),[{key:"hasResponded",value:function(){return void 0!==this[t]}},{key:"getType",value:function(){return this[e]}},{key:"getContext",value:function(){return this[r]}}])}();function o(e,r,n){return r[t]=n,function(e){for(var r;e[u].length;){var n=e[u][0][t];if(void 0===n)break;e[u].shift(),r=e.push(n)}return r}(e)}function a(e){if(e[h]=null,0===e[l]){var t=e[u];if(t&&t.length){e[u]=[];var r,n=f(t);try{for(n.s();!(r=n.n()).done;)r.value.cb(new Error("No reply from server"))}catch(e){n.e(e)}finally{n.f()}}}try{e.end()}catch(e){}setImmediate((function(){e[b]||e.emit("end"),e[v]||e.emit("close")}))}function s(){this[v]=!0}function c(){this[b]=!0}var u=Symbol("Requests"),l=Symbol("Agent Protocol Role"),h=Symbol("Agent Protocol Buffer"),m=Symbol("Agent Protocol Current Message Length"),v=Symbol("Agent Protocol Closed"),b=Symbol("Agent Protocol Ended");return function(e){function t(e){var r;return P(this,t),(r=_(this,t,[{autoDestroy:!0,emitClose:!1}]))[l]=e?0:1,r[u]=[],r[h]=null,r[m]=-1,r.once("end",c),r.once("close",s),r}return C(t,e),M(t,[{key:"_read",value:function(e){}},{key:"_write",value:function(e,t,r){null===this[h]?this[h]=e:this[h]=function(e,t){var r=Buffer.allocUnsafe(e.length+t.length);return e.copy(r,0),t.copy(r,e.length),r}(this[h],e);for(var i=this[h],o=i.length,a=0;a<o&&!(o<5)&&(-1===this[m]&&(this[m]=g(i,a)),!(o<4+this[m]));){var s=i[a+=4];if(++a,0===this[l]){if(0===this[u].length)return r(new Error("Received unexpected message from server"));var c=this[u].shift();switch(s){case 5:c.cb(new Error("Agent responded with failure"));break;case 12:if(11!==c.type)return r(new Error("Agent responded with wrong message type"));A.init(i,a);var p=A.readUInt32BE();if(void 0===p)return A.clear(),r(new Error("Malformed agent response"));for(var f=[],y=0;y<p;++y){var v=A.readString();if(void 0===v)return A.clear(),r(new Error("Malformed agent response"));var b=A.readString(!0);if(void 0===b)return A.clear(),r(new Error("Malformed agent response"));(v=d(v))instanceof Error||(v.comment=v.comment||b,f.push(v))}a=A.pos(),A.clear(),c.cb(null,f);break;case 14:if(13!==c.type)return r(new Error("Agent responded with wrong message type"));A.init(i,a);var E=A.readString();if(a=A.pos(),A.clear(),void 0===E)return r(new Error("Malformed agent response"));if(A.init(E,0),A.readString(!0),E=A.readString(),A.clear(),void 0===E)return r(new Error("Malformed OpenSSH signature format"));c.cb(null,E);break;default:return r(new Error("Agent responded with unsupported message type"))}}else switch(s){case 11:var w=new n(s);this[u].push(w),this.emit("identities",w);break;case 13:A.init(i,a);var x=A.readString(),S=A.readString(),_=A.readUInt32BE();if(a=A.pos(),A.clear(),void 0===_){var k=new n(s);return this[u].push(k),this.failureReply(k)}if((x=d(x))instanceof Error){var I=new n(s);return this[u].push(I),this.failureReply(I)}var T={hash:void 0},C=void 0;"ssh-rsa"===x.type&&(2&_?(C="rsa-sha2-256",T.hash="sha256"):4&_&&(C="rsa-sha2-512",T.hash="sha512")),void 0===C&&(C=x.type);var O=new n(s,C);this[u].push(O),this.emit("sign",O,x,S,T);break;default:var N=new n(s);this[u].push(N),this.failureReply(N)}if(this[m]=-1,a===o){this[h]=null;break}this[h]=i=i.slice(a),o=i.length,a=0}r()}},{key:"_destroy",value:function(e,t){a(this),t()}},{key:"_final",value:function(e){a(this),e()}},{key:"sign",value:function(e,t,r,n){if(0!==this[l])throw new Error("Client-only method called with server role");"function"==typeof r?(n=r,r=void 0):"object"==D(r)&&null!==r||(r=void 0);var i=0;if((e=d(e))instanceof Error)throw new Error("Invalid public key argument");if("ssh-rsa"===e.type&&r)switch(r.hash){case"sha256":i=2;break;case"sha512":i=4}var o=(e=e.getPublicSSH()).length,a=t.length,s=0,c=Buffer.allocUnsafe(9+o+4+a+4);return y(c,c.length-4,s),c[s+=4]=13,y(c,o,++s),e.copy(c,s+=4),y(c,a,s+=o),t.copy(c,s+=4),y(c,i,s+=a),"function"!=typeof n&&(n=E),this[u].push({type:13,cb:n}),this.push(c)}},{key:"getIdentities",value:function(e){if(0!==this[l])throw new Error("Client-only method called with server role");var t=0,r=Buffer.allocUnsafe(5);return y(r,r.length-4,t),r[t+=4]=11,"function"!=typeof e&&(e=E),this[u].push({type:11,cb:e}),this.push(r)}},{key:"failureReply",value:function(e){if(1!==this[l])throw new Error("Server-only method called with client role");if(!(e instanceof n))throw new Error("Wrong request argument");if(e.hasResponded())return!0;var t=0,r=Buffer.allocUnsafe(5);return y(r,r.length-4,t),r[t+=4]=5,o(this,e,r)}},{key:"getIdentitiesReply",value:function(e,t){if(1!==this[l])throw new Error("Server-only method called with client role");if(!(e instanceof n))throw new Error("Wrong request argument");if(e.hasResponded())return!0;if(11!==e.getType())throw new Error("Invalid response to request");if(!Array.isArray(t))throw new Error("Keys argument must be an array");for(var r=4,i=[],a=0;a<t.length;++a){var s=t[a];if("object"!=D(s)||null===s)throw new Error("Invalid key entry: ".concat(s));var c=void 0,u=void 0;if(p(s))c=s;else if(p(s.pubKey))c=s.pubKey;else{var h;if("object"!=D(s.pubKey)||null===s.pubKey)continue;if(c=(h=s.pubKey).pubKey,u=h.comment,(c=d(c))instanceof Error)continue}u=c.comment||u,r+=4+(c=c.getPublicSSH()).length,u&&"string"==typeof u?u=Buffer.from(u):Buffer.isBuffer(u)||(u=w),r+=4+u.length,i.push({pubKey:c,comment:u})}var f=0,m=Buffer.allocUnsafe(5+r);y(m,m.length-4,f),m[f+=4]=12,y(m,i.length,++f),f+=4;for(var g=0;g<i.length;++g){var v=i[g],b=v.pubKey,E=v.comment;y(m,b.length,f),b.copy(m,f+=4),y(m,E.length,f+=b.length),f+=4,E.length&&(E.copy(m,f),f+=E.length)}return o(this,e,m)}},{key:"signReply",value:function(e,t){if(1!==this[l])throw new Error("Server-only method called with client role");if(!(e instanceof n))throw new Error("Wrong request argument");if(e.hasResponded())return!0;if(13!==e.getType())throw new Error("Invalid response to request");if(!Buffer.isBuffer(t))throw new Error("Signature argument must be a Buffer");if(0===t.length)throw new Error("Signature argument must be non-empty");var r=0,i=e.getContext(),a=Buffer.byteLength(i),s=Buffer.allocUnsafe(13+a+4+t.length);return y(s,s.length-4,r),s[r+=4]=14,y(s,4+a+4+t.length,++r),y(s,a,r+=4),s.utf8Write(i,r+=4,a),y(s,t.length,r+=a),t.copy(s,r+=4),o(this,e,s)}}])}(i)}(),L=Symbol("Agent"),q=Symbol("Agent Keys"),B=Symbol("Agent Keys Index"),j=Symbol("Agent Init Callbacks");function U(e){return e instanceof x}e.exports={AgentContext:function(){return M((function e(t){if(P(this,e),"string"==typeof t)t=O(t);else if(!U(t))throw new Error("Invalid agent argument");this[L]=t,this[q]=null,this[B]=-1,this[j]=null}),[{key:"init",value:function(e){var t=this;if("function"!=typeof e&&(e=E),null===this[q])if(null===this[j]){this[j]=[e];var r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];process.nextTick((function(){var e=t[j];t[j]=null;var n,i=f(e);try{for(i.s();!(n=i.n()).done;)n.value.apply(void 0,r)}catch(e){i.e(e)}finally{i.f()}}))};this[L].getIdentities(b((function(e,n){if(e)return r(e);if(!Array.isArray(n))return r(new Error("Agent implementation failed to provide keys"));var i,o=[],a=f(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;(s=d(s))instanceof Error||o.push(s)}}catch(e){a.e(e)}finally{a.f()}t[q]=o,t[B]=-1,r()})))}else this[j].push(e);else process.nextTick(e)}},{key:"nextKey",value:function(){return!(null===this[q]||++this[B]>=this[q].length)&&this[q][this[B]]}},{key:"currentKey",value:function(){return null===this[q]||this[B]>=this[q].length?null:this[q][this[B]]}},{key:"pos",value:function(){return null===this[q]||this[B]>=this[q].length?-1:this[B]}},{key:"reset",value:function(){this[B]=-1}},{key:"sign",value:function(){var e;(e=this[L]).sign.apply(e,arguments)}}])}(),AgentProtocol:N,BaseAgent:x,createAgent:O,CygwinAgent:I,isAgent:U,OpenSSHAgent:S,PageantAgent:k}},1818:function(e,t,r){"use strict";var n=r(6982),i=n.createHash,o=n.getHashes,a=n.randomFillSync,s=r(9278).Socket,c=r(2250).lookup,l=r(4434),p=o(),d=r(2535),h=d.COMPAT,g=d.CHANNEL_EXTENDED_DATATYPE.STDERR,y=d.CHANNEL_OPEN_FAILURE,v=d.DEFAULT_CIPHER,b=d.DEFAULT_COMPRESSION,E=d.DEFAULT_KEX,w=d.DEFAULT_MAC,A=d.DEFAULT_SERVER_HOST_KEY,x=d.DISCONNECT_REASON,S=d.DISCONNECT_REASON_BY_VALUE,k=d.SUPPORTED_CIPHER,I=d.SUPPORTED_COMPRESSION,T=d.SUPPORTED_KEX,O=d.SUPPORTED_MAC,N=d.SUPPORTED_SERVER_HOST_KEY,R=r(7785).init,L=r(6008),q=r(8946).parseKey,B=r(4261).SFTP,j=r(5623),U=j.bufferCopy,F=j.makeBufferParser,z=j.makeError,H=j.readUInt32BE,Q=j.sigSSHToASN1,G=j.writeUInt32BE,K=r(7852),$=K.AgentContext,W=K.createAgent,V=K.isAgent,Y=r(7838),X=Y.Channel,J=Y.MAX_WINDOW,Z=Y.PACKET_SIZE,ee=Y.windowAdjust,te=Y.WINDOW_THRESHOLD,re=r(9100),ne=re.ChannelManager,ie=re.generateAlgorithmList,oe=re.isWritable,ae=re.onChannelOpenFailure,se=re.onCHANNEL_CLOSE,ce=F(),ue=F(),le=/^OpenSSH_(?:(?![0-4])\d)|(?:\d{2,})/,pe=function(e){};function de(e,t,r,n){var i=J,o=Z;"function"==typeof r&&(n=r,r={});var a=function(e,t){n(e,t)};a.type=t;var s=e._chanMgr.add(a);if(-1!==s)switch(t){case"session":case"sftp":e._protocol.session(s,i,o);break;case"direct-tcpip":e._protocol.directTcpip(s,i,o,r);break;case"direct-streamlocal@openssh.com":e._protocol.openssh_directStreamLocal(s,i,o,r);break;default:throw new Error("Unsupported channel type: ".concat(t))}else n(new Error("No free channels available"))}function he(e,t,r){var n={single:!1,protocol:"MIT-MAGIC-COOKIE-1",cookie:void 0,screen:0};"function"==typeof t?r=t:"object"==D(t)&&null!==t&&("boolean"==typeof t.single&&(n.single=t.single),"number"==typeof t.screen&&(n.screen=t.screen),"string"==typeof t.protocol&&(n.protocol=t.protocol),"string"==typeof t.cookie?n.cookie=t.cookie:Buffer.isBuffer(t.cookie)&&(n.cookie=t.cookie.hexSlice(0,t.cookie.length))),void 0===n.cookie&&(n.cookie=ve());var i="function"==typeof r;"open"===e.outgoing.state?(i&&e._callbacks.push((function(t){t?r(!0!==t?t:new Error("Unable to request X11")):(e._hasX11=!0,++e._client._acceptX11,e.once("close",(function(){e._client._acceptX11&&--e._client._acceptX11})),r())})),e._client._protocol.x11Forward(e.outgoing.id,n,i)):i&&r(new Error("Channel is not open"))}function fe(e,t,r){var n=24,i=80,o=640,a=480,s="vt100",c=null;"function"==typeof t?r=t:"object"==D(t)&&null!==t&&("number"==typeof t.rows&&(n=t.rows),"number"==typeof t.cols&&(i=t.cols),"number"==typeof t.width&&(o=t.width),"number"==typeof t.height&&(a=t.height),"string"==typeof t.term&&(s=t.term),"object"==D(t.modes)&&(c=t.modes));var u="function"==typeof r;"open"===e.outgoing.state?(u&&e._callbacks.push((function(e){e?r(!0!==e?e:new Error("Unable to request a pseudo-terminal")):r()})),e._client._protocol.pty(e.outgoing.id,n,i,a,o,s,c,u)):u&&r(new Error("Channel is not open"))}function me(e,t){var r="function"==typeof t;"open"===e.outgoing.state?e._client._agentFwdEnabled?r&&t(!1):(e._client._agentFwdEnabled=!0,e._callbacks.push((function(n){if(n)return e._client._agentFwdEnabled=!1,void(r&&t(!0!==n?n:new Error("Unable to request agent forwarding")));r&&t()})),e._client._protocol.openssh_agentForward(e.outgoing.id,!0)):r&&t(new Error("Channel is not open"))}function ge(e,t){if("open"===e.outgoing.state)for(var r=Object.keys(t||{}),n=0;n<r.length;++n){var i=r[n],o=t[i];e._client._protocol.env(e.outgoing.id,i,o,!1)}}function ye(e,t,r){"open"===e.outgoing.state?(e._callbacks.push((function(n){n?r(!0!==n?n:new Error("Unable to start subsystem: ".concat(t))):(e.subtype="subsystem",r(void 0,e))})),e._client._protocol.subsystem(e.outgoing.id,t,!0)):r(new Error("Channel is not open"))}var ve=function(){var e=Buffer.allocUnsafe(16);return function(){return a(e,0,16),e.hexSlice(0,16)}}();function be(e){if(!Array.isArray(e))throw new Error("authList must be an array");var t=0;return function(r,n,i){return t!==e.length&&e[t++]}}function Ee(e,t,r){if("ssh-rsa"===t.type){if(e._protocol._compatFlags&h.IMPLY_RSA_SHA2_SIGALGS&&(r=Array.isArray(r)?["rsa-sha2-256","rsa-sha2-512"].concat(m(r)):["rsa-sha2-256","rsa-sha2-512"]),Array.isArray(r)){if(-1!==r.indexOf("rsa-sha2-256"))return[["rsa-sha2-256","sha256"]];if(-1!==r.indexOf("rsa-sha2-512"))return[["rsa-sha2-512","sha512"]];if(-1===r.indexOf("ssh-rsa"))return[]}return[["ssh-rsa","sha1"]]}}e.exports=function(e){function t(){var e;return P(this,t),(e=_(this,t)).config={host:void 0,port:void 0,localAddress:void 0,localPort:void 0,forceIPv4:void 0,forceIPv6:void 0,keepaliveCountMax:void 0,keepaliveInterval:void 0,readyTimeout:void 0,ident:void 0,username:void 0,password:void 0,privateKey:void 0,tryKeyboard:void 0,agent:void 0,allowAgentFwd:void 0,authHandler:void 0,hostHashAlgo:void 0,hostHashCb:void 0,strictVendor:void 0,debug:void 0},e._agent=void 0,e._readyTimeout=void 0,e._chanMgr=void 0,e._callbacks=void 0,e._forwarding=void 0,e._forwardingUnix=void 0,e._acceptX11=void 0,e._agentFwdEnabled=void 0,e._remoteVer=void 0,e._protocol=void 0,e._sock=void 0,e._resetKA=void 0,e}return C(t,e),M(t,[{key:"connect",value:function(e){var t=this;if(this._sock&&oe(this._sock))return this.once("close",(function(){t.connect(e)})),this.end(),this;this.config.host=e.hostname||e.host||"localhost",this.config.port=e.port||22,this.config.localAddress="string"==typeof e.localAddress?e.localAddress:void 0,this.config.localPort="string"==typeof e.localPort||"number"==typeof e.localPort?e.localPort:void 0,this.config.forceIPv4=e.forceIPv4||!1,this.config.forceIPv6=e.forceIPv6||!1,this.config.keepaliveCountMax="number"==typeof e.keepaliveCountMax&&e.keepaliveCountMax>=0?e.keepaliveCountMax:3,this.config.keepaliveInterval="number"==typeof e.keepaliveInterval&&e.keepaliveInterval>0?e.keepaliveInterval:0,this.config.readyTimeout="number"==typeof e.readyTimeout&&e.readyTimeout>=0?e.readyTimeout:2e4,this.config.ident="string"==typeof e.ident||Buffer.isBuffer(e.ident)?e.ident:void 0;var r={kex:void 0,serverHostKey:void 0,cs:{cipher:void 0,mac:void 0,compress:void 0,lang:[]},sc:void 0},n=!0;if("object"==D(e.algorithms)&&null!==e.algorithms&&(r.kex=ie(e.algorithms.kex,E,T),r.kex!==E&&(n=!1),r.serverHostKey=ie(e.algorithms.serverHostKey,A,N),r.serverHostKey!==A&&(n=!1),r.cs.cipher=ie(e.algorithms.cipher,v,k),r.cs.cipher!==v&&(n=!1),r.cs.mac=ie(e.algorithms.hmac,w,O),r.cs.mac!==w&&(n=!1),r.cs.compress=ie(e.algorithms.compress,b,I),r.cs.compress!==b&&(n=!1),n||(r.sc=r.cs)),"string"==typeof e.username)this.config.username=e.username;else{if("string"!=typeof e.user)throw new Error("Invalid username");this.config.username=e.user}this.config.password="string"==typeof e.password?e.password:void 0,this.config.privateKey="string"==typeof e.privateKey||Buffer.isBuffer(e.privateKey)?e.privateKey:void 0,this.config.localHostname="string"==typeof e.localHostname?e.localHostname:void 0,this.config.localUsername="string"==typeof e.localUsername?e.localUsername:void 0,this.config.tryKeyboard=!0===e.tryKeyboard,"string"==typeof e.agent&&e.agent.length?this.config.agent=W(e.agent):V(e.agent)?this.config.agent=e.agent:this.config.agent=void 0,this.config.allowAgentFwd=!0===e.agentForward&&void 0!==this.config.agent;var o=this.config.authHandler="function"==typeof e.authHandler||Array.isArray(e.authHandler)?e.authHandler:void 0;this.config.strictVendor="boolean"!=typeof e.strictVendor||e.strictVendor;var a=this.config.debug="function"==typeof e.debug?e.debug:void 0;if(!0===e.agentForward&&!this.config.allowAgentFwd)throw new Error("You must set a valid agent path to allow agent forwarding");var l,d,h=this._callbacks=[];if(this._chanMgr=new ne(this),this._forwarding={},this._forwardingUnix={},this._acceptX11=0,this._agentFwdEnabled=!1,this._agent=this.config.agent?this.config.agent:void 0,this._remoteVer=void 0,this.config.privateKey){if((l=q(this.config.privateKey,e.passphrase))instanceof Error)throw new Error("Cannot parse privateKey: ".concat(l.message));if(Array.isArray(l)&&(l=l[0]),null===l.getPrivatePEM())throw new Error("privateKey value does not contain a (valid) private key")}if("function"==typeof e.hostVerifier){var m,_=e.hostVerifier;-1!==p.indexOf(e.hostHash)&&(m=i(e.hostHash)),d=function(e,t){m&&(m.update(e),e=m.digest("hex"));var r=_(e,t);void 0!==r&&t(r)}}var C=this._sock=e.sock||new s,P=!1,M=!1;this._protocol&&this._protocol.cleanup();var j,F=a?function(e,t,r){a("Debug output from server: ".concat(JSON.stringify(r)))}:void 0,H=this._protocol=new L({ident:this.config.ident,offer:n?void 0:r,onWrite:function(e){oe(C)&&C.write(e)},onError:function(e){"handshake"===e.level&&clearTimeout(t._readyTimeout),H._destruct||C.removeAllListeners("data"),t.emit("error",e);try{C.end()}catch(e){}},onHeader:function(e){M=!0,t._remoteVer=e.versions.software,e.greeting&&t.emit("greeting",e.greeting)},onHandshakeComplete:function(e){t.emit("handshake",e),P||(P=!0,H.service("ssh-userauth"))},debug:a,hostVerifier:d,messageHandlers:{DEBUG:F,DISCONNECT:function(e,r,n){if(r!==x.BY_APPLICATION){n||void 0===(n=S[r])&&(n="Unexpected disconnection reason: ".concat(r));var i=new Error(n);i.code=r,t.emit("error",i)}C.end()},SERVICE_ACCEPT:function(e,t){"ssh-userauth"===t&&Ie()},EXT_INFO:function(e,t){if(void 0===j){var r,n=f(t);try{for(n.s();!(r=n.n()).done;){var i=r.value;if("server-sig-algs"===i.name)return void(j=i.algs)}}catch(e){n.e(e)}finally{n.f()}j=null}},USERAUTH_BANNER:function(e,r){t.emit("banner",r)},USERAUTH_SUCCESS:function(e){fe(),clearTimeout(t._readyTimeout),t.emit("ready")},USERAUTH_FAILURE:function(e,r,n){if(me.keyAlgos){var i=me.keyAlgos[0][0];if(a&&a("Client: ".concat(me.type," (").concat(i,") auth failed")),me.keyAlgos.shift(),me.keyAlgos.length){var o=u(me.keyAlgos[0],2),s=o[0],c=o[1];switch(me.type){case"agent":return void H.authPK(me.username,me.agentCtx.currentKey(),s);case"publickey":return void H.authPK(me.username,me.key,s);case"hostbased":return void H.authHostbased(me.username,me.key,me.localHostname,me.localUsername,s,(function(e,r){var n=me.key.sign(e,c);if(n instanceof Error)return n.message="Error while signing with key: ".concat(n.message),n.level="client-authentication",t.emit("error",n),Ie();r(n)}))}}else me.keyAlgos=void 0}if("agent"===me.type){var l=me.agentCtx.pos();return a&&a("Client: Agent key #".concat(l+1," failed")),Te()}a&&a("Client: ".concat(me.type," auth failed")),we=n,Ae=r,Ie()},USERAUTH_PASSWD_CHANGEREQ:function(e,r){"password"===me.type&&t.emit("change password",r,(function(e){H.authPassword(t.config.username,t.config.password,e)}))},USERAUTH_PK_OK:function(e){var r,n,i;if(me.keyAlgos&&(n=(r=u(me.keyAlgos[0],2))[0],i=r[1]),"agent"===me.type){var o=me.agentCtx.currentKey();H.authPK(me.username,o,n,(function(e,r){var n={hash:i};me.agentCtx.sign(o,e,n,(function(e,n){if(!e)return r(n);e.level="agent",t.emit("error",e),Te()}))}))}else"publickey"===me.type&&H.authPK(me.username,me.key,n,(function(e,r){var n=me.key.sign(e,i);if(n instanceof Error)return n.message="Error signing data with key: ".concat(n.message),n.level="client-authentication",t.emit("error",n),Ie();r(n)}))},USERAUTH_INFO_REQUEST:function(e,t,r,n){if("keyboard-interactive"===me.type){if(0===(Array.isArray(n)?n.length:0))return a&&a("Client: Sending automatic USERAUTH_INFO_RESPONSE"),void H.authInfoRes();me.prompt(t,r,"",n,(function(e){H.authInfoRes(e)}))}},REQUEST_SUCCESS:function(e,t){h.length&&h.shift()(!1,t)},REQUEST_FAILURE:function(e){h.length&&h.shift()(!0)},GLOBAL_REQUEST:function(e,r,n,i){"hostkeys-00@openssh.com"===r?(function(e,t,r){if(e._sock&&oe(e._sock)){if("function"!=typeof r&&(r=pe),!Array.isArray(t))throw new TypeError("Invalid keys argument type");var n,i=[],o=f(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=q(a);if(s instanceof Error)throw s;i.push(s)}}catch(e){o.e(e)}finally{o.f()}if(!e.config.strictVendor||e.config.strictVendor&&le.test(e._remoteVer))return e._callbacks.push((function(t,n){if(t)r(!0!==t?t:new Error("Server failed to prove supplied keys"));else{var o=[],a=0;for(ce.init(n,0);ce.avail()&&a!==i.length;){var s=i[a++],c=s.getPublicSSH(),u=ce.readString();ue.init(u,0);var l=ue.readString(!0),p=void 0,d=ue.readString();if(l!==s.type){if("ssh-rsa"!==s.type)continue;switch(l){case"rsa-sha2-256":p="sha256";break;case"rsa-sha2-512":p="sha512";break;default:continue}}var h=e._protocol._kex.sessionID,f=Buffer.allocUnsafe(37+h.length+4+c.length),m=0;G(f,29,m),f.utf8Write("hostkeys-prove-00@openssh.com",m+=4,29),G(f,h.length,m+=29),U(h,f,0,h.length,m+=4),G(f,c.length,m+=h.length),U(c,f,0,c.length,m+=4),(d=Q(d,l))&&!0===s.verify(f,d,p)&&o.push(s)}ue.clear(),ce.clear(),r(null,o)}})),void e._protocol.openssh_hostKeysProve(i);process.nextTick(r,new Error("strictVendor enabled and server is not OpenSSH or compatible version"))}}(t,i,(function(e,r){e||t.emit("hostkeys",r)})),n&&H.requestSuccess()):n&&H.requestFailure()},CHANNEL_OPEN:function(e,r){!function(e,t){var r,n=-1,i=function(){var r={type:t.type,incoming:{id:n,window:J,packetSize:Z,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},i=new X(e,r);return e._chanMgr.update(n,i),e._protocol.channelOpenConfirm(t.sender,n,J,Z),i},o=function(){void 0===r&&(r=-1===n?y.RESOURCE_SHORTAGE:y.CONNECT_FAILED),-1!==n&&e._chanMgr.remove(n),e._protocol.channelOpenFail(t.sender,r,"")},a=function(){return-1===(n=e._chanMgr.add())&&(r=y.RESOURCE_SHORTAGE,e.config.debug&&e.config.debug("Client: Automatic rejection of incoming channel open: no channels available")),-1!==n},s=t.data;switch(t.type){case"forwarded-tcpip":var c=e._forwarding["".concat(s.destIP,":").concat(s.destPort)];if(void 0!==c&&a())return 0===s.destPort&&(s.destPort=c),void e.emit("tcp connection",s,i,o);break;case"forwarded-streamlocal@openssh.com":if(void 0!==e._forwardingUnix[s.socketPath]&&a())return void e.emit("unix connection",s,i,o);break;case"auth-agent@openssh.com":if(e._agentFwdEnabled&&"function"==typeof e._agent.getStream&&a())return void e._agent.getStream((function(e,t){if(e)return o();var r=i();r.pipe(t).pipe(r)}));break;case"x11":if(0!==e._acceptX11&&a())return void e.emit("x11",s,i,o);break;default:r=y.UNKNOWN_CHANNEL_TYPE,e.config.debug&&e.config.debug("Client: Automatic rejection of unsupported incoming channel open type: ".concat(t.type))}void 0===r&&(r=y.ADMINISTRATIVELY_PROHIBITED,e.config.debug&&e.config.debug("Client: Automatic rejection of unexpected incoming channel open for: "+t.type)),o()}(t,r)},CHANNEL_OPEN_CONFIRMATION:function(e,r){var n=t._chanMgr.get(r.recipient);if("function"==typeof n){var i="sftp"===n.type,o={type:i?"session":n.type,incoming:{id:r.recipient,window:J,packetSize:Z,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}},s=i?new B(t,o,{debug:a}):new X(t,o);t._chanMgr.update(r.recipient,s),n(void 0,s)}},CHANNEL_OPEN_FAILURE:function(e,r,n,i){var o=t._chanMgr.get(r);"function"==typeof o&&ae(t,r,{reason:n,description:i},o)},CHANNEL_DATA:function(e,r,n){var i=t._chanMgr.get(r);"object"==D(i)&&null!==i&&0!==i.incoming.window&&(i.incoming.window-=n.length,!1!==i.push(n)?i.incoming.window<=te&&ee(i):i._waitChanDrain=!0)},CHANNEL_EXTENDED_DATA:function(e,r,n,i){if(i===g){var o=t._chanMgr.get(r);"object"==D(o)&&null!==o&&0!==o.incoming.window&&(o.incoming.window-=n.length,o.stderr.push(n)?o.incoming.window<=te&&ee(o):o._waitChanDrain=!0)}},CHANNEL_WINDOW_ADJUST:function(e,r,n){var i=t._chanMgr.get(r);"object"==D(i)&&null!==i&&(i.outgoing.window+=n,i._waitWindow&&(i._waitWindow=!1,i._chunk?i._write(i._chunk,null,i._chunkcb):i._chunkcb?i._chunkcb():i._chunkErr?i.stderr._write(i._chunkErr,null,i._chunkcbErr):i._chunkcbErr&&i._chunkcbErr()))},CHANNEL_SUCCESS:function(e,r){var n=t._chanMgr.get(r);"object"==D(n)&&null!==n&&(t._resetKA(),n._callbacks.length&&n._callbacks.shift()(!1))},CHANNEL_FAILURE:function(e,r){var n=t._chanMgr.get(r);"object"==D(n)&&null!==n&&(t._resetKA(),n._callbacks.length&&n._callbacks.shift()(!0))},CHANNEL_REQUEST:function(e,r,n,i,o){var a=t._chanMgr.get(r);if("object"==D(a)&&null!==a){var s=a._exit;if(void 0===s.code){switch(n){case"exit-status":return void a.emit("exit",s.code=o);case"exit-signal":return void a.emit("exit",s.code=null,s.signal="SIG".concat(o.signal),s.dump=o.coreDumped,s.desc=o.errorMessage)}i&&e.channelFailure(a.outgoing.id)}}},CHANNEL_EOF:function(e,r){var n=t._chanMgr.get(r);"object"==D(n)&&null!==n&&"open"===n.incoming.state&&(n.incoming.state="eof",n.readable&&n.push(null),n.stderr.readable&&n.stderr.push(null))},CHANNEL_CLOSE:function(e,r){se(t,r,t._chanMgr.get(r))}}});C.pause();var K,Y=this.config.keepaliveInterval,re=this.config.keepaliveCountMax,de=0,he=function(){if(++de>re){if(clearInterval(K),C.readable){var e=new Error("Keepalive timeout");e.level="client-timeout",t.emit("error",e),C.destroy()}}else oe(C)?(h.push(fe),H.ping()):clearInterval(K)};function fe(){Y>0&&(de=0,clearInterval(K),oe(C)&&(K=setInterval(he,Y)))}this._resetKA=fe;var me,ge=function(){var e=!1;return function(){if(!e&&(e=!0,ve&&!M)){var r=z("Connection lost before handshake","protocol",!0);t.emit("error",r)}}}(),ye=function(){var e=!1;return function(){e||(e=!0,ve=!0,a&&a("Socket connected"),t.emit("connect"),R.then((function(){H.start(),C.on("data",(function(e){try{H.parse(e,0,e.length)}catch(e){t.emit("error",e);try{oe(C)&&C.end()}catch(e){}}})),C.stderr&&"function"==typeof C.stderr.resume&&C.stderr.resume(),C.resume()})).catch((function(e){t.emit("error",e);try{oe(C)&&C.end()}catch(e){}})))}}(),ve=!1;C.on("connect",ye).on("timeout",(function(){t.emit("timeout")})).on("error",(function(e){a&&a("Socket error: ".concat(e.message)),clearTimeout(t._readyTimeout),e.level="client-socket",t.emit("error",e)})).on("end",(function(){a&&a("Socket ended"),ge(),H.cleanup(),clearTimeout(t._readyTimeout),clearInterval(K),t.emit("end")})).on("close",(function(){a&&a("Socket closed"),ge(),H.cleanup(),clearTimeout(t._readyTimeout),clearInterval(K),t.emit("close");var e=h;h=t._callbacks=[];for(var r=new Error("No response from server"),n=0;n<e.length;++n)e[n](r);t._chanMgr.cleanup(r)}));var we=null,Ae=null,xe=["none"];void 0!==this.config.password&&xe.push("password"),void 0!==l&&xe.push("publickey"),void 0!==this._agent&&xe.push("agent"),this.config.tryKeyboard&&xe.push("keyboard-interactive"),void 0!==l&&void 0!==this.config.localHostname&&void 0!==this.config.localUsername&&xe.push("hostbased"),Array.isArray(o)?o=be(o):"function"!=typeof o&&(o=be(xe));var Se=!1,_e=function(e){if(!Se){if(Se=!0,!1===e){var r=new Error("All configured authentication methods failed");return r.level="client-authentication",t.emit("error",r),void t.end()}if("string"==typeof e){var n=e;if(-1===xe.indexOf(n))return ke("Authentication method not allowed: ".concat(n));var i=t.config.username;switch(n){case"password":e={type:n,username:i,password:t.config.password};break;case"publickey":e={type:n,username:i,key:l};break;case"hostbased":e={type:n,username:i,key:l,localHostname:t.config.localHostname,localUsername:t.config.localUsername};break;case"agent":e={type:n,username:i,agentCtx:new $(t._agent)};break;case"keyboard-interactive":e={type:n,username:i,prompt:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.emit.apply(t,["keyboard-interactive"].concat(r))}};break;case"none":e={type:n,username:i};break;default:return ke("Skipping unsupported authentication method: ".concat(e))}}else{if("object"!=D(e)||null===e)return ke("Skipping invalid authentication attempt: ".concat(e));var o=e.username;if("string"!=typeof o)return ke("Skipping invalid authentication attempt: ".concat(e));var a=e.type;switch(a){case"password":var s=e.password;if("string"!=typeof s&&!Buffer.isBuffer(s))return ke("Skipping invalid password auth attempt");e={type:a,username:o,password:s};break;case"publickey":var c=q(e.key,e.passphrase);if(c instanceof Error)return ke("Skipping invalid key auth attempt");if(!c.isPrivateKey())return ke("Skipping non-private key");e={type:a,username:o,key:c};break;case"hostbased":var p=e,d=p.localHostname,h=p.localUsername,f=q(e.key,e.passphrase);if(f instanceof Error||"string"!=typeof d||"string"!=typeof h)return ke("Skipping invalid hostbased auth attempt");if(!f.isPrivateKey())return ke("Skipping non-private key");e={type:a,username:o,key:f,localHostname:d,localUsername:h};break;case"agent":var m=e.agent;if("string"==typeof m&&m.length)m=W(m);else if(!V(m))return ke("Skipping invalid agent: ".concat(e.agent));e={type:a,username:o,agentCtx:new $(m)};break;case"keyboard-interactive":var g=e.prompt;if("function"!=typeof g)return ke("Skipping invalid keyboard-interactive auth attempt");e={type:a,username:o,prompt:g};break;case"none":e={type:a,username:o};break;default:return ke("Skipping unsupported authentication method: ".concat(e))}}me=e;try{var y=me.username;switch(me.type){case"password":H.authPassword(y,me.password);break;case"publickey":var v;if(me.keyAlgos=Ee(t,me.key,j),me.keyAlgos){if(!me.keyAlgos.length)return ke("Skipping key authentication (no mutual hash algorithm)");v=me.keyAlgos[0][0]}H.authPK(y,me.key,v);break;case"hostbased":var b,E;if(me.keyAlgos=Ee(t,me.key,j),me.keyAlgos){if(!me.keyAlgos.length)return ke("Skipping hostbased authentication (no mutual hash algorithm)");var w=u(me.keyAlgos[0],2);b=w[0],E=w[1]}H.authHostbased(y,me.key,me.localHostname,me.localUsername,b,(function(e,r){var n=me.key.sign(e,E);if(n instanceof Error)return n.message="Error while signing with key: ".concat(n.message),n.level="client-authentication",t.emit("error",n),Ie();r(n)}));break;case"agent":me.agentCtx.init((function(e){if(e)return e.level="agent",t.emit("error",e),Ie();Te()}));break;case"keyboard-interactive":H.authKeyboard(y);break;case"none":H.authNone(y)}}finally{Se=!1}}};function ke(e){a&&a(e),process.nextTick(Ie)}function Ie(){Se=!1;var e=o(Ae,we,_e);Se||void 0===e||_e(e)}var Te=function(){if("agent"===me.type){var e=me.agentCtx.nextKey();if(!1===e)a&&a("Agent: No more keys left to try"),a&&a("Client: agent auth failed"),Ie();else{var r,n=me.agentCtx.pos();if(me.keyAlgos=Ee(t,e,j),me.keyAlgos){if(!me.keyAlgos.length)return a&&a("Agent: Skipping key #".concat(n+1," (no mutual hash algorithm)")),void Te();r=me.keyAlgos[0][0]}a&&a("Agent: Trying key #".concat(n+1)),H.authPK(me.username,e,r)}}},Ce=function(){t.config.readyTimeout>0&&(t._readyTimeout=setTimeout((function(){var e=new Error("Timed out while waiting for handshake");e.level="client-timeout",t.emit("error",e),C.destroy()}),t.config.readyTimeout))};if(e.sock)Ce(),"boolean"==typeof C.connecting&&C.connecting||ye();else{var Oe=this.config.host,Ne=this.config.forceIPv4,Re=this.config.forceIPv6;a&&a("Client: Trying ".concat(Oe," on port ").concat(this.config.port," ..."));var Pe=function(){Ce(),C.connect({host:Oe,port:t.config.port,localAddress:t.config.localAddress,localPort:t.config.localPort}),C.setMaxListeners(0),C.setTimeout("number"==typeof e.timeout?e.timeout:0)};!Ne&&!Re||Ne&&Re?Pe():c(Oe,Ne?4:6,(function(e,r,n){if(e){var i=new Error("Error while looking up ".concat(Ne?"IPv4":"IPv6"," address for '").concat(Oe,"': ").concat(e));return clearTimeout(t._readyTimeout),i.level="client-dns",t.emit("error",i),void t.emit("close")}Oe=r,Pe()}))}return this}},{key:"end",value:function(){return this._sock&&oe(this._sock)&&(this._protocol.disconnect(x.BY_APPLICATION),this._sock.end()),this}},{key:"destroy",value:function(){return this._sock&&oe(this._sock)&&this._sock.destroy(),this}},{key:"exec",value:function(e,t,r){var n=this;if(!this._sock||!oe(this._sock))throw new Error("Not connected");return"function"==typeof t&&(r=t,t={}),de(this,"session",{allowHalfOpen:!1!==t.allowHalfOpen},(function(i,o){if(i)r(i);else{var a=[];(!0===n.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==n._agent)&&a.push((function(){return me(o,s)})),"object"==D(t)&&null!==t&&("object"==D(t.env)&&null!==t.env&&ge(o,t.env),("object"==D(t.pty)&&null!==t.pty||!0===t.pty)&&a.push((function(){return fe(o,t.pty,s)})),("object"==D(t.x11)&&null!==t.x11||"number"===t.x11||!0===t.x11)&&a.push((function(){return he(o,t.x11,s)}))),a.push((function(){return function(e,t,r,n){"open"===e.outgoing.state?(e._callbacks.push((function(t){t?n(!0!==t?t:new Error("Unable to exec")):(e.subtype="exec",e.allowHalfOpen=!1!==r.allowHalfOpen,n(void 0,e))})),e._client._protocol.exec(e.outgoing.id,t,!0)):n(new Error("Channel is not open"))}(o,e,t,r)})),a.shift()()}function s(e){if(e)return o.close(),void r(e);a.length&&a.shift()()}})),this}},{key:"shell",value:function(e,t,r){var n=this;if(!this._sock||!oe(this._sock))throw new Error("Not connected");return"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),!e||void 0===e.x11&&void 0===e.env||(t=e,e=void 0),de(this,"session",(function(i,o){if(i)r(i);else{var a=[];(!0===n.config.allowAgentFwd||t&&!0===t.agentForward&&void 0!==n._agent)&&a.push((function(){return me(o,s)})),!1!==e&&a.push((function(){return fe(o,e,s)})),"object"==D(t)&&null!==t&&("object"==D(t.env)&&null!==t.env&&ge(o,t.env),("object"==D(t.x11)&&null!==t.x11||"number"===t.x11||!0===t.x11)&&a.push((function(){return he(o,t.x11,s)}))),a.push((function(){return function(e,t){"open"===e.outgoing.state?(e._callbacks.push((function(r){r?t(!0!==r?r:new Error("Unable to open shell")):(e.subtype="shell",t(void 0,e))})),e._client._protocol.shell(e.outgoing.id,!0)):t(new Error("Channel is not open"))}(o,r)})),a.shift()()}function s(e){if(e)return o.close(),void r(e);a.length&&a.shift()()}})),this}},{key:"subsys",value:function(e,t){if(!this._sock||!oe(this._sock))throw new Error("Not connected");return de(this,"session",(function(r,n){r?t(r):ye(n,e,(function(e,r){e?t(e):t(void 0,r)}))})),this}},{key:"forwardIn",value:function(e,t,r){var n=this;if(!this._sock||!oe(this._sock))throw new Error("Not connected");var i="function"==typeof r;return i&&this._callbacks.push((function(i,o){if(i)r(!0!==i?i:new Error("Unable to bind to ".concat(e,":").concat(t)));else{var a=t;0===t&&o&&o.length>=4&&(a=H(o,0),n._protocol._compatFlags&h.DYN_RPORT_BUG||(t=a)),n._forwarding["".concat(e,":").concat(t)]=a,r(void 0,a)}})),this._protocol.tcpipForward(e,t,i),this}},{key:"unforwardIn",value:function(e,t,r){var n=this;if(!this._sock||!oe(this._sock))throw new Error("Not connected");var i="function"==typeof r;return i&&this._callbacks.push((function(i){i?r(!0!==i?i:new Error("Unable to unbind from ".concat(e,":").concat(t))):(delete n._forwarding["".concat(e,":").concat(t)],r())})),this._protocol.cancelTcpipForward(e,t,i),this}},{key:"forwardOut",value:function(e,t,r,n,i){if(!this._sock||!oe(this._sock))throw new Error("Not connected");return"function"!=typeof i&&(i=pe),de(this,"direct-tcpip",{srcIP:e,srcPort:t,dstIP:r,dstPort:n},i),this}},{key:"openssh_noMoreSessions",value:function(e){if(!this._sock||!oe(this._sock))throw new Error("Not connected");var t="function"==typeof e;return!this.config.strictVendor||this.config.strictVendor&&le.test(this._remoteVer)?(t&&this._callbacks.push((function(t){t?e(!0!==t?t:new Error("Unable to disable future sessions")):e()})),this._protocol.openssh_noMoreSessions(t),this):t?(process.nextTick(e,new Error("strictVendor enabled and server is not OpenSSH or compatible version")),this):this}},{key:"openssh_forwardInStreamLocal",value:function(e,t){var r=this;if(!this._sock||!oe(this._sock))throw new Error("Not connected");var n="function"==typeof t;return!this.config.strictVendor||this.config.strictVendor&&le.test(this._remoteVer)?(n&&this._callbacks.push((function(n){n?t(!0!==n?n:new Error("Unable to bind to ".concat(e))):(r._forwardingUnix[e]=!0,t())})),this._protocol.openssh_streamLocalForward(e,n),this):n?(process.nextTick(t,new Error("strictVendor enabled and server is not OpenSSH or compatible version")),this):this}},{key:"openssh_unforwardInStreamLocal",value:function(e,t){var r=this;if(!this._sock||!oe(this._sock))throw new Error("Not connected");var n="function"==typeof t;return!this.config.strictVendor||this.config.strictVendor&&le.test(this._remoteVer)?(n&&this._callbacks.push((function(n){n?t(!0!==n?n:new Error("Unable to unbind from ".concat(e))):(delete r._forwardingUnix[e],t())})),this._protocol.openssh_cancelStreamLocalForward(e,n),this):n?(process.nextTick(t,new Error("strictVendor enabled and server is not OpenSSH or compatible version")),this):this}},{key:"openssh_forwardOutStreamLocal",value:function(e,t){if(!this._sock||!oe(this._sock))throw new Error("Not connected");return"function"!=typeof t&&(t=pe),!this.config.strictVendor||this.config.strictVendor&&le.test(this._remoteVer)?(de(this,"direct-streamlocal@openssh.com",{socketPath:e},t),this):(process.nextTick(t,new Error("strictVendor enabled and server is not OpenSSH or compatible version")),this)}},{key:"sftp",value:function(e){if(!this._sock||!oe(this._sock))throw new Error("Not connected");return de(this,"sftp",(function(t,r){t?e(t):ye(r,"sftp",(function(t,n){function i(){r.removeListener("ready",o),r.removeListener("error",a),r.removeListener("exit",s),r.removeListener("close",s)}function o(){i(),e(void 0,r)}function a(t){i(),e(t)}function s(t,r){var n;i(),n="number"==typeof t?"Received exit code ".concat(t," while establishing SFTP session"):void 0!==r?"Received signal ".concat(r," while establishing SFTP session"):"Received unexpected SFTP session termination";var o=new Error(n);o.code=t,o.signal=r,e(o)}t?e(t):(r.on("ready",o).on("error",a).on("exit",s).on("close",s),r._init())}))})),this}},{key:"setNoDelay",value:function(e){return this._sock&&"function"==typeof this._sock.setNoDelay&&this._sock.setNoDelay(e),this}}])}(l)},1980:function(e,t,r){"use strict";for(var n,i=r(8611).Agent,o=r(5692).Agent,a=r(4756).connect,s=function(){var e=u[c],o=function(t){function i(e,t){var r;return P(this,i),(r=_(this,i,[t]))._connectCfg=e,r._defaultSrcIP=t&&t.srcIP||"localhost",r}return C(i,t),M(i,[{key:"createConnection",value:function(t,i){var o=t&&t.localAddress||this._defaultSrcIP,a=t&&t.localPort||0,s=t.host,c=t.port;void 0===n&&(n=r(1818));var u=new n,l=!1;u.on("ready",(function(){u.forwardOut(o,a,s,c,(function(r,n){if(l=!0,r)return u.end(),i(r);n.once("close",(function(){return u.end()})),i(null,p(n,e,t))}))})).on("error",i).on("close",(function(){l||i(new Error("Unexpected connection close"))})).connect(this._connectCfg)}}])}(e);t[e===i?"SSHTTPAgent":"SSHTTPSAgent"]=o},c=0,u=[i,o];c<u.length;c++)s();function l(){}function p(e,t,r){if(t===i)return e.setKeepAlive=l,e.setNoDelay=l,e.setTimeout=l,e.ref=l,e.unref=l,e.destroySoon=e.destroy,e;r.socket=e;var n=a(r),o=function(){var t=!1;return function(){t||(t=!0,e.isPaused()&&e.resume())}}();return n.on("end",o).on("close",o),n}},7649:function(e,t,r){"use strict";var n=r(7852),i=n.AgentProtocol,o=n.BaseAgent,a=n.createAgent,s=n.CygwinAgent,c=n.OpenSSHAgent,u=n.PageantAgent,l=r(1980),p=l.SSHTTPAgent,d=l.SSHTTPSAgent,h=r(8946).parseKey,f=r(4261),m=f.flagsToString,g=f.OPEN_MODE,y=f.STATUS_CODE,v=f.stringToFlags;e.exports={AgentProtocol:i,BaseAgent:o,createAgent:a,Client:r(1818),CygwinAgent:s,HTTPAgent:p,HTTPSAgent:d,OpenSSHAgent:c,PageantAgent:u,Server:r(734),utils:E(E({parseKey:h},r(3314)),{},{sftp:{flagsToString:m,OPEN_MODE:g,STATUS_CODE:y,stringToFlags:v}})}},3314:function(e,t,r){"use strict";var n=r(6982),i=n.createCipheriv,o=n.generateKeyPair,a=n.generateKeyPairSync,s=n.getCurves,c=n.randomBytes,u=r(3100).Ber,l=r(4015).pbkdf,p=r(7785).CIPHER_INFO,d=s(),h=new Map(Object.entries(p));function f(e,t){if("string"!=typeof e)throw new TypeError("Key type must be a string");var r={type:"spki",format:"der"},n={type:"pkcs8",format:"der"};switch(e.toLowerCase()){case"rsa":if("object"!=D(t)||null===t)throw new TypeError("Missing options object for RSA key");var i=t.bits;if(!Number.isInteger(i))throw new TypeError("RSA bits must be an integer");if(i<=0||i>16384)throw new RangeError("RSA bits must be non-zero and <= 16384");return["rsa",{modulusLength:i,publicKeyEncoding:r,privateKeyEncoding:n}];case"ecdsa":if("object"!=D(t)||null===t)throw new TypeError("Missing options object for ECDSA key");if(!Number.isInteger(t.bits))throw new TypeError("ECDSA bits must be an integer");var o;switch(t.bits){case 256:o="prime256v1";break;case 384:o="secp384r1";break;case 521:o="secp521r1";break;default:throw new Error("ECDSA bits must be 256, 384, or 521")}if(!d.includes(o))throw new Error("Unsupported ECDSA bits value");return["ec",{namedCurve:o,publicKeyEncoding:r,privateKeyEncoding:n}];case"ed25519":return["ed25519",{publicKeyEncoding:r,privateKeyEncoding:n}];default:throw new Error("Unsupported key type: ".concat(e))}}function g(e,t,r,n){var o,a="new",s="";if("object"==D(n)&&null!==n&&("string"==typeof n.comment&&n.comment&&(s=n.comment),"string"==typeof n.format&&n.format&&(a=n.format),n.passphrase)){var p;if("string"==typeof n.passphrase)p=Buffer.from(n.passphrase);else{if(!Buffer.isBuffer(n.passphrase))throw new Error("Invalid passphrase");p=n.passphrase}if(void 0===n.cipher)throw new Error("Missing cipher name");var d=h.get(n.cipher);if(void 0===d)throw new Error("Invalid cipher name");if("new"===a){var f=16;if(void 0!==n.rounds){if(!Number.isInteger(n.rounds))throw new TypeError("rounds must be an integer");n.rounds>0&&(f=n.rounds)}var m=Buffer.allocUnsafe(d.keyLen+d.ivLen),g=c(16);if(0!==l(p,p.length,g,g.length,m,m.length,f))return new Error("Failed to generate information to encrypt key");var y=Buffer.allocUnsafe(4+g.length+4),v=0;y.writeUInt32BE(g.length,v+=0),y.set(g,v+=4),y.writeUInt32BE(f,v+=g.length),o={cipher:d,cipherName:n.cipher,kdfName:"bcrypt",kdfOptions:y,key:m.slice(0,d.keyLen),iv:m.slice(d.keyLen)}}}if("new"===a){for(var b="-----BEGIN OPENSSH PRIVATE KEY-----\n",E=Buffer.from(o?o.cipherName:"none"),w=Buffer.from(o?o.kdfName:"none"),A=o?o.kdfOptions:Buffer.alloc(0),x=o?o.cipher.blockLen:8,S=function(e,t,r){switch(e){case"rsa":var n=new u.Reader(r);if(n.readSequence(),0!==n.readInt())throw new Error("Unsupported version in RSA private key");if(n.readSequence(),"1.2.840.113549.1.1.1"!==n.readOID())throw new Error("Bad RSA private OID");if(n.readByte()!==u.Null)throw new Error("Malformed RSA private key (expected null)");if(0!==n.readByte())throw new Error("Malformed RSA private key (expected zero-length null)");if((n=new u.Reader(n.readString(u.OctetString,!0))).readSequence(),0!==n.readInt())throw new Error("Unsupported version in RSA private key");var i=n.readString(u.Integer,!0),o=n.readString(u.Integer,!0),a=n.readString(u.Integer,!0),s=n.readString(u.Integer,!0),c=n.readString(u.Integer,!0);n.readString(u.Integer,!0),n.readString(u.Integer,!0);var l=n.readString(u.Integer,!0),p=Buffer.from("ssh-rsa"),d=Buffer.allocUnsafe(4+p.length+4+i.length+4+o.length+4+a.length+4+l.length+4+s.length+4+c.length),h=0;d.writeUInt32BE(p.length,h+=0),d.set(p,h+=4),d.writeUInt32BE(i.length,h+=p.length),d.set(i,h+=4),d.writeUInt32BE(o.length,h+=i.length),d.set(o,h+=4),d.writeUInt32BE(a.length,h+=o.length),d.set(a,h+=4),d.writeUInt32BE(l.length,h+=a.length),d.set(l,h+=4),d.writeUInt32BE(s.length,h+=l.length),d.set(s,h+=4),d.writeUInt32BE(c.length,h+=s.length),d.set(c,h+=4);var f=Buffer.allocUnsafe(4+p.length+4+o.length+4+i.length);return h=0,f.writeUInt32BE(p.length,h+=0),f.set(p,h+=4),f.writeUInt32BE(o.length,h+=p.length),f.set(o,h+=4),f.writeUInt32BE(i.length,h+=o.length),f.set(i,h+=4),{sshName:p.toString(),priv:d,pub:f};case"ec":var m=new u.Reader(t);if(m.readSequence(),m.readSequence(),"1.2.840.10045.2.1"!==m.readOID())throw new Error("Bad ECDSA public OID");m.readOID();for(var g,y=m.readString(u.BitString,!0),v=0;v<y.length&&0===y[v];++v);if(v>0&&(y=y.slice(v)),(m=new u.Reader(r)).readSequence(),0!==m.readInt())throw new Error("Unsupported version in ECDSA private key");if(m.readSequence(),"1.2.840.10045.2.1"!==m.readOID())throw new Error("Bad ECDSA private OID");switch(m.readOID()){case"1.2.840.10045.3.1.7":g="nistp256";break;case"1.3.132.0.34":g="nistp384";break;case"1.3.132.0.35":g="nistp521";break;default:throw new Error("Unsupported curve in ECDSA private key")}if((m=new u.Reader(m.readString(u.OctetString,!0))).readSequence(),1!==m.readInt())throw new Error("Unsupported version in ECDSA private key");var b=Buffer.concat([Buffer.from([0]),m.readString(u.OctetString,!0)]),E=Buffer.from("ecdsa-sha2-".concat(g));g=Buffer.from(g);var w=Buffer.allocUnsafe(4+E.length+4+g.length+4+y.length+4+b.length),A=0;w.writeUInt32BE(E.length,A+=0),w.set(E,A+=4),w.writeUInt32BE(g.length,A+=E.length),w.set(g,A+=4),w.writeUInt32BE(y.length,A+=g.length),w.set(y,A+=4),w.writeUInt32BE(b.length,A+=y.length),w.set(b,A+=4);var x=Buffer.allocUnsafe(4+E.length+4+g.length+4+y.length);return A=0,x.writeUInt32BE(E.length,A+=0),x.set(E,A+=4),x.writeUInt32BE(g.length,A+=E.length),x.set(g,A+=4),x.writeUInt32BE(y.length,A+=g.length),x.set(y,A+=4),{sshName:E.toString(),priv:w,pub:x};case"ed25519":var S=new u.Reader(t);if(S.readSequence(),S.readSequence(),"1.3.101.112"!==S.readOID())throw new Error("Bad ED25519 public OID");for(var _=S.readString(u.BitString,!0),k=0;k<_.length&&0===_[k];++k);if(k>0&&(_=_.slice(k)),(S=new u.Reader(r)).readSequence(),0!==S.readInt())throw new Error("Unsupported version in ED25519 private key");if(S.readSequence(),"1.3.101.112"!==S.readOID())throw new Error("Bad ED25519 private OID");var I=(S=new u.Reader(S.readString(u.OctetString,!0))).readString(u.OctetString,!0),T=Buffer.from("ssh-ed25519"),C=Buffer.allocUnsafe(4+T.length+4+_.length+4+(I.length+_.length)),O=0;C.writeUInt32BE(T.length,O+=0),C.set(T,O+=4),C.writeUInt32BE(_.length,O+=T.length),C.set(_,O+=4),C.writeUInt32BE(I.length+_.length,O+=_.length),C.set(I,O+=4),C.set(_,O+=I.length);var N=Buffer.allocUnsafe(4+T.length+4+_.length);return O=0,N.writeUInt32BE(T.length,O+=0),N.set(T,O+=4),N.writeUInt32BE(_.length,O+=T.length),N.set(_,O+=4),{sshName:T.toString(),priv:C,pub:N}}}(e,t,r),_=c(4),k=Buffer.from(s),I=8+S.priv.length+4+k.length,T=[],C=1;(I+T.length)%x;++C)T.push(255&C);T=Buffer.from(T);var O,N=Buffer.allocUnsafe(I+T.length),R=0;if(N.set(_,R+=0),N.set(_,R+=4),N.set(S.priv,R+=4),N.writeUInt32BE(k.length,R+=S.priv.length),N.set(k,R+=4),N.set(T,R+=k.length),o){var P={authTagLength:o.cipher.authLen},L=i(o.cipher.sslName,o.key,o.iv,P);L.setAutoPadding(!1),N=Buffer.concat([L.update(N),L.final()]),O=o.cipher.authLen>0?L.getAuthTag():Buffer.alloc(0),o.key.fill(0),o.iv.fill(0)}else O=Buffer.alloc(0);var M=Buffer.from("openssh-key-v1\0"),q=Buffer.allocUnsafe(M.length+4+E.length+4+w.length+4+A.length+4+4+S.pub.length+4+N.length+O.length),B=0;q.set(M,B+=0),q.writeUInt32BE(E.length,B+=M.length),q.set(E,B+=4),q.writeUInt32BE(w.length,B+=E.length),q.set(w,B+=4),q.writeUInt32BE(A.length,B+=w.length),q.set(A,B+=4),q.writeUInt32BE(1,B+=A.length),q.writeUInt32BE(S.pub.length,B+=4),q.set(S.pub,B+=4),q.writeUInt32BE(N.length,B+=S.pub.length),q.set(N,B+=4),q.set(O,B+=N.length);var j=q.base64Slice(0,q.length),U=j.replace(/.{64}/g,"$&\n");63&j.length&&(U+="\n"),b+=U;var F=S.pub.base64Slice(0,S.pub.length);return{private:b+="-----END OPENSSH PRIVATE KEY-----\n",public:"".concat(S.sshName," ").concat(F).concat(s?" ".concat(s):"")}}throw new Error("Invalid output key format")}function y(){}e.exports={generateKeyPair:function(e,t,r){"function"==typeof t&&(r=t,t=void 0),"function"!=typeof r&&(r=y);var n=f(e,t);o.apply(void 0,m(n).concat([function(e,i,o){if(e)return r(e);var a;try{a=g(n[0],i,o,t)}catch(e){return r(e)}r(null,a)}]))},generateKeyPairSync:function(e,t){var r=f(e,t),n=a.apply(void 0,m(r)),i=n.publicKey,o=n.privateKey;return g(r[0],i,o,t)}}},6008:function(e,t,r){"use strict";var n=r(9023).inspect,i=r(7785),o=i.bindingAvailable,a=i.NullCipher,s=i.NullDecipher,c=r(2535),u=c.COMPAT_CHECKS,l=c.DISCONNECT_REASON,p=c.eddsaSupported,d=c.MESSAGE,h=c.SIGNALS,m=c.TERMINAL_MODE,g=r(8818),y=g.DEFAULT_KEXINIT_CLIENT,v=g.DEFAULT_KEXINIT_SERVER,b=g.KexInit,E=g.kexinit,w=g.onKEXPayload,A=r(8946).parseKey,x=r(2569),S=r(5623),_=S.bufferCopy,k=S.bufferFill,I=S.bufferSlice,T=S.convertSignature,C=S.sendPacket,O=S.writeUInt32BE,N=r(3129),R=N.PacketReader,L=N.PacketWriter,q=N.ZlibPacketReader,B=N.ZlibPacketWriter,j=r(8342).rE,U=new Map(Object.values(l).map((function(e){return[e,1]}))),F=Buffer.from("SSH-2.0-ssh2js".concat(j)),z=Buffer.from("".concat(F,"\r\n")),H=Buffer.from([d.GLOBAL_REQUEST,0,0,0,21,107,101,101,112,97,108,105,118,101,64,111,112,101,110,115,115,104,46,99,111,109,1]),Q=Buffer.from([m.TTY_OP_END]);function G(){}var K=/^SSH-(2\.0|1\.99)-([^ ]+)(?: (.*))?$/;function $(e,t,r){var i,o;this._buffer?((i=Buffer.allocUnsafe(this._buffer.length+(r-t))).set(this._buffer,0),0===t?i.set(e,this._buffer.length):i.set(new Uint8Array(e.buffer,e.byteOffset+t,r-t),this._buffer.length),o=this._buffer.length,t=0):(i=e,o=0);for(var a=t,c=t,u=t,l=!1,p=0,d=0;t<i.length;++t){var h=i[t];if(13!==h){if(10===h){if(u>c&&u-c>4&&83===i[c]&&83===i[c+1]&&72===i[c+2]&&45===i[c+3]){var f=i.latin1Slice(a,u+1),m=c===a?f:f.slice(c-a),g=K.exec(m);if(!g)throw new Error("Invalid identification string");var y={greeting:c===a?"":f.slice(0,c-a),identRaw:m,versions:{protocol:g[1],software:g[2]},comments:g[3]};return this._remoteIdentRaw=Buffer.from(m),this._debug&&this._debug("Remote ident: ".concat(n(m))),this._compatFlags=Y(y),this._buffer=void 0,this._decipher=new s(0,w.bind(this,{firstPacket:!0})),this._parse=W,this._onHeader(y),this._destruct?(E(this),t+1-o):r}if(this._server)throw new Error("Greetings from clients not permitted");if(++d>1024)throw new Error("Max greeting lines exceeded");l=!1,c=t+1,p=0}else{if(l)throw new Error("Invalid header: expected newline");if(++p>=8192)throw new Error("Header line too long")}u=t}else l=!0}return this._buffer||(this._buffer=I(i,a)),t-o}function W(e,t,r){return this._decipher.decrypt(e,t,r)}function V(e){if(this._onPacket(),0!==e.length){var t=(e=this._packetRW.read.read(e))[0];t!==d.USERAUTH_SUCCESS||this._server||this._authenticated||(this._authenticated=!0,"zlib@openssh.com"===this._kex.negotiated.cs.compress&&(this._packetRW.write=new B(this)),"zlib@openssh.com"===this._kex.negotiated.sc.compress&&(this._packetRW.read=new q));var r=x[t];if(void 0!==r)return r(this,e);this._debug&&this._debug("Inbound: Unsupported message type: ".concat(t))}else this._debug&&this._debug("Inbound: Skipping empty packet payload")}function Y(e){var t,r=e.versions.software,n=0,i=f(u);try{for(i.s();!(t=i.n()).done;){var o=t.value;"string"==typeof o[0]?r===o[0]&&(n|=o[1]):o[0].test(r)&&(n|=o[1])}}catch(e){i.e(e)}finally{i.f()}return n}e.exports=function(){return M((function e(t){var r=this;P(this,e);var i=t.onWrite;if("function"!=typeof i)throw new Error("Missing onWrite function");this._onWrite=function(e){i(e)};var s=t.onError;if("function"!=typeof s)throw new Error("Missing onError function");this._onError=function(e){s(e)};var c=t.debug;this._debug="function"==typeof c?function(e){c(e)}:void 0;var u=t.onHeader;this._onHeader="function"==typeof u?function(){u.apply(void 0,arguments)}:G;var l=t.onPacket;this._onPacket="function"==typeof l?function(){l()}:G;var h,f=t.onHandshakeComplete;"function"!=typeof f&&(f=G),this._onHandshakeComplete=function(){r._debug&&r._debug("Handshake completed"),h=void 0===h;var e=r._queue;if(e){r._queue=void 0,r._debug&&r._debug("Draining outbound queue (".concat(e.length,") ..."));for(var t=0;t<e.length;++t){var n=e[t],i=r._packetRW.write.finalize(n);if(i===n){var o=r._cipher.allocPacket(n.length);o.set(n,5),i=o}C(r,i)}r._debug&&r._debug("... finished draining outbound queue")}h&&r._server&&r._kex.remoteExtInfoEnabled&&function(e){var t="ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521rsa-sha2-512,rsa-sha2-256,ssh-rsa,ssh-dss";p&&(t="ssh-ed25519,".concat(t));var r=Buffer.byteLength(t),n=e._packetRW.write.allocStart,i=e._packetRW.write.alloc(28+r);i[n]=d.EXT_INFO,O(i,1,++n),O(i,15,n+=4),i.utf8Write("server-sig-algs",n+=4,15),O(i,r,n+=15),i.utf8Write(t,n+=4,r),e._debug&&e._debug("Outbound: Sending EXT_INFO"),C(e,e._packetRW.write.finalize(i))}(r),f.apply(void 0,arguments)},this._queue=void 0;var m,g=t.messageHandlers;if(this._handlers="object"==D(g)&&null!==g?g:{},this._onPayload=V.bind(this),this._server=!!t.server,this._banner=void 0,this._server){if("object"!=D(t.hostKeys)||null===t.hostKeys)throw new Error("Missing server host key(s)");this._hostKeys=t.hostKeys,"string"==typeof t.greeting&&t.greeting.length&&(m="\r\n"===t.greeting.slice(-2)?t.greeting:"".concat(t.greeting,"\r\n")),"string"==typeof t.banner&&t.banner.length&&(this._banner="\r\n"===t.banner.slice(-2)?t.banner:"".concat(t.banner,"\r\n"))}else this._hostKeys=void 0;var E,w=t.offer;if("object"!=D(w)||null===w?w=this._server?v:y:w.constructor!==b&&(this._server?w.kex=w.kex.concat(["kex-strict-s-v00@openssh.com"]):w.kex=w.kex.concat(["ext-info-c","kex-strict-c-v00@openssh.com"]),w=new b(w)),this._kex=void 0,this._strictMode=void 0,this._kexinit=void 0,this._offer=w,this._cipher=new a(0,this._onWrite),this._decipher=void 0,this._skipNextInboundPacket=!1,this._packetRW={read:new R,write:new L(this)},this._hostVerifier=this._server||"function"!=typeof t.hostVerifier?void 0:t.hostVerifier,this._parse=$,this._buffer=void 0,this._authsQueue=[],this._authenticated=!1,this._remoteIdentRaw=void 0,"string"==typeof t.ident)this._identRaw=Buffer.from("SSH-2.0-".concat(t.ident)),(E=Buffer.allocUnsafe(this._identRaw.length+2)).set(this._identRaw,0),E[E.length-2]=13,E[E.length-1]=10;else if(Buffer.isBuffer(t.ident)){var A=Buffer.allocUnsafe(8+t.ident.length);A.latin1Write("SSH-2.0-",0,8),A.set(t.ident,8),this._identRaw=A,(E=Buffer.allocUnsafe(A.length+2)).set(A,0),E[E.length-2]=13,E[E.length-1]=10}else this._identRaw=F,E=z;this._compatFlags=0,this._debug&&(o?this._debug("Custom crypto binding available"):this._debug("Custom crypto binding not available")),this._debug&&this._debug("Local ident: ".concat(n(this._identRaw.toString()))),this.start=function(){r.start=void 0,m&&r._onWrite(m),r._onWrite(E)}}),[{key:"_destruct",value:function(e){this._packetRW.read.cleanup(),this._packetRW.write.cleanup(),this._cipher&&this._cipher.free(),this._decipher&&this._decipher.free(),"string"==typeof e&&0!==e.length||(e="fatal error"),this.parse=function(){throw new Error("Instance unusable after ".concat(e))},this._onWrite=function(){throw new Error("Instance unusable after ".concat(e))},this._destruct=void 0}},{key:"cleanup",value:function(){this._destruct&&this._destruct()}},{key:"parse",value:function(e,t,r){for(;t<r;)t=this._parse(e,t,r)}},{key:"disconnect",value:function(e){var t=this._packetRW.write.allocStartKEX,r=this._packetRW.write.alloc(13,!0),n=t+13;U.has(e)||(e=l.PROTOCOL_ERROR),r[t]=d.DISCONNECT,O(r,e,++t),r.fill(0,t+=4,n),this._debug&&this._debug("Outbound: Sending DISCONNECT (".concat(e,")")),C(this,this._packetRW.write.finalize(r,!0),!0)}},{key:"ping",value:function(){var e=this._packetRW.write.allocStart,t=this._packetRW.write.alloc(H.length);t.set(H,e),this._debug&&this._debug("Outbound: Sending ping (GLOBAL_REQUEST: keepalive@openssh.com)"),C(this,this._packetRW.write.finalize(t))}},{key:"rekey",value:function(){void 0===this._kexinit?(this._debug&&this._debug("Outbound: Initiated explicit rekey"),this._queue=[],E(this)):this._debug&&this._debug("Outbound: Ignoring rekey during handshake")}},{key:"requestSuccess",value:function(e){var t,r=this._packetRW.write.allocStart;Buffer.isBuffer(e)?((t=this._packetRW.write.alloc(1+e.length))[r]=d.REQUEST_SUCCESS,t.set(e,++r)):(t=this._packetRW.write.alloc(1))[r]=d.REQUEST_SUCCESS,this._debug&&this._debug("Outbound: Sending REQUEST_SUCCESS"),C(this,this._packetRW.write.finalize(t))}},{key:"requestFailure",value:function(){var e=this._packetRW.write.allocStart,t=this._packetRW.write.alloc(1);t[e]=d.REQUEST_FAILURE,this._debug&&this._debug("Outbound: Sending REQUEST_FAILURE"),C(this,this._packetRW.write.finalize(t))}},{key:"channelSuccess",value:function(e){var t=this._packetRW.write.allocStart,r=this._packetRW.write.alloc(5);r[t]=d.CHANNEL_SUCCESS,O(r,e,++t),this._debug&&this._debug("Outbound: Sending CHANNEL_SUCCESS (r:".concat(e,")")),C(this,this._packetRW.write.finalize(r))}},{key:"channelFailure",value:function(e){var t=this._packetRW.write.allocStart,r=this._packetRW.write.alloc(5);r[t]=d.CHANNEL_FAILURE,O(r,e,++t),this._debug&&this._debug("Outbound: Sending CHANNEL_FAILURE (r:".concat(e,")")),C(this,this._packetRW.write.finalize(r))}},{key:"channelEOF",value:function(e){var t=this._packetRW.write.allocStart,r=this._packetRW.write.alloc(5);r[t]=d.CHANNEL_EOF,O(r,e,++t),this._debug&&this._debug("Outbound: Sending CHANNEL_EOF (r:".concat(e,")")),C(this,this._packetRW.write.finalize(r))}},{key:"channelClose",value:function(e){var t=this._packetRW.write.allocStart,r=this._packetRW.write.alloc(5);r[t]=d.CHANNEL_CLOSE,O(r,e,++t),this._debug&&this._debug("Outbound: Sending CHANNEL_CLOSE (r:".concat(e,")")),C(this,this._packetRW.write.finalize(r))}},{key:"channelWindowAdjust",value:function(e,t){var r=this._packetRW.write.allocStart,n=this._packetRW.write.alloc(9);n[r]=d.CHANNEL_WINDOW_ADJUST,O(n,e,++r),O(n,t,r+=4),this._debug&&this._debug("Outbound: Sending CHANNEL_WINDOW_ADJUST (r:".concat(e,", ").concat(t,")")),C(this,this._packetRW.write.finalize(n))}},{key:"channelData",value:function(e,t){var r=Buffer.isBuffer(t),n=r?t.length:Buffer.byteLength(t),i=this._packetRW.write.allocStart,o=this._packetRW.write.alloc(9+n);o[i]=d.CHANNEL_DATA,O(o,e,++i),O(o,n,i+=4),r?o.set(t,i+=4):o.utf8Write(t,i+=4,n),this._debug&&this._debug("Outbound: Sending CHANNEL_DATA (r:".concat(e,", ").concat(n,")")),C(this,this._packetRW.write.finalize(o))}},{key:"channelExtData",value:function(e,t,r){var n=Buffer.isBuffer(t),i=n?t.length:Buffer.byteLength(t),o=this._packetRW.write.allocStart,a=this._packetRW.write.alloc(13+i);a[o]=d.CHANNEL_EXTENDED_DATA,O(a,e,++o),O(a,r,o+=4),O(a,i,o+=4),n?a.set(t,o+=4):a.utf8Write(t,o+=4,i),this._debug&&this._debug("Outbound: Sending CHANNEL_EXTENDED_DATA (r:".concat(e,")")),C(this,this._packetRW.write.finalize(a))}},{key:"channelOpenConfirm",value:function(e,t,r,n){var i=this._packetRW.write.allocStart,o=this._packetRW.write.alloc(17);o[i]=d.CHANNEL_OPEN_CONFIRMATION,O(o,e,++i),O(o,t,i+=4),O(o,r,i+=4),O(o,n,i+=4),this._debug&&this._debug("Outbound: Sending CHANNEL_OPEN_CONFIRMATION (r:".concat(e,", l:").concat(t,")")),C(this,this._packetRW.write.finalize(o))}},{key:"channelOpenFail",value:function(e,t,r){"string"!=typeof r&&(r="");var n=Buffer.byteLength(r),i=this._packetRW.write.allocStart,o=this._packetRW.write.alloc(13+n+4);o[i]=d.CHANNEL_OPEN_FAILURE,O(o,e,++i),O(o,t,i+=4),O(o,n,i+=4),i+=4,n&&(o.utf8Write(r,i,n),i+=n),O(o,0,i),this._debug&&this._debug("Outbound: Sending CHANNEL_OPEN_FAILURE (r:".concat(e,")")),C(this,this._packetRW.write.finalize(o))}},{key:"service",value:function(e){if(this._server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=this._packetRW.write.allocStart,n=this._packetRW.write.alloc(5+t);n[r]=d.SERVICE_REQUEST,O(n,t,++r),n.utf8Write(e,r+=4,t),this._debug&&this._debug("Outbound: Sending SERVICE_REQUEST (".concat(e,")")),C(this,this._packetRW.write.finalize(n))}},{key:"authPassword",value:function(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=Buffer.byteLength(t),o=r?Buffer.byteLength(r):0,a=this._packetRW.write.allocStart,s=this._packetRW.write.alloc(5+n+4+14+4+8+1+4+i+(r?4+o:0));s[a]=d.USERAUTH_REQUEST,O(s,n,++a),s.utf8Write(e,a+=4,n),O(s,14,a+=n),s.utf8Write("ssh-connection",a+=4,14),O(s,8,a+=14),s.utf8Write("password",a+=4,8),s[a+=8]=r?1:0,O(s,i,++a),Buffer.isBuffer(t)?_(t,s,0,i,a+=4):s.utf8Write(t,a+=4,i),r?(O(s,o,a+=i),Buffer.isBuffer(r)?_(r,s,0,o,a+=4):s.utf8Write(r,a+=4,o),this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (changed password)")):this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (password)"),this._authsQueue.push("password"),C(this,this._packetRW.write.finalize(s))}},{key:"authPK",value:function(e,t,r,n){var i=this;if(this._server)throw new Error("Client-only method called in server mode");if((t=A(t))instanceof Error)throw new Error("Invalid key");var o=t.type;t=t.getPublicSSH(),"function"==typeof r&&(n=r,r=void 0),r||(r=o);var a,s,c=Buffer.byteLength(e),u=Buffer.byteLength(r),l=t.length,p=this._kex.sessionID,h=p.length,f=(n?4+h:0)+1+4+c+4+14+4+9+1+4+u+4+l;if(n?(a=Buffer.allocUnsafe(f),O(a,h,s=0),a.set(p,s+=4),s+=h):(a=this._packetRW.write.alloc(f),s=this._packetRW.write.allocStart),a[s]=d.USERAUTH_REQUEST,O(a,c,++s),a.utf8Write(e,s+=4,c),O(a,14,s+=c),a.utf8Write("ssh-connection",s+=4,14),O(a,9,s+=14),a.utf8Write("publickey",s+=4,9),a[s+=9]=n?1:0,O(a,u,++s),a.utf8Write(r,s+=4,u),O(a,l,s+=u),a.set(t,s+=4),!n)return this._authsQueue.push("publickey"),this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (publickey -- check)"),void C(this,this._packetRW.write.finalize(a));n(a,(function(n){if(!1===(n=T(n,o)))throw new Error("Error while converting handshake signature");var p=n.length;s=i._packetRW.write.allocStart,(a=i._packetRW.write.alloc(5+c+4+14+4+9+1+4+u+4+l+4+4+u+4+p))[s]=d.USERAUTH_REQUEST,O(a,c,++s),a.utf8Write(e,s+=4,c),O(a,14,s+=c),a.utf8Write("ssh-connection",s+=4,14),O(a,9,s+=14),a.utf8Write("publickey",s+=4,9),a[s+=9]=1,O(a,u,++s),a.utf8Write(r,s+=4,u),O(a,l,s+=u),a.set(t,s+=4),O(a,4+u+4+p,s+=l),O(a,u,s+=4),a.utf8Write(r,s+=4,u),O(a,p,s+=u),a.set(n,s+=4),i._authsQueue.push("publickey"),i._debug&&i._debug("Outbound: Sending USERAUTH_REQUEST (publickey)"),C(i,i._packetRW.write.finalize(a))}))}},{key:"authHostbased",value:function(e,t,r,n,i,o){var a=this;if(this._server)throw new Error("Client-only method called in server mode");if((t=A(t))instanceof Error)throw new Error("Invalid key");var s=t.type;t=t.getPublicSSH(),"function"==typeof i&&(o=i,i=void 0),i||(i=s);var c=Buffer.byteLength(e),u=Buffer.byteLength(i),l=t.length,p=this._kex.sessionID,h=p.length,f=Buffer.byteLength(r),m=Buffer.byteLength(n),g=Buffer.allocUnsafe(4+h+1+4+c+4+14+4+9+4+u+4+l+4+f+4+m),y=0;O(g,h,y),g.set(p,y+=4),g[y+=h]=d.USERAUTH_REQUEST,O(g,c,++y),g.utf8Write(e,y+=4,c),O(g,14,y+=c),g.utf8Write("ssh-connection",y+=4,14),O(g,9,y+=14),g.utf8Write("hostbased",y+=4,9),O(g,u,y+=9),g.utf8Write(i,y+=4,u),O(g,l,y+=u),g.set(t,y+=4),O(g,f,y+=l),g.utf8Write(r,y+=4,f),O(g,m,y+=f),g.utf8Write(n,y+=4,m),o(g,(function(e){if(!(e=T(e,s)))throw new Error("Error while converting handshake signature");var t=e.length,r=g.length-h-4;y=a._packetRW.write.allocStart;var n=a._packetRW.write.alloc(r+4+4+u+4+t);_(g,n,4+h,g.length,y),O(n,4+u+4+t,y+=r),O(n,u,y+=4),n.utf8Write(i,y+=4,u),O(n,t,y+=u),n.set(e,y+=4),a._authsQueue.push("hostbased"),a._debug&&a._debug("Outbound: Sending USERAUTH_REQUEST (hostbased)"),C(a,a._packetRW.write.finalize(n))}))}},{key:"authKeyboard",value:function(e){if(this._server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=this._packetRW.write.allocStart,n=this._packetRW.write.alloc(5+t+4+14+4+20+4+4);n[r]=d.USERAUTH_REQUEST,O(n,t,++r),n.utf8Write(e,r+=4,t),O(n,14,r+=t),n.utf8Write("ssh-connection",r+=4,14),O(n,20,r+=14),n.utf8Write("keyboard-interactive",r+=4,20),O(n,0,r+=20),O(n,0,r+=4),this._authsQueue.push("keyboard-interactive"),this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (keyboard-interactive)"),C(this,this._packetRW.write.finalize(n))}},{key:"authNone",value:function(e){if(this._server)throw new Error("Client-only method called in server mode");var t=Buffer.byteLength(e),r=this._packetRW.write.allocStart,n=this._packetRW.write.alloc(5+t+4+14+4+4);n[r]=d.USERAUTH_REQUEST,O(n,t,++r),n.utf8Write(e,r+=4,t),O(n,14,r+=t),n.utf8Write("ssh-connection",r+=4,14),O(n,4,r+=14),n.utf8Write("none",r+=4,4),this._authsQueue.push("none"),this._debug&&this._debug("Outbound: Sending USERAUTH_REQUEST (none)"),C(this,this._packetRW.write.finalize(n))}},{key:"authInfoRes",value:function(e){if(this._server)throw new Error("Client-only method called in server mode");var t,r=0;if(e){t=new Array(e.length);for(var n=0;n<e.length;++n){var i=Buffer.byteLength(e[n]);t[n]=i,r+=4+i}}var o=this._packetRW.write.allocStart,a=this._packetRW.write.alloc(5+r);if(a[o]=d.USERAUTH_INFO_RESPONSE,e){O(a,e.length,++o),o+=4;for(var s=0;s<e.length;++s){var c=t[s];O(a,c,o),o+=4,c&&(a.utf8Write(e[s],o,c),o+=c)}}else O(a,0,++o);this._debug&&this._debug("Outbound: Sending USERAUTH_INFO_RESPONSE"),C(this,this._packetRW.write.finalize(a))}},{key:"tcpipForward",value:function(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=this._packetRW.write.allocStart,o=this._packetRW.write.alloc(23+n+4);o[i]=d.GLOBAL_REQUEST,O(o,13,++i),o.utf8Write("tcpip-forward",i+=4,13),o[i+=13]=void 0===r||!0===r?1:0,O(o,n,++i),o.utf8Write(e,i+=4,n),O(o,t,i+=n),this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (tcpip-forward)"),C(this,this._packetRW.write.finalize(o))}},{key:"cancelTcpipForward",value:function(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=this._packetRW.write.allocStart,o=this._packetRW.write.alloc(30+n+4);o[i]=d.GLOBAL_REQUEST,O(o,20,++i),o.utf8Write("cancel-tcpip-forward",i+=4,20),o[i+=20]=void 0===r||!0===r?1:0,O(o,n,++i),o.utf8Write(e,i+=4,n),O(o,t,i+=n),this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (cancel-tcpip-forward)"),C(this,this._packetRW.write.finalize(o))}},{key:"openssh_streamLocalForward",value:function(e,t){if(this._server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=this._packetRW.write.allocStart,i=this._packetRW.write.alloc(41+r);i[n]=d.GLOBAL_REQUEST,O(i,31,++n),i.utf8Write("streamlocal-forward@openssh.com",n+=4,31),i[n+=31]=void 0===t||!0===t?1:0,O(i,r,++n),i.utf8Write(e,n+=4,r),this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (streamlocal-forward@openssh.com)"),C(this,this._packetRW.write.finalize(i))}},{key:"openssh_cancelStreamLocalForward",value:function(e,t){if(this._server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=this._packetRW.write.allocStart,i=this._packetRW.write.alloc(48+r);i[n]=d.GLOBAL_REQUEST,O(i,38,++n),i.utf8Write("cancel-streamlocal-forward@openssh.com",n+=4,38),i[n+=38]=void 0===t||!0===t?1:0,O(i,r,++n),i.utf8Write(e,n+=4,r),this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (cancel-streamlocal-forward@openssh.com)"),C(this,this._packetRW.write.finalize(i))}},{key:"directTcpip",value:function(e,t,r,n){if(this._server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(n.srcIP),o=Buffer.byteLength(n.dstIP),a=this._packetRW.write.allocStart,s=this._packetRW.write.alloc(33+i+4+4+o+4);s[a]=d.CHANNEL_OPEN,O(s,12,++a),s.utf8Write("direct-tcpip",a+=4,12),O(s,e,a+=12),O(s,t,a+=4),O(s,r,a+=4),O(s,o,a+=4),s.utf8Write(n.dstIP,a+=4,o),O(s,n.dstPort,a+=o),O(s,i,a+=4),s.utf8Write(n.srcIP,a+=4,i),O(s,n.srcPort,a+=i),this._debug&&this._debug("Outbound: Sending CHANNEL_OPEN (r:".concat(e,", direct-tcpip)")),C(this,this._packetRW.write.finalize(s))}},{key:"openssh_directStreamLocal",value:function(e,t,r,n){if(this._server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(n.socketPath),o=this._packetRW.write.allocStart,a=this._packetRW.write.alloc(51+i+4+4);a[o]=d.CHANNEL_OPEN,O(a,30,++o),a.utf8Write("direct-streamlocal@openssh.com",o+=4,30),O(a,e,o+=30),O(a,t,o+=4),O(a,r,o+=4),O(a,i,o+=4),a.utf8Write(n.socketPath,o+=4,i),k(a,0,o+=i,o+8),this._debug&&this._debug("Outbound: Sending CHANNEL_OPEN (r:".concat(e,", direct-streamlocal@openssh.com)")),C(this,this._packetRW.write.finalize(a))}},{key:"openssh_noMoreSessions",value:function(e){if(this._server)throw new Error("Client-only method called in server mode");var t=this._packetRW.write.allocStart,r=this._packetRW.write.alloc(34);r[t]=d.GLOBAL_REQUEST,O(r,28,++t),r.utf8Write("no-more-sessions@openssh.com",t+=4,28),r[t+=28]=void 0===e||!0===e?1:0,this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (no-more-sessions@openssh.com)"),C(this,this._packetRW.write.finalize(r))}},{key:"session",value:function(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");var n=this._packetRW.write.allocStart,i=this._packetRW.write.alloc(24);i[n]=d.CHANNEL_OPEN,O(i,7,++n),i.utf8Write("session",n+=4,7),O(i,e,n+=7),O(i,t,n+=4),O(i,r,n+=4),this._debug&&this._debug("Outbound: Sending CHANNEL_OPEN (r:".concat(e,", session)")),C(this,this._packetRW.write.finalize(i))}},{key:"windowChange",value:function(e,t,r,n,i){if(this._server)throw new Error("Client-only method called in server mode");var o=this._packetRW.write.allocStart,a=this._packetRW.write.alloc(39);a[o]=d.CHANNEL_REQUEST,O(a,e,++o),O(a,13,o+=4),a.utf8Write("window-change",o+=4,13),a[o+=13]=0,O(a,r,++o),O(a,t,o+=4),O(a,i,o+=4),O(a,n,o+=4),this._debug&&this._debug("Outbound: Sending CHANNEL_REQUEST (r:".concat(e,", window-change)")),C(this,this._packetRW.write.finalize(a))}},{key:"pty",value:function(e,t,r,n,i,o,a,s){if(this._server)throw new Error("Client-only method called in server mode");o&&o.length||(o="vt100"),!a||Buffer.isBuffer(a)||Array.isArray(a)||"object"!=D(a)||null===a||(a=function(e){for(var t=Object.keys(e),r=Buffer.allocUnsafe(5*t.length+1),n=0,i=0;i<t.length;++i){var o=t[i];if("TTY_OP_END"!==o){var a=m[o];if(void 0!==a){var s=e[o];"number"==typeof s&&isFinite(s)&&(r[n++]=a,r[n++]=s>>>24,r[n++]=s>>>16,r[n++]=s>>>8,r[n++]=s)}}}return r[n++]=m.TTY_OP_END,n<r.length?I(r,0,n):r}(a)),a&&a.length||(a=Q);var c=o.length,u=a.length,l=this._packetRW.write.allocStart,p=this._packetRW.write.alloc(21+c+4+4+4+4+4+u);if(p[l]=d.CHANNEL_REQUEST,O(p,e,++l),O(p,7,l+=4),p.utf8Write("pty-req",l+=4,7),p[l+=7]=void 0===s||!0===s?1:0,O(p,c,++l),p.utf8Write(o,l+=4,c),O(p,r,l+=c),O(p,t,l+=4),O(p,i,l+=4),O(p,n,l+=4),O(p,u,l+=4),l+=4,Array.isArray(a))for(var h=0;h<u;++h)p[l++]=a[h];else Buffer.isBuffer(a)&&p.set(a,l);this._debug&&this._debug("Outbound: Sending CHANNEL_REQUEST (r:".concat(e,", pty-req)")),C(this,this._packetRW.write.finalize(p))}},{key:"shell",value:function(e,t){if(this._server)throw new Error("Client-only method called in server mode");var r=this._packetRW.write.allocStart,n=this._packetRW.write.alloc(15);n[r]=d.CHANNEL_REQUEST,O(n,e,++r),O(n,5,r+=4),n.utf8Write("shell",r+=4,5),n[r+=5]=void 0===t||!0===t?1:0,this._debug&&this._debug("Outbound: Sending CHANNEL_REQUEST (r:".concat(e,", shell)")),C(this,this._packetRW.write.finalize(n))}},{key:"exec",value:function(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");var n=Buffer.isBuffer(t),i=n?t.length:Buffer.byteLength(t),o=this._packetRW.write.allocStart,a=this._packetRW.write.alloc(18+i);a[o]=d.CHANNEL_REQUEST,O(a,e,++o),O(a,4,o+=4),a.utf8Write("exec",o+=4,4),a[o+=4]=void 0===r||!0===r?1:0,O(a,i,++o),n?a.set(t,o+=4):a.utf8Write(t,o+=4,i),this._debug&&this._debug("Outbound: Sending CHANNEL_REQUEST (r:".concat(e,", exec: ").concat(t,")")),C(this,this._packetRW.write.finalize(a))}},{key:"signal",value:function(e,t){if(this._server)throw new Error("Client-only method called in server mode");var r=t;if("SIG"===(t=t.toUpperCase()).slice(0,3)&&(t=t.slice(3)),1!==h[t])throw new Error("Invalid signal: ".concat(r));var n=t.length,i=this._packetRW.write.allocStart,o=this._packetRW.write.alloc(20+n);o[i]=d.CHANNEL_REQUEST,O(o,e,++i),O(o,6,i+=4),o.utf8Write("signal",i+=4,6),o[i+=6]=0,O(o,n,++i),o.utf8Write(t,i+=4,n),this._debug&&this._debug("Outbound: Sending CHANNEL_REQUEST (r:".concat(e,", signal: ").concat(t,")")),C(this,this._packetRW.write.finalize(o))}},{key:"env",value:function(e,t,r,n){if(this._server)throw new Error("Client-only method called in server mode");var i=Buffer.byteLength(t),o=Buffer.isBuffer(r),a=o?r.length:Buffer.byteLength(r),s=this._packetRW.write.allocStart,c=this._packetRW.write.alloc(17+i+4+a);c[s]=d.CHANNEL_REQUEST,O(c,e,++s),O(c,3,s+=4),c.utf8Write("env",s+=4,3),c[s+=3]=void 0===n||!0===n?1:0,O(c,i,++s),c.utf8Write(t,s+=4,i),O(c,a,s+=i),o?c.set(r,s+=4):c.utf8Write(r,s+=4,a),this._debug&&this._debug("Outbound: Sending CHANNEL_REQUEST (r:".concat(e,", env: ").concat(t,"=").concat(r,")")),C(this,this._packetRW.write.finalize(c))}},{key:"x11Forward",value:function(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");var n=t.protocol,i=t.cookie,o=Buffer.isBuffer(n),a=o?n.length:Buffer.byteLength(n),s=Buffer.isBuffer(i),c=s?i.length:Buffer.byteLength(i),u=this._packetRW.write.allocStart,l=this._packetRW.write.alloc(22+a+4+c+4);l[u]=d.CHANNEL_REQUEST,O(l,e,++u),O(l,7,u+=4),l.utf8Write("x11-req",u+=4,7),l[u+=7]=void 0===r||!0===r?1:0,l[++u]=t.single?1:0,O(l,a,++u),o?l.set(n,u+=4):l.utf8Write(n,u+=4,a),O(l,c,u+=a),s?l.set(i,u+=4):l.latin1Write(i,u+=4,c),O(l,t.screen||0,u+=c),this._debug&&this._debug("Outbound: Sending CHANNEL_REQUEST (r:".concat(e,", x11-req)")),C(this,this._packetRW.write.finalize(l))}},{key:"subsystem",value:function(e,t,r){if(this._server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(t),i=this._packetRW.write.allocStart,o=this._packetRW.write.alloc(23+n);o[i]=d.CHANNEL_REQUEST,O(o,e,++i),O(o,9,i+=4),o.utf8Write("subsystem",i+=4,9),o[i+=9]=void 0===r||!0===r?1:0,O(o,n,++i),o.utf8Write(t,i+=4,n),this._debug&&this._debug("Outbound: Sending CHANNEL_REQUEST (r:".concat(e,", subsystem: ").concat(t,")")),C(this,this._packetRW.write.finalize(o))}},{key:"openssh_agentForward",value:function(e,t){if(this._server)throw new Error("Client-only method called in server mode");var r=this._packetRW.write.allocStart,n=this._packetRW.write.alloc(36);n[r]=d.CHANNEL_REQUEST,O(n,e,++r),O(n,26,r+=4),n.utf8Write("auth-agent-req@openssh.com",r+=4,26),n[r+=26]=void 0===t||!0===t?1:0,this._debug&&this._debug("Outbound: Sending CHANNEL_REQUEST (r:".concat(e,", auth-agent-req@openssh.com)")),C(this,this._packetRW.write.finalize(n))}},{key:"openssh_hostKeysProve",value:function(e){if(this._server)throw new Error("Client-only method called in server mode");var t,r=0,n=[],i=f(e);try{for(i.s();!(t=i.n()).done;){var o=t.value.getPublicSSH();r+=4+o.length,n.push(o)}}catch(e){i.e(e)}finally{i.f()}var a=this._packetRW.write.allocStart,s=this._packetRW.write.alloc(35+r);s[a]=d.GLOBAL_REQUEST,O(s,29,++a),s.utf8Write("hostkeys-prove-00@openssh.com",a+=4,29),s[a+=29]=1,++a;for(var c=0,u=n;c<u.length;c++){var l=u[c];O(s,l.length,a),_(l,s,0,l.length,a+=4),a+=l.length}this._debug&&this._debug("Outbound: Sending GLOBAL_REQUEST (hostkeys-prove-00@openssh.com)"),C(this,this._packetRW.write.finalize(s))}},{key:"serviceAccept",value:function(e){if(!this._server)throw new Error("Server-only method called in client mode");var t=Buffer.byteLength(e),r=this._packetRW.write.allocStart,n=this._packetRW.write.alloc(5+t);if(n[r]=d.SERVICE_ACCEPT,O(n,t,++r),n.utf8Write(e,r+=4,t),this._debug&&this._debug("Outbound: Sending SERVICE_ACCEPT (".concat(e,")")),C(this,this._packetRW.write.finalize(n)),this._server&&this._banner&&"ssh-userauth"===e){var i=this._banner;this._banner=void 0;var o=Buffer.byteLength(i);r=this._packetRW.write.allocStart;var a=this._packetRW.write.alloc(5+o+4);a[r]=d.USERAUTH_BANNER,O(a,o,++r),a.utf8Write(i,r+=4,o),O(a,0,r+=o),this._debug&&this._debug("Outbound: Sending USERAUTH_BANNER"),C(this,this._packetRW.write.finalize(a))}}},{key:"forwardedTcpip",value:function(e,t,r,n){if(!this._server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.boundAddr),o=Buffer.byteLength(n.remoteAddr),a=this._packetRW.write.allocStart,s=this._packetRW.write.alloc(36+i+4+4+o+4);s[a]=d.CHANNEL_OPEN,O(s,15,++a),s.utf8Write("forwarded-tcpip",a+=4,15),O(s,e,a+=15),O(s,t,a+=4),O(s,r,a+=4),O(s,i,a+=4),s.utf8Write(n.boundAddr,a+=4,i),O(s,n.boundPort,a+=i),O(s,o,a+=4),s.utf8Write(n.remoteAddr,a+=4,o),O(s,n.remotePort,a+=o),this._debug&&this._debug("Outbound: Sending CHANNEL_OPEN (r:".concat(e,", forwarded-tcpip)")),C(this,this._packetRW.write.finalize(s))}},{key:"x11",value:function(e,t,r,n){if(!this._server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.originAddr),o=this._packetRW.write.allocStart,a=this._packetRW.write.alloc(24+i+4);a[o]=d.CHANNEL_OPEN,O(a,3,++o),a.utf8Write("x11",o+=4,3),O(a,e,o+=3),O(a,t,o+=4),O(a,r,o+=4),O(a,i,o+=4),a.utf8Write(n.originAddr,o+=4,i),O(a,n.originPort,o+=i),this._debug&&this._debug("Outbound: Sending CHANNEL_OPEN (r:".concat(e,", x11)")),C(this,this._packetRW.write.finalize(a))}},{key:"openssh_authAgent",value:function(e,t,r){if(!this._server)throw new Error("Server-only method called in client mode");var n=this._packetRW.write.allocStart,i=this._packetRW.write.alloc(39);i[n]=d.CHANNEL_OPEN,O(i,22,++n),i.utf8Write("auth-agent@openssh.com",n+=4,22),O(i,e,n+=22),O(i,t,n+=4),O(i,r,n+=4),this._debug&&this._debug("Outbound: Sending CHANNEL_OPEN (r:".concat(e,", auth-agent@openssh.com)")),C(this,this._packetRW.write.finalize(i))}},{key:"openssh_forwardedStreamLocal",value:function(e,t,r,n){if(!this._server)throw new Error("Server-only method called in client mode");var i=Buffer.byteLength(n.socketPath),o=this._packetRW.write.allocStart,a=this._packetRW.write.alloc(54+i+4);a[o]=d.CHANNEL_OPEN,O(a,33,++o),a.utf8Write("forwarded-streamlocal@openssh.com",o+=4,33),O(a,e,o+=33),O(a,t,o+=4),O(a,r,o+=4),O(a,i,o+=4),a.utf8Write(n.socketPath,o+=4,i),O(a,0,o+=i),this._debug&&this._debug("Outbound: Sending CHANNEL_OPEN (r:".concat(e,", forwarded-streamlocal@openssh.com)")),C(this,this._packetRW.write.finalize(a))}},{key:"exitStatus",value:function(e,t){if(!this._server)throw new Error("Server-only method called in client mode");var r=this._packetRW.write.allocStart,n=this._packetRW.write.alloc(25);n[r]=d.CHANNEL_REQUEST,O(n,e,++r),O(n,11,r+=4),n.utf8Write("exit-status",r+=4,11),n[r+=11]=0,O(n,t,++r),this._debug&&this._debug("Outbound: Sending CHANNEL_REQUEST (r:".concat(e,", exit-status: ").concat(t,")")),C(this,this._packetRW.write.finalize(n))}},{key:"exitSignal",value:function(e,t,r,n){if(!this._server)throw new Error("Server-only method called in client mode");var i=t;if("string"!=typeof i||!i)throw new Error("Invalid signal: ".concat(i));var o=t.toUpperCase();if("SIG"===o.slice(0,3)&&(o=o.slice(3)),1!==h[o])throw new Error("Invalid signal: ".concat(i));var a=Buffer.byteLength(o),s=n?Buffer.byteLength(n):0,c=this._packetRW.write.allocStart,u=this._packetRW.write.alloc(25+a+1+4+s+4);u[c]=d.CHANNEL_REQUEST,O(u,e,++c),O(u,11,c+=4),u.utf8Write("exit-signal",c+=4,11),u[c+=11]=0,O(u,a,++c),u.utf8Write(o,c+=4,a),u[c+=a]=r?1:0,O(u,s,++c),c+=4,s&&(u.utf8Write(n,c,s),c+=s),O(u,0,c),this._debug&&this._debug("Outbound: Sending CHANNEL_REQUEST (r:".concat(e,", exit-signal: ").concat(t,")")),C(this,this._packetRW.write.finalize(u))}},{key:"authFailure",value:function(e,t){if(!this._server)throw new Error("Server-only method called in client mode");if(0===this._authsQueue.length)throw new Error("No auth in progress");var r;if("boolean"==typeof e&&(t=e,e=void 0),e){r=[];for(var n=0;n<e.length;++n)"none"!==e[n].toLowerCase()&&r.push(e[n]);r=r.join(",")}else r="";var i=r.length,o=this._packetRW.write.allocStart,a=this._packetRW.write.alloc(5+i+1);a[o]=d.USERAUTH_FAILURE,O(a,i,++o),a.utf8Write(r,o+=4,i),a[o+=i]=!0===t?1:0,this._authsQueue.shift(),this._debug&&this._debug("Outbound: Sending USERAUTH_FAILURE"),C(this,this._packetRW.write.finalize(a))}},{key:"authSuccess",value:function(){if(!this._server)throw new Error("Server-only method called in client mode");if(0===this._authsQueue.length)throw new Error("No auth in progress");var e=this._packetRW.write.allocStart,t=this._packetRW.write.alloc(1);t[e]=d.USERAUTH_SUCCESS,this._authsQueue.shift(),this._authenticated=!0,this._debug&&this._debug("Outbound: Sending USERAUTH_SUCCESS"),C(this,this._packetRW.write.finalize(t)),"zlib@openssh.com"===this._kex.negotiated.cs.compress&&(this._packetRW.read=new q),"zlib@openssh.com"===this._kex.negotiated.sc.compress&&(this._packetRW.write=new B(this))}},{key:"authPKOK",value:function(e,t){if(!this._server)throw new Error("Server-only method called in client mode");if(0===this._authsQueue.length||"publickey"!==this._authsQueue[0])throw new Error('"publickey" auth not in progress');var r=Buffer.byteLength(e),n=t.length,i=this._packetRW.write.allocStart,o=this._packetRW.write.alloc(5+r+4+n);o[i]=d.USERAUTH_PK_OK,O(o,r,++i),o.utf8Write(e,i+=4,r),O(o,n,i+=r),o.set(t,i+=4),this._authsQueue.shift(),this._debug&&this._debug("Outbound: Sending USERAUTH_PK_OK"),C(this,this._packetRW.write.finalize(o))}},{key:"authPasswdChg",value:function(e){if(!this._server)throw new Error("Server-only method called in client mode");var t=Buffer.byteLength(e),r=this._packetRW.write.allocStart,n=this._packetRW.write.alloc(5+t+4);n[r]=d.USERAUTH_PASSWD_CHANGEREQ,O(n,t,++r),n.utf8Write(e,r+=4,t),O(n,0,r+=t),this._debug&&this._debug("Outbound: Sending USERAUTH_PASSWD_CHANGEREQ"),C(this,this._packetRW.write.finalize(n))}},{key:"authInfoReq",value:function(e,t,r){if(!this._server)throw new Error("Server-only method called in client mode");for(var n=0,i=e?Buffer.byteLength(e):0,o=t?Buffer.byteLength(t):0,a=0;a<r.length;++a)n+=4+Buffer.byteLength(r[a].prompt)+1;var s=this._packetRW.write.allocStart,c=this._packetRW.write.alloc(5+i+4+o+4+4+n);c[s]=d.USERAUTH_INFO_REQUEST,O(c,i,++s),s+=4,e&&(c.utf8Write(e,s,i),s+=i),O(c,o,s),s+=4,t&&(c.utf8Write(t,s,o),s+=o),O(c,0,s),O(c,r.length,s+=4),s+=4;for(var u=0;u<r.length;++u){var l=r[u],p=Buffer.byteLength(l.prompt);O(c,p,s),s+=4,p&&(c.utf8Write(l.prompt,s,p),s+=p),c[s++]=l.echo?1:0}this._debug&&this._debug("Outbound: Sending USERAUTH_INFO_REQUEST"),C(this,this._packetRW.write.finalize(c))}}])}()},4261:function(e,t,r){"use strict";var n,i=r(4434),o=r(9896),a=o.constants,s=r(2203),c=s.Readable,u=s.Writable,l=r(9023),p=l.inherits,d=l.isDate,h=Buffer[Symbol.species],m=r(5623),g=m.bufferCopy,y=m.bufferSlice,v=m.makeBufferParser,b=m.writeUInt32BE,E=Buffer.alloc(28),w={OK:0,EOF:1,NO_SUCH_FILE:2,PERMISSION_DENIED:3,FAILURE:4,BAD_MESSAGE:5,NO_CONNECTION:6,CONNECTION_LOST:7,OP_UNSUPPORTED:8},A=new Map(Object.values(w).map((function(e){return[e,1]}))),x=R(R(R(R(R(R(R(R(R({},w.OK,"No error"),w.EOF,"End of file"),w.NO_SUCH_FILE,"No such file or directory"),w.PERMISSION_DENIED,"Permission denied"),w.FAILURE,"Failure"),w.BAD_MESSAGE,"Bad message"),w.NO_CONNECTION,"No connection"),w.CONNECTION_LOST,"Connection lost"),w.OP_UNSUPPORTED,"Operation unsupported"),S=200,k={READ:1,WRITE:2,APPEND:4,CREAT:8,TRUNC:16,EXCL:32},I=Math.pow(2,32)-1,T=Buffer.from([0,0,0,5,1,0,0,0,3]),O=Buffer.from([0,0,0,5,2,0,0,0,3]),N=/^SSH-2.0-(?:OpenSSH|dropbear)/,L=262144,q=v(),B={readable:!1,writable:!1,push:function(e){},once:function(){},on:function(){},emit:function(){},end:function(){}};function j(){}function U(e,t,r,n,i,o,a,s){var c=e._maxReadLen,u=Math.max(i-c,0);u&&(i=c);var l=t.length,p=9,d=o,h=Buffer.allocUnsafe(13+l+8+4);b(h,h.length-4,0),h[4]=5;var f=e._writeReqid=e._writeReqid+1&I;b(h,f,5),b(h,l,p),h.set(t,p+=4),p+=l;for(var m=7;m>=0;--m)h[p+m]=255&d,d/=256;b(h,i,p+=8),"function"!=typeof a&&(a=j);var g=s||{nb:0,position:o,off:n,origOff:n,len:void 0,overflow:void 0,cb:function(n,i,o){var s=g.len,c=g.overflow;if(n){if(a._wantEOFError||n.code!==w.EOF)return a(n)}else{if(o>s)return a(new Error("Received more data than requested"));if(o===s&&c)return g.nb+=o,g.position+=o,g.off+=o,void U(e,t,r,g.off,c,g.position,a,g)}o=o||0,i=0===g.origOff&&r.length===g.nb?r:y(r,g.origOff,g.origOff+g.nb+o),a(void 0,g.nb+o,i,g.position)},buffer:void 0};g.len=i,g.overflow=u,g.buffer=y(r,n,n+i),e._requests[f]=g;var v=X(e,h);e._debug&&e._debug("SFTP: Outbound: ".concat(v?"Buffered":"Sending"," READ"))}function F(e,t,r,n,i,a){var s,c,u,l,p=64,d=32768;"function"==typeof i?a=i:"object"==D(i)&&null!==i&&("number"==typeof i.concurrency&&i.concurrency>0&&!isNaN(i.concurrency)&&(p=i.concurrency),"number"==typeof i.chunkSize&&i.chunkSize>0&&!isNaN(i.chunkSize)&&(d=i.chunkSize),"number"==typeof i.fileSize&&i.fileSize>0&&!isNaN(i.fileSize)&&(u=i.fileSize),"function"==typeof i.step&&(s=i.step),"string"!=typeof i.mode&&"number"!=typeof i.mode||(c=K(i.mode)));var h,f,m,g=0,y=0,v=!1,b=d*p;function E(r){if(!v){v=!0;var n,i=0;h||f?(n=function(){0==--i&&a(r)},!h||e!==o&&"open"!==e.outgoing.state||++i,!f||t!==o&&"open"!==t.outgoing.state||++i,!h||e!==o&&"open"!==e.outgoing.state||e.close(h,n),!f||t!==o&&"open"!==t.outgoing.state||t.close(f,n)):a(r)}}e.open(r,"r",(function(i,v){if(i)return E(i);function w(i,u){if(i)return e!==o?void e.stat(r,(function(e,t){if(e)return E(i);w(null,t)})):E(i);l=u.size,t.open(n,"w",(function(r,i){if(r)return E(r);if(f=i,l<=0)return E();for(;b>l;){if(1===p){b=l;break}b-=d,--p}if(m=function(e){try{return Buffer.allocUnsafe(e)}catch(e){return e}}(b),m instanceof Error)return E(m);function o(r,n,i,o,c,p){if(r)return E(r);c=c||0,t.write(f,m,c,n,o,(function(r){if(r)return E(r);if(y+=n,s&&s(y,n,l),n<p)return u(c,o+n,p-n);if(y!==l){if(!(g>=l)){var i=g+d>l?l-g:d;u(c,g,i),g+=i}}else t.close(f,(function(t){if(f=void 0,t)return E(t);e.close(h,(function(e){if(h=void 0,e)return E(e);a()}))}))}))}function u(t,r,n){e.read(h,m,t,n,r,function(e,t,r){return function(n,i,a){o(n,i,0,t,e,r)}}(t,r,n))}function v(){for(var e=0,t=0;g<l&&e<p;){var r=g+d>l?l-g:d;u(t,g,r),t+=r,g+=r,++e}}void 0!==c?t.fchmod(f,c,(function e(r){r?t.chmod(n,c,(function(t){return e()})):v()})):v()}))}h=v,void 0===u?e.fstat(h,w):w(null,{size:u})}))}function z(e,t,r,n,i,o,a){var s="function"==typeof a?a:void 0;e.write(t,r,n,i,o,(function(a,c){if(a)return e.close(t,(function(){s&&s(a)}));c===i?e.close(t,s):z(e,t,r,n+=c,i-=c,o+=c,s)}))}var H=function(){return M((function e(t){P(this,e),this.mode=t&&t.mode,this.uid=t&&t.uid,this.gid=t&&t.gid,this.size=t&&t.size,this.atime=t&&t.atime,this.mtime=t&&t.mtime,this.extended=t&&t.extended}),[{key:"isDirectory",value:function(){return(this.mode&a.S_IFMT)===a.S_IFDIR}},{key:"isFile",value:function(){return(this.mode&a.S_IFMT)===a.S_IFREG}},{key:"isBlockDevice",value:function(){return(this.mode&a.S_IFMT)===a.S_IFBLK}},{key:"isCharacterDevice",value:function(){return(this.mode&a.S_IFMT)===a.S_IFCHR}},{key:"isSymbolicLink",value:function(){return(this.mode&a.S_IFMT)===a.S_IFLNK}},{key:"isFIFO",value:function(){return(this.mode&a.S_IFMT)===a.S_IFIFO}},{key:"isSocket",value:function(){return(this.mode&a.S_IFMT)===a.S_IFSOCK}}])}();function Q(e){var t=0,r=0;if("object"==D(e)&&null!==e){if("number"==typeof e.size){t|=1;var n=e.size;E[r++]=n/72057594037927940,E[r++]=n/281474976710656,E[r++]=n/1099511627776,E[r++]=n/4294967296,E[r++]=n/16777216,E[r++]=n/65536,E[r++]=n/256,E[r++]=n}if("number"==typeof e.uid&&"number"==typeof e.gid){t|=2;var i=e.uid,o=e.gid;E[r++]=i>>>24,E[r++]=i>>>16,E[r++]=i>>>8,E[r++]=i,E[r++]=o>>>24,E[r++]=o>>>16,E[r++]=o>>>8,E[r++]=o}if("number"==typeof e.mode||"string"==typeof e.mode){var a=K(e.mode);t|=4,E[r++]=a>>>24,E[r++]=a>>>16,E[r++]=a>>>8,E[r++]=a}if(("number"==typeof e.atime||d(e.atime))&&("number"==typeof e.mtime||d(e.mtime))){var s=G(e.atime),c=G(e.mtime);t|=8,E[r++]=s>>>24,E[r++]=s>>>16,E[r++]=s>>>8,E[r++]=s,E[r++]=c>>>24,E[r++]=c>>>16,E[r++]=c>>>8,E[r++]=c}}return{flags:t,nb:r}}function G(e){if("number"==typeof e&&e==e)return e;if(d(e))return parseInt(e.getTime()/1e3,10);throw new Error("Cannot parse time: ".concat(e))}function K(e){if("number"==typeof e&&e==e)return e;if("string"==typeof e)return K(parseInt(e,8));throw new Error("Cannot parse mode: ".concat(e))}var $={r:k.READ,"r+":k.READ|k.WRITE,w:k.TRUNC|k.CREAT|k.WRITE,wx:k.TRUNC|k.CREAT|k.WRITE|k.EXCL,xw:k.TRUNC|k.CREAT|k.WRITE|k.EXCL,"w+":k.TRUNC|k.CREAT|k.READ|k.WRITE,"wx+":k.TRUNC|k.CREAT|k.READ|k.WRITE|k.EXCL,"xw+":k.TRUNC|k.CREAT|k.READ|k.WRITE|k.EXCL,a:k.APPEND|k.CREAT|k.WRITE,ax:k.APPEND|k.CREAT|k.WRITE|k.EXCL,xa:k.APPEND|k.CREAT|k.WRITE|k.EXCL,"a+":k.APPEND|k.CREAT|k.READ|k.WRITE,"ax+":k.APPEND|k.CREAT|k.READ|k.WRITE|k.EXCL,"xa+":k.APPEND|k.CREAT|k.READ|k.WRITE|k.EXCL};function W(e){var t=$[e];return void 0!==t?t:null}var V=function(){var e=Object.keys($);return function(t){for(var r=0;r<e.length;++r){var n=e[r];if($[n]===t)return n}return null}}();function Y(e){var t=q.readUInt32BE();if(void 0!==t){var r=new H;if(1&t){var n=q.readUInt64BE(e);if(void 0===n)return;r.size=n}if(2&t){var i=q.readUInt32BE(),o=q.readUInt32BE();if(void 0===o)return;r.uid=i,r.gid=o}if(4&t){var a=q.readUInt32BE();if(void 0===a)return;r.mode=a}if(8&t){var s=q.readUInt32BE(),c=q.readUInt32BE();if(void 0===c)return;r.atime=s,r.mtime=c}if(2147483648&t){var u=q.readUInt32BE();if(void 0===u)return;for(var l={},p=0;p<u;++p){var d=q.readString(!0),h=q.readString();if(void 0===h)return;l[d]=h}r.extended=l}return r}}function X(e,t){var r=J(e,t);return void 0===r||(e._buffer.push(r),!1)}function J(e,t){var r=e.outgoing;if("open"===r.state){if(0===r.window)return e._waitWindow=!0,e._chunkcb=Z,t;for(var n,i=t.length,o=0;i-o>0&&r.window>0;){var a=Math.min(i-o,r.window,r.packetSize);r.window-=a,0===r.window&&(e._waitWindow=!0,e._chunkcb=Z),0===o&&a===i?e._protocol.channelData(e.outgoing.id,t):e._protocol.channelData(e.outgoing.id,y(t,o,o+a)),o+=a}return i-o>0&&(n=o>0?y(t,o,i):t),n}}function Z(){this._chunkcb=void 0;for(var e=this._buffer,t=0;t<e.length;){var r=e[t],n=J(this,r);if(void 0!==n)return n!==r&&(e[t]=n),void(t>0&&(this._buffer=e.slice(t)));++t}t>0&&(this._buffer=[])}function ee(e,t,r){var n=new Error(t);return n.level="sftp-protocol",!r&&e._debug&&e._debug("SFTP: Inbound: ".concat(t)),e.emit("error",n),e.destroy(),te(e),!1}function te(e){var t=Object.keys(e._requests);if(0!==t.length){var r=e._requests;e._requests={};for(var n=new Error("No response from server"),i=0;i<t.length;++i){var o=r[t[i]];"function"==typeof o.cb&&o.cb(n)}}}var re,ne=R(R(R(R(R(R(R({},2,(function(e,t){if(-1!==e._version)return ee(e,"Duplicate VERSION packet");var r={};q.init(t,1);for(var n=q.readUInt32BE();q.avail();){var i=q.readString(!0),o=q.readString(!0);if(void 0===o){n=void 0;break}r[i]=o}if(q.clear(),void 0===n)return ee(e,"Malformed VERSION packet");if(e._debug){var a=Object.keys(r);a.length?e._debug("SFTP: Inbound: Received VERSION (v".concat(n,", exts:").concat(a,")")):e._debug("SFTP: Inbound: Received VERSION (v".concat(n,")"))}if(e._version=n,e._extensions=r,"1"===r["limits@openssh.com"])return function(e,t){var r=9,n=Buffer.allocUnsafe(31);b(n,n.length-4,0),n[4]=S;var i=e._writeReqid=e._writeReqid+1&I;b(n,i,5),b(n,18,r),n.utf8Write("limits@openssh.com",r+=4,18),e._requests[i]={extended:"limits@openssh.com",cb:t};var o=X(e,n);if(e._debug){var a=o?"Buffered":"Sending";e._debug("SFTP: Outbound: ".concat(a," limits@openssh.com"))}}(e,(function(t,r){t||(r.maxPktLen>0&&(e._maxOutPktLen=r.maxPktLen),r.maxReadLen>0&&(e._maxReadLen=r.maxReadLen),r.maxWriteLen>0&&(e._maxWriteLen=r.maxWriteLen),e.maxOpenHandles=r.maxOpenHandles>0?r.maxOpenHandles:1/0),e.emit("ready")}));e.emit("ready")})),101,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readUInt32BE(),i=q.readString(!0);if(q.clear(),e._debug){var o=JSON.stringify(i);e._debug("SFTP: Inbound: Received STATUS (id:".concat(r,", ").concat(n,", ").concat(o,")"))}var a=e._requests[r];if(delete e._requests[r],a&&"function"==typeof a.cb){if(n===w.OK)return void a.cb();var s=new Error(i||x[n]||"Unknown status");s.code=n,a.cb(s)}})),102,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString();if(q.clear(),void 0===n)return void 0!==r&&delete e._requests[r],ee(e,"Malformed HANDLE packet");e._debug&&e._debug("SFTP: Inbound: Received HANDLE (id:".concat(r,")"));var i=e._requests[r];delete e._requests[r],i&&"function"==typeof i.cb&&i.cb(void 0,n)})),103,(function(e,t){q.init(t,1);var r,n=q.readUInt32BE();if(void 0!==n&&(r=e._requests[n],delete e._requests[n]),r&&"function"==typeof r.cb)if(r.buffer){var i=q.readString(r.buffer);if(q.clear(),void 0!==i)return e._debug&&e._debug("SFTP: Inbound: Received DATA (id:".concat(n,", ").concat(i,")")),void r.cb(void 0,r.buffer,i)}else{var o=q.readString();if(q.clear(),void 0!==o)return e._debug&&e._debug("SFTP: Inbound: Received DATA (id:".concat(n,", ").concat(o.length,")")),void r.cb(void 0,o)}else{var a=q.skipString();if(q.clear(),void 0!==a)return void(e._debug&&e._debug("SFTP: Inbound: Received DATA (id:".concat(n,", ").concat(a,")")))}return ee(e,"Malformed DATA packet")})),104,(function(e,t){q.init(t,1);var r,n=q.readUInt32BE();void 0!==n&&(r=e._requests[n],delete e._requests[n]);var i=q.readUInt32BE();if(void 0!==i){for(var o=[],a=0;a<i;++a){var s=q.readString(!0),c=q.readString(!0),u=Y(e._biOpt);if(void 0===u){o=void 0;break}o.push({filename:s,longname:c,attrs:u})}if(void 0!==o)return e._debug&&e._debug("SFTP: Inbound: Received NAME (id:".concat(n,", ").concat(o.length,")")),q.clear(),void(r&&"function"==typeof r.cb&&r.cb(void 0,o))}return q.clear(),ee(e,"Malformed NAME packet")})),105,(function(e,t){q.init(t,1);var r,n=q.readUInt32BE();void 0!==n&&(r=e._requests[n],delete e._requests[n]);var i=Y(e._biOpt);return q.clear(),void 0!==i?(e._debug&&e._debug("SFTP: Inbound: Received ATTRS (id:".concat(n,")")),void(r&&"function"==typeof r.cb&&r.cb(void 0,i))):ee(e,"Malformed ATTRS packet")})),201,(function(e,t){q.init(t,1);var r=q.readUInt32BE();if(void 0!==r){var n=e._requests[r];if(!n)return e._debug&&e._debug("SFTP: Inbound: Received EXTENDED_REPLY (id:".concat(r,", ???)")),void q.clear();switch(delete e._requests[r],n.extended){case"statvfs@openssh.com":case"fstatvfs@openssh.com":var i=e._biOpt,o={f_bsize:q.readUInt64BE(i),f_frsize:q.readUInt64BE(i),f_blocks:q.readUInt64BE(i),f_bfree:q.readUInt64BE(i),f_bavail:q.readUInt64BE(i),f_files:q.readUInt64BE(i),f_ffree:q.readUInt64BE(i),f_favail:q.readUInt64BE(i),f_sid:q.readUInt64BE(i),f_flag:q.readUInt64BE(i),f_namemax:q.readUInt64BE(i)};if(void 0===o.f_namemax)break;return e._debug&&e._debug("SFTP: Inbound: Received EXTENDED_REPLY (id:".concat(r,", ").concat(n.extended,")")),q.clear(),void("function"==typeof n.cb&&n.cb(void 0,o));case"limits@openssh.com":var a={maxPktLen:q.readUInt64BE(),maxReadLen:q.readUInt64BE(),maxWriteLen:q.readUInt64BE(),maxOpenHandles:q.readUInt64BE()};if(void 0===a.maxOpenHandles)break;return e._debug&&e._debug("SFTP: Inbound: Received EXTENDED_REPLY (id:".concat(r,", ").concat(n.extended,")")),q.clear(),void("function"==typeof n.cb&&n.cb(void 0,a));case"users-groups-by-id@openssh.com":var s=q.readUInt32BE();if(void 0===s)break;for(var c=new Array(s),u=0;u<c.length;++u)c[u]=q.readString(!0);var l=q.readUInt32BE();if(void 0===l)break;for(var p=new Array(l),d=0;d<p.length;++d)p[d]=q.readString(!0);if(p.length>0&&void 0===p[p.length-1])break;return e._debug&&e._debug("SFTP: Inbound: Received EXTENDED_REPLY (id:".concat(r,", ").concat(n.extended,")")),q.clear(),void("function"==typeof n.cb&&n.cb(void 0,c,p));default:return e._debug&&e._debug("SFTP: Inbound: Received EXTENDED_REPLY (id:".concat(r,", ???)")),q.clear(),void("function"==typeof n.cb&&n.cb())}}return q.clear(),ee(e,"Malformed EXTENDED_REPLY packet")})),ie=(R(R(R(R(R(R(R(R(R(R(n={},1,(function(e,t){if(-1!==e._version)return ee(e,"Duplicate INIT packet");var r={};q.init(t,1);for(var n=q.readUInt32BE();q.avail();){var i=q.readString(!0),o=q.readString(!0);if(void 0===o){n=void 0;break}r[i]=o}if(q.clear(),void 0===n)return ee(e,"Malformed INIT packet");if(e._debug){var a=Object.keys(r);a.length?e._debug("SFTP: Inbound: Received INIT (v".concat(n,", exts:").concat(a,")")):e._debug("SFTP: Inbound: Received INIT (v".concat(n,")"))}X(e,O),e._version=n,e._extensions=r,e.emit("ready")})),3,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(!0),i=q.readUInt32BE(),o=Y(e._biOpt);if(q.clear(),void 0===o)return ee(e,"Malformed OPEN packet");e._debug&&e._debug("SFTP: Inbound: Received OPEN (id:".concat(r,")")),e.emit("OPEN",r,n,i,o)||e.status(r,w.OP_UNSUPPORTED)})),4,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString();if(q.clear(),void 0===n||n.length>256)return ee(e,"Malformed CLOSE packet");e._debug&&e._debug("SFTP: Inbound: Received CLOSE (id:".concat(r,")")),e.emit("CLOSE",r,n)||e.status(r,w.OP_UNSUPPORTED)})),5,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(),i=q.readUInt64BE(e._biOpt),o=q.readUInt32BE();if(q.clear(),void 0===o||n.length>256)return ee(e,"Malformed READ packet");e._debug&&e._debug("SFTP: Inbound: Received READ (id:".concat(r,")")),e.emit("READ",r,n,i,o)||e.status(r,w.OP_UNSUPPORTED)})),6,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(),i=q.readUInt64BE(e._biOpt),o=q.readString();if(q.clear(),void 0===o||n.length>256)return ee(e,"Malformed WRITE packet");e._debug&&e._debug("SFTP: Inbound: Received WRITE (id:".concat(r,")")),e.emit("WRITE",r,n,i,o)||e.status(r,w.OP_UNSUPPORTED)})),7,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(!0);if(q.clear(),void 0===n)return ee(e,"Malformed LSTAT packet");e._debug&&e._debug("SFTP: Inbound: Received LSTAT (id:".concat(r,")")),e.emit("LSTAT",r,n)||e.status(r,w.OP_UNSUPPORTED)})),8,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString();if(q.clear(),void 0===n||n.length>256)return ee(e,"Malformed FSTAT packet");e._debug&&e._debug("SFTP: Inbound: Received FSTAT (id:".concat(r,")")),e.emit("FSTAT",r,n)||e.status(r,w.OP_UNSUPPORTED)})),9,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(!0),i=Y(e._biOpt);if(q.clear(),void 0===i)return ee(e,"Malformed SETSTAT packet");e._debug&&e._debug("SFTP: Inbound: Received SETSTAT (id:".concat(r,")")),e.emit("SETSTAT",r,n,i)||e.status(r,w.OP_UNSUPPORTED)})),10,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(),i=Y(e._biOpt);if(q.clear(),void 0===i||n.length>256)return ee(e,"Malformed FSETSTAT packet");e._debug&&e._debug("SFTP: Inbound: Received FSETSTAT (id:".concat(r,")")),e.emit("FSETSTAT",r,n,i)||e.status(r,w.OP_UNSUPPORTED)})),11,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(!0);if(q.clear(),void 0===n)return ee(e,"Malformed OPENDIR packet");e._debug&&e._debug("SFTP: Inbound: Received OPENDIR (id:".concat(r,")")),e.emit("OPENDIR",r,n)||e.status(r,w.OP_UNSUPPORTED)})),R(R(R(R(R(R(R(R(R(R(n,12,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString();if(q.clear(),void 0===n||n.length>256)return ee(e,"Malformed READDIR packet");e._debug&&e._debug("SFTP: Inbound: Received READDIR (id:".concat(r,")")),e.emit("READDIR",r,n)||e.status(r,w.OP_UNSUPPORTED)})),13,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(!0);if(q.clear(),void 0===n)return ee(e,"Malformed REMOVE packet");e._debug&&e._debug("SFTP: Inbound: Received REMOVE (id:".concat(r,")")),e.emit("REMOVE",r,n)||e.status(r,w.OP_UNSUPPORTED)})),14,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(!0),i=Y(e._biOpt);if(q.clear(),void 0===i)return ee(e,"Malformed MKDIR packet");e._debug&&e._debug("SFTP: Inbound: Received MKDIR (id:".concat(r,")")),e.emit("MKDIR",r,n,i)||e.status(r,w.OP_UNSUPPORTED)})),15,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(!0);if(q.clear(),void 0===n)return ee(e,"Malformed RMDIR packet");e._debug&&e._debug("SFTP: Inbound: Received RMDIR (id:".concat(r,")")),e.emit("RMDIR",r,n)||e.status(r,w.OP_UNSUPPORTED)})),16,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(!0);if(q.clear(),void 0===n)return ee(e,"Malformed REALPATH packet");e._debug&&e._debug("SFTP: Inbound: Received REALPATH (id:".concat(r,")")),e.emit("REALPATH",r,n)||e.status(r,w.OP_UNSUPPORTED)})),17,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(!0);if(q.clear(),void 0===n)return ee(e,"Malformed STAT packet");e._debug&&e._debug("SFTP: Inbound: Received STAT (id:".concat(r,")")),e.emit("STAT",r,n)||e.status(r,w.OP_UNSUPPORTED)})),18,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(!0),i=q.readString(!0);if(q.clear(),void 0===i)return ee(e,"Malformed RENAME packet");e._debug&&e._debug("SFTP: Inbound: Received RENAME (id:".concat(r,")")),e.emit("RENAME",r,n,i)||e.status(r,w.OP_UNSUPPORTED)})),19,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(!0);if(q.clear(),void 0===n)return ee(e,"Malformed READLINK packet");e._debug&&e._debug("SFTP: Inbound: Received READLINK (id:".concat(r,")")),e.emit("READLINK",r,n)||e.status(r,w.OP_UNSUPPORTED)})),20,(function(e,t){q.init(t,1);var r=q.readUInt32BE(),n=q.readString(!0),i=q.readString(!0);if(q.clear(),void 0===i)return ee(e,"Malformed SYMLINK packet");e._debug&&e._debug("SFTP: Inbound: Received SYMLINK (id:".concat(r,")")),(e._isOpenSSH?e.emit("SYMLINK",r,i,n):e.emit("SYMLINK",r,n,i))||e.status(r,w.OP_UNSUPPORTED)})),S,(function(e,t){q.init(t,1);var r,n=q.readUInt32BE(),i=q.readString(!0);if(void 0===i)return q.clear(),ee(e,"Malformed EXTENDED packet");q.avail()&&(r=q.readRaw()),q.clear(),e._debug&&e._debug("SFTP: Inbound: Received EXTENDED (id:".concat(n,")")),e.emit("EXTENDED",n,i,r)||e.status(n,w.OP_UNSUPPORTED)}))),oe=r(8977),ae=oe.ERR_INVALID_ARG_TYPE,se=oe.ERR_OUT_OF_RANGE,ce=oe.validateNumber,ue=[];function le(e,t){if(!Number.isSafeInteger(e)){if(ce(e,t),!Number.isInteger(e))throw new se(t,"an integer",e);throw new se(t,">= 0 and <= 2 ** 53 - 1",e)}if(e<0)throw new se(t,">= 0 and <= 2 ** 53 - 1",e)}function pe(e){return e+7&-8}function de(e,t,r){if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=D(r))throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}if(void 0===r.highWaterMark&&(r.highWaterMark=65536),r.emitClose=!1,r.autoDestroy=!1,c.call(this,r),this.path=t,this.flags=void 0===r.flags?"r":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.end=r.end,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.bytesRead=0,this.isClosed=!1,this.handle=void 0===r.handle?null:r.handle,this.sftp=e,this._opening=!1,void 0!==this.start&&(le(this.start,"start"),this.pos=this.start),void 0===this.end)this.end=1/0;else if(this.end!==1/0&&(le(this.end,"end"),void 0!==this.start&&this.start>this.end))throw new se("start",'<= "end" (here: '.concat(this.end,")"),this.start);this.on("end",(function(){this.autoClose&&this.destroy()})),Buffer.isBuffer(this.handle)||this.open()}function he(e,t,r){if(!e.handle)return n();function n(n){t(n=n||r),e.isClosed=!0,n||e.emit("close")}e.sftp.close(e.handle,n)}function fe(e,t,r){if(void 0===r)r={};else if("string"==typeof r)r={encoding:r};else{if(null===r||"object"!=D(r))throw new TypeError('"options" argument must be a string or an object');r=Object.create(r)}r.emitClose=!1,r.autoDestroy=!1,u.call(this,r),this.path=t,this.flags=void 0===r.flags?"w":r.flags,this.mode=void 0===r.mode?438:r.mode,this.start=r.start,this.autoClose=void 0===r.autoClose||r.autoClose,this.pos=0,this.bytesWritten=0,this.isClosed=!1,this.handle=void 0===r.handle?null:r.handle,this.sftp=e,this._opening=!1,void 0!==this.start&&(le(this.start,"start"),this.pos=this.start),r.encoding&&this.setDefaultEncoding(r.encoding),this.on("finish",(function(){this._writableState.finalCalled||this.autoClose&&this.destroy()})),Buffer.isBuffer(this.handle)||this.open()}p(de,c),de.prototype.open=function(){var e=this;this._opening||(this._opening=!0,this.sftp.open(this.path,this.flags,this.mode,(function(t,r){if(e._opening=!1,t)return e.emit("error",t),void(e.autoClose&&e.destroy());e.handle=r,e.emit("open",r),e.emit("ready"),e.read()})))},de.prototype._read=function(e){var t=this;if(!Buffer.isBuffer(this.handle))return this.once("open",(function(){return t._read(e)}));if(!this.destroyed){var r;(!re||re.length-re.used<128)&&(r=this.readableHighWaterMark||this._readableState.highWaterMark,(re=ue.length>0?ue.pop():Buffer.allocUnsafe(r)).used=0);var n=re,i=Math.min(re.length-re.used,e),o=re.used;if(void 0!==this.end&&(i=Math.min(this.end-this.pos+1,i)),i<=0)return this.push(null);this.sftp.read(this.handle,re,re.used,i,this.pos,(function(e,r){if(e)return t.emit("error",e),void(t.autoClose&&t.destroy());var a=null;if(o+i===n.used&&n===re)n.used=pe(n.used+r-i);else{var s=o+i&-8,c=pe(o+r);s-c>=128&&ue.push(n.slice(c,s))}r>0&&(t.bytesRead+=r,a=n.slice(o,o+r)),t.pos+=r,t.push(a)})),re.used=pe(re.used+i)}},de.prototype._destroy=function(e,t){!this._opening||Buffer.isBuffer(this.handle)?(he(this,t,e),this.handle=null,this._opening=!1):this.once("open",he.bind(null,this,t,e))},de.prototype.close=function(e){this.destroy(null,e)},Object.defineProperty(de.prototype,"pending",{get:function(){return null===this.handle},configurable:!0}),p(fe,u),fe.prototype._final=function(e){this.autoClose&&this.destroy(),e()},fe.prototype.open=function(){var e=this;this._opening||(this._opening=!0,this.sftp.open(this.path,this.flags,this.mode,(function(t,r){if(e._opening=!1,t)return e.emit("error",t),void(e.autoClose&&e.destroy());e.handle=r;var n=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){if(t)e.sftp.chmod(e.path,e.mode,(function(e){return n()}));else if("a"!==e.flags[0])e.emit("open",r),e.emit("ready");else{var i=function(t,n){t?e.sftp.stat(e.path,(function(r,n){if(r)return e.destroy(),void e.emit("error",t);i(null,n)})):(e.pos=n.size,e.emit("open",r),e.emit("ready"))};e.sftp.fstat(r,i)}}));e.sftp.fchmod(r,e.mode,n)})))},fe.prototype._write=function(e,t,r){var n=this;if(!Buffer.isBuffer(e)){var i=new ae("data","Buffer",e);return this.emit("error",i)}if(!Buffer.isBuffer(this.handle))return this.once("open",(function(){this._write(e,t,r)}));this.sftp.write(this.handle,e,0,e.length,this.pos,(function(e,t){if(e)return n.autoClose&&n.destroy(),r(e);n.bytesWritten+=t,r()})),this.pos+=e.length},fe.prototype._writev=function(e,t){var r=this;if(!Buffer.isBuffer(this.handle))return this.once("open",(function(){this._writev(e,t)}));for(var n=this.sftp,i=this.handle,o=e.length,a=function(e,n){if(e)return r.destroy(),t(e);r.bytesWritten+=n,0==--o&&t()},s=0;s<e.length;++s){var c=e[s].chunk;n.write(i,c,0,c.length,this.pos,a),this.pos+=c.length}},"function"!=typeof u.prototype.destroy&&(fe.prototype.destroy=de.prototype.destroy),fe.prototype._destroy=de.prototype._destroy,fe.prototype.close=function(e){if(e){if(this.isClosed)return void process.nextTick(e);this.on("close",e)}this.autoClose||this.on("finish",this.destroy.bind(this)),this.end()},fe.prototype.destroySoon=fe.prototype.end,Object.defineProperty(fe.prototype,"pending",{get:function(){return null===this.handle},configurable:!0}),e.exports={flagsToString:V,OPEN_MODE:k,SFTP:function(e){function t(e,r,n){var i;P(this,t),i=_(this,t),"object"==D(n)&&n||(n={});var o=e._protocol._remoteIdentRaw;return i.server=!!n.server,i._debug="function"==typeof n.debug?n.debug:void 0,i._isOpenSSH=o&&N.test(o),i._version=-1,i._extensions={},i._biOpt=n.biOpt,i._pktLenBytes=0,i._pktLen=0,i._pktPos=0,i._pktType=0,i._pktData=void 0,i._writeReqid=-1,i._requests={},i._maxInPktLen=L,i._maxOutPktLen=34e3,i._maxReadLen=(i._isOpenSSH?L:34e3)-2048,i._maxWriteLen=(i._isOpenSSH?L:34e3)-2048,i.maxOpenHandles=void 0,i._client=e,i._protocol=e._protocol,i._callbacks=[],i._hasX11=!1,i._exit={code:void 0,signal:void 0,dump:void 0,desc:void 0},i._waitWindow=!1,i._chunkcb=void 0,i._buffer=[],i.type=r.type,i.subtype=void 0,i.incoming=r.incoming,i.outgoing=r.outgoing,i.stderr=B,i.readable=!0,i}return C(t,e),M(t,[{key:"push",value:function(e){if(null===e){if(te(this),!this.readable)return;return this.readable=!1,void this.emit("end")}for(var t=0;t<e.length;){if(this._pktLenBytes<4){var r=Math.min(4-this._pktLenBytes,e.length-t);for(this._pktLenBytes+=r;r--;)this._pktLen=(this._pktLen<<8)+e[t++];if(this._pktLenBytes<4)return;if(0===this._pktLen)return ee(this,"Invalid packet length");if(this._pktLen>this._maxInPktLen){var n=this._maxInPktLen;return ee(this,"Packet length ".concat(this._pktLen," exceeds max length of ").concat(n))}if(t>=e.length)return}if(this._pktPos<this._pktLen){var i=Math.min(this._pktLen-this._pktPos,e.length-t);if(0!==t||i!==e.length?i===this._pktLen?this._pkt=new h(e.buffer,e.byteOffset+t,i):(this._pkt||(this._pkt=Buffer.allocUnsafe(this._pktLen)),this._pkt.set(new Uint8Array(e.buffer,e.byteOffset+t,i),this._pktPos)):i===this._pktLen?this._pkt=e:(this._pkt||(this._pkt=Buffer.allocUnsafe(this._pktLen)),this._pkt.set(e,this._pktPos)),t+=i,this._pktPos+=i,this._pktPos<this._pktLen)return}var o=this._pkt[0],a=this._pkt;this._pktLen=0,this._pktLenBytes=0,this._pkt=void 0,this._pktPos=0;var s=this.server?ie[o]:ne[o];if(!s)return ee(this,"Unknown packet type ".concat(o));if(-1===this._version)if(this.server){if(1!==o)return ee(this,"Expected INIT packet, got ".concat(o))}else if(2!==o)return ee(this,"Expected VERSION packet, got ".concat(o));if(!1===s(this,a))return}}},{key:"end",value:function(){this.destroy()}},{key:"destroy",value:function(){"open"!==this.outgoing.state&&"eof"!==this.outgoing.state||(this.outgoing.state="closing",this._protocol.channelClose(this.outgoing.id))}},{key:"_init",value:function(){this._init=j,this.server||X(this,T)}},{key:"createReadStream",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new de(this,e,t)}},{key:"createWriteStream",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");return new fe(this,e,t)}},{key:"open",value:function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");"function"==typeof r&&(n=r,r=void 0);var i="number"==typeof t?t:W(t);if(null===i)throw new Error("Unknown flags string: ".concat(t));var o=0,a=0;"string"!=typeof r&&"number"!=typeof r||(r={mode:r}),"object"==D(r)&&null!==r&&(o=(r=Q(r)).flags,a=r.nb);var s=Buffer.byteLength(e),c=9,u=Buffer.allocUnsafe(13+s+4+4+a);b(u,u.length-4,0),u[4]=3;var l=this._writeReqid=this._writeReqid+1&I;b(u,l,5),b(u,s,c),u.utf8Write(e,c+=4,s),b(u,i,c+=s),b(u,o,c+=4),a&&(c+=4,a===E.length?u.set(E,c):g(E,u,0,a,c),c+=a),this._requests[l]={cb:n};var p=X(this,u);this._debug&&this._debug("SFTP: Outbound: ".concat(p?"Buffered":"Sending"," OPEN"))}},{key:"close",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=e.length,n=9,i=Buffer.allocUnsafe(13+r);b(i,i.length-4,0),i[4]=4;var o=this._writeReqid=this._writeReqid+1&I;b(i,o,5),b(i,r,n),i.set(e,n+=4),this._requests[o]={cb:t};var a=X(this,i);this._debug&&this._debug("SFTP: Outbound: ".concat(a?"Buffered":"Sending"," CLOSE"))}},{key:"read",value:function(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>=t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");U(this,e,t,r,n,i,o)}},{key:"readData",value:function(e,t,r,n,i,o){this.read(e,t,r,n,i,o)}},{key:"write",value:function(e,t,r,n,i,o){var a=this;if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");if(!Buffer.isBuffer(t))throw new Error("buffer is not a Buffer");if(r>t.length)throw new Error("offset is out of bounds");if(r+n>t.length)throw new Error("length extends beyond buffer");if(null===i)throw new Error("null position currently unsupported");if(n){var s=this._maxWriteLen,c=Math.max(n-s,0),u=i;c&&(n=s);var l=e.length,p=9,d=Buffer.allocUnsafe(13+l+8+4+n);b(d,d.length-4,0),d[4]=6;var h=this._writeReqid=this._writeReqid+1&I;b(d,h,5),b(d,l,p),d.set(e,p+=4),p+=l;for(var f=7;f>=0;--f)d[p+f]=255&i,i/=256;b(d,n,p+=8),g(t,d,r,r+n,p+=4),this._requests[h]={cb:function(i){i?"function"==typeof o&&o(i):c?a.write(e,t,r+n,c,u+n,o):"function"==typeof o&&o(void 0,r+n)}};var m=X(this,d);if(this._debug){var y=m?"Sent":"Buffered";this._debug("SFTP: Outbound: ".concat(y," WRITE (id:").concat(h,")"))}}else o&&process.nextTick(o,void 0,0)}},{key:"writeData",value:function(e,t,r,n,i,o){this.write(e,t,r,n,i,o)}},{key:"fastGet",value:function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");F(this,o,e,t,r,n)}},{key:"fastPut",value:function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");F(o,this,e,t,r,n)}},{key:"readFile",value:function(e,t,r){var n,i=this;if(this.server)throw new Error("Client-only method called in server mode");if("function"==typeof r?n=r:"function"==typeof t&&(n=t,t=void 0),"string"==typeof t)t={encoding:t,flag:"r"};else if(t){if("object"!=D(t))throw new TypeError("Bad arguments")}else t={encoding:null,flag:"r"};var o=t.encoding;if(o&&!Buffer.isEncoding(o))throw new Error("Unknown encoding: ".concat(o));var a,s,c,u,l=0,p=0,d=t.flag||"r",h=function(){0===a?(s=Buffer.allocUnsafe(8192),i.read(u,s,0,8192,p,f)):i.read(u,s,l,a-l,p,f)},f=function(e,t){var r;if(e){if(!(r=e.code===w.EOF))return i.close(u,(function(){return n&&n(e)}))}else r=!1;if(r||0===a&&0===t)return m();p+=t,l+=t,0!==a?l===a?m():h():(c.push(y(s,0,t)),h())};f._wantEOFError=!0;var m=function(){i.close(u,(function(e){return 0===a?s=Buffer.concat(c,l):l<a&&(s=y(s,0,l)),o&&(s=s.toString(o)),n&&n(e,s)}))};this.open(e,d,438,(function(t,r){if(t)return n&&n(t);u=r;var o=function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t,r){if(t)i.stat(e,(function(e,r){if(e)return i.close(u,(function(){n&&n(t)}));o(null,r)}));else{if(0===(a=r.size||0))return c=[],h();s=Buffer.allocUnsafe(a),h()}}));i.fstat(u,o)}))}},{key:"writeFile",value:function(e,t,r,n){var i,o=this;if(this.server)throw new Error("Client-only method called in server mode");if("function"==typeof n?i=n:"function"==typeof r&&(i=r,r=void 0),"string"==typeof r)r={encoding:r,mode:438,flag:"w"};else if(r){if("object"!=D(r))throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"w"};if(r.encoding&&!Buffer.isEncoding(r.encoding))throw new Error("Unknown encoding: ".concat(r.encoding));var a=r.flag||"w";this.open(e,a,r.mode,(function(n,s){if(n)i&&i(n);else{var c=Buffer.isBuffer(t)?t:Buffer.from(""+t,r.encoding||"utf8"),u=/a/.test(a)?null:0;if(null===u){var l=function(t,r){t?o.stat(e,(function(e,r){if(e)return o.close(s,(function(){i&&i(t)}));l(null,r)})):z(o,s,c,0,c.length,r.size,i)};return void o.fstat(s,l)}z(o,s,c,0,c.length,u,i)}}))}},{key:"appendFile",value:function(e,t,r,n){if(this.server)throw new Error("Client-only method called in server mode");var i;if("function"==typeof n?i=n:"function"==typeof r&&(i=r,r=void 0),"string"==typeof r)r={encoding:r,mode:438,flag:"a"};else if(r){if("object"!=D(r))throw new TypeError("Bad arguments")}else r={encoding:"utf8",mode:438,flag:"a"};r.flag||(r=Object.assign({flag:"a"},r)),this.writeFile(e,t,r,i)}},{key:"exists",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");this.stat(e,(function(e){t&&t(!e)}))}},{key:"unlink",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=9,i=Buffer.allocUnsafe(13+r);b(i,i.length-4,0),i[4]=13;var o=this._writeReqid=this._writeReqid+1&I;b(i,o,5),b(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:t};var a=X(this,i);this._debug&&this._debug("SFTP: Outbound: ".concat(a?"Buffered":"Sending"," REMOVE"))}},{key:"rename",value:function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(e),i=Buffer.byteLength(t),o=9,a=Buffer.allocUnsafe(13+n+4+i);b(a,a.length-4,0),a[4]=18;var s=this._writeReqid=this._writeReqid+1&I;b(a,s,5),b(a,n,o),a.utf8Write(e,o+=4,n),b(a,i,o+=n),a.utf8Write(t,o+=4,i),this._requests[s]={cb:r};var c=X(this,a);this._debug&&this._debug("SFTP: Outbound: ".concat(c?"Buffered":"Sending"," RENAME"))}},{key:"mkdir",value:function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=0,i=0;"function"==typeof t&&(r=t,t=void 0),"object"==D(t)&&null!==t&&(n=(t=Q(t)).flags,i=t.nb);var o=Buffer.byteLength(e),a=9,s=Buffer.allocUnsafe(13+o+4+i);b(s,s.length-4,0),s[4]=14;var c=this._writeReqid=this._writeReqid+1&I;b(s,c,5),b(s,o,a),s.utf8Write(e,a+=4,o),b(s,n,a+=o),i&&(a+=4,i===E.length?s.set(E,a):g(E,s,0,i,a),a+=i),this._requests[c]={cb:r};var u=X(this,s);this._debug&&this._debug("SFTP: Outbound: ".concat(u?"Buffered":"Sending"," MKDIR"))}},{key:"rmdir",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=9,i=Buffer.allocUnsafe(13+r);b(i,i.length-4,0),i[4]=15;var o=this._writeReqid=this._writeReqid+1&I;b(i,o,5),b(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:t};var a=X(this,i);this._debug&&this._debug("SFTP: Outbound: ".concat(a?"Buffered":"Sending"," RMDIR"))}},{key:"readdir",value:function(e,t,r){var n=this;if(this.server)throw new Error("Client-only method called in server mode");"function"==typeof t&&(r=t,t={}),"object"==D(t)&&null!==t||(t={});var i=!t||!t.full;if(!Buffer.isBuffer(e)&&"string"!=typeof e)throw new Error("missing directory handle or path");if("string"==typeof e){var o=[],a=0,s=function(e,i){if(e)return r(e);n.readdir(i,t,(function(e,t){var c=e&&e.code===w.EOF;if(e&&!c)return n.close(i,(function(){return r(e)}));if(c)return n.close(i,(function(e){if(e)return r(e);r(void 0,o)}));for(var u=0;u<t.length;++u,++a)o[a]=t[u];s(void 0,i)}))};return this.opendir(e,s)}var c=e.length,u=9,l=Buffer.allocUnsafe(13+c);b(l,l.length-4,0),l[4]=12;var p=this._writeReqid=this._writeReqid+1&I;b(l,p,5),b(l,c,u),l.set(e,u+=4),this._requests[p]={cb:i?function(e,t){if("function"==typeof r){if(e)return r(e);for(var n=t.length-1;n>=0;--n)"."!==t[n].filename&&".."!==t[n].filename||t.splice(n,1);r(void 0,t)}}:r};var d=X(this,l);this._debug&&this._debug("SFTP: Outbound: ".concat(d?"Buffered":"Sending"," READDIR"))}},{key:"fstat",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=e.length,n=9,i=Buffer.allocUnsafe(13+r);b(i,i.length-4,0),i[4]=8;var o=this._writeReqid=this._writeReqid+1&I;b(i,o,5),b(i,r,n),i.set(e,n+=4),this._requests[o]={cb:t};var a=X(this,i);this._debug&&this._debug("SFTP: Outbound: ".concat(a?"Buffered":"Sending"," FSTAT"))}},{key:"stat",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=9,i=Buffer.allocUnsafe(13+r);b(i,i.length-4,0),i[4]=17;var o=this._writeReqid=this._writeReqid+1&I;b(i,o,5),b(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:t};var a=X(this,i);this._debug&&this._debug("SFTP: Outbound: ".concat(a?"Buffered":"Sending"," STAT"))}},{key:"lstat",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=9,i=Buffer.allocUnsafe(13+r);b(i,i.length-4,0),i[4]=7;var o=this._writeReqid=this._writeReqid+1&I;b(i,o,5),b(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:t};var a=X(this,i);this._debug&&this._debug("SFTP: Outbound: ".concat(a?"Buffered":"Sending"," LSTAT"))}},{key:"opendir",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=9,i=Buffer.allocUnsafe(13+r);b(i,i.length-4,0),i[4]=11;var o=this._writeReqid=this._writeReqid+1&I;b(i,o,5),b(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:t};var a=X(this,i);this._debug&&this._debug("SFTP: Outbound: ".concat(a?"Buffered":"Sending"," OPENDIR"))}},{key:"setstat",value:function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=0,i=0;"object"==D(t)&&null!==t?(n=(t=Q(t)).flags,i=t.nb):"function"==typeof t&&(r=t);var o=Buffer.byteLength(e),a=9,s=Buffer.allocUnsafe(13+o+4+i);b(s,s.length-4,0),s[4]=9;var c=this._writeReqid=this._writeReqid+1&I;b(s,c,5),b(s,o,a),s.utf8Write(e,a+=4,o),b(s,n,a+=o),i&&(a+=4,i===E.length?s.set(E,a):g(E,s,0,i,a),a+=i),this._requests[c]={cb:r};var u=X(this,s);this._debug&&this._debug("SFTP: Outbound: ".concat(u?"Buffered":"Sending"," SETSTAT"))}},{key:"fsetstat",value:function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=0,i=0;"object"==D(t)&&null!==t?(n=(t=Q(t)).flags,i=t.nb):"function"==typeof t&&(r=t);var o=e.length,a=9,s=Buffer.allocUnsafe(13+o+4+i);b(s,s.length-4,0),s[4]=10;var c=this._writeReqid=this._writeReqid+1&I;b(s,c,5),b(s,o,a),s.set(e,a+=4),b(s,n,a+=o),i&&(a+=4,i===E.length?s.set(E,a):g(E,s,0,i,a),a+=i),this._requests[c]={cb:r};var u=X(this,s);this._debug&&this._debug("SFTP: Outbound: ".concat(u?"Buffered":"Sending"," FSETSTAT"))}},{key:"futimes",value:function(e,t,r,n){return this.fsetstat(e,{atime:G(t),mtime:G(r)},n)}},{key:"utimes",value:function(e,t,r,n){return this.setstat(e,{atime:G(t),mtime:G(r)},n)}},{key:"fchown",value:function(e,t,r,n){return this.fsetstat(e,{uid:t,gid:r},n)}},{key:"chown",value:function(e,t,r,n){return this.setstat(e,{uid:t,gid:r},n)}},{key:"fchmod",value:function(e,t,r){return this.fsetstat(e,{mode:t},r)}},{key:"chmod",value:function(e,t,r){return this.setstat(e,{mode:t},r)}},{key:"readlink",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=9,i=Buffer.allocUnsafe(13+r);b(i,i.length-4,0),i[4]=19;var o=this._writeReqid=this._writeReqid+1&I;b(i,o,5),b(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:function(e,r){if("function"==typeof t)return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing link info"))}};var a=X(this,i);this._debug&&this._debug("SFTP: Outbound: ".concat(a?"Buffered":"Sending"," READLINK"))}},{key:"symlink",value:function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=Buffer.byteLength(t),i=Buffer.byteLength(e),o=9,a=Buffer.allocUnsafe(13+n+4+i);b(a,a.length-4,0),a[4]=20;var s=this._writeReqid=this._writeReqid+1&I;b(a,s,5),this._isOpenSSH?(b(a,i,o),a.utf8Write(e,o+=4,i),b(a,n,o+=i),a.utf8Write(t,o+=4,n)):(b(a,n,o),a.utf8Write(t,o+=4,n),b(a,i,o+=n),a.utf8Write(e,o+=4,i)),this._requests[s]={cb:r};var c=X(this,a);this._debug&&this._debug("SFTP: Outbound: ".concat(c?"Buffered":"Sending"," SYMLINK"))}},{key:"realpath",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=Buffer.byteLength(e),n=9,i=Buffer.allocUnsafe(13+r);b(i,i.length-4,0),i[4]=16;var o=this._writeReqid=this._writeReqid+1&I;b(i,o,5),b(i,r,n),i.utf8Write(e,n+=4,r),this._requests[o]={cb:function(e,r){if("function"==typeof t)return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing path info"))}};var a=X(this,i);this._debug&&this._debug("SFTP: Outbound: ".concat(a?"Buffered":"Sending"," REALPATH"))}},{key:"ext_openssh_rename",value:function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");var n=this._extensions["posix-rename@openssh.com"];if(!n||"1"!==n)throw new Error("Server does not support this extended request");var i=Buffer.byteLength(e),o=Buffer.byteLength(t),a=9,s=Buffer.allocUnsafe(41+i+4+o);b(s,s.length-4,0),s[4]=S;var c=this._writeReqid=this._writeReqid+1&I;b(s,c,5),b(s,24,a),s.utf8Write("posix-rename@openssh.com",a+=4,24),b(s,i,a+=24),s.utf8Write(e,a+=4,i),b(s,o,a+=i),s.utf8Write(t,a+=4,o),this._requests[c]={cb:r};var u=X(this,s);if(this._debug){var l=u?"Buffered":"Sending";this._debug("SFTP: Outbound: ".concat(l," posix-rename@openssh.com"))}}},{key:"ext_openssh_statvfs",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._extensions["statvfs@openssh.com"];if(!r||"2"!==r)throw new Error("Server does not support this extended request");var n=Buffer.byteLength(e),i=9,o=Buffer.allocUnsafe(36+n);b(o,o.length-4,0),o[4]=S;var a=this._writeReqid=this._writeReqid+1&I;b(o,a,5),b(o,19,i),o.utf8Write("statvfs@openssh.com",i+=4,19),b(o,n,i+=19),o.utf8Write(e,i+=4,n),this._requests[a]={extended:"statvfs@openssh.com",cb:t};var s=X(this,o);if(this._debug){var c=s?"Buffered":"Sending";this._debug("SFTP: Outbound: ".concat(c," statvfs@openssh.com"))}}},{key:"ext_openssh_fstatvfs",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");var r=this._extensions["fstatvfs@openssh.com"];if(!r||"2"!==r)throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var n=e.length,i=9,o=Buffer.allocUnsafe(37+n);b(o,o.length-4,0),o[4]=S;var a=this._writeReqid=this._writeReqid+1&I;b(o,a,5),b(o,20,i),o.utf8Write("fstatvfs@openssh.com",i+=4,20),b(o,n,i+=20),o.set(e,i+=4),this._requests[a]={extended:"fstatvfs@openssh.com",cb:t};var s=X(this,o);if(this._debug){var c=s?"Buffered":"Sending";this._debug("SFTP: Outbound: ".concat(c," fstatvfs@openssh.com"))}}},{key:"ext_openssh_hardlink",value:function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["hardlink@openssh.com"])throw new Error("Server does not support this extended request");var n=Buffer.byteLength(e),i=Buffer.byteLength(t),o=9,a=Buffer.allocUnsafe(37+n+4+i);b(a,a.length-4,0),a[4]=S;var s=this._writeReqid=this._writeReqid+1&I;b(a,s,5),b(a,20,o),a.utf8Write("hardlink@openssh.com",o+=4,20),b(a,n,o+=20),a.utf8Write(e,o+=4,n),b(a,i,o+=n),a.utf8Write(t,o+=4,i),this._requests[s]={cb:r};var c=X(this,a);if(this._debug){var u=c?"Buffered":"Sending";this._debug("SFTP: Outbound: ".concat(u," hardlink@openssh.com"))}}},{key:"ext_openssh_fsync",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["fsync@openssh.com"])throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("handle is not a Buffer");var r=e.length,n=9,i=Buffer.allocUnsafe(34+r);b(i,i.length-4,0),i[4]=S;var o=this._writeReqid=this._writeReqid+1&I;b(i,o,5),b(i,17,n),i.utf8Write("fsync@openssh.com",n+=4,17),b(i,r,n+=17),i.set(e,n+=4),this._requests[o]={cb:t};var a=X(this,i);this._debug&&this._debug("SFTP: Outbound: ".concat(a?"Buffered":"Sending"," fsync@openssh.com"))}},{key:"ext_openssh_lsetstat",value:function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["lsetstat@openssh.com"])throw new Error("Server does not support this extended request");var n=0,i=0;"object"==D(t)&&null!==t?(n=(t=Q(t)).flags,i=t.nb):"function"==typeof t&&(r=t);var o=Buffer.byteLength(e),a=9,s=Buffer.allocUnsafe(37+o+4+i);b(s,s.length-4,0),s[4]=S;var c=this._writeReqid=this._writeReqid+1&I;b(s,c,5),b(s,20,a),s.utf8Write("lsetstat@openssh.com",a+=4,20),b(s,o,a+=20),s.utf8Write(e,a+=4,o),b(s,n,a+=o),i&&(a+=4,i===E.length?s.set(E,a):g(E,s,0,i,a),a+=i),this._requests[c]={cb:r};var u=X(this,s);if(this._debug){var l=u?"Buffered":"Sending";this._debug("SFTP: Outbound: ".concat(l," lsetstat@openssh.com"))}}},{key:"ext_openssh_expandPath",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["expand-path@openssh.com"])throw new Error("Server does not support this extended request");var r=Buffer.byteLength(e),n=9,i=Buffer.allocUnsafe(40+r);b(i,i.length-4,0),i[4]=S;var o=this._writeReqid=this._writeReqid+1&I;b(i,o,5),b(i,23,n),i.utf8Write("expand-path@openssh.com",n+=4,23),b(i,r,n+=20),i.utf8Write(e,n+=4,r),this._requests[o]={cb:function(e,r){if("function"==typeof t)return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing expanded path"))}};var a=X(this,i);if(this._debug){var s=a?"Buffered":"Sending";this._debug("SFTP: Outbound: ".concat(s," expand-path@openssh.com"))}}},{key:"ext_copy_data",value:function(e,t,r,n,i,o){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["copy-data"])throw new Error("Server does not support this extended request");if(!Buffer.isBuffer(e))throw new Error("Source handle is not a Buffer");if(!Buffer.isBuffer(n))throw new Error("Destination handle is not a Buffer");var a=0,s=Buffer.allocUnsafe(26+e.length+8+8+4+n.length+8);b(s,s.length-4,a),s[a+=4]=S,++a;var c=this._writeReqid=this._writeReqid+1&I;b(s,c,a),b(s,9,a+=4),a+=4,s.utf8Write("copy-data",a,9),a+=9,b(s,e.length,a),a+=4,s.set(e,a),a+=e.length;for(var u=7;u>=0;--u)s[a+u]=255&t,t/=256;a+=8;for(var l=7;l>=0;--l)s[a+l]=255&r,r/=256;a+=8,b(s,n.length,a),a+=4,s.set(n,a),a+=n.length;for(var p=7;p>=0;--p)s[a+p]=255&i,i/=256;this._requests[c]={cb:o};var d=X(this,s);if(this._debug){var h=d?"Buffered":"Sending";this._debug("SFTP: Outbound: ".concat(h," copy-data"))}}},{key:"ext_home_dir",value:function(e,t){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["home-directory"])throw new Error("Server does not support this extended request");if("string"!=typeof e)throw new TypeError("username is not a string");var r=0,n=Buffer.byteLength(e),i=Buffer.allocUnsafe(31+n);b(i,i.length-4,r),i[r+=4]=S,++r;var o=this._writeReqid=this._writeReqid+1&I;b(i,o,r),b(i,14,r+=4),r+=4,i.utf8Write("home-directory",r,14),b(i,n,r+=14),r+=4,i.utf8Write(e,r,n),r+=n,this._requests[o]={cb:function(e,r){if("function"==typeof t)return e?t(e):r&&r.length?void t(void 0,r[0].filename):t(new Error("Response missing home directory"))}};var a=X(this,i);if(this._debug){var s=a?"Buffered":"Sending";this._debug("SFTP: Outbound: ".concat(s," home-directory"))}}},{key:"ext_users_groups",value:function(e,t,r){if(this.server)throw new Error("Client-only method called in server mode");if("1"!==this._extensions["users-groups-by-id@openssh.com"])throw new Error("Server does not support this extended request");if(!Array.isArray(e))throw new TypeError("uids is not an array");var n,i=f(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(!Number.isInteger(o)||o<0||o>Math.pow(2,32)-1)throw new Error("uid values must all be 32-bit unsigned integers")}}catch(e){i.e(e)}finally{i.f()}if(!Array.isArray(t))throw new TypeError("gids is not an array");var a,s=f(t);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(!Number.isInteger(c)||c<0||c>Math.pow(2,32)-1)throw new Error("gid values must all be 32-bit unsigned integers")}}catch(e){s.e(e)}finally{s.f()}var u=0,l=Buffer.allocUnsafe(47+4*e.length+4+4*t.length);b(l,l.length-4,u),l[u+=4]=S,++u;var p=this._writeReqid=this._writeReqid+1&I;b(l,p,u),b(l,30,u+=4),u+=4,l.utf8Write("users-groups-by-id@openssh.com",u,30),u+=30,b(l,4*e.length,u),u+=4;var d,h=f(e);try{for(h.s();!(d=h.n()).done;){var m=d.value;b(l,m,u),u+=4}}catch(e){h.e(e)}finally{h.f()}b(l,4*t.length,u),u+=4;var g,y=f(t);try{for(y.s();!(g=y.n()).done;){var v=g.value;b(l,v,u),u+=4}}catch(e){y.e(e)}finally{y.f()}this._requests[p]={extended:"users-groups-by-id@openssh.com",cb:r};var E=X(this,l);if(this._debug){var w=E?"Buffered":"Sending";this._debug("SFTP: Outbound: ".concat(w," users-groups-by-id@openssh.com"))}}},{key:"handle",value:function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Buffer.isBuffer(t))throw new Error("handle is not a Buffer");var r=t.length;if(r>256)throw new Error("handle too large (> 256 bytes)");var n=9,i=Buffer.allocUnsafe(13+r);b(i,i.length-4,0),i[4]=102,b(i,e,5),b(i,r,n),r&&i.set(t,n+=4);var o=X(this,i);this._debug&&this._debug("SFTP: Outbound: ".concat(o?"Buffered":"Sending"," HANDLE"))}},{key:"status",value:function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");if(!A.has(t))throw new Error("Bad status code: ".concat(t));r||(r="");var n=Buffer.byteLength(r),i=9,o=Buffer.allocUnsafe(17+n+4);b(o,o.length-4,0),o[4]=101,b(o,e,5),b(o,t,i),b(o,n,i+=4),i+=4,n&&(o.utf8Write(r,i,n),i+=n),b(o,0,i);var a=X(this,o);this._debug&&this._debug("SFTP: Outbound: ".concat(a?"Buffered":"Sending"," STATUS"))}},{key:"data",value:function(e,t,r){if(!this.server)throw new Error("Server-only method called in client mode");var n,i=Buffer.isBuffer(t);if(!i&&"string"!=typeof t)throw new Error("data is not a Buffer or string");i||r||(r=void 0,n=!0);var o=i?t.length:Buffer.byteLength(t,r),a=9,s=Buffer.allocUnsafe(13+o);b(s,s.length-4,0),s[4]=103,b(s,e,5),b(s,o,a),o&&(i?s.set(t,a+=4):n?s.utf8Write(t,a+=4,o):s.write(t,a+=4,o,r));var c=X(this,s);this._debug&&this._debug("SFTP: Outbound: ".concat(c?"Buffered":"Sending"," DATA"))}},{key:"name",value:function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if(!Array.isArray(t)){if("object"!=D(t)||null===t)throw new Error("names is not an object or array");t=[t]}for(var r,n=t.length,i=0,o=[],a=0;a<n;++a){var s=t[a],c=s&&s.filename&&"string"==typeof s.filename?s.filename:"";i+=4+Buffer.byteLength(c);var u=s&&s.longname&&"string"==typeof s.longname?s.longname:"";if(i+=4+Buffer.byteLength(u),"object"==D(s.attrs)&&null!==s.attrs){if(i+=4+(r=Q(s.attrs)).nb,r.nb){var l=void 0;r.nb===E.length?l=new Uint8Array(E):(l=new Uint8Array(r.nb),g(E,l,0,r.nb,0)),r.bytes=l}o.push(r)}else i+=4,o.push(null)}var p=9,d=Buffer.allocUnsafe(13+i);b(d,d.length-4,0),d[4]=104,b(d,e,5),b(d,n,p),p+=4;for(var h=0;h<n;++h){var f=t[h],m=f&&f.filename&&"string"==typeof f.filename?f.filename:"",y=Buffer.byteLength(m);b(d,y,p),p+=4,y&&(d.utf8Write(m,p,y),p+=y);var v=f&&f.longname&&"string"==typeof f.longname?f.longname:"",w=Buffer.byteLength(v);b(d,w,p),p+=4,w&&(d.utf8Write(v,p,w),p+=w);var A=o[h];A?(b(d,A.flags,p),p+=4,A.flags&&A.bytes&&(d.set(A.bytes,p),p+=A.nb)):(b(d,0,p),p+=4)}var x=X(this,d);this._debug&&this._debug("SFTP: Outbound: ".concat(x?"Buffered":"Sending"," NAME"))}},{key:"attrs",value:function(e,t){if(!this.server)throw new Error("Server-only method called in client mode");if("object"!=D(t)||null===t)throw new Error("attrs is not an object");var r=(t=Q(t)).flags,n=t.nb,i=9,o=Buffer.allocUnsafe(13+n);b(o,o.length-4,0),o[4]=105,b(o,e,5),b(o,r,i),n&&(i+=4,n===E.length?o.set(E,i):g(E,o,0,n,i),i+=n);var a=X(this,o);this._debug&&this._debug("SFTP: Outbound: ".concat(a?"Buffered":"Sending"," ATTRS"))}}])}(i),Stats:H,STATUS_CODE:w,stringToFlags:W}},2535:function(e,t,r){"use strict";var n,i=r(6982);try{n=r(7530)()}catch(e){}var o=r(7785),a=o.bindingAvailable,s=o.CIPHER_INFO,c=o.MAC_INFO,l=function(){if("function"==typeof i.sign&&"function"==typeof i.verify){var e,t,r="-----BEGIN PRIVATE KEY-----\r\nMC4CAQAwBQYDK2VwBCIEIHKj+sVa9WcD/q2DJUJaf43Kptc8xYuUQA4bOFj9vC8T\r\n-----END PRIVATE KEY-----",n=Buffer.from("a");try{e=i.sign(null,n,r),t=i.verify(null,n,r,e)}catch(e){}return Buffer.isBuffer(e)&&64===e.length&&!0===t}return!1}(),p="function"==typeof i.diffieHellman&&"function"==typeof i.generateKeyPairSync&&"function"==typeof i.createPublicKey,d=["ecdh-sha2-nistp256","ecdh-sha2-nistp384","ecdh-sha2-nistp521","diffie-hellman-group-exchange-sha256","diffie-hellman-group14-sha256","diffie-hellman-group15-sha512","diffie-hellman-group16-sha512","diffie-hellman-group17-sha512","diffie-hellman-group18-sha512"];p&&(d.unshift("curve25519-sha256"),d.unshift("curve25519-sha256@libssh.org"));var h=d.concat(["diffie-hellman-group-exchange-sha1","diffie-hellman-group14-sha1","diffie-hellman-group1-sha1"]),f=["ecdsa-sha2-nistp256","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521","rsa-sha2-512","rsa-sha2-256","ssh-rsa"];l&&f.unshift("ssh-ed25519");var m=f.concat(["ssh-dss"]),g=function(){var e=i.getCiphers();return function(t){return e.includes(s[t].sslName)}}(),y=["aes128-gcm@openssh.com","aes256-gcm@openssh.com","aes128-ctr","aes192-ctr","aes256-ctr"];n&&n.flags&&!n.flags.aes?a?y.unshift("chacha20-poly1305@openssh.com"):y.push("chacha20-poly1305@openssh.com"):a&&n&&"x86"===n.arch?y.splice(4,0,"chacha20-poly1305@openssh.com"):y.push("chacha20-poly1305@openssh.com");var v=(y=y.filter(g)).concat(["aes256-cbc","aes192-cbc","aes128-cbc","blowfish-cbc","3des-cbc","aes128-gcm","aes256-gcm","arcfour256","arcfour128","cast128-cbc","arcfour"].filter(g)),b=function(){var e=i.getHashes();return function(t){return e.includes(c[t].sslName)}}(),w=["hmac-sha2-256-etm@openssh.com","hmac-sha2-512-etm@openssh.com","hmac-sha1-etm@openssh.com","hmac-sha2-256","hmac-sha2-512","hmac-sha1"].filter(b),A=w.concat(["hmac-md5","hmac-sha2-256-96","hmac-sha2-512-96","hmac-ripemd160","hmac-sha1-96","hmac-md5-96"].filter(b)),x=["none","zlib@openssh.com","zlib"],S=x.concat([]),_={BAD_DHGEX:1,OLD_EXIT:2,DYN_RPORT_BUG:4,BUG_DHGEX_LARGE:8,IMPLY_RSA_SHA2_SIGALGS:16};e.exports={MESSAGE:{DISCONNECT:1,IGNORE:2,UNIMPLEMENTED:3,DEBUG:4,SERVICE_REQUEST:5,SERVICE_ACCEPT:6,EXT_INFO:7,KEXINIT:20,NEWKEYS:21,KEXDH_INIT:30,KEXDH_REPLY:31,KEXDH_GEX_GROUP:31,KEXDH_GEX_INIT:32,KEXDH_GEX_REPLY:33,KEXDH_GEX_REQUEST:34,KEXECDH_INIT:30,KEXECDH_REPLY:31,USERAUTH_REQUEST:50,USERAUTH_FAILURE:51,USERAUTH_SUCCESS:52,USERAUTH_BANNER:53,USERAUTH_PASSWD_CHANGEREQ:60,USERAUTH_PK_OK:60,USERAUTH_INFO_REQUEST:60,USERAUTH_INFO_RESPONSE:61,GLOBAL_REQUEST:80,REQUEST_SUCCESS:81,REQUEST_FAILURE:82,CHANNEL_OPEN:90,CHANNEL_OPEN_CONFIRMATION:91,CHANNEL_OPEN_FAILURE:92,CHANNEL_WINDOW_ADJUST:93,CHANNEL_DATA:94,CHANNEL_EXTENDED_DATA:95,CHANNEL_EOF:96,CHANNEL_CLOSE:97,CHANNEL_REQUEST:98,CHANNEL_SUCCESS:99,CHANNEL_FAILURE:100},DISCONNECT_REASON:{HOST_NOT_ALLOWED_TO_CONNECT:1,PROTOCOL_ERROR:2,KEY_EXCHANGE_FAILED:3,RESERVED:4,MAC_ERROR:5,COMPRESSION_ERROR:6,SERVICE_NOT_AVAILABLE:7,PROTOCOL_VERSION_NOT_SUPPORTED:8,HOST_KEY_NOT_VERIFIABLE:9,CONNECTION_LOST:10,BY_APPLICATION:11,TOO_MANY_CONNECTIONS:12,AUTH_CANCELED_BY_USER:13,NO_MORE_AUTH_METHODS_AVAILABLE:14,ILLEGAL_USER_NAME:15},DISCONNECT_REASON_STR:void 0,CHANNEL_OPEN_FAILURE:{ADMINISTRATIVELY_PROHIBITED:1,CONNECT_FAILED:2,UNKNOWN_CHANNEL_TYPE:3,RESOURCE_SHORTAGE:4},TERMINAL_MODE:{TTY_OP_END:0,VINTR:1,VQUIT:2,VERASE:3,VKILL:4,VEOF:5,VEOL:6,VEOL2:7,VSTART:8,VSTOP:9,VSUSP:10,VDSUSP:11,VREPRINT:12,VWERASE:13,VLNEXT:14,VFLUSH:15,VSWTCH:16,VSTATUS:17,VDISCARD:18,IGNPAR:30,PARMRK:31,INPCK:32,ISTRIP:33,INLCR:34,IGNCR:35,ICRNL:36,IUCLC:37,IXON:38,IXANY:39,IXOFF:40,IMAXBEL:41,ISIG:50,ICANON:51,XCASE:52,ECHO:53,ECHOE:54,ECHOK:55,ECHONL:56,NOFLSH:57,TOSTOP:58,IEXTEN:59,ECHOCTL:60,ECHOKE:61,PENDIN:62,OPOST:70,OLCUC:71,ONLCR:72,OCRNL:73,ONOCR:74,ONLRET:75,CS7:90,CS8:91,PARENB:92,PARODD:93,TTY_OP_ISPEED:128,TTY_OP_OSPEED:129},CHANNEL_EXTENDED_DATATYPE:{STDERR:1},SIGNALS:["ABRT","ALRM","FPE","HUP","ILL","INT","QUIT","SEGV","TERM","USR1","USR2","KILL","PIPE"].reduce((function(e,t){return E(E({},e),{},R({},t,1))}),{}),COMPAT:_,COMPAT_CHECKS:[["Cisco-1.25",_.BAD_DHGEX],[/^Cisco-1[.]/,_.BUG_DHGEX_LARGE],[/^[0-9.]+$/,_.OLD_EXIT],[/^OpenSSH_5[.][0-9]+/,_.DYN_RPORT_BUG],[/^OpenSSH_7[.]4/,_.IMPLY_RSA_SHA2_SIGALGS]],DEFAULT_KEX:d,SUPPORTED_KEX:h,DEFAULT_SERVER_HOST_KEY:f,SUPPORTED_SERVER_HOST_KEY:m,DEFAULT_CIPHER:y,SUPPORTED_CIPHER:v,DEFAULT_MAC:w,SUPPORTED_MAC:A,DEFAULT_COMPRESSION:x,SUPPORTED_COMPRESSION:S,curve25519Supported:p,eddsaSupported:l},e.exports.DISCONNECT_REASON_BY_VALUE=Array.from(Object.entries(e.exports.DISCONNECT_REASON)).reduce((function(e,t){var r=u(t,2),n=r[0],i=r[1];return E(E({},e),{},R({},i,n))}),{})},7785:function(e,t,r){"use strict";var n,i,o,a,s,c,u,l=r(6982),p=l.createCipheriv,d=l.createDecipheriv,h=l.createHmac,f=l.randomFillSync,m=l.timingSafeEqual,g=r(5623),y=g.readUInt32BE,v=g.writeUInt32BE,b=Buffer[Symbol.species],E=Math.pow(2,32)-1,w=Buffer.alloc(0),A=Buffer.alloc(4),x=new Map,_=35e3;try{var k;n=r(49),i=(k=n).AESGCMCipher,o=k.ChaChaPolyCipher,a=k.GenericCipher,s=k.AESGCMDecipher,c=k.ChaChaPolyDecipher,u=k.GenericDecipher}catch(e){}var I,T,C,O=function(){function e(e,t,r,n,i,o,a){return{sslName:e,blockLen:t,keyLen:r,ivLen:0!==n||1&a?n:t,authLen:i,discardLen:o,stream:!!(1&a)}}return{"chacha20-poly1305@openssh.com":e("chacha20",8,64,0,16,0,1),"aes128-gcm":e("aes-128-gcm",16,16,12,16,0,1),"aes256-gcm":e("aes-256-gcm",16,32,12,16,0,1),"aes128-gcm@openssh.com":e("aes-128-gcm",16,16,12,16,0,1),"aes256-gcm@openssh.com":e("aes-256-gcm",16,32,12,16,0,1),"aes128-cbc":e("aes-128-cbc",16,16,0,0,0,0),"aes192-cbc":e("aes-192-cbc",16,24,0,0,0,0),"aes256-cbc":e("aes-256-cbc",16,32,0,0,0,0),"rijndael-cbc@lysator.liu.se":e("aes-256-cbc",16,32,0,0,0,0),"3des-cbc":e("des-ede3-cbc",8,24,0,0,0,0),"blowfish-cbc":e("bf-cbc",8,16,0,0,0,0),"idea-cbc":e("idea-cbc",8,16,0,0,0,0),"cast128-cbc":e("cast-cbc",8,16,0,0,0,0),"aes128-ctr":e("aes-128-ctr",16,16,16,0,0,1),"aes192-ctr":e("aes-192-ctr",16,24,16,0,0,1),"aes256-ctr":e("aes-256-ctr",16,32,16,0,0,1),"3des-ctr":e("des-ede3",8,24,8,0,0,1),"blowfish-ctr":e("bf-ecb",8,16,8,0,0,1),"cast128-ctr":e("cast5-ecb",8,16,8,0,0,1),arcfour:e("rc4",8,16,0,0,1536,1),arcfour128:e("rc4",8,16,0,0,1536,1),arcfour256:e("rc4",8,32,0,0,1536,1),arcfour512:e("rc4",8,64,0,0,1536,1)}}(),R=function(){function e(e,t,r,n){return{sslName:e,len:t,actualLen:r,isETM:n}}return{"hmac-md5":e("md5",16,16,!1),"hmac-md5-96":e("md5",16,12,!1),"hmac-ripemd160":e("ripemd160",20,20,!1),"hmac-sha1":e("sha1",20,20,!1),"hmac-sha1-etm@openssh.com":e("sha1",20,20,!0),"hmac-sha1-96":e("sha1",20,12,!1),"hmac-sha2-256":e("sha256",32,32,!1),"hmac-sha2-256-etm@openssh.com":e("sha256",32,32,!0),"hmac-sha2-256-96":e("sha256",32,12,!1),"hmac-sha2-512":e("sha512",64,64,!1),"hmac-sha2-512-etm@openssh.com":e("sha512",64,64,!0),"hmac-sha2-512-96":e("sha512",64,12,!1)}}(),L=Buffer.alloc(32),q=Buffer.alloc(16),B=function(){return M((function e(t){P(this,e);var r=t.outbound;this.outSeqno=r.seqno,this._onWrite=r.onWrite,this._encKeyMain=r.cipherKey.slice(0,32),this._encKeyPktLen=r.cipherKey.slice(32),this._dead=!1}),[{key:"free",value:function(){this._dead=!0}},{key:"allocPacket",value:function(e){var t=5+e,r=8-(t-4&7);r<4&&(r+=8),t+=r;var n=Buffer.allocUnsafe(t);return v(n,t-4,0),n[4]=r,f(n,5+e,r),n}},{key:"encrypt",value:function(e){if(!this._dead){q[0]=0,v(q,this.outSeqno,12);var t=p("chacha20",this._encKeyMain,q).update(L),r=p("chacha20",this._encKeyPktLen,q).update(e.slice(0,4));this._onWrite(r),q[0]=1;var n=p("chacha20",this._encKeyMain,q).update(e.slice(4));this._onWrite(n),C(T,r,r.length,n,n.length,t);var i=Buffer.allocUnsafe(16);i.set(new Uint8Array(I.HEAPU8.buffer,T,16),0),this._onWrite(i),this.outSeqno=this.outSeqno+1>>>0}}}])}(),j=function(){return M((function e(t){P(this,e);var r=t.outbound;this.outSeqno=r.seqno,this._onWrite=r.onWrite,this._instance=new o(r.cipherKey),this._dead=!1}),[{key:"free",value:function(){this._dead=!0,this._instance.free()}},{key:"allocPacket",value:function(e){var t=5+e,r=8-(t-4&7);r<4&&(r+=8),t+=r;var n=Buffer.allocUnsafe(t+16);return v(n,t-4,0),n[4]=r,f(n,5+e,r),n}},{key:"encrypt",value:function(e){this._dead||(this._instance.encrypt(e,this.outSeqno),this._onWrite(e),this.outSeqno=this.outSeqno+1>>>0)}}])}(),U=function(){return M((function e(t){P(this,e);var r=t.outbound;this.outSeqno=r.seqno,this._onWrite=r.onWrite,this._encSSLName=r.cipherInfo.sslName,this._encKey=r.cipherKey,this._encIV=r.cipherIV,this._dead=!1}),[{key:"free",value:function(){this._dead=!0}},{key:"allocPacket",value:function(e){var t=5+e,r=16-(t-4&15);r<4&&(r+=16),t+=r;var n=Buffer.allocUnsafe(t);return v(n,t-4,0),n[4]=r,f(n,5+e,r),n}},{key:"encrypt",value:function(e){if(!this._dead){var t=p(this._encSSLName,this._encKey,this._encIV);t.setAutoPadding(!1);var r=e.slice(0,4);t.setAAD(r),this._onWrite(r);var n=t.update(e.slice(4));this._onWrite(n);var i=t.final();i.length&&this._onWrite(i);var o=t.getAuthTag();this._onWrite(o),Y(this._encIV),this.outSeqno=this.outSeqno+1>>>0}}}])}(),F=function(){return M((function e(t){P(this,e);var r=t.outbound;this.outSeqno=r.seqno,this._onWrite=r.onWrite,this._instance=new i(r.cipherInfo.sslName,r.cipherKey,r.cipherIV),this._dead=!1}),[{key:"free",value:function(){this._dead=!0,this._instance.free()}},{key:"allocPacket",value:function(e){var t=5+e,r=16-(t-4&15);r<4&&(r+=16),t+=r;var n=Buffer.allocUnsafe(t+16);return v(n,t-4,0),n[4]=r,f(n,5+e,r),n}},{key:"encrypt",value:function(e){this._dead||(this._instance.encrypt(e),this._onWrite(e),this.outSeqno=this.outSeqno+1>>>0)}}])}(),z=function(){return M((function e(t){P(this,e);var r=t.outbound;this.outSeqno=r.seqno,this._onWrite=r.onWrite,this._encBlockLen=r.cipherInfo.blockLen,this._cipherInstance=p(r.cipherInfo.sslName,r.cipherKey,r.cipherIV),this._macSSLName=r.macInfo.sslName,this._macKey=r.macKey,this._macActualLen=r.macInfo.actualLen,this._macETM=r.macInfo.isETM,this._aadLen=this._macETM?4:0,this._dead=!1;var n=r.cipherInfo.discardLen;if(n){var i=x.get(n);void 0===i&&(i=Buffer.alloc(n),x.set(n,i)),this._cipherInstance.update(i)}}),[{key:"free",value:function(){this._dead=!0}},{key:"allocPacket",value:function(e){var t=this._encBlockLen,r=5+e,n=t-(r-this._aadLen&t-1);n<4&&(n+=t),r+=n;var i=Buffer.allocUnsafe(r);return v(i,r-4,0),i[4]=n,f(i,5+e,n),i}},{key:"encrypt",value:function(e){if(!this._dead){var t;if(this._macETM){var r=new Uint8Array(e.buffer,e.byteOffset,4),n=this._cipherInstance.update(new Uint8Array(e.buffer,e.byteOffset+4,e.length-4));this._onWrite(r),this._onWrite(n),t=h(this._macSSLName,this._macKey),v(A,this.outSeqno,0),t.update(A),t.update(r),t.update(n)}else{var i=this._cipherInstance.update(e);this._onWrite(i),t=h(this._macSSLName,this._macKey),v(A,this.outSeqno,0),t.update(A),t.update(e)}var o=t.digest();o.length>this._macActualLen&&(o=o.slice(0,this._macActualLen)),this._onWrite(o),this.outSeqno=this.outSeqno+1>>>0}}}])}(),H=function(){return M((function e(t){P(this,e);var r=t.outbound;this.outSeqno=r.seqno,this._onWrite=r.onWrite,this._encBlockLen=r.cipherInfo.blockLen,this._macLen=r.macInfo.len,this._macActualLen=r.macInfo.actualLen,this._aadLen=r.macInfo.isETM?4:0,this._instance=new a(r.cipherInfo.sslName,r.cipherKey,r.cipherIV,r.macInfo.sslName,r.macKey,r.macInfo.isETM),this._dead=!1}),[{key:"free",value:function(){this._dead=!0,this._instance.free()}},{key:"allocPacket",value:function(e){var t=this._encBlockLen,r=5+e,n=t-(r-this._aadLen&t-1);n<4&&(n+=t),r+=n;var i=Buffer.allocUnsafe(r+this._macLen);return v(i,r-4,0),i[4]=n,f(i,5+e,n),i}},{key:"encrypt",value:function(e){this._dead||(this._instance.encrypt(e,this.outSeqno),this._macActualLen<this._macLen&&(e=new b(e.buffer,e.byteOffset,e.length-(this._macLen-this._macActualLen))),this._onWrite(e),this.outSeqno=this.outSeqno+1>>>0)}}])}(),Q=function(){return M((function e(t){P(this,e);var r=t.inbound;this.inSeqno=r.seqno,this._onPayload=r.onPayload,this._decKeyMain=r.decipherKey.slice(0,32),this._decKeyPktLen=r.decipherKey.slice(32),this._len=0,this._lenBuf=Buffer.alloc(4),this._lenPos=0,this._packet=null,this._pktLen=0,this._mac=Buffer.allocUnsafe(16),this._calcMac=Buffer.allocUnsafe(16),this._macPos=0}),[{key:"free",value:function(){}},{key:"decrypt",value:function(e,t,r){for(;t<r;){if(this._lenPos<4){for(var n=Math.min(4-this._lenPos,r-t);n--;)this._lenBuf[this._lenPos++]=e[t++];if(this._lenPos<4)return;q[0]=0,v(q,this.inSeqno,12);var i=d("chacha20",this._decKeyPktLen,q).update(this._lenBuf);if(this._len=y(i,0),this._len>_||this._len<8||7&this._len)throw new Error("Bad packet length")}if(this._pktLen<this._len){if(t>=r)return;var o,a=Math.min(this._len-this._pktLen,r-t);if(o=0!==t||a!==r?new Uint8Array(e.buffer,e.byteOffset+t,a):e,a===this._len?this._packet=o:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(o,this._pktLen)),t+=a,this._pktLen+=a,this._pktLen<this._len||t>=r)return}var s=Math.min(16-this._macPos,r-t);if(0!==t||s!==r?this._mac.set(new Uint8Array(e.buffer,e.byteOffset+t,s),this._macPos):this._mac.set(e,this._macPos),t+=s,this._macPos+=s,this._macPos<16)return;q[0]=0,v(q,this.inSeqno,12);var c=p("chacha20",this._decKeyMain,q).update(L);if(C(T,this._lenBuf,4,this._packet,this._packet.length,c),this._calcMac.set(new Uint8Array(I.HEAPU8.buffer,T,16),0),!m(this._calcMac,this._mac))throw new Error("Invalid MAC");q[0]=1;var u=d("chacha20",this._decKeyMain,q).update(this._packet),l=new b(u.buffer,u.byteOffset+1,u.length-u[0]-1);this.inSeqno=this.inSeqno+1>>>0,this._len=0,this._lenPos=0,this._packet=null,this._pktLen=0,this._macPos=0;var h=this._onPayload(l);if(void 0!==h)return!1===h?t:h}}}])}(),G=function(){return M((function e(t){P(this,e);var r=t.inbound;this.inSeqno=r.seqno,this._onPayload=r.onPayload,this._instance=new c(r.decipherKey),this._len=0,this._lenBuf=Buffer.alloc(4),this._lenPos=0,this._packet=null,this._pktLen=0,this._mac=Buffer.allocUnsafe(16),this._macPos=0}),[{key:"free",value:function(){this._instance.free()}},{key:"decrypt",value:function(e,t,r){for(;t<r;){if(this._lenPos<4){for(var n=Math.min(4-this._lenPos,r-t);n--;)this._lenBuf[this._lenPos++]=e[t++];if(this._lenPos<4)return;if(this._len=this._instance.decryptLen(this._lenBuf,this.inSeqno),this._len>_||this._len<8||7&this._len)throw new Error("Bad packet length");if(t>=r)return}if(this._pktLen<this._len){var i,o=Math.min(this._len-this._pktLen,r-t);if(i=0!==t||o!==r?new Uint8Array(e.buffer,e.byteOffset+t,o):e,o===this._len?this._packet=i:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(i,this._pktLen)),t+=o,this._pktLen+=o,this._pktLen<this._len||t>=r)return}var a=Math.min(16-this._macPos,r-t);if(0!==t||a!==r?this._mac.set(new Uint8Array(e.buffer,e.byteOffset+t,a),this._macPos):this._mac.set(e,this._macPos),t+=a,this._macPos+=a,this._macPos<16)return;this._instance.decrypt(this._packet,this._mac,this.inSeqno);var s=new b(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0,this._len=0,this._lenPos=0,this._packet=null,this._pktLen=0,this._macPos=0;var c=this._onPayload(s);if(void 0!==c)return!1===c?t:c}}}])}(),K=function(){return M((function e(t){P(this,e);var r=t.inbound;this.inSeqno=r.seqno,this._onPayload=r.onPayload,this._decipherInstance=null,this._decipherSSLName=r.decipherInfo.sslName,this._decipherKey=r.decipherKey,this._decipherIV=r.decipherIV,this._len=0,this._lenBytes=0,this._packet=null,this._packetPos=0,this._pktLen=0,this._tag=Buffer.allocUnsafe(16),this._tagPos=0}),[{key:"free",value:function(){}},{key:"decrypt",value:function(e,t,r){for(;t<r;){if(this._lenBytes<4){var n=Math.min(4-this._lenBytes,r-t);for(this._lenBytes+=n;n--;)this._len=(this._len<<8)+e[t++];if(this._lenBytes<4)return;if(this._len+20>_||this._len<16||15&this._len)throw new Error("Bad packet length");this._decipherInstance=d(this._decipherSSLName,this._decipherKey,this._decipherIV),this._decipherInstance.setAutoPadding(!1),this._decipherInstance.setAAD(X(this._len))}if(this._pktLen<this._len){if(t>=r)return;var i,o=Math.min(this._len-this._pktLen,r-t);if((i=0!==t||o!==r?this._decipherInstance.update(new Uint8Array(e.buffer,e.byteOffset+t,o)):this._decipherInstance.update(e)).length&&(o===this._len?this._packet=i:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(i,this._packetPos)),this._packetPos+=i.length),t+=o,this._pktLen+=o,this._pktLen<this._len||t>=r)return}var a=Math.min(16-this._tagPos,r-t);if(0!==t||a!==r?this._tag.set(new Uint8Array(e.buffer,e.byteOffset+t,a),this._tagPos):this._tag.set(e,this._tagPos),t+=a,this._tagPos+=a,this._tagPos<16)return;this._decipherInstance.setAuthTag(this._tag);var s=this._decipherInstance.final();s.length&&(this._packet?this._packet.set(s,this._packetPos):this._packet=s);var c=this._packet?new b(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1):w;this.inSeqno=this.inSeqno+1>>>0,Y(this._decipherIV),this._len=0,this._lenBytes=0,this._packet=null,this._packetPos=0,this._pktLen=0,this._tagPos=0;var u=this._onPayload(c);if(void 0!==u)return!1===u?t:u}}}])}(),$=function(){return M((function e(t){P(this,e);var r=t.inbound;this.inSeqno=r.seqno,this._onPayload=r.onPayload,this._instance=new s(r.decipherInfo.sslName,r.decipherKey,r.decipherIV),this._len=0,this._lenBytes=0,this._packet=null,this._pktLen=0,this._tag=Buffer.allocUnsafe(16),this._tagPos=0}),[{key:"free",value:function(){}},{key:"decrypt",value:function(e,t,r){for(;t<r;){if(this._lenBytes<4){var n=Math.min(4-this._lenBytes,r-t);for(this._lenBytes+=n;n--;)this._len=(this._len<<8)+e[t++];if(this._lenBytes<4)return;if(this._len+20>_||this._len<16||15&this._len)throw new Error("Bad packet length: ".concat(this._len))}if(this._pktLen<this._len){if(t>=r)return;var i,o=Math.min(this._len-this._pktLen,r-t);if(i=0!==t||o!==r?new Uint8Array(e.buffer,e.byteOffset+t,o):e,o===this._len?this._packet=i:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(i,this._pktLen)),t+=o,this._pktLen+=o,this._pktLen<this._len||t>=r)return}var a=Math.min(16-this._tagPos,r-t);if(0!==t||a!==r?this._tag.set(new Uint8Array(e.buffer,e.byteOffset+t,a),this._tagPos):this._tag.set(e,this._tagPos),t+=a,this._tagPos+=a,this._tagPos<16)return;this._instance.decrypt(this._packet,this._len,this._tag);var s=new b(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0,this._len=0,this._lenBytes=0,this._packet=null,this._pktLen=0,this._tagPos=0;var c=this._onPayload(s);if(void 0!==c)return!1===c?t:c}}}])}(),W=function(){return M((function e(t){P(this,e);var r=t.inbound;this.inSeqno=r.seqno,this._onPayload=r.onPayload,this._decipherInstance=d(r.decipherInfo.sslName,r.decipherKey,r.decipherIV),this._decipherInstance.setAutoPadding(!1),this._block=Buffer.allocUnsafe(r.macInfo.isETM?4:r.decipherInfo.blockLen),this._blockSize=r.decipherInfo.blockLen,this._blockPos=0,this._len=0,this._packet=null,this._packetPos=0,this._pktLen=0,this._mac=Buffer.allocUnsafe(r.macInfo.actualLen),this._macPos=0,this._macSSLName=r.macInfo.sslName,this._macKey=r.macKey,this._macActualLen=r.macInfo.actualLen,this._macETM=r.macInfo.isETM,this._macInstance=null;var n=r.decipherInfo.discardLen;if(n){var i=x.get(n);void 0===i&&(i=Buffer.alloc(n),x.set(n,i)),this._decipherInstance.update(i)}}),[{key:"free",value:function(){}},{key:"decrypt",value:function(e,t,r){for(;t<r;){if(this._blockPos<this._block.length){var n=Math.min(this._block.length-this._blockPos,r-t);if(0!==t||n!==r||n<e.length?this._block.set(new Uint8Array(e.buffer,e.byteOffset+t,n),this._blockPos):this._block.set(e,this._blockPos),t+=n,this._blockPos+=n,this._blockPos<this._block.length)return;var i=void 0,o=void 0;if(this._macETM?this._len=o=y(this._block,0):(i=this._decipherInstance.update(this._block),this._len=y(i,0),o=4+this._len-this._blockSize),this._len>_||this._len<5||o&this._blockSize-1)throw new Error("Bad packet length");if(this._macInstance=h(this._macSSLName,this._macKey),v(A,this.inSeqno,0),this._macInstance.update(A),this._macETM?this._macInstance.update(this._block):(this._macInstance.update(new Uint8Array(i.buffer,i.byteOffset,4)),this._pktLen=i.length-4,this._packetPos=this._pktLen,this._packet=Buffer.allocUnsafe(this._len),this._packet.set(new Uint8Array(i.buffer,i.byteOffset+4,this._packetPos),0)),t>=r)return}if(this._pktLen<this._len){var a,s=Math.min(this._len-this._pktLen,r-t);a=0!==t||s!==r?new Uint8Array(e.buffer,e.byteOffset+t,s):e,this._macETM&&this._macInstance.update(a);var c=this._decipherInstance.update(a);if(c.length&&(s===this._len?this._packet=c:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(c,this._packetPos)),this._packetPos+=c.length),t+=s,this._pktLen+=s,this._pktLen<this._len||t>=r)return}var u=Math.min(this._macActualLen-this._macPos,r-t);if(0!==t||u!==r?this._mac.set(new Uint8Array(e.buffer,e.byteOffset+t,u),this._macPos):this._mac.set(e,this._macPos),t+=u,this._macPos+=u,this._macPos<this._macActualLen)return;this._macETM||this._macInstance.update(this._packet);var l=this._macInstance.digest();if(this._macActualLen<l.length&&(l=new Uint8Array(l.buffer,l.byteOffset,this._macActualLen)),f=l,g=this._mac,!(f.length!==g.length?(m(f,f),0):m(f,g)))throw new Error("Invalid MAC");var p=new b(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0,this._blockPos=0,this._len=0,this._packet=null,this._packetPos=0,this._pktLen=0,this._macPos=0,this._macInstance=null;var d=this._onPayload(p);if(void 0!==d)return!1===d?t:d}var f,g}}])}(),V=function(){return M((function e(t){P(this,e);var r=t.inbound;this.inSeqno=r.seqno,this._onPayload=r.onPayload,this._instance=new u(r.decipherInfo.sslName,r.decipherKey,r.decipherIV,r.macInfo.sslName,r.macKey,r.macInfo.isETM,r.macInfo.actualLen),this._block=Buffer.allocUnsafe(r.macInfo.isETM||r.decipherInfo.stream?4:r.decipherInfo.blockLen),this._blockPos=0,this._len=0,this._packet=null,this._pktLen=0,this._mac=Buffer.allocUnsafe(r.macInfo.actualLen),this._macPos=0,this._macActualLen=r.macInfo.actualLen,this._macETM=r.macInfo.isETM}),[{key:"free",value:function(){this._instance.free()}},{key:"decrypt",value:function(e,t,r){for(;t<r;){if(this._blockPos<this._block.length){var n=Math.min(this._block.length-this._blockPos,r-t);if(0!==t||n!==r||n<e.length?this._block.set(new Uint8Array(e.buffer,e.byteOffset+t,n),this._blockPos):this._block.set(e,this._blockPos),t+=n,this._blockPos+=n,this._blockPos<this._block.length)return;var i=void 0;if(this._macETM?this._len=i=y(this._block,0):(this._instance.decryptBlock(this._block),this._len=y(this._block,0),i=4+this._len-this._block.length),this._len>_||this._len<5||i&this._block.length-1)throw new Error("Bad packet length");if(this._macETM||(this._pktLen=this._block.length-4,this._pktLen&&(this._packet=Buffer.allocUnsafe(this._len),this._packet.set(new Uint8Array(this._block.buffer,this._block.byteOffset+4,this._pktLen),0))),t>=r)return}if(this._pktLen<this._len){var o,a=Math.min(this._len-this._pktLen,r-t);if(o=0!==t||a!==r?new Uint8Array(e.buffer,e.byteOffset+t,a):e,a===this._len?this._packet=o:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(o,this._pktLen)),t+=a,this._pktLen+=a,this._pktLen<this._len||t>=r)return}var s=Math.min(this._macActualLen-this._macPos,r-t);if(0!==t||s!==r?this._mac.set(new Uint8Array(e.buffer,e.byteOffset+t,s),this._macPos):this._mac.set(e,this._macPos),t+=s,this._macPos+=s,this._macPos<this._macActualLen)return;this._instance.decrypt(this._packet,this.inSeqno,this._block,this._mac);var c=new b(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1);this.inSeqno=this.inSeqno+1>>>0,this._blockPos=0,this._len=0,this._packet=null,this._pktLen=0,this._macPos=0,this._macInstance=null;var u=this._onPayload(c);if(void 0!==u)return!1===u?t:u}}}])}();function Y(e){++e[11]>>>8&&++e[10]>>>8&&++e[9]>>>8&&++e[8]>>>8&&++e[7]>>>8&&++e[6]>>>8&&++e[5]>>>8&&++e[4]}var X=function(){var e=Buffer.alloc(4);return function(t){return e[0]=t>>>24,e[1]=t>>>16,e[2]=t>>>8,e[3]=t,e}}();e.exports={CIPHER_INFO:O,MAC_INFO:R,bindingAvailable:!!n,init:new Promise(function(){var e=S(N().mark((function e(t,n){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(125)();case 3:I=e.sent,T=I._malloc(16),C=I.cwrap("poly1305_auth",null,["number","array","number","array","number","array"]),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",n(e.t0));case 11:t();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()),NullCipher:function(){return M((function e(t,r){P(this,e),this.outSeqno=t,this._onWrite=r,this._dead=!1}),[{key:"free",value:function(){this._dead=!0}},{key:"allocPacket",value:function(e){var t=5+e,r=8-(7&t);r<4&&(r+=8),t+=r;var n=Buffer.allocUnsafe(t);return v(n,t-4,0),n[4]=r,f(n,5+e,r),n}},{key:"encrypt",value:function(e){this._dead||(this._onWrite(e),this.outSeqno=this.outSeqno+1>>>0)}}])}(),createCipher:function(e){if("object"!=D(e)||null===e)throw new Error("Invalid config");if("object"!=D(e.outbound)||null===e.outbound)throw new Error("Invalid outbound");var t=e.outbound;if("function"!=typeof t.onWrite)throw new Error("Invalid outbound.onWrite");if("object"!=D(t.cipherInfo)||null===t.cipherInfo)throw new Error("Invalid outbound.cipherInfo");if(!Buffer.isBuffer(t.cipherKey)||t.cipherKey.length!==t.cipherInfo.keyLen)throw new Error("Invalid outbound.cipherKey");if(t.cipherInfo.ivLen&&(!Buffer.isBuffer(t.cipherIV)||t.cipherIV.length!==t.cipherInfo.ivLen))throw new Error("Invalid outbound.cipherIV");if("number"!=typeof t.seqno||t.seqno<0||t.seqno>E)throw new Error("Invalid outbound.seqno");var r=!!t.forceNative;switch(t.cipherInfo.sslName){case"aes-128-gcm":case"aes-256-gcm":return i&&!r?new F(e):new U(e);case"chacha20":return o&&!r?new j(e):new B(e);default:if("object"!=D(t.macInfo)||null===t.macInfo)throw new Error("Invalid outbound.macInfo");if(!Buffer.isBuffer(t.macKey)||t.macKey.length!==t.macInfo.len)throw new Error("Invalid outbound.macKey");return a&&!r?new H(e):new z(e)}},NullDecipher:function(){return M((function e(t,r){P(this,e),this.inSeqno=t,this._onPayload=r,this._len=0,this._lenBytes=0,this._packet=null,this._packetPos=0}),[{key:"free",value:function(){}},{key:"decrypt",value:function(e,t,r){for(;t<r;){if(this._lenBytes<4){var n=Math.min(4-this._lenBytes,r-t);for(this._lenBytes+=n;n--;)this._len=(this._len<<8)+e[t++];if(this._lenBytes<4)return;if(this._len>_||this._len<8||4+this._len&7)throw new Error("Bad packet length");if(t>=r)return}if(this._packetPos<this._len){var i,o=Math.min(this._len-this._packetPos,r-t);if(i=0!==t||o!==r?new Uint8Array(e.buffer,e.byteOffset+t,o):e,o===this._len?this._packet=i:(this._packet||(this._packet=Buffer.allocUnsafe(this._len)),this._packet.set(i,this._packetPos)),t+=o,this._packetPos+=o,this._packetPos<this._len)return}var a=this._packet?new b(this._packet.buffer,this._packet.byteOffset+1,this._packet.length-this._packet[0]-1):w;this.inSeqno=this.inSeqno+1>>>0,this._len=0,this._lenBytes=0,this._packet=null,this._packetPos=0;var s=this._onPayload(a);if(void 0!==s)return!1===s?t:s}}}])}(),createDecipher:function(e){if("object"!=D(e)||null===e)throw new Error("Invalid config");if("object"!=D(e.inbound)||null===e.inbound)throw new Error("Invalid inbound");var t=e.inbound;if("function"!=typeof t.onPayload)throw new Error("Invalid inbound.onPayload");if("object"!=D(t.decipherInfo)||null===t.decipherInfo)throw new Error("Invalid inbound.decipherInfo");if(!Buffer.isBuffer(t.decipherKey)||t.decipherKey.length!==t.decipherInfo.keyLen)throw new Error("Invalid inbound.decipherKey");if(t.decipherInfo.ivLen&&(!Buffer.isBuffer(t.decipherIV)||t.decipherIV.length!==t.decipherInfo.ivLen))throw new Error("Invalid inbound.decipherIV");if("number"!=typeof t.seqno||t.seqno<0||t.seqno>E)throw new Error("Invalid inbound.seqno");var r=!!t.forceNative;switch(t.decipherInfo.sslName){case"aes-128-gcm":case"aes-256-gcm":return s&&!r?new $(e):new K(e);case"chacha20":return c&&!r?new G(e):new Q(e);default:if("object"!=D(t.macInfo)||null===t.macInfo)throw new Error("Invalid inbound.macInfo");if(!Buffer.isBuffer(t.macKey)||t.macKey.length!==t.macInfo.len)throw new Error("Invalid inbound.macKey");return u&&!r?new V(e):new W(e)}}}},125:function(e,t,r){var n,i=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||__filename,function(e){var t,i,o;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){i=e,o=t}));var a,s={};for(a in t)t.hasOwnProperty(a)&&(s[a]=t[a]);var c,u,l,p,d,h="object"==("undefined"==typeof window?"undefined":D(window)),f="function"==typeof importScripts,m="object"==("undefined"==typeof process?"undefined":D(process))&&"object"==D(process.versions)&&"string"==typeof process.versions.node,g="";m?(g=f?r(6928).dirname(g)+"/":__dirname+"/",c=function(e,t){var n=G(e);return n?t?n:n.toString():(p||(p=r(9896)),d||(d=r(6928)),e=d.normalize(e),p.readFileSync(e,t?null:"utf8"))},l=function(e){return(e=c(e,!0)).buffer||(e=new Uint8Array(e)),w(e.buffer),e},u=function(e,t,n){var i=G(e);i&&t(i),p||(p=r(9896)),d||(d=r(6928)),e=d.normalize(e),p.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),t.inspect=function(){return"[Emscripten Module object]"}):(h||f)&&(f?g=self.location.href:"undefined"!=typeof document&&document.currentScript&&(g=document.currentScript.src),n&&(g=n),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",c=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(i){if(e=G(e)){t=[];for(var r=0;r<e.length;r++){var n=e[r];255<n&&(H&&w(!1,"Character code "+n+" ("+String.fromCharCode(n)+")  at offset "+r+" not in 0x00-0xFF."),n&=255),t.push(String.fromCharCode(n))}return t.join("")}throw i}},f&&(l=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(t){if(e=G(e))return e;throw t}}),u=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){if(200==n.status||0==n.status&&n.response)t(n.response);else{var i=G(e);i?t(i.buffer):r()}},n.onerror=r,n.send(null)}),t.print||console.log.bind(console);var y,v=t.printErr||console.warn.bind(console);for(a in s)s.hasOwnProperty(a)&&(t[a]=s[a]);s=null,t.wasmBinary&&(y=t.wasmBinary),t.noExitRuntime,"object"!=("undefined"==typeof WebAssembly?"undefined":D(WebAssembly))&&q("no native wasm support detected");var b,E=!1;function w(e,t){e||q("Assertion failed: "+t)}function A(e){var r=t["_"+e];return w(r,"Cannot call unknown function "+e+", make sure it is exported"),r}var x,S,_,k="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function I(){var e=b.buffer;x=e,t.HEAP8=S=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=new Int32Array(e),t.HEAPU8=_=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var T,C=[],O=[],N=[];function R(){var e=t.preRun.shift();C.unshift(e)}var P=0,L=null,M=null;function q(e){throw t.onAbort&&t.onAbort(e),v(e),E=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),o(e),e}t.preloadedImages={},t.preloadedAudios={};var B,j="data:application/octet-stream;base64,";if(!(B="data:application/octet-stream;base64,AGFzbQEAAAABIAZgAX8Bf2ADf39/AGABfwBgAABgAAF/YAZ/f39/f38AAgcBAWEBYQAAAwsKAAEDAQAAAgQFAgQFAXABAQEFBwEBgAKAgAIGCQF/AUGAjMACCwclCQFiAgABYwADAWQACQFlAAgBZgAHAWcABgFoAAUBaQAKAWoBAAqGTQpPAQJ/QYAIKAIAIgEgAEEDakF8cSICaiEAAkAgAkEAIAAgAU0bDQAgAD8AQRB0SwRAIAAQAEUNAQtBgAggADYCACABDwtBhAhBMDYCAEF/C4wFAg5+Cn8gACgCJCEUIAAoAiAhFSAAKAIcIREgACgCGCESIAAoAhQhEyACQRBPBEAgAC0ATEVBGHQhFyAAKAIEIhZBBWytIQ8gACgCCCIYQQVsrSENIAAoAgwiGUEFbK0hCyAAKAIQIhpBBWytIQkgADUCACEIIBqtIRAgGa0hDiAYrSEMIBatIQoDQCASIAEtAAMiEiABLQAEQQh0ciABLQAFQRB0ciABLQAGIhZBGHRyQQJ2Qf///x9xaq0iAyAOfiABLwAAIAEtAAJBEHRyIBNqIBJBGHRBgICAGHFqrSIEIBB+fCARIAEtAAdBCHQgFnIgAS0ACEEQdHIgAS0ACSIRQRh0ckEEdkH///8fcWqtIgUgDH58IAEtAApBCHQgEXIgAS0AC0EQdHIgAS0ADEEYdHJBBnYgFWqtIgYgCn58IBQgF2ogAS8ADSABLQAPQRB0cmqtIgcgCH58IAMgDH4gBCAOfnwgBSAKfnwgBiAIfnwgByAJfnwgAyAKfiAEIAx+fCAFIAh+fCAGIAl+fCAHIAt+fCADIAh+IAQgCn58IAUgCX58IAYgC358IAcgDX58IAMgCX4gBCAIfnwgBSALfnwgBiANfnwgByAPfnwiA0IaiEL/////D4N8IgRCGohC/////w+DfCIFQhqIQv////8Pg3wiBkIaiEL/////D4N8IgdCGoinQQVsIAOnQf///x9xaiITQRp2IASnQf///x9xaiESIAWnQf///x9xIREgBqdB////H3EhFSAHp0H///8fcSEUIBNB////H3EhEyABQRBqIQEgAkEQayICQQ9LDQALCyAAIBQ2AiQgACAVNgIgIAAgETYCHCAAIBI2AhggACATNgIUCwMAAQu2BAEGfwJAIAAoAjgiBARAIABBPGohBQJAIAJBECAEayIDIAIgA0kbIgZFDQAgBkEDcSEHAkAgBkEBa0EDSQRAQQAhAwwBCyAGQXxxIQhBACEDA0AgBSADIARqaiABIANqLQAAOgAAIAUgA0EBciIEIAAoAjhqaiABIARqLQAAOgAAIAUgA0ECciIEIAAoAjhqaiABIARqLQAAOgAAIAUgA0EDciIEIAAoAjhqaiABIARqLQAAOgAAIANBBGohAyAAKAI4IQQgCEEEayIIDQALCyAHRQ0AA0AgBSADIARqaiABIANqLQAAOgAAIANBAWohAyAAKAI4IQQgB0EBayIHDQALCyAAIAQgBmoiAzYCOCADQRBJDQEgACAFQRAQAiAAQQA2AjggAiAGayECIAEgBmohAQsgAkEQTwRAIAAgASACQXBxIgMQAiACQQ9xIQIgASADaiEBCyACRQ0AIAJBA3EhBCAAQTxqIQVBACEDIAJBAWtBA08EQCACQXxxIQcDQCAFIAAoAjggA2pqIAEgA2otAAA6AAAgBSADQQFyIgYgACgCOGpqIAEgBmotAAA6AAAgBSADQQJyIgYgACgCOGpqIAEgBmotAAA6AAAgBSADQQNyIgYgACgCOGpqIAEgBmotAAA6AAAgA0EEaiEDIAdBBGsiBw0ACwsgBARAA0AgBSAAKAI4IANqaiABIANqLQAAOgAAIANBAWohAyAEQQFrIgQNAAsLIAAgACgCOCACajYCOAsLoS0BDH8jAEEQayIMJAACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEH0AU0EQEGICCgCACIFQRAgAEELakF4cSAAQQtJGyIIQQN2IgJ2IgFBA3EEQCABQX9zQQFxIAJqIgNBA3QiAUG4CGooAgAiBEEIaiEAAkAgBCgCCCICIAFBsAhqIgFGBEBBiAggBUF+IAN3cTYCAAwBCyACIAE2AgwgASACNgIICyAEIANBA3QiAUEDcjYCBCABIARqIgEgASgCBEEBcjYCBAwNCyAIQZAIKAIAIgpNDQEgAQRAAkBBAiACdCIAQQAgAGtyIAEgAnRxIgBBACAAa3FBAWsiACAAQQx2QRBxIgJ2IgFBBXZBCHEiACACciABIAB2IgFBAnZBBHEiAHIgASAAdiIBQQF2QQJxIgByIAEgAHYiAUEBdkEBcSIAciABIAB2aiIDQQN0IgBBuAhqKAIAIgQoAggiASAAQbAIaiIARgRAQYgIIAVBfiADd3EiBTYCAAwBCyABIAA2AgwgACABNgIICyAEQQhqIQAgBCAIQQNyNgIEIAQgCGoiAiADQQN0IgEgCGsiA0EBcjYCBCABIARqIAM2AgAgCgRAIApBA3YiAUEDdEGwCGohB0GcCCgCACEEAn8gBUEBIAF0IgFxRQRAQYgIIAEgBXI2AgAgBwwBCyAHKAIICyEBIAcgBDYCCCABIAQ2AgwgBCAHNgIMIAQgATYCCAtBnAggAjYCAEGQCCADNgIADA0LQYwIKAIAIgZFDQEgBkEAIAZrcUEBayIAIABBDHZBEHEiAnYiAUEFdkEIcSIAIAJyIAEgAHYiAUECdkEEcSIAciABIAB2IgFBAXZBAnEiAHIgASAAdiIBQQF2QQFxIgByIAEgAHZqQQJ0QbgKaigCACIBKAIEQXhxIAhrIQMgASECA0ACQCACKAIQIgBFBEAgAigCFCIARQ0BCyAAKAIEQXhxIAhrIgIgAyACIANJIgIbIQMgACABIAIbIQEgACECDAELCyABIAhqIgkgAU0NAiABKAIYIQsgASABKAIMIgRHBEAgASgCCCIAQZgIKAIASRogACAENgIMIAQgADYCCAwMCyABQRRqIgIoAgAiAEUEQCABKAIQIgBFDQQgAUEQaiECCwNAIAIhByAAIgRBFGoiAigCACIADQAgBEEQaiECIAQoAhAiAA0ACyAHQQA2AgAMCwtBfyEIIABBv39LDQAgAEELaiIAQXhxIQhBjAgoAgAiCUUNAEEAIAhrIQMCQAJAAkACf0EAIAhBgAJJDQAaQR8gCEH///8HSw0AGiAAQQh2IgAgAEGA/j9qQRB2QQhxIgJ0IgAgAEGA4B9qQRB2QQRxIgF0IgAgAEGAgA9qQRB2QQJxIgB0QQ92IAEgAnIgAHJrIgBBAXQgCCAAQRVqdkEBcXJBHGoLIgVBAnRBuApqKAIAIgJFBEBBACEADAELQQAhACAIQQBBGSAFQQF2ayAFQR9GG3QhAQNAAkAgAigCBEF4cSAIayIHIANPDQAgAiEEIAciAw0AQQAhAyACIQAMAwsgACACKAIUIgcgByACIAFBHXZBBHFqKAIQIgJGGyAAIAcbIQAgAUEBdCEBIAINAAsLIAAgBHJFBEBBACEEQQIgBXQiAEEAIABrciAJcSIARQ0DIABBACAAa3FBAWsiACAAQQx2QRBxIgJ2IgFBBXZBCHEiACACciABIAB2IgFBAnZBBHEiAHIgASAAdiIBQQF2QQJxIgByIAEgAHYiAUEBdkEBcSIAciABIAB2akECdEG4CmooAgAhAAsgAEUNAQsDQCAAKAIEQXhxIAhrIgEgA0khAiABIAMgAhshAyAAIAQgAhshBCAAKAIQIgEEfyABBSAAKAIUCyIADQALCyAERQ0AIANBkAgoAgAgCGtPDQAgBCAIaiIGIARNDQEgBCgCGCEFIAQgBCgCDCIBRwRAIAQoAggiAEGYCCgCAEkaIAAgATYCDCABIAA2AggMCgsgBEEUaiICKAIAIgBFBEAgBCgCECIARQ0EIARBEGohAgsDQCACIQcgACIBQRRqIgIoAgAiAA0AIAFBEGohAiABKAIQIgANAAsgB0EANgIADAkLIAhBkAgoAgAiAk0EQEGcCCgCACEDAkAgAiAIayIBQRBPBEBBkAggATYCAEGcCCADIAhqIgA2AgAgACABQQFyNgIEIAIgA2ogATYCACADIAhBA3I2AgQMAQtBnAhBADYCAEGQCEEANgIAIAMgAkEDcjYCBCACIANqIgAgACgCBEEBcjYCBAsgA0EIaiEADAsLIAhBlAgoAgAiBkkEQEGUCCAGIAhrIgE2AgBBoAhBoAgoAgAiAiAIaiIANgIAIAAgAUEBcjYCBCACIAhBA3I2AgQgAkEIaiEADAsLQQAhACAIQS9qIgkCf0HgCygCAARAQegLKAIADAELQewLQn83AgBB5AtCgKCAgICABDcCAEHgCyAMQQxqQXBxQdiq1aoFczYCAEH0C0EANgIAQcQLQQA2AgBBgCALIgFqIgVBACABayIHcSICIAhNDQpBwAsoAgAiBARAQbgLKAIAIgMgAmoiASADTQ0LIAEgBEsNCwtBxAstAABBBHENBQJAAkBBoAgoAgAiAwRAQcgLIQADQCADIAAoAgAiAU8EQCABIAAoAgRqIANLDQMLIAAoAggiAA0ACwtBABABIgFBf0YNBiACIQVB5AsoAgAiA0EBayIAIAFxBEAgAiABayAAIAFqQQAgA2txaiEFCyAFIAhNDQYgBUH+////B0sNBkHACygCACIEBEBBuAsoAgAiAyAFaiIAIANNDQcgACAESw0HCyAFEAEiACABRw0BDAgLIAUgBmsgB3EiBUH+////B0sNBSAFEAEiASAAKAIAIAAoAgRqRg0EIAEhAAsCQCAAQX9GDQAgCEEwaiAFTQ0AQegLKAIAIgEgCSAFa2pBACABa3EiAUH+////B0sEQCAAIQEMCAsgARABQX9HBEAgASAFaiEFIAAhAQwIC0EAIAVrEAEaDAULIAAiAUF/Rw0GDAQLAAtBACEEDAcLQQAhAQwFCyABQX9HDQILQcQLQcQLKAIAQQRyNgIACyACQf7///8HSw0BIAIQASEBQQAQASEAIAFBf0YNASAAQX9GDQEgACABTQ0BIAAgAWsiBSAIQShqTQ0BC0G4C0G4CygCACAFaiIANgIAQbwLKAIAIABJBEBBvAsgADYCAAsCQAJAAkBBoAgoAgAiBwRAQcgLIQADQCABIAAoAgAiAyAAKAIEIgJqRg0CIAAoAggiAA0ACwwCC0GYCCgCACIAQQAgACABTRtFBEBBmAggATYCAAtBACEAQcwLIAU2AgBByAsgATYCAEGoCEF/NgIAQawIQeALKAIANgIAQdQLQQA2AgADQCAAQQN0IgNBuAhqIANBsAhqIgI2AgAgA0G8CGogAjYCACAAQQFqIgBBIEcNAAtBlAggBUEoayIDQXggAWtBB3FBACABQQhqQQdxGyIAayICNgIAQaAIIAAgAWoiADYCACAAIAJBAXI2AgQgASADakEoNgIEQaQIQfALKAIANgIADAILIAAtAAxBCHENACADIAdLDQAgASAHTQ0AIAAgAiAFajYCBEGgCCAHQXggB2tBB3FBACAHQQhqQQdxGyIAaiICNgIAQZQIQZQIKAIAIAVqIgEgAGsiADYCACACIABBAXI2AgQgASAHakEoNgIEQaQIQfALKAIANgIADAELQZgIKAIAIAFLBEBBmAggATYCAAsgASAFaiECQcgLIQACQAJAAkACQAJAAkADQCACIAAoAgBHBEAgACgCCCIADQEMAgsLIAAtAAxBCHFFDQELQcgLIQADQCAHIAAoAgAiAk8EQCACIAAoAgRqIgQgB0sNAwsgACgCCCEADAALAAsgACABNgIAIAAgACgCBCAFajYCBCABQXggAWtBB3FBACABQQhqQQdxG2oiCSAIQQNyNgIEIAJBeCACa0EHcUEAIAJBCGpBB3EbaiIFIAggCWoiBmshAiAFIAdGBEBBoAggBjYCAEGUCEGUCCgCACACaiIANgIAIAYgAEEBcjYCBAwDCyAFQZwIKAIARgRAQZwIIAY2AgBBkAhBkAgoAgAgAmoiADYCACAGIABBAXI2AgQgACAGaiAANgIADAMLIAUoAgQiAEEDcUEBRgRAIABBeHEhBwJAIABB/wFNBEAgBSgCCCIDIABBA3YiAEEDdEGwCGpGGiADIAUoAgwiAUYEQEGICEGICCgCAEF+IAB3cTYCAAwCCyADIAE2AgwgASADNgIIDAELIAUoAhghCAJAIAUgBSgCDCIBRwRAIAUoAggiACABNgIMIAEgADYCCAwBCwJAIAVBFGoiACgCACIDDQAgBUEQaiIAKAIAIgMNAEEAIQEMAQsDQCAAIQQgAyIBQRRqIgAoAgAiAw0AIAFBEGohACABKAIQIgMNAAsgBEEANgIACyAIRQ0AAkAgBSAFKAIcIgNBAnRBuApqIgAoAgBGBEAgACABNgIAIAENAUGMCEGMCCgCAEF+IAN3cTYCAAwCCyAIQRBBFCAIKAIQIAVGG2ogATYCACABRQ0BCyABIAg2AhggBSgCECIABEAgASAANgIQIAAgATYCGAsgBSgCFCIARQ0AIAEgADYCFCAAIAE2AhgLIAUgB2ohBSACIAdqIQILIAUgBSgCBEF+cTYCBCAGIAJBAXI2AgQgAiAGaiACNgIAIAJB/wFNBEAgAkEDdiIAQQN0QbAIaiECAn9BiAgoAgAiAUEBIAB0IgBxRQRAQYgIIAAgAXI2AgAgAgwBCyACKAIICyEAIAIgBjYCCCAAIAY2AgwgBiACNgIMIAYgADYCCAwDC0EfIQAgAkH///8HTQRAIAJBCHYiACAAQYD+P2pBEHZBCHEiA3QiACAAQYDgH2pBEHZBBHEiAXQiACAAQYCAD2pBEHZBAnEiAHRBD3YgASADciAAcmsiAEEBdCACIABBFWp2QQFxckEcaiEACyAGIAA2AhwgBkIANwIQIABBAnRBuApqIQQCQEGMCCgCACIDQQEgAHQiAXFFBEBBjAggASADcjYCACAEIAY2AgAgBiAENgIYDAELIAJBAEEZIABBAXZrIABBH0YbdCEAIAQoAgAhAQNAIAEiAygCBEF4cSACRg0DIABBHXYhASAAQQF0IQAgAyABQQRxaiIEKAIQIgENAAsgBCAGNgIQIAYgAzYCGAsgBiAGNgIMIAYgBjYCCAwCC0GUCCAFQShrIgNBeCABa0EHcUEAIAFBCGpBB3EbIgBrIgI2AgBBoAggACABaiIANgIAIAAgAkEBcjYCBCABIANqQSg2AgRBpAhB8AsoAgA2AgAgByAEQScgBGtBB3FBACAEQSdrQQdxG2pBL2siACAAIAdBEGpJGyICQRs2AgQgAkHQCykCADcCECACQcgLKQIANwIIQdALIAJBCGo2AgBBzAsgBTYCAEHICyABNgIAQdQLQQA2AgAgAkEYaiEAA0AgAEEHNgIEIABBCGohASAAQQRqIQAgASAESQ0ACyACIAdGDQMgAiACKAIEQX5xNgIEIAcgAiAHayIEQQFyNgIEIAIgBDYCACAEQf8BTQRAIARBA3YiAEEDdEGwCGohAgJ/QYgIKAIAIgFBASAAdCIAcUUEQEGICCAAIAFyNgIAIAIMAQsgAigCCAshACACIAc2AgggACAHNgIMIAcgAjYCDCAHIAA2AggMBAtBHyEAIAdCADcCECAEQf///wdNBEAgBEEIdiIAIABBgP4/akEQdkEIcSICdCIAIABBgOAfakEQdkEEcSIBdCIAIABBgIAPakEQdkECcSIAdEEPdiABIAJyIAByayIAQQF0IAQgAEEVanZBAXFyQRxqIQALIAcgADYCHCAAQQJ0QbgKaiEDAkBBjAgoAgAiAkEBIAB0IgFxRQRAQYwIIAEgAnI2AgAgAyAHNgIAIAcgAzYCGAwBCyAEQQBBGSAAQQF2ayAAQR9GG3QhACADKAIAIQEDQCABIgIoAgRBeHEgBEYNBCAAQR12IQEgAEEBdCEAIAIgAUEEcWoiAygCECIBDQALIAMgBzYCECAHIAI2AhgLIAcgBzYCDCAHIAc2AggMAwsgAygCCCIAIAY2AgwgAyAGNgIIIAZBADYCGCAGIAM2AgwgBiAANgIICyAJQQhqIQAMBQsgAigCCCIAIAc2AgwgAiAHNgIIIAdBADYCGCAHIAI2AgwgByAANgIIC0GUCCgCACIAIAhNDQBBlAggACAIayIBNgIAQaAIQaAIKAIAIgIgCGoiADYCACAAIAFBAXI2AgQgAiAIQQNyNgIEIAJBCGohAAwDC0GECEEwNgIAQQAhAAwCCwJAIAVFDQACQCAEKAIcIgJBAnRBuApqIgAoAgAgBEYEQCAAIAE2AgAgAQ0BQYwIIAlBfiACd3EiCTYCAAwCCyAFQRBBFCAFKAIQIARGG2ogATYCACABRQ0BCyABIAU2AhggBCgCECIABEAgASAANgIQIAAgATYCGAsgBCgCFCIARQ0AIAEgADYCFCAAIAE2AhgLAkAgA0EPTQRAIAQgAyAIaiIAQQNyNgIEIAAgBGoiACAAKAIEQQFyNgIEDAELIAQgCEEDcjYCBCAGIANBAXI2AgQgAyAGaiADNgIAIANB/wFNBEAgA0EDdiIAQQN0QbAIaiECAn9BiAgoAgAiAUEBIAB0IgBxRQRAQYgIIAAgAXI2AgAgAgwBCyACKAIICyEAIAIgBjYCCCAAIAY2AgwgBiACNgIMIAYgADYCCAwBC0EfIQAgA0H///8HTQRAIANBCHYiACAAQYD+P2pBEHZBCHEiAnQiACAAQYDgH2pBEHZBBHEiAXQiACAAQYCAD2pBEHZBAnEiAHRBD3YgASACciAAcmsiAEEBdCADIABBFWp2QQFxckEcaiEACyAGIAA2AhwgBkIANwIQIABBAnRBuApqIQICQAJAIAlBASAAdCIBcUUEQEGMCCABIAlyNgIAIAIgBjYCACAGIAI2AhgMAQsgA0EAQRkgAEEBdmsgAEEfRht0IQAgAigCACEIA0AgCCIBKAIEQXhxIANGDQIgAEEddiECIABBAXQhACABIAJBBHFqIgIoAhAiCA0ACyACIAY2AhAgBiABNgIYCyAGIAY2AgwgBiAGNgIIDAELIAEoAggiACAGNgIMIAEgBjYCCCAGQQA2AhggBiABNgIMIAYgADYCCAsgBEEIaiEADAELAkAgC0UNAAJAIAEoAhwiAkECdEG4CmoiACgCACABRgRAIAAgBDYCACAEDQFBjAggBkF+IAJ3cTYCAAwCCyALQRBBFCALKAIQIAFGG2ogBDYCACAERQ0BCyAEIAs2AhggASgCECIABEAgBCAANgIQIAAgBDYCGAsgASgCFCIARQ0AIAQgADYCFCAAIAQ2AhgLAkAgA0EPTQRAIAEgAyAIaiIAQQNyNgIEIAAgAWoiACAAKAIEQQFyNgIEDAELIAEgCEEDcjYCBCAJIANBAXI2AgQgAyAJaiADNgIAIAoEQCAKQQN2IgBBA3RBsAhqIQRBnAgoAgAhAgJ/QQEgAHQiACAFcUUEQEGICCAAIAVyNgIAIAQMAQsgBCgCCAshACAEIAI2AgggACACNgIMIAIgBDYCDCACIAA2AggLQZwIIAk2AgBBkAggAzYCAAsgAUEIaiEACyAMQRBqJAAgAAsQACMAIABrQXBxIgAkACAACwYAIAAkAAsEACMAC4AJAgh/BH4jAEGQAWsiBiQAIAYgBS0AA0EYdEGAgIAYcSAFLwAAIAUtAAJBEHRycjYCACAGIAUoAANBAnZBg/7/H3E2AgQgBiAFKAAGQQR2Qf+B/x9xNgIIIAYgBSgACUEGdkH//8AfcTYCDCAFLwANIQggBS0ADyEJIAZCADcCFCAGQgA3AhwgBkEANgIkIAYgCCAJQRB0QYCAPHFyNgIQIAYgBSgAEDYCKCAGIAUoABQ2AiwgBiAFKAAYNgIwIAUoABwhBSAGQQA6AEwgBkEANgI4IAYgBTYCNCAGIAEgAhAEIAQEQCAGIAMgBBAECyAGKAI4IgEEQCAGQTxqIgIgAWpBAToAACABQQFqQQ9NBEAgASAGakE9aiEEAkBBDyABayIDRQ0AIAMgBGoiAUEBa0EAOgAAIARBADoAACADQQNJDQAgAUECa0EAOgAAIARBADoAASABQQNrQQA6AAAgBEEAOgACIANBB0kNACABQQRrQQA6AAAgBEEAOgADIANBCUkNACAEQQAgBGtBA3EiAWoiBEEANgIAIAQgAyABa0F8cSIBaiIDQQRrQQA2AgAgAUEJSQ0AIARBADYCCCAEQQA2AgQgA0EIa0EANgIAIANBDGtBADYCACABQRlJDQAgBEEANgIYIARBADYCFCAEQQA2AhAgBEEANgIMIANBEGtBADYCACADQRRrQQA2AgAgA0EYa0EANgIAIANBHGtBADYCACABIARBBHFBGHIiAWsiA0EgSQ0AIAEgBGohAQNAIAFCADcDGCABQgA3AxAgAUIANwMIIAFCADcDACABQSBqIQEgA0EgayIDQR9LDQALCwsgBkEBOgBMIAYgAkEQEAILIAY1AjQhECAGNQIwIREgBjUCLCEOIAAgBjUCKCAGKAIkIAYoAiAgBigCHCAGKAIYIgNBGnZqIgJBGnZqIgFBGnZqIgtBgICAYHIgAUH///8fcSINIAJB////H3EiCCAGKAIUIAtBGnZBBWxqIgFB////H3EiCUEFaiIFQRp2IANB////H3EgAUEadmoiA2oiAUEadmoiAkEadmoiBEEadmoiDEEfdSIHIANxIAEgDEEfdkEBayIDQf///x9xIgpxciIBQRp0IAUgCnEgByAJcXJyrXwiDzwAACAAIA9CGIg8AAMgACAPQhCIPAACIAAgD0IIiDwAASAAIA4gByAIcSACIApxciICQRR0IAFBBnZyrXwgD0IgiHwiDjwABCAAIA5CGIg8AAcgACAOQhCIPAAGIAAgDkIIiDwABSAAIBEgByANcSAEIApxciIBQQ50IAJBDHZyrXwgDkIgiHwiDjwACCAAIA5CGIg8AAsgACAOQhCIPAAKIAAgDkIIiDwACSAAIBAgAyAMcSAHIAtxckEIdCABQRJ2cq18IA5CIIh8Ig48AAwgACAOQhiIPAAPIAAgDkIQiDwADiAAIA5CCIg8AA0gBkIANwIwIAZCADcCKCAGQgA3AiAgBkIANwIYIAZCADcCECAGQgA3AgggBkIANwIAIAZBkAFqJAALpwwBB38CQCAARQ0AIABBCGsiAyAAQQRrKAIAIgFBeHEiAGohBQJAIAFBAXENACABQQNxRQ0BIAMgAygCACIBayIDQZgIKAIASQ0BIAAgAWohACADQZwIKAIARwRAIAFB/wFNBEAgAygCCCICIAFBA3YiBEEDdEGwCGpGGiACIAMoAgwiAUYEQEGICEGICCgCAEF+IAR3cTYCAAwDCyACIAE2AgwgASACNgIIDAILIAMoAhghBgJAIAMgAygCDCIBRwRAIAMoAggiAiABNgIMIAEgAjYCCAwBCwJAIANBFGoiAigCACIEDQAgA0EQaiICKAIAIgQNAEEAIQEMAQsDQCACIQcgBCIBQRRqIgIoAgAiBA0AIAFBEGohAiABKAIQIgQNAAsgB0EANgIACyAGRQ0BAkAgAyADKAIcIgJBAnRBuApqIgQoAgBGBEAgBCABNgIAIAENAUGMCEGMCCgCAEF+IAJ3cTYCAAwDCyAGQRBBFCAGKAIQIANGG2ogATYCACABRQ0CCyABIAY2AhggAygCECICBEAgASACNgIQIAIgATYCGAsgAygCFCICRQ0BIAEgAjYCFCACIAE2AhgMAQsgBSgCBCIBQQNxQQNHDQBBkAggADYCACAFIAFBfnE2AgQgAyAAQQFyNgIEIAAgA2ogADYCAA8LIAMgBU8NACAFKAIEIgFBAXFFDQACQCABQQJxRQRAIAVBoAgoAgBGBEBBoAggAzYCAEGUCEGUCCgCACAAaiIANgIAIAMgAEEBcjYCBCADQZwIKAIARw0DQZAIQQA2AgBBnAhBADYCAA8LIAVBnAgoAgBGBEBBnAggAzYCAEGQCEGQCCgCACAAaiIANgIAIAMgAEEBcjYCBCAAIANqIAA2AgAPCyABQXhxIABqIQACQCABQf8BTQRAIAUoAggiAiABQQN2IgRBA3RBsAhqRhogAiAFKAIMIgFGBEBBiAhBiAgoAgBBfiAEd3E2AgAMAgsgAiABNgIMIAEgAjYCCAwBCyAFKAIYIQYCQCAFIAUoAgwiAUcEQCAFKAIIIgJBmAgoAgBJGiACIAE2AgwgASACNgIIDAELAkAgBUEUaiICKAIAIgQNACAFQRBqIgIoAgAiBA0AQQAhAQwBCwNAIAIhByAEIgFBFGoiAigCACIEDQAgAUEQaiECIAEoAhAiBA0ACyAHQQA2AgALIAZFDQACQCAFIAUoAhwiAkECdEG4CmoiBCgCAEYEQCAEIAE2AgAgAQ0BQYwIQYwIKAIAQX4gAndxNgIADAILIAZBEEEUIAYoAhAgBUYbaiABNgIAIAFFDQELIAEgBjYCGCAFKAIQIgIEQCABIAI2AhAgAiABNgIYCyAFKAIUIgJFDQAgASACNgIUIAIgATYCGAsgAyAAQQFyNgIEIAAgA2ogADYCACADQZwIKAIARw0BQZAIIAA2AgAPCyAFIAFBfnE2AgQgAyAAQQFyNgIEIAAgA2ogADYCAAsgAEH/AU0EQCAAQQN2IgFBA3RBsAhqIQACf0GICCgCACICQQEgAXQiAXFFBEBBiAggASACcjYCACAADAELIAAoAggLIQIgACADNgIIIAIgAzYCDCADIAA2AgwgAyACNgIIDwtBHyECIANCADcCECAAQf///wdNBEAgAEEIdiIBIAFBgP4/akEQdkEIcSIBdCICIAJBgOAfakEQdkEEcSICdCIEIARBgIAPakEQdkECcSIEdEEPdiABIAJyIARyayIBQQF0IAAgAUEVanZBAXFyQRxqIQILIAMgAjYCHCACQQJ0QbgKaiEBAkACQAJAQYwIKAIAIgRBASACdCIHcUUEQEGMCCAEIAdyNgIAIAEgAzYCACADIAE2AhgMAQsgAEEAQRkgAkEBdmsgAkEfRht0IQIgASgCACEBA0AgASIEKAIEQXhxIABGDQIgAkEddiEBIAJBAXQhAiAEIAFBBHFqIgdBEGooAgAiAQ0ACyAHIAM2AhAgAyAENgIYCyADIAM2AgwgAyADNgIIDAELIAQoAggiACADNgIMIAQgAzYCCCADQQA2AhggAyAENgIMIAMgADYCCAtBqAhBqAgoAgBBAWsiAEF/IAAbNgIACwsLCQEAQYEICwIGUA==").startsWith(j)){var U=B;B=t.locateFile?t.locateFile(U,g):g+U}function F(){var e=B;try{if(e==B&&y)return new Uint8Array(y);var t=G(e);if(t)return t;if(l)return l(e);throw"both async and sync fetching of the wasm failed"}catch(e){q(e)}}function z(e){for(;0<e.length;){var r=e.shift();if("function"==typeof r)r(t);else{var n=r.m;"number"==typeof n?void 0===r.l?T.get(n)():T.get(n)(r.l):n(void 0===r.l?null:r.l)}}}var H=!1,Q="function"==typeof atob?atob:function(e){var t="",r=0;e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++)),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(r++));n=n<<2|i>>4,i=(15&i)<<4|o>>2;var s=(3&o)<<6|a;t+=String.fromCharCode(n),64!==o&&(t+=String.fromCharCode(i)),64!==a&&(t+=String.fromCharCode(s))}while(r<e.length);return t};function G(e){if(e.startsWith(j)){if(e=e.slice(j.length),"boolean"==typeof m&&m){var t=Buffer.from(e,"base64");t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}else try{var r=Q(e),n=new Uint8Array(r.length);for(e=0;e<r.length;++e)n[e]=r.charCodeAt(e);t=n}catch(e){throw Error("Converting base64 string to bytes failed.")}return t}}var K={a:function(e){var t=_.length;if(2147483648<(e>>>=0))return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296),0<(n=Math.max(e,n))%65536&&(n+=65536-n%65536);e:{try{b.grow(Math.min(2147483648,n)-x.byteLength+65535>>>16),I();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1}};!function(){function e(e){t.asm=e.exports,b=t.asm.b,I(),T=t.asm.j,O.unshift(t.asm.c),P--,t.monitorRunDependencies&&t.monitorRunDependencies(P),0==P&&(null!==L&&(clearInterval(L),L=null),M&&(e=M,M=null,e()))}function r(t){e(t.instance)}function n(e){return function(){if(!y&&(h||f)){if("function"==typeof fetch&&!B.startsWith("file://"))return fetch(B,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+B+"'";return e.arrayBuffer()})).catch((function(){return F()}));if(u)return new Promise((function(e,t){u(B,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return F()}))}().then((function(e){return WebAssembly.instantiate(e,i)})).then(e,(function(e){v("failed to asynchronously prepare wasm: "+e),q(e)}))}var i={a:K};if(P++,t.monitorRunDependencies&&t.monitorRunDependencies(P),t.instantiateWasm)try{return t.instantiateWasm(i,e)}catch(e){return v("Module.instantiateWasm callback failed with error: "+e),!1}(y||"function"!=typeof WebAssembly.instantiateStreaming||B.startsWith(j)||B.startsWith("file://")||"function"!=typeof fetch?n(r):fetch(B,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,i).then(r,(function(e){return v("wasm streaming compile failed: "+e),v("falling back to ArrayBuffer instantiation"),n(r)}))}))).catch(o)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.c).apply(null,arguments)},t._poly1305_auth=function(){return(t._poly1305_auth=t.asm.d).apply(null,arguments)};var $,W=t.stackSave=function(){return(W=t.stackSave=t.asm.e).apply(null,arguments)},V=t.stackRestore=function(){return(V=t.stackRestore=t.asm.f).apply(null,arguments)},Y=t.stackAlloc=function(){return(Y=t.stackAlloc=t.asm.g).apply(null,arguments)};function X(){function e(){if(!$&&($=!0,t.calledRun=!0,!E)){if(z(O),i(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();N.unshift(e)}z(N)}}if(!(0<P)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)R();z(C),0<P||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t._malloc=function(){return(t._malloc=t.asm.h).apply(null,arguments)},t._free=function(){return(t._free=t.asm.i).apply(null,arguments)},t.cwrap=function(e,t,r,n){var i=(r=r||[]).every((function(e){return"number"===e}));return"string"!==t&&i&&!n?A(e):function(){return function(e,t,r,n){var i={string:function(e){var t=0;if(null!=e&&0!==e){var r=1+(e.length<<2),n=t=Y(r),i=_;if(0<r){r=n+r-1;for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++o)),127>=a){if(n>=r)break;i[n++]=a}else{if(2047>=a){if(n+1>=r)break;i[n++]=192|a>>6}else{if(65535>=a){if(n+2>=r)break;i[n++]=224|a>>12}else{if(n+3>=r)break;i[n++]=240|a>>18,i[n++]=128|a>>12&63}i[n++]=128|a>>6&63}i[n++]=128|63&a}}i[n]=0}}return t},array:function(e){var t=Y(e.length);return S.set(e,t),t}},o=A(e),a=[];if(e=0,n)for(var s=0;s<n.length;s++){var c=i[r[s]];c?(0===e&&(e=W()),a[s]=c(n[s])):a[s]=n[s]}return r=function(e){if("string"===t)if(e){for(var r=_,n=e+NaN,i=e;r[i]&&!(i>=n);)++i;if(16<i-e&&r.subarray&&k)e=k.decode(r.subarray(e,i));else{for(n="";e<i;){var o=r[e++];if(128&o){var a=63&r[e++];if(192==(224&o))n+=String.fromCharCode((31&o)<<6|a);else{var s=63&r[e++];65536>(o=224==(240&o)?(15&o)<<12|a<<6|s:(7&o)<<18|a<<12|s<<6|63&r[e++])?n+=String.fromCharCode(o):(o-=65536,n+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else n+=String.fromCharCode(o)}e=n}}else e="";else e="boolean"===t?!!e:e;return e}(r=o.apply(null,a)),0!==e&&V(e),r}(e,t,r,arguments)}},M=function e(){$||X(),$||(M=e)},t.run=X,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return X(),e.ready});e.exports=i},2569:function(e,t,r){"use strict";var n=new Array(256);[r(8818).HANDLERS,r(3439)].forEach((function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var i=u(r[t],2),o=i[0],a=i[1];o=+o,isFinite(o)&&o>=0&&o<n.length&&(n[o]=a)}})),e.exports=n},3439:function(e,t,r){"use strict";var n,i=r(5623),o=i.bufferSlice,a=i.bufferParser,s=i.doFatalError,c=i.sigSSHToASN1,l=i.writeUInt32BE,p=r(2535),d=p.CHANNEL_OPEN_FAILURE,h=p.COMPAT,f=p.MESSAGE,m=p.TERMINAL_MODE,g=r(8946).parseKey,y=Array.from(Object.entries(m)).reduce((function(e,t){var r=u(t,2),n=r[0],i=r[1];return E(E({},e),{},R({},n,i))}),{});e.exports=(R(R(R(R(R(R(R(R(R(R(n={},f.DISCONNECT,(function(e,t){a.init(t,1);var r=a.readUInt32BE(),n=a.readString(!0),i=a.readString();if(a.clear(),void 0===i)return s(e,"Inbound: Malformed DISCONNECT packet");e._debug&&e._debug("Inbound: Received DISCONNECT (".concat(r,', "').concat(n,'")'));var o=e._handlers.DISCONNECT;o&&o(e,r,n)})),f.IGNORE,(function(e,t){e._debug&&e._debug("Inbound: Received IGNORE")})),f.UNIMPLEMENTED,(function(e,t){a.init(t,1);var r=a.readUInt32BE();if(a.clear(),void 0===r)return s(e,"Inbound: Malformed UNIMPLEMENTED packet");e._debug&&e._debug("Inbound: Received UNIMPLEMENTED (seqno ".concat(r,")"))})),f.DEBUG,(function(e,t){a.init(t,1);var r=a.readBool(),n=a.readString(!0),i=a.readString();if(a.clear(),void 0===i)return s(e,"Inbound: Malformed DEBUG packet");e._debug&&e._debug("Inbound: Received DEBUG");var o=e._handlers.DEBUG;o&&o(e,r,n)})),f.SERVICE_REQUEST,(function(e,t){a.init(t,1);var r=a.readString(!0);if(a.clear(),void 0===r)return s(e,"Inbound: Malformed SERVICE_REQUEST packet");e._debug&&e._debug("Inbound: Received SERVICE_REQUEST (".concat(r,")"));var n=e._handlers.SERVICE_REQUEST;n&&n(e,r)})),f.SERVICE_ACCEPT,(function(e,t){a.init(t,1);var r=a.readString(!0);if(a.clear(),void 0===r)return s(e,"Inbound: Malformed SERVICE_ACCEPT packet");e._debug&&e._debug("Inbound: Received SERVICE_ACCEPT (".concat(r,")"));var n=e._handlers.SERVICE_ACCEPT;n&&n(e,r)})),f.EXT_INFO,(function(e,t){a.init(t,1);var r,n=a.readUInt32BE();if(void 0!==n){r=[];for(var i=0;i<n;++i){var o=a.readString(!0),c=a.readString();if(void 0===c){r=void 0;break}if("server-sig-algs"!==o);else{var u=c.latin1Slice(0,c.length).split(",");r.push({name:o,algs:u})}}}if(a.clear(),void 0===r)return s(e,"Inbound: Malformed EXT_INFO packet");e._debug&&e._debug("Inbound: Received EXT_INFO");var l=e._handlers.EXT_INFO;l&&l(e,r)})),f.USERAUTH_REQUEST,(function(e,t){a.init(t,1);var r,n,i=a.readString(!0),u=a.readString(!0),p=a.readString(!0);switch(p){case"none":r=null;break;case"password":var d=a.readBool();if(void 0!==d&&void 0!==(r=a.readString(!0))&&d){var h=a.readString(!0);r=void 0!==h?{oldPassword:r,newPassword:h}:void 0}break;case"publickey":var f=a.readBool();if(void 0!==f){var m,g=a.readString(!0),y=g,v=a.readString();switch(g){case"rsa-sha2-256":y="ssh-rsa",m="sha256";break;case"rsa-sha2-512":y="ssh-rsa",m="sha512"}if(f){var b=a.pos(),E=a.readString();if(void 0!==E&&(E.length>4+g.length+4&&E.utf8Slice(4,4+g.length)===g&&(E=o(E,4+g.length+4)),E=c(E,y))){var w=e._kex.sessionID,A=Buffer.allocUnsafe(4+w.length+b);l(A,w.length,0),A.set(w,4),A.set(new Uint8Array(t.buffer,t.byteOffset,b),4+w.length),r={keyAlgo:y,key:v,signature:E,blob:A,hashAlgo:m}}}else r={keyAlgo:y,key:v,hashAlgo:m},n="publickey -- check"}break;case"hostbased":var x,S=a.readString(!0),_=S,k=a.readString(),I=a.readString(!0),T=a.readString(!0);switch(S){case"rsa-sha2-256":_="ssh-rsa",x="sha256";break;case"rsa-sha2-512":_="ssh-rsa",x="sha512"}var C=a.pos(),O=a.readString();if(void 0!==O&&(O.length>4+S.length+4&&O.utf8Slice(4,4+S.length)===S&&(O=o(O,4+S.length+4)),void 0!==(O=c(O,_)))){var N=e._kex.sessionID,R=Buffer.allocUnsafe(4+N.length+C);l(R,N.length,0),R.set(N,4),R.set(new Uint8Array(t.buffer,t.byteOffset,C),4+N.length),r={keyAlgo:_,key:k,signature:O,blob:R,localHostname:I,localUsername:T,hashAlgo:x}}break;case"keyboard-interactive":a.skipString(),r=a.readList();break;default:void 0!==p&&(r=a.readRaw())}if(a.clear(),void 0===r)return s(e,"Inbound: Malformed USERAUTH_REQUEST packet");void 0===n&&(n=p),e._authsQueue.push(p),e._debug&&e._debug("Inbound: Received USERAUTH_REQUEST (".concat(n,")"));var P=e._handlers.USERAUTH_REQUEST;P&&P(e,i,u,p,r)})),f.USERAUTH_FAILURE,(function(e,t){a.init(t,1);var r=a.readList(),n=a.readBool();if(a.clear(),void 0===n)return s(e,"Inbound: Malformed USERAUTH_FAILURE packet");e._debug&&e._debug("Inbound: Received USERAUTH_FAILURE (".concat(r,")")),e._authsQueue.shift();var i=e._handlers.USERAUTH_FAILURE;i&&i(e,r,n)})),f.USERAUTH_SUCCESS,(function(e,t){e._debug&&e._debug("Inbound: Received USERAUTH_SUCCESS"),e._authsQueue.shift();var r=e._handlers.USERAUTH_SUCCESS;r&&r(e)})),R(R(R(R(R(R(R(R(R(R(n,f.USERAUTH_BANNER,(function(e,t){a.init(t,1);var r=a.readString(!0),n=a.readString();if(a.clear(),void 0===n)return s(e,"Inbound: Malformed USERAUTH_BANNER packet");e._debug&&e._debug("Inbound: Received USERAUTH_BANNER");var i=e._handlers.USERAUTH_BANNER;i&&i(e,r)})),60,(function(e,t){if(e._authsQueue.length)switch(e._authsQueue[0]){case"password":a.init(t,1);var r=a.readString(!0),n=a.readString();if(a.clear(),void 0===n)return s(e,"Inbound: Malformed USERAUTH_PASSWD_CHANGEREQ packet");e._debug&&e._debug("Inbound: Received USERAUTH_PASSWD_CHANGEREQ");var i=e._handlers.USERAUTH_PASSWD_CHANGEREQ;i&&i(e,r);break;case"publickey":a.init(t,1);var o=a.readString(!0),c=a.readString();if(a.clear(),void 0===c)return s(e,"Inbound: Malformed USERAUTH_PK_OK packet");e._debug&&e._debug("Inbound: Received USERAUTH_PK_OK"),e._authsQueue.shift();var u=e._handlers.USERAUTH_PK_OK;u&&u(e,o,c);break;case"keyboard-interactive":a.init(t,1);var l=a.readString(!0),p=a.readString(!0);a.readString();var d,h=a.readUInt32BE();if(void 0!==h){var f;for(d=new Array(h),f=0;f<h;++f){var m=a.readString(!0),g=a.readBool();if(void 0===g)break;d[f]={prompt:m,echo:g}}f!==h&&(d=void 0)}if(a.clear(),void 0===d)return s(e,"Inbound: Malformed USERAUTH_INFO_REQUEST packet");e._debug&&e._debug("Inbound: Received USERAUTH_INFO_REQUEST");var y=e._handlers.USERAUTH_INFO_REQUEST;y&&y(e,l,p,d);break;default:e._debug&&e._debug("Inbound: Received unexpected payload type 60")}else e._debug&&e._debug("Inbound: Received payload type 60 without auth")})),61,(function(e,t){if(e._authsQueue.length){if("keyboard-interactive"!==e._authsQueue[0])return s(e,"Inbound: Received unexpected payload type 61");a.init(t,1);var r,n=a.readUInt32BE();if(void 0!==n){var i;for(r=new Array(n),i=0;i<n;++i){var o=a.readString(!0);if(void 0===o)break;r[i]=o}i!==n&&(r=void 0)}if(a.clear(),void 0===r)return s(e,"Inbound: Malformed USERAUTH_INFO_RESPONSE packet");e._debug&&e._debug("Inbound: Received USERAUTH_INFO_RESPONSE");var c=e._handlers.USERAUTH_INFO_RESPONSE;c&&c(e,r)}else e._debug&&e._debug("Inbound: Received payload type 61 without auth")})),f.GLOBAL_REQUEST,(function(e,t){a.init(t,1);var r,n=a.readString(!0),i=a.readBool();if(void 0!==i)switch(n){case"tcpip-forward":case"cancel-tcpip-forward":var o=a.readString(!0),c=a.readUInt32BE();void 0!==c&&(r={bindAddr:o,bindPort:c});break;case"streamlocal-forward@openssh.com":case"cancel-streamlocal-forward@openssh.com":var u=a.readString(!0);void 0!==u&&(r={socketPath:u});break;case"no-more-sessions@openssh.com":r=null;break;case"hostkeys-00@openssh.com":for(r=[];a.avail()>0;){var l=a.readString();if(void 0===l){r=void 0;break}var p=g(l);p instanceof Error||r.push(p)}break;default:r=a.readRaw()}if(a.clear(),void 0===r)return s(e,"Inbound: Malformed GLOBAL_REQUEST packet");e._debug&&e._debug("Inbound: GLOBAL_REQUEST (".concat(n,")"));var d=e._handlers.GLOBAL_REQUEST;d?d(e,n,i,r):e.requestFailure()})),f.REQUEST_SUCCESS,(function(e,t){var r=t.length>1?o(t,1):null;e._debug&&e._debug("Inbound: REQUEST_SUCCESS");var n=e._handlers.REQUEST_SUCCESS;n&&n(e,r)})),f.REQUEST_FAILURE,(function(e,t){e._debug&&e._debug("Inbound: Received REQUEST_FAILURE");var r=e._handlers.REQUEST_FAILURE;r&&r(e)})),f.CHANNEL_OPEN,(function(e,t){a.init(t,1);var r,n=a.readString(!0),i=a.readUInt32BE(),o=a.readUInt32BE(),c=a.readUInt32BE();switch(n){case"forwarded-tcpip":case"direct-tcpip":var u=a.readString(!0),l=a.readUInt32BE(),p=a.readString(!0),h=a.readUInt32BE();void 0!==h&&(r={type:n,sender:i,window:o,packetSize:c,data:{destIP:u,destPort:l,srcIP:p,srcPort:h}});break;case"forwarded-streamlocal@openssh.com":case"direct-streamlocal@openssh.com":var f=a.readString(!0);void 0!==f&&(r={type:n,sender:i,window:o,packetSize:c,data:{socketPath:f}});break;case"x11":var m=a.readString(!0),g=a.readUInt32BE();void 0!==g&&(r={type:n,sender:i,window:o,packetSize:c,data:{srcIP:m,srcPort:g}});break;default:r={type:n,sender:i,window:o,packetSize:c,data:{}}}if(a.clear(),void 0===r)return s(e,"Inbound: Malformed CHANNEL_OPEN packet");e._debug&&e._debug("Inbound: CHANNEL_OPEN (s:".concat(i,", ").concat(n,")"));var y=e._handlers.CHANNEL_OPEN;y?y(e,r):e.channelOpenFail(r.sender,d.ADMINISTRATIVELY_PROHIBITED,"","")})),f.CHANNEL_OPEN_CONFIRMATION,(function(e,t){a.init(t,1);var r=a.readUInt32BE(),n=a.readUInt32BE(),i=a.readUInt32BE(),o=a.readUInt32BE(),c=a.avail()?a.readRaw():void 0;if(a.clear(),void 0===o)return s(e,"Inbound: Malformed CHANNEL_OPEN_CONFIRMATION packet");e._debug&&e._debug("Inbound: CHANNEL_OPEN_CONFIRMATION (r:".concat(r,", s:").concat(n,")"));var u=e._handlers.CHANNEL_OPEN_CONFIRMATION;u&&u(e,{recipient:r,sender:n,window:i,packetSize:o,data:c})})),f.CHANNEL_OPEN_FAILURE,(function(e,t){a.init(t,1);var r=a.readUInt32BE(),n=a.readUInt32BE(),i=a.readString(!0),o=a.readString();if(a.clear(),void 0===o)return s(e,"Inbound: Malformed CHANNEL_OPEN_FAILURE packet");e._debug&&e._debug("Inbound: CHANNEL_OPEN_FAILURE (r:".concat(r,")"));var c=e._handlers.CHANNEL_OPEN_FAILURE;c&&c(e,r,n,i)})),f.CHANNEL_WINDOW_ADJUST,(function(e,t){a.init(t,1);var r=a.readUInt32BE(),n=a.readUInt32BE();if(a.clear(),void 0===n)return s(e,"Inbound: Malformed CHANNEL_WINDOW_ADJUST packet");e._debug&&e._debug("Inbound: CHANNEL_WINDOW_ADJUST (r:".concat(r,", ").concat(n,")"));var i=e._handlers.CHANNEL_WINDOW_ADJUST;i&&i(e,r,n)})),R(R(R(R(R(R(R(n,f.CHANNEL_DATA,(function(e,t){a.init(t,1);var r=a.readUInt32BE(),n=a.readString();if(a.clear(),void 0===n)return s(e,"Inbound: Malformed CHANNEL_DATA packet");e._debug&&e._debug("Inbound: CHANNEL_DATA (r:".concat(r,", ").concat(n.length,")"));var i=e._handlers.CHANNEL_DATA;i&&i(e,r,n)})),f.CHANNEL_EXTENDED_DATA,(function(e,t){a.init(t,1);var r=a.readUInt32BE(),n=a.readUInt32BE(),i=a.readString();if(a.clear(),void 0===i)return s(e,"Inbound: Malformed CHANNEL_EXTENDED_DATA packet");e._debug&&e._debug("Inbound: CHANNEL_EXTENDED_DATA (r:".concat(r,", ").concat(i.length,")"));var o=e._handlers.CHANNEL_EXTENDED_DATA;o&&o(e,r,i,n)})),f.CHANNEL_EOF,(function(e,t){a.init(t,1);var r=a.readUInt32BE();if(a.clear(),void 0===r)return s(e,"Inbound: Malformed CHANNEL_EOF packet");e._debug&&e._debug("Inbound: CHANNEL_EOF (r:".concat(r,")"));var n=e._handlers.CHANNEL_EOF;n&&n(e,r)})),f.CHANNEL_CLOSE,(function(e,t){a.init(t,1);var r=a.readUInt32BE();if(a.clear(),void 0===r)return s(e,"Inbound: Malformed CHANNEL_CLOSE packet");e._debug&&e._debug("Inbound: CHANNEL_CLOSE (r:".concat(r,")"));var n=e._handlers.CHANNEL_CLOSE;n&&n(e,r)})),f.CHANNEL_REQUEST,(function(e,t){a.init(t,1);var r,n=a.readUInt32BE(),i=a.readString(!0),o=a.readBool();if(void 0!==o)switch(i){case"exit-status":r=a.readUInt32BE(),e._debug&&e._debug("Inbound: CHANNEL_REQUEST (r:".concat(n,", ").concat(i,": ").concat(r,")"));break;case"exit-signal":var c,u;if(e._compatFlags&h.OLD_EXIT){var l=a.readUInt32BE();switch(l){case 1:c="HUP";break;case 2:c="INT";break;case 3:c="QUIT";break;case 6:c="ABRT";break;case 9:c="KILL";break;case 14:c="ALRM";break;case 15:c="TERM";break;default:void 0!==l&&(c="UNKNOWN (".concat(l,")"))}u=!1}else c=a.readString(!0),void 0===(u=a.readBool())&&(c=void 0);var p=a.readString(!0);void 0!==a.skipString()&&(r={signal:c,coreDumped:u,errorMessage:p}),e._debug&&e._debug("Inbound: CHANNEL_REQUEST (r:".concat(n,", ").concat(i,": ").concat(c,")"));break;case"pty-req":var d=a.readString(!0),f=a.readUInt32BE(),g=a.readUInt32BE(),v=a.readUInt32BE(),b=a.readUInt32BE(),E=a.readString();if(void 0!==E){a.init(E,1);for(var w={};a.avail();){var A=a.readByte();if(A===m.TTY_OP_END)break;var x=y[A],S=a.readUInt32BE();if(void 0===A||void 0===x||void 0===S){w=void 0;break}w[x]=S}void 0!==w&&(r={term:d,cols:f,rows:g,width:v,height:b,modes:w})}e._debug&&e._debug("Inbound: CHANNEL_REQUEST (r:".concat(n,", ").concat(i,")"));break;case"window-change":var _=a.readUInt32BE(),k=a.readUInt32BE(),I=a.readUInt32BE(),T=a.readUInt32BE();void 0!==T&&(r={cols:_,rows:k,width:I,height:T}),e._debug&&e._debug("Inbound: CHANNEL_REQUEST (r:".concat(n,", ").concat(i,")"));break;case"x11-req":var C=a.readBool(),O=a.readString(!0),N=a.readString(),R=a.readUInt32BE();void 0!==R&&(r={single:C,protocol:O,cookie:N,screen:R}),e._debug&&e._debug("Inbound: CHANNEL_REQUEST (r:".concat(n,", ").concat(i,")"));break;case"env":var P=a.readString(!0),L=a.readString(!0);void 0!==L&&(r={name:P,value:L}),e._debug&&e._debug("Inbound: CHANNEL_REQUEST (r:".concat(n,", ").concat(i,": ").concat(P,"=").concat(L,")"));break;case"shell":case"auth-agent-req@openssh.com":r=null,e._debug&&e._debug("Inbound: CHANNEL_REQUEST (r:".concat(n,", ").concat(i,")"));break;case"exec":case"subsystem":case"signal":r=a.readString(!0),e._debug&&e._debug("Inbound: CHANNEL_REQUEST (r:".concat(n,", ").concat(i,": ").concat(r,")"));break;case"xon-xoff":r=a.readBool(),e._debug&&e._debug("Inbound: CHANNEL_REQUEST (r:".concat(n,", ").concat(i,": ").concat(r,")"));break;default:r=a.avail()?a.readRaw():null,e._debug&&e._debug("Inbound: CHANNEL_REQUEST (r:".concat(n,", ").concat(i,")"))}if(a.clear(),void 0===r)return s(e,"Inbound: Malformed CHANNEL_REQUEST packet");var M=e._handlers.CHANNEL_REQUEST;M&&M(e,n,i,o,r)})),f.CHANNEL_SUCCESS,(function(e,t){a.init(t,1);var r=a.readUInt32BE();if(a.clear(),void 0===r)return s(e,"Inbound: Malformed CHANNEL_SUCCESS packet");e._debug&&e._debug("Inbound: CHANNEL_SUCCESS (r:".concat(r,")"));var n=e._handlers.CHANNEL_SUCCESS;n&&n(e,r)})),f.CHANNEL_FAILURE,(function(e,t){a.init(t,1);var r=a.readUInt32BE();if(a.clear(),void 0===r)return s(e,"Inbound: Malformed CHANNEL_FAILURE packet");e._debug&&e._debug("Inbound: CHANNEL_FAILURE (r:".concat(r,")"));var n=e._handlers.CHANNEL_FAILURE;n&&n(e,r)})))},8818:function(e,t,r){"use strict";var n,i=r(6982),o=i.createDiffieHellman,a=i.createDiffieHellmanGroup,s=i.createECDH,c=i.createHash,u=i.createPublicKey,l=i.diffieHellman,p=i.generateKeyPairSync,d=i.randomFillSync,g=r(3100).Ber,y=r(2535),v=y.COMPAT,b=y.curve25519Supported,E=y.DEFAULT_KEX,w=y.DEFAULT_SERVER_HOST_KEY,A=y.DEFAULT_CIPHER,x=y.DEFAULT_MAC,S=y.DEFAULT_COMPRESSION,k=y.DISCONNECT_REASON,I=y.MESSAGE,T=r(7785),O=T.CIPHER_INFO,N=T.createCipher,L=T.createDecipher,q=T.MAC_INFO,B=r(8946).parseDERKey,j=r(5623),U=j.bufferFill,F=j.bufferParser,z=j.convertSignature,H=j.doFatalError,Q=j.FastBuffer,G=j.sigSSHToASN1,K=j.writeUInt32BE,$=r(3129),W=$.PacketReader,V=$.PacketWriter,Y=$.ZlibPacketReader,X=$.ZlibPacketWriter,J=Buffer.alloc(0);function Z(e){var t;if(e._compatFlags&v.BAD_DHGEX){for(var r=e._offer.lists.kex,n=r.array,i=!1,o=0;o<n.length;++o)n[o].includes("group-exchange")&&(i||(i=!0,n=n.slice()),n.splice(o--,1));if(i){var a=17+e._offer.totalSize+1+4,s=Buffer.from(n.join(","));a-=r.buffer.length-s.length;var c=e._offer.lists.all,u=new Uint8Array(c.buffer,c.byteOffset+4+r.buffer.length,c.length-(4+r.buffer.length));t=Buffer.allocUnsafe(a),K(t,s.length,17),t.set(s,21),t.set(u,21+s.length)}}void 0===t&&(t=Buffer.allocUnsafe(17+e._offer.totalSize+1+4),e._offer.copyAllTo(t,17)),e._debug&&e._debug("Outbound: Sending KEXINIT"),t[0]=I.KEXINIT,d(t,1,16),U(t,0,t.length-5),e._kexinit=t,e._packetRW.write.allocStart=0;var l=e._packetRW.write.allocStartKEX,p=e._packetRW.write.alloc(t.length,!0);p.set(t,l),e._cipher.encrypt(e._packetRW.write.finalize(p,!0))}function ee(e,t){var r={kex:void 0,serverHostKey:void 0,cs:{cipher:void 0,mac:void 0,compress:void 0,lang:void 0},sc:{cipher:void 0,mac:void 0,compress:void 0,lang:void 0}};if(F.init(t,17),void 0===(r.kex=F.readList())||void 0===(r.serverHostKey=F.readList())||void 0===(r.cs.cipher=F.readList())||void 0===(r.sc.cipher=F.readList())||void 0===(r.cs.mac=F.readList())||void 0===(r.sc.mac=F.readList())||void 0===(r.cs.compress=F.readList())||void 0===(r.sc.compress=F.readList())||void 0===(r.cs.lang=F.readList())||void 0===(r.sc.lang=F.readList()))return F.clear(),H(e,"Received malformed KEXINIT","handshake",k.KEY_EXCHANGE_FAILED);var n=F.pos(),i=n<t.length&&1===t[n];F.clear();var o,a,s,c=e._offer,u=r,l=c.lists.kex.array;if(e._compatFlags&v.BAD_DHGEX)for(var p=!1,d=0;d<l.length;++d)-1!==l[d].indexOf("group-exchange")&&(p||(p=!0,l=l.slice()),l.splice(d--,1));var h,f=e._debug;if(f&&f("Inbound: Handshake in progress"),f&&f("Handshake: (local) KEX method: ".concat(l)),f&&f("Handshake: (remote) KEX method: ".concat(u.kex)),e._server?(a=l,h=-1!==(o=u.kex).indexOf("ext-info-c")):(o=l,h=-1!==(a=u.kex).indexOf("ext-info-s")),void 0===e._strictMode&&(e._server?e._strictMode=-1!==o.indexOf("kex-strict-c-v00@openssh.com"):e._strictMode=-1!==a.indexOf("kex-strict-s-v00@openssh.com"),e._strictMode&&(f&&f("Handshake: strict KEX mode enabled"),1!==e._decipher.inSeqno)))return f&&f("Handshake: KEXINIT not first packet in strict KEX mode"),H(e,"Handshake failed: KEXINIT not first packet in strict KEX mode","handshake",k.KEY_EXCHANGE_FAILED);for(s=0;s<o.length&&-1===a.indexOf(o[s]);++s);if(s===o.length)return f&&f("Handshake: no matching key exchange algorithm"),H(e,"Handshake failed: no matching key exchange algorithm","handshake",k.KEY_EXCHANGE_FAILED);r.kex=o[s],f&&f("Handshake: KEX algorithm: ".concat(o[s])),!i||u.kex.length&&o[s]===u.kex[0]||(e._skipNextInboundPacket=!0);var m=c.lists.serverHostKey.array;for(f&&f("Handshake: (local) Host key format: ".concat(m)),f&&f("Handshake: (remote) Host key format: ".concat(u.serverHostKey)),e._server?(a=m,o=u.serverHostKey):(a=u.serverHostKey,o=m),s=0;s<o.length&&-1===a.indexOf(o[s]);++s);if(s===o.length)return f&&f("Handshake: No matching host key format"),H(e,"Handshake failed: no matching host key format","handshake",k.KEY_EXCHANGE_FAILED);r.serverHostKey=o[s],f&&f("Handshake: Host key format: ".concat(o[s]));var g=c.lists.cs.cipher.array;for(f&&f("Handshake: (local) C->S cipher: ".concat(g)),f&&f("Handshake: (remote) C->S cipher: ".concat(u.cs.cipher)),e._server?(a=g,o=u.cs.cipher):(a=u.cs.cipher,o=g),s=0;s<o.length&&-1===a.indexOf(o[s]);++s);if(s===o.length)return f&&f("Handshake: No matching C->S cipher"),H(e,"Handshake failed: no matching C->S cipher","handshake",k.KEY_EXCHANGE_FAILED);r.cs.cipher=o[s],f&&f("Handshake: C->S Cipher: ".concat(o[s]));var y=c.lists.sc.cipher.array;for(f&&f("Handshake: (local) S->C cipher: ".concat(y)),f&&f("Handshake: (remote) S->C cipher: ".concat(u.sc.cipher)),e._server?(a=y,o=u.sc.cipher):(a=u.sc.cipher,o=y),s=0;s<o.length&&-1===a.indexOf(o[s]);++s);if(s===o.length)return f&&f("Handshake: No matching S->C cipher"),H(e,"Handshake failed: no matching S->C cipher","handshake",k.KEY_EXCHANGE_FAILED);r.sc.cipher=o[s],f&&f("Handshake: S->C cipher: ".concat(o[s]));var b=c.lists.cs.mac.array;if(f&&f("Handshake: (local) C->S MAC: ".concat(b)),f&&f("Handshake: (remote) C->S MAC: ".concat(u.cs.mac)),O[r.cs.cipher].authLen>0)r.cs.mac="",f&&f("Handshake: C->S MAC: <implicit>");else{for(e._server?(a=b,o=u.cs.mac):(a=u.cs.mac,o=b),s=0;s<o.length&&-1===a.indexOf(o[s]);++s);if(s===o.length)return f&&f("Handshake: No matching C->S MAC"),H(e,"Handshake failed: no matching C->S MAC","handshake",k.KEY_EXCHANGE_FAILED);r.cs.mac=o[s],f&&f("Handshake: C->S MAC: ".concat(o[s]))}var E=c.lists.sc.mac.array;if(f&&f("Handshake: (local) S->C MAC: ".concat(E)),f&&f("Handshake: (remote) S->C MAC: ".concat(u.sc.mac)),O[r.sc.cipher].authLen>0)r.sc.mac="",f&&f("Handshake: S->C MAC: <implicit>");else{for(e._server?(a=E,o=u.sc.mac):(a=u.sc.mac,o=E),s=0;s<o.length&&-1===a.indexOf(o[s]);++s);if(s===o.length)return f&&f("Handshake: No matching S->C MAC"),H(e,"Handshake failed: no matching S->C MAC","handshake",k.KEY_EXCHANGE_FAILED);r.sc.mac=o[s],f&&f("Handshake: S->C MAC: ".concat(o[s]))}var w=c.lists.cs.compress.array;for(f&&f("Handshake: (local) C->S compression: ".concat(w)),f&&f("Handshake: (remote) C->S compression: ".concat(u.cs.compress)),e._server?(a=w,o=u.cs.compress):(a=u.cs.compress,o=w),s=0;s<o.length&&-1===a.indexOf(o[s]);++s);if(s===o.length)return f&&f("Handshake: No matching C->S compression"),H(e,"Handshake failed: no matching C->S compression","handshake",k.KEY_EXCHANGE_FAILED);r.cs.compress=o[s],f&&f("Handshake: C->S compression: ".concat(o[s]));var A=c.lists.sc.compress.array;for(f&&f("Handshake: (local) S->C compression: ".concat(A)),f&&f("Handshake: (remote) S->C compression: ".concat(u.sc.compress)),e._server?(a=A,o=u.sc.compress):(a=u.sc.compress,o=A),s=0;s<o.length&&-1===a.indexOf(o[s]);++s);if(s===o.length)return f&&f("Handshake: No matching S->C compression"),H(e,"Handshake failed: no matching S->C compression","handshake",k.KEY_EXCHANGE_FAILED);r.sc.compress=o[s],f&&f("Handshake: S->C compression: ".concat(o[s])),r.cs.lang="",r.sc.lang="",e._kex&&(e._kexinit||Z(e),e._decipher._onPayload=oe.bind(e,{firstPacket:!1})),e._kex=te(r,e,t),e._kex.remoteExtInfoEnabled=h,e._kex.start()}var te=function(){function e(e){for(var t,r=0,n=e.length;0===e[r];)++r,--n;return 128&e[r]?((t=Buffer.allocUnsafe(1+n))[0]=0,e.copy(t,1,r),e=t):n!==e.length&&(t=Buffer.allocUnsafe(n),e.copy(t,0,r),e=t),e}var t=function(){return M((function e(t,r,n){P(this,e),this._protocol=r,this.sessionID=r._kex?r._kex.sessionID:void 0,this.negotiated=t,this.remoteExtInfoEnabled=!1,this._step=1,this._public=null,this._dh=null,this._sentNEWKEYS=!1,this._receivedNEWKEYS=!1,this._finished=!1,this._hostVerified=!1,this._kexinit=r._kexinit,this._remoteKexinit=n,this._identRaw=r._identRaw,this._remoteIdentRaw=r._remoteIdentRaw,this._hostKey=void 0,this._dhData=void 0,this._sig=void 0}),[{key:"finish",value:function(e){var t=this;if(this._finished)return!1;this._finished=!0;var r=this._protocol._server,n=this.negotiated,i=this.convertPublicKey(this._dhData),o=this.computeSecret(this._dhData);if(o instanceof Error)return o.message="Error while computing DH secret (".concat(this.type,"): ").concat(o.message),o.level="handshake",H(this._protocol,o,k.KEY_EXCHANGE_FAILED);var a=c(this.hashName);ne(a,r?this._remoteIdentRaw:this._identRaw),ne(a,r?this._identRaw:this._remoteIdentRaw),ne(a,r?this._remoteKexinit:this._kexinit),ne(a,r?this._kexinit:this._remoteKexinit);var s=r?this._hostKey.getPublicSSH():this._hostKey;if(ne(a,s),"groupex"===this.type){var u=this.getDHParams(),l=Buffer.allocUnsafe(4);K(l,this._minBits,0),a.update(l),K(l,this._prefBits,0),a.update(l),K(l,this._maxBits,0),a.update(l),ne(a,u.prime),ne(a,u.generator)}ne(a,r?i:this.getPublicKey());var p=r?this.getPublicKey():i;ne(a,p),ne(a,o);var d,h,f=a.digest();if(r){var m;switch(this.negotiated.serverHostKey){case"rsa-sha2-256":m="sha256";break;case"rsa-sha2-512":m="sha512"}this._protocol._debug&&this._protocol._debug("Generating signature ...");var g=this._hostKey.sign(f,m);if(g instanceof Error)return H(this._protocol,"Handshake failed: signature generation failed for ".concat(this._hostKey.type," host key: ").concat(g.message),"handshake",k.KEY_EXCHANGE_FAILED);if(!1===(g=z(g,this._hostKey.type)))return H(this._protocol,"Handshake failed: signature conversion failed for ".concat(this._hostKey.type," host key"),"handshake",k.KEY_EXCHANGE_FAILED);var y=this.negotiated.serverHostKey,v=Buffer.byteLength(y),b=4+v+4+g.length,E=this._protocol._packetRW.write.allocStartKEX,w=this._protocol._packetRW.write.alloc(5+s.length+4+p.length+4+b,!0);if(w[E]=I.KEXDH_REPLY,K(w,s.length,++E),w.set(s,E+=4),K(w,p.length,E+=s.length),w.set(p,E+=4),K(w,b,E+=p.length),K(w,v,E+=4),w.utf8Write(y,E+=4,v),K(w,g.length,E+=v),w.set(g,E+=4),this._protocol._debug){var A;switch(this.type){case"group":A="KEXDH_REPLY";break;case"groupex":A="KEXDH_GEX_REPLY";break;default:A="KEXECDH_REPLY"}this._protocol._debug("Outbound: Sending ".concat(A))}this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(w,!0))}else{F.init(this._sig,0);var x=F.readString(!0);if(!x)return H(this._protocol,"Malformed packet while reading signature","handshake",k.KEY_EXCHANGE_FAILED);if(x!==n.serverHostKey)return H(this._protocol,"Wrong signature type: ".concat(x,", expected: ").concat(n.serverHostKey),"handshake",k.KEY_EXCHANGE_FAILED);var S,_,T=F.readString();if(F.clear(),void 0===T)return H(this._protocol,"Malformed packet while reading signature","handshake",k.KEY_EXCHANGE_FAILED);if(!(T=G(T,x)))return H(this._protocol,"Malformed signature","handshake",k.KEY_EXCHANGE_FAILED);F.init(this._hostKey,0);var C=F.readString(!0),R=this._hostKey.slice(F.pos());if(F.clear(),(S=B(R,C))instanceof Error)return S.level="handshake",H(this._protocol,S,k.KEY_EXCHANGE_FAILED);switch(this.negotiated.serverHostKey){case"rsa-sha2-256":_="sha256";break;case"rsa-sha2-512":_="sha512"}this._protocol._debug&&this._protocol._debug("Verifying signature ...");var P=S.verify(f,T,_);if(!0!==P)return P instanceof Error?this._protocol._debug&&this._protocol._debug("Signature verification failed: ".concat(P.stack)):this._protocol._debug&&this._protocol._debug("Signature verification failed"),H(this._protocol,"Handshake failed: signature verification failed","handshake",k.KEY_EXCHANGE_FAILED);this._protocol._debug&&this._protocol._debug("Verified signature")}!r&&e||ae(this);var M=function(e){if(d)return ae(t),d.outbound.seqno=t._protocol._cipher.outSeqno,t._protocol._cipher.free(),t._protocol._cipher=N(d),t._protocol._packetRW.write=h,d=void 0,h=void 0,t._protocol._onHandshakeComplete(n),!1;t.sessionID||(t.sessionID=f);var i=Buffer.allocUnsafe(4+o.length);K(i,o.length,0),i.set(o,4),o=i;var a,s,c,u,l=O[n.cs.cipher],p=O[n.sc.cipher],m=ie(l.ivLen,t.hashName,o,f,t.sessionID,"A"),g=ie(p.ivLen,t.hashName,o,f,t.sessionID,"B"),y=ie(l.keyLen,t.hashName,o,f,t.sessionID,"C"),v=ie(p.keyLen,t.hashName,o,f,t.sessionID,"D");l.authLen||(s=ie((a=q[n.cs.mac]).len,t.hashName,o,f,t.sessionID,"E")),p.authLen||(u=ie((c=q[n.sc.mac]).len,t.hashName,o,f,t.sessionID,"F"));var b={inbound:{onPayload:t._protocol._onPayload,seqno:t._protocol._decipher.inSeqno,decipherInfo:r?l:p,decipherIV:r?m:g,decipherKey:r?y:v,macInfo:r?a:c,macKey:r?s:u},outbound:{onWrite:t._protocol._onWrite,seqno:t._protocol._cipher.outSeqno,cipherInfo:r?p:l,cipherIV:r?g:m,cipherKey:r?v:y,macInfo:r?c:a,macKey:r?u:s}};t._protocol._decipher.free(),d=b,t._protocol._decipher=L(b);var E={read:void 0,write:void 0};switch(n.cs.compress){case"zlib":r?E.read=new Y:E.write=new X(t._protocol);break;case"zlib@openssh.com":if(t._protocol._authenticated){r?E.read=new Y:E.write=new X(t._protocol);break}default:r?E.read=new W:E.write=new V(t._protocol)}switch(n.sc.compress){case"zlib":r?E.write=new X(t._protocol):E.read=new Y;break;case"zlib@openssh.com":if(t._protocol._authenticated){r?E.write=new X(t._protocol):E.read=new Y;break}default:r?E.write=new V(t._protocol):E.read=new W}return t._protocol._packetRW.read.cleanup(),t._protocol._packetRW.write.cleanup(),t._protocol._packetRW.read=E.read,h=E.write,t._public=null,t._dh=null,t._kexinit=t._protocol._kexinit=void 0,t._remoteKexinit=void 0,t._identRaw=void 0,t._remoteIdentRaw=void 0,t._hostKey=void 0,t._dhData=void 0,t._sig=void 0,!e&&M()};return(r||e)&&(this.finish=M),r?void 0:M(e)}},{key:"start",value:function(){if(!this._protocol._server){var e;this._protocol._debug&&(e="group"===this.type?"KEXDH_INIT":"KEXECDH_INIT",this._protocol._debug("Outbound: Sending ".concat(e)));var t=this.getPublicKey(),r=this._protocol._packetRW.write.allocStartKEX,n=this._protocol._packetRW.write.alloc(5+t.length,!0);n[r]=I.KEXDH_INIT,K(n,t.length,++r),n.set(t,r+=4),this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(n,!0))}}},{key:"getPublicKey",value:function(){this.generateKeys();var e=this._public;if(e)return this.convertPublicKey(e)}},{key:"convertPublicKey",value:function(e){for(var t,r=0,n=e.length;0===e[r];)++r,--n;return 128&e[r]?((t=Buffer.allocUnsafe(1+n))[0]=0,e.copy(t,1,r),t):(n!==e.length&&(t=Buffer.allocUnsafe(n),e.copy(t,0,r),e=t),e)}},{key:"computeSecret",value:function(t){this.generateKeys();try{return e(this._dh.computeSecret(t))}catch(e){return e}}},{key:"parse",value:function(e){var t=this,r=e[0];switch(this._step){case 1:if(this._protocol._server){if(r!==I.KEXDH_INIT)return H(this._protocol,"Received packet ".concat(r," instead of ").concat(I.KEXDH_INIT),"handshake",k.KEY_EXCHANGE_FAILED);this._protocol._debug&&this._protocol._debug("Received DH Init"),F.init(e,1);var n=F.readString();if(F.clear(),void 0===n)return H(this._protocol,"Received malformed KEX*_INIT","handshake",k.KEY_EXCHANGE_FAILED);this._dhData=n;var i=this._protocol._hostKeys[this.negotiated.serverHostKey];Array.isArray(i)&&(i=i[0]),this._hostKey=i,this.finish()}else{if(r!==I.KEXDH_REPLY)return H(this._protocol,"Received packet ".concat(r," instead of ").concat(I.KEXDH_REPLY),"handshake",k.KEY_EXCHANGE_FAILED);var o,a,s;if(this._protocol._debug&&this._protocol._debug("Received DH Reply"),F.init(e,1),void 0===(o=F.readString())||void 0===(a=F.readString())||void 0===(s=F.readString()))return F.clear(),H(this._protocol,"Received malformed KEX*_REPLY","handshake",k.KEY_EXCHANGE_FAILED);F.clear(),F.init(o,0);var c=F.readString(!0);if(F.clear(),void 0===c)return H(this._protocol,"Received malformed host public key","handshake",k.KEY_EXCHANGE_FAILED);if(c!==this.negotiated.serverHostKey)switch(this.negotiated.serverHostKey){case"rsa-sha2-256":case"rsa-sha2-512":if("ssh-rsa"===c)break;default:return H(this._protocol,"Host key does not match negotiated type","handshake",k.KEY_EXCHANGE_FAILED)}this._hostKey=o,this._dhData=a,this._sig=s;var u,l=!1;if(void 0===this._protocol._hostVerifier?(u=!0,this._protocol._debug&&this._protocol._debug("Host accepted by default (no verification)")):u=this._protocol._hostVerifier(o,(function(e){if(!l){if(l=!0,!1===e)return t._protocol._debug&&t._protocol._debug("Host denied (verification failed)"),H(t._protocol,"Host denied (verification failed)","handshake",k.KEY_EXCHANGE_FAILED);t._protocol._debug&&t._protocol._debug("Host accepted (verified)"),t._hostVerified=!0,t._receivedNEWKEYS?t.finish():ae(t)}})),void 0===u)return void++this._step;if(l=!0,!1===u)return this._protocol._debug&&this._protocol._debug("Host denied (verification failed)"),H(this._protocol,"Host denied (verification failed)","handshake",k.KEY_EXCHANGE_FAILED);this._protocol._debug&&this._protocol._debug("Host accepted (verified)"),this._hostVerified=!0,ae(this)}++this._step;break;case 2:return r!==I.NEWKEYS?H(this._protocol,"Received packet ".concat(r," instead of ").concat(I.NEWKEYS),"handshake",k.KEY_EXCHANGE_FAILED):(this._protocol._debug&&this._protocol._debug("Inbound: NEWKEYS"),this._receivedNEWKEYS=!0,this._protocol._strictMode&&(this._protocol._decipher.inSeqno=0),++this._step,this.finish(!this._protocol._server&&!this._hostVerified));default:return H(this._protocol,"Received unexpected packet ".concat(r," after NEWKEYS"),"handshake",k.KEY_EXCHANGE_FAILED)}}}])}(),r=function(t){function r(e){var t;P(this,r);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(t=_(this,r,[].concat(i))).type="25519",t.hashName=e,t._keys=null,t}return C(r,t),M(r,[{key:"generateKeys",value:function(){this._keys||(this._keys=p("x25519"))}},{key:"getPublicKey",value:function(){return this.generateKeys(),this._keys.publicKey.export({type:"spki",format:"der"}).slice(-32)}},{key:"convertPublicKey",value:function(e){for(var t,r=0,n=e.length;0===e[r];)++r,--n;return 32===e.length||n!==e.length&&(t=Buffer.allocUnsafe(n),e.copy(t,0,r),e=t),e}},{key:"computeSecret",value:function(t){this.generateKeys();try{var r=new g.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.3.101.110"),r.endSequence(),r.startSequence(g.BitString),r.writeByte(0),r._ensure(t.length),t.copy(r._buf,r._offset,0,t.length),r._offset+=t.length,r.endSequence(),r.endSequence(),e(l({privateKey:this._keys.privateKey,publicKey:u({key:r.buffer,type:"spki",format:"der"})}))}catch(e){return e}}}])}(t),n=function(e){function t(e,r){var n;P(this,t);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return(n=_(this,t,[].concat(o))).type="ecdh",n.curveName=e,n.hashName=r,n}return C(t,e),M(t,[{key:"generateKeys",value:function(){this._dh||(this._dh=s(this.curveName),this._public=this._dh.generateKeys())}}])}(t),i=function(r){function n(e){var t;P(this,n);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(t=_(this,n,[].concat(i))).type="groupex",t.hashName=e,t._prime=null,t._generator=null,t._minBits=2048,t._prefBits=function(e){var t=O[e.cs.cipher],r=O[e.sc.cipher],n=8*Math.max(0,"des-ede3-cbc"===t.sslName?14:t.keyLen,t.blockLen,t.ivLen,"des-ede3-cbc"===r.sslName?14:r.keyLen,r.blockLen,r.ivLen);return n<=112?2048:n<=128?3072:n<=192?7680:8192}(t.negotiated),t._protocol._compatFlags&v.BUG_DHGEX_LARGE&&(t._prefBits=Math.min(t._prefBits,4096)),t._maxBits=8192,t}return C(n,r),M(n,[{key:"start",value:function(){if(!this._protocol._server){this._protocol._debug&&this._protocol._debug("Outbound: Sending KEXDH_GEX_REQUEST");var e=this._protocol._packetRW.write.allocStartKEX,t=this._protocol._packetRW.write.alloc(13,!0);t[e]=I.KEXDH_GEX_REQUEST,K(t,this._minBits,++e),K(t,this._prefBits,e+=4),K(t,this._maxBits,e+=4),this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(t,!0))}}},{key:"generateKeys",value:function(){!this._dh&&this._prime&&this._generator&&(this._dh=o(this._prime,this._generator),this._public=this._dh.generateKeys())}},{key:"setDHParams",value:function(e,t){if(!Buffer.isBuffer(e))throw new Error("Invalid prime value");if(!Buffer.isBuffer(t))throw new Error("Invalid generator value");this._prime=e,this._generator=t}},{key:"getDHParams",value:function(){if(this._dh)return{prime:e(this._dh.getPrime()),generator:e(this._dh.getGenerator())}}},{key:"parse",value:function(e){var r=e[0];switch(this._step){case 1:if(this._protocol._server)return r!==I.KEXDH_GEX_REQUEST?H(this._protocol,"Received packet ".concat(r," instead of ")+I.KEXDH_GEX_REQUEST,"handshake",k.KEY_EXCHANGE_FAILED):H(this._protocol,"Group exchange not implemented for server","handshake",k.KEY_EXCHANGE_FAILED);if(r!==I.KEXDH_GEX_GROUP)return H(this._protocol,"Received packet ".concat(r," instead of ").concat(I.KEXDH_GEX_GROUP),"handshake",k.KEY_EXCHANGE_FAILED);var n,i;if(this._protocol._debug&&this._protocol._debug("Received DH GEX Group"),F.init(e,1),void 0===(n=F.readString())||void 0===(i=F.readString()))return F.clear(),H(this._protocol,"Received malformed KEXDH_GEX_GROUP","handshake",k.KEY_EXCHANGE_FAILED);F.clear(),this.setDHParams(n,i),this.generateKeys();var o=this.getPublicKey();this._protocol._debug&&this._protocol._debug("Outbound: Sending KEXDH_GEX_INIT");var a=this._protocol._packetRW.write.allocStartKEX,s=this._protocol._packetRW.write.alloc(5+o.length,!0);s[a]=I.KEXDH_GEX_INIT,K(s,o.length,++a),s.set(o,a+=4),this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(s,!0)),++this._step;break;case 2:if(this._protocol._server)return r!==I.KEXDH_GEX_INIT?H(this._protocol,"Received packet ".concat(r," instead of ").concat(I.KEXDH_GEX_INIT),"handshake",k.KEY_EXCHANGE_FAILED):(this._protocol._debug&&this._protocol._debug("Received DH GEX Init"),H(this._protocol,"Group exchange not implemented for server","handshake",k.KEY_EXCHANGE_FAILED));if(r!==I.KEXDH_GEX_REPLY)return H(this._protocol,"Received packet ".concat(r," instead of ").concat(I.KEXDH_GEX_REPLY),"handshake",k.KEY_EXCHANGE_FAILED);this._protocol._debug&&this._protocol._debug("Received DH GEX Reply"),this._step=1,e[0]=I.KEXDH_REPLY,this.parse=t.prototype.parse,this.parse(e)}}}])}(t),d=function(t){function r(e,t){var n;P(this,r);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return(n=_(this,r,[].concat(o))).type="group",n.groupName=e,n.hashName=t,n}return C(r,t),M(r,[{key:"start",value:function(){if(!this._protocol._server){this._protocol._debug&&this._protocol._debug("Outbound: Sending KEXDH_INIT");var e=this.getPublicKey(),t=this._protocol._packetRW.write.allocStartKEX,r=this._protocol._packetRW.write.alloc(5+e.length,!0);r[t]=I.KEXDH_INIT,K(r,e.length,++t),r.set(e,t+=4),this._protocol._cipher.encrypt(this._protocol._packetRW.write.finalize(r,!0))}}},{key:"generateKeys",value:function(){this._dh||(this._dh=a(this.groupName),this._public=this._dh.generateKeys())}},{key:"getDHParams",value:function(){if(this._dh)return{prime:e(this._dh.getPrime()),generator:e(this._dh.getGenerator())}}}])}(t);return function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];if("object"!=D(e)||null===e)throw new Error("Invalid negotiated argument");var s=e.kex;if("string"==typeof s){switch(o=[e].concat(m(o)),s){case"curve25519-sha256":case"curve25519-sha256@libssh.org":if(!b)break;return h(r,["sha256"].concat(m(o)));case"ecdh-sha2-nistp256":return h(n,["prime256v1","sha256"].concat(m(o)));case"ecdh-sha2-nistp384":return h(n,["secp384r1","sha384"].concat(m(o)));case"ecdh-sha2-nistp521":return h(n,["secp521r1","sha512"].concat(m(o)));case"diffie-hellman-group1-sha1":return h(d,["modp2","sha1"].concat(m(o)));case"diffie-hellman-group14-sha1":return h(d,["modp14","sha1"].concat(m(o)));case"diffie-hellman-group14-sha256":return h(d,["modp14","sha256"].concat(m(o)));case"diffie-hellman-group15-sha512":return h(d,["modp15","sha512"].concat(m(o)));case"diffie-hellman-group16-sha512":return h(d,["modp16","sha512"].concat(m(o)));case"diffie-hellman-group17-sha512":return h(d,["modp17","sha512"].concat(m(o)));case"diffie-hellman-group18-sha512":return h(d,["modp18","sha512"].concat(m(o)));case"diffie-hellman-group-exchange-sha1":return h(i,["sha1"].concat(m(o)));case"diffie-hellman-group-exchange-sha256":return h(i,["sha256"].concat(m(o)))}throw new Error("Unsupported key exchange algorithm: ".concat(s))}throw new Error("Invalid key exchange type: ".concat(s))}}(),re=function(){var e=["kex","serverHostKey",["cs","cipher"],["sc","cipher"],["cs","mac"],["sc","mac"],["cs","compress"],["sc","compress"],["cs","lang"],["sc","lang"]];return function(){return M((function t(r){if(P(this,t),"object"!=D(r)||null===r)throw new TypeError("Argument must be an object");var n,i={kex:void 0,serverHostKey:void 0,cs:{cipher:void 0,mac:void 0,compress:void 0,lang:void 0},sc:{cipher:void 0,mac:void 0,compress:void 0,lang:void 0},all:void 0},o=0,a=f(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=void 0,u=void 0,l=void 0,p=void 0;if("string"==typeof s)c=i,u=r[s],l=p=s;else{var d=s[0];c=i[d],p=s[1],u=r[d][p],l="".concat(d,".").concat(p)}var h={array:void 0,buffer:void 0};if(Buffer.isBuffer(u))h.array=(""+u).split(","),h.buffer=u,o+=4+u.length;else{if("string"==typeof u&&(u=u.split(",")),!Array.isArray(u))throw new TypeError("Invalid `".concat(l,"` type: ").concat(D(u)));h.array=u,h.buffer=Buffer.from(u.join(",")),o+=4+h.buffer.length}c[p]=h}}catch(e){a.e(e)}finally{a.f()}var m=Buffer.allocUnsafe(o);i.all=m;var g,y=0,v=f(e);try{for(v.s();!(g=v.n()).done;){var b,E=g.value;b="string"==typeof E?i[E].buffer:i[E[0]][E[1]].buffer,y=K(m,b.length,y),m.set(b,y),y+=b.length}}catch(e){v.e(e)}finally{v.f()}this.totalSize=o,this.lists=i}),[{key:"copyAllTo",value:function(e,t){var r=this.lists.all;if("number"!=typeof t)throw new TypeError("Invalid offset value: "+D(t));if(e.length-t<r.length)throw new Error("Insufficient space to copy list");return e.set(r,t),r.length}}])}()}(),ne=function(){var e=Buffer.allocUnsafe(4);return function(t,r){K(e,r.length,0),t.update(e),t.update(r)}}();function ie(e,t,r,n,i,o){var a;if(e){for(var s=c(t).update(r).update(n).update(o).update(i).digest();s.length<e;){var u=c(t).update(r).update(n).update(s).digest(),l=Buffer.allocUnsafe(s.length+u.length);l.set(s,0),l.set(u,s.length),s=l}a=s.length===e?s:new Q(s.buffer,s.byteOffset,e)}else a=J;return a}function oe(e,t){if(0!==t.length){if(!this._skipNextInboundPacket){var i=(t=this._packetRW.read.read(t))[0];if(!this._strictMode)switch(i){case I.IGNORE:case I.UNIMPLEMENTED:case I.DEBUG:return n||(n=r(2569)),n[i](this,t)}switch(i){case I.DISCONNECT:return n||(n=r(2569)),n[i](this,t);case I.KEXINIT:return e.firstPacket?(e.firstPacket=!1,ee(this,t)):H(this,"Received extra KEXINIT during handshake","handshake",k.KEY_EXCHANGE_FAILED);default:if(i<20||i>49)return H(this,"Received unexpected packet type ".concat(i),"handshake",k.KEY_EXCHANGE_FAILED)}return this._kex.parse(t)}this._skipNextInboundPacket=!1}else this._debug&&this._debug("Inbound: Skipping empty packet payload")}function ae(e){if(!e._sentNEWKEYS){e._protocol._debug&&e._protocol._debug("Outbound: Sending NEWKEYS");var t=e._protocol._packetRW.write.allocStartKEX,r=e._protocol._packetRW.write.alloc(1,!0);r[t]=I.NEWKEYS,e._protocol._cipher.encrypt(e._protocol._packetRW.write.finalize(r,!0)),e._sentNEWKEYS=!0,e._protocol._strictMode&&(e._protocol._cipher.outSeqno=0)}}e.exports={KexInit:re,kexinit:Z,onKEXPayload:oe,DEFAULT_KEXINIT_CLIENT:new re({kex:E.concat(["ext-info-c","kex-strict-c-v00@openssh.com"]),serverHostKey:w,cs:{cipher:A,mac:x,compress:S,lang:[]},sc:{cipher:A,mac:x,compress:S,lang:[]}}),DEFAULT_KEXINIT_SERVER:new re({kex:E.concat(["kex-strict-s-v00@openssh.com"]),serverHostKey:w,cs:{cipher:A,mac:x,compress:S,lang:[]},sc:{cipher:A,mac:x,compress:S,lang:[]}}),HANDLERS:R({},I.KEXINIT,ee)}},8946:function(e,t,r){"use strict";for(var n=r(6982),i=n.createDecipheriv,o=n.createECDH,a=n.createHash,s=n.createHmac,c=n.createSign,u=n.createVerify,l=n.getCiphers,p=n.sign,d=n.verify,h=l(),f=r(3100).Ber,m=r(4015).pbkdf,g=r(7785).CIPHER_INFO,y=r(2535),v=y.eddsaSupported,b=y.SUPPORTED_CIPHER,E=r(5623),w=E.bufferSlice,A=E.makeBufferParser,x=E.readString,S=E.readUInt32BE,_=E.writeUInt32BE,k=Symbol("Hash Algorithm"),I=Symbol("Private key PEM"),T=Symbol("Public key PEM"),C=Symbol("Public key SSH"),O=Symbol("Decrypted Key"),N=Object.create(null),R=Object.keys(g),P=0;P<R.length;++P){var L=g[R[P]].sslName;L&&!N[L]&&(N[L]=g[R[P]])}var M=A();function q(e,t){var r=(t=t.base64Slice(0,t.length)).replace(/.{64}/g,"$&\n");return 63&t.length&&(r+="\n"),"-----BEGIN ".concat(e," KEY-----\n").concat(r,"-----END ").concat(e," KEY-----")}function D(e,t){var r=Buffer.allocUnsafe(e.length+t.length);return r.set(e,0),r.set(t,e.length),r}function B(e,t){for(var r=e.length,n=e._pos||0,i=0;i<t;++i){var o=r-n;if(n>=r||o<4)return!1;var a=S(e,n);if(o<4+a)return!1;n+=4+a}return e._pos=n,!0}function j(e,t){var r=new f.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.2.840.113549.1.1.1"),r.writeNull(),r.endSequence(),r.startSequence(f.BitString),r.writeByte(0),r.startSequence(),r.writeBuffer(e,f.Integer),r.writeBuffer(t,f.Integer),r.endSequence(),r.endSequence(),r.endSequence(),q("PUBLIC",r.buffer)}function U(e,t){var r=Buffer.allocUnsafe(15+t.length+4+e.length);_(r,7,0),r.utf8Write("ssh-rsa",4,7);var n=11;return _(r,t.length,n),r.set(t,n+=4),_(r,e.length,n+=t.length),r.set(e,n+4),r}var F=function(){function e(e){return BigInt("0x".concat(e.hexSlice(0,e.length)))}function t(e){var t=e.toString(16);if(1&t.length)t="0".concat(t);else{var r=t.charCodeAt(0);(56===r||57===r||r>=97&&r<=102)&&(t="00".concat(t))}return Buffer.from(t,"hex")}return function(r,n,i,o,a,s){var c=e(i);return q("RSA PRIVATE",function(e,t,r,n,i,o,a,s){var c=new f.Writer;return c.startSequence(),c.writeInt(0,f.Integer),c.writeBuffer(e,f.Integer),c.writeBuffer(t,f.Integer),c.writeBuffer(r,f.Integer),c.writeBuffer(n,f.Integer),c.writeBuffer(i,f.Integer),c.writeBuffer(o,f.Integer),c.writeBuffer(a,f.Integer),c.writeBuffer(s,f.Integer),c.endSequence(),c.buffer}(r,n,i,a,s,t(c%(e(a)-1n)),t(c%(e(s)-1n)),o))}}();function z(e,t,r,n){var i=new f.Writer;return i.startSequence(),i.startSequence(),i.writeOID("1.2.840.10040.4.1"),i.startSequence(),i.writeBuffer(e,f.Integer),i.writeBuffer(t,f.Integer),i.writeBuffer(r,f.Integer),i.endSequence(),i.endSequence(),i.startSequence(f.BitString),i.writeByte(0),i.writeBuffer(n,f.Integer),i.endSequence(),i.endSequence(),q("PUBLIC",i.buffer)}function H(e,t,r,n){var i=Buffer.allocUnsafe(15+e.length+4+t.length+4+r.length+4+n.length);_(i,7,0),i.utf8Write("ssh-dss",4,7);var o=11;return _(i,e.length,o),i.set(e,o+=4),_(i,t.length,o+=e.length),i.set(t,o+=4),_(i,r.length,o+=t.length),i.set(r,o+=4),_(i,n.length,o+=r.length),i.set(n,o+4),i}function Q(e,t,r,n,i){var o=new f.Writer;return o.startSequence(),o.writeInt(0,f.Integer),o.writeBuffer(e,f.Integer),o.writeBuffer(t,f.Integer),o.writeBuffer(r,f.Integer),o.writeBuffer(n,f.Integer),o.writeBuffer(i,f.Integer),o.endSequence(),q("DSA PRIVATE",o.buffer)}function G(e){var t=new f.Writer;return t.startSequence(),t.startSequence(),t.writeOID("1.3.101.112"),t.endSequence(),t.startSequence(f.BitString),t.writeByte(0),t._ensure(e.length),t._buf.set(e,t._offset),t._offset+=e.length,t.endSequence(),t.endSequence(),q("PUBLIC",t.buffer)}function K(e){var t=Buffer.allocUnsafe(19+e.length);return _(t,11,0),t.utf8Write("ssh-ed25519",4,11),_(t,e.length,15),t.set(e,19),t}function $(e){var t=new f.Writer;return t.startSequence(),t.writeInt(0,f.Integer),t.startSequence(),t.writeOID("1.3.101.112"),t.endSequence(),t.startSequence(f.OctetString),t.writeBuffer(e,f.OctetString),t.endSequence(),t.endSequence(),q("PRIVATE",t.buffer)}function W(e,t){var r=new f.Writer;return r.startSequence(),r.startSequence(),r.writeOID("1.2.840.10045.2.1"),r.writeOID(e),r.endSequence(),r.startSequence(f.BitString),r.writeByte(0),r._ensure(t.length),r._buf.set(t,r._offset),r._offset+=t.length,r.endSequence(),r.endSequence(),q("PUBLIC",r.buffer)}function V(e,t){var r;switch(e){case"1.2.840.10045.3.1.7":r="nistp256";break;case"1.3.132.0.34":r="nistp384";break;case"1.3.132.0.35":r="nistp521";break;default:return}var n=Buffer.allocUnsafe(39+t.length);return _(n,19,0),n.utf8Write("ecdsa-sha2-".concat(r),4,19),_(n,8,23),n.utf8Write(r,27,8),_(n,t.length,35),n.set(t,39),n}function Y(e,t,r){var n=new f.Writer;return n.startSequence(),n.writeInt(1,f.Integer),n.writeBuffer(r,f.OctetString),n.startSequence(160),n.writeOID(e),n.endSequence(),n.startSequence(161),n.startSequence(f.BitString),n.writeByte(0),n._ensure(t.length),n._buf.set(t,n._offset),n._offset+=t.length,n.endSequence(),n.endSequence(),n.endSequence(),q("EC PRIVATE",n.buffer)}var X={sign:"function"==typeof p?function(e,t){var r=this[I];if(null===r)return new Error("No private key available");t&&"string"==typeof t||(t=this[k]);try{return p(t,e,r)}catch(e){return e}}:function(e,t){var r=this[I];if(null===r)return new Error("No private key available");t&&"string"==typeof t||(t=this[k]);var n=c(t);n.update(e);try{return n.sign(r)}catch(e){return e}},verify:"function"==typeof d?function(e,t,r){var n=this[T];if(null===n)return new Error("No public key available");r&&"string"==typeof r||(r=this[k]);try{return d(r,e,n,t)}catch(e){return e}}:function(e,t,r){var n=this[T];if(null===n)return new Error("No public key available");r&&"string"==typeof r||(r=this[k]);var i=u(r);i.update(e);try{return i.verify(n,t)}catch(e){return e}},isPrivateKey:function(){return null!==this[I]},getPrivatePEM:function(){return this[I]},getPublicPEM:function(){return this[T]},getPublicSSH:function(){return this[C]},equals:function(e){var t=ve(e);return!(t instanceof Error)&&this.type===t.type&&this[I]===t[I]&&this[T]===t[T]&&this[C]===t[C]}};function J(e,t,r,n,i,o,a){this.type=e,this.comment=t,this[I]=r,this[T]=n,this[C]=i,this[k]=o,this[O]=a}J.prototype=X;var Z=/^-----BEGIN OPENSSH PRIVATE KEY-----(?:\r\n|\n)([\s\S]+)(?:\r\n|\n)-----END OPENSSH PRIVATE KEY-----$/;function ee(e,t,r,n,i,o,a){this.type=e,this.comment=t,this[I]=r,this[T]=n,this[C]=i,this[k]=o,this[O]=a}J.parse=function(e,t){var r,n=Z.exec(e);if(null===n)return null;var o=Buffer.from(n[1],"base64");if(o.length<31)return new Error("Malformed OpenSSH private key");var a=o.utf8Slice(0,15);if("openssh-key-v1\0"!==a)return new Error("Unsupported OpenSSH key magic: ".concat(a));var s=x(o,15,!0);if(void 0===s)return new Error("Malformed OpenSSH private key");if("none"!==s&&-1===b.indexOf(s))return new Error("Unsupported cipher for OpenSSH key: ".concat(s));var c,u,l,p=x(o,o._pos,!0);if(void 0===p)return new Error("Malformed OpenSSH private key");if("none"!==p){if("none"===s)return new Error("Malformed OpenSSH private key");if("bcrypt"!==p)return new Error("Unsupported kdf name for OpenSSH key: ".concat(p));if(!t)return new Error("Encrypted private OpenSSH key detected, but no passphrase given")}else if("none"!==s)return new Error("Malformed OpenSSH private key");"none"!==s&&(c=g[s]);var d=x(o,o._pos);if(void 0===d)return new Error("Malformed OpenSSH private key");if(d.length)switch(p){case"none":return new Error("Malformed OpenSSH private key");case"bcrypt":var h=x(d,0);if(void 0===h||d._pos+4>d.length)return new Error("Malformed OpenSSH private key");var f=S(d,d._pos),y=Buffer.allocUnsafe(c.keyLen+c.ivLen);if(0!==m(t,t.length,h,h.length,y,y.length,f))return new Error("Failed to generate information to decrypt key");u=w(y,0,c.keyLen),l=w(y,c.keyLen,y.length)}else if("none"!==p)return new Error("Malformed OpenSSH private key");if(o._pos+3>=o.length)return new Error("Malformed OpenSSH private key");var E=S(o,o._pos);if(o._pos+=4,E>0){for(var A=0;A<E;++A){var _=x(o,o._pos);if(void 0===_)return new Error("Malformed OpenSSH private key");if(void 0===x(_,0,!0))return new Error("Malformed OpenSSH private key")}var k=x(o,o._pos);if(void 0===k)return new Error("Malformed OpenSSH private key");if(void 0!==u){if(k.length<c.blockLen||k.length%c.blockLen!=0)return new Error("Malformed OpenSSH private key");try{var I={authTagLength:c.authLen},T=i(c.sslName,u,l,I);if(T.setAutoPadding(!1),c.authLen>0){if(o.length-o._pos<c.authLen)return new Error("Malformed OpenSSH private key");T.setAuthTag(w(o,o._pos,o._pos+=c.authLen))}k=D(T.update(k),T.final())}catch(e){return e}}if(o._pos!==o.length)return new Error("Malformed OpenSSH private key");r=function(e,t,r){var n,i,o=[];if(e.length<8)return new Error("Malformed OpenSSH private key");if(S(e,0)!==S(e,4))return r?new Error("OpenSSH key integrity check failed -- bad passphrase?"):new Error("OpenSSH key integrity check failed");for(e._pos=8,n=0;n<t;++n){var a=void 0,s=void 0,c=void 0,u=void 0,l=x(e,e._pos,!0);if(void 0===l)return new Error("Malformed OpenSSH private key");switch(l){case"ssh-rsa":var p=x(e,e._pos);if(void 0===p)return new Error("Malformed OpenSSH private key");var d=x(e,e._pos);if(void 0===d)return new Error("Malformed OpenSSH private key");var h=x(e,e._pos);if(void 0===h)return new Error("Malformed OpenSSH private key");var f=x(e,e._pos);if(void 0===f)return new Error("Malformed OpenSSH private key");var m=x(e,e._pos);if(void 0===m)return new Error("Malformed OpenSSH private key");var g=x(e,e._pos);if(void 0===g)return new Error("Malformed OpenSSH private key");c=j(p,d),u=U(p,d),s=F(p,d,h,f,m,g),a="sha1";break;case"ssh-dss":var y=x(e,e._pos);if(void 0===y)return new Error("Malformed OpenSSH private key");var b=x(e,e._pos);if(void 0===b)return new Error("Malformed OpenSSH private key");var E=x(e,e._pos);if(void 0===E)return new Error("Malformed OpenSSH private key");var A=x(e,e._pos);if(void 0===A)return new Error("Malformed OpenSSH private key");var _=x(e,e._pos);if(void 0===_)return new Error("Malformed OpenSSH private key");c=z(y,b,E,A),u=H(y,b,E,A),s=Q(y,b,E,A,_),a="sha1";break;case"ssh-ed25519":if(!v)return new Error("Unsupported OpenSSH private key type: ".concat(l));var k=x(e,e._pos);if(void 0===k||32!==k.length)return new Error("Malformed OpenSSH private key");var I=x(e,e._pos);if(void 0===I||64!==I.length)return new Error("Malformed OpenSSH private key");c=G(k),u=K(k),s=$(w(I,0,32)),a=null;break;case"ecdsa-sha2-nistp256":a="sha256",i="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":void 0===a&&(a="sha384",i="1.3.132.0.34");case"ecdsa-sha2-nistp521":if(void 0===a&&(a="sha512",i="1.3.132.0.35"),!B(e,1))return new Error("Malformed OpenSSH private key");var T=x(e,e._pos);if(void 0===T)return new Error("Malformed OpenSSH private key");var C=x(e,e._pos);if(void 0===C)return new Error("Malformed OpenSSH private key");c=W(i,T),u=V(i,T),s=Y(i,T,C);break;default:return new Error("Unsupported OpenSSH private key type: ".concat(l))}var O=x(e,e._pos,!0);if(void 0===O)return new Error("Malformed OpenSSH private key");o.push(new J(l,O,s,c,u,a,r))}var N=0;for(n=e._pos;n<e.length;++n)if(e[n]!==++N%255)return new Error("Malformed OpenSSH private key");return o}(k,E,void 0!==u)}else r=[];return r instanceof Error?r:r[0]},ee.prototype=X;var te=/^-----BEGIN (RSA|DSA|EC) PRIVATE KEY-----(?:\r\n|\n)((?:[^:]+:\s*[\S].*(?:\r\n|\n))*)([\s\S]+)(?:\r\n|\n)-----END (RSA|DSA|EC) PRIVATE KEY-----$/;function re(e,t,r,n,i,o,a){this.type=e,this.comment=t,this[I]=r,this[T]=n,this[C]=i,this[k]=o,this[O]=a}ee.parse=function(e,t){var r=te.exec(e);if(null===r)return null;var n,s,c,u,l,p,d=Buffer.from(r[3],"base64"),m=r[2],g=!1;if(void 0!==m){m=m.split(/\r\n|\n/g);for(var y=0;y<m.length;++y){var v=m[y],b=v.indexOf(":");if("DEK-Info"===v.slice(0,b)){var E=v.slice(b+2);if(-1===(b=E.indexOf(",")))continue;var A=E.slice(0,b).toLowerCase();if(-1===h.indexOf(A))return new Error("Cipher (".concat(A,") not supported for encrypted OpenSSH private key"));var x=N[A];if(!x)return new Error("Cipher (".concat(A,") not supported for encrypted OpenSSH private key"));var S=Buffer.from(E.slice(b+1),"hex");if(S.length!==x.ivLen)return new Error("Malformed encrypted OpenSSH private key");if(!t)return new Error("Encrypted OpenSSH private key detected, but no passphrase given");for(var _=w(S,0,8),k=a("md5").update(t).update(_).digest();k.length<x.keyLen;)k=D(k,a("md5").update(k).update(t).update(_).digest());k.length>x.keyLen&&(k=w(k,0,x.keyLen));try{var I=i(A,k,S);I.setAutoPadding(!1),d=D(I.update(d),I.final()),g=!0}catch(e){return e}}}}var T="Malformed OpenSSH private key";switch(g&&(T+=". Bad passphrase?"),r[1]){case"RSA":n="ssh-rsa",s=q("RSA PRIVATE",d);try{(p=new f.Reader(d)).readSequence(),p.readInt();var C=p.readString(f.Integer,!0);if(null===C)return new Error(T);var O=p.readString(f.Integer,!0);if(null===O)return new Error(T);c=j(C,O),u=U(C,O)}catch(e){return new Error(T)}l="sha1";break;case"DSA":n="ssh-dss",s=q("DSA PRIVATE",d);try{(p=new f.Reader(d)).readSequence(),p.readInt();var R=p.readString(f.Integer,!0);if(null===R)return new Error(T);var P=p.readString(f.Integer,!0);if(null===P)return new Error(T);var L=p.readString(f.Integer,!0);if(null===L)return new Error(T);var M=p.readString(f.Integer,!0);if(null===M)return new Error(T);c=z(R,P,L,M),u=H(R,P,L,M)}catch(e){return new Error(T)}l="sha1";break;case"EC":var B,F,Q;try{(p=new f.Reader(d)).readSequence(),p.readInt(),F=p.readString(f.OctetString,!0),p.readByte();var G=p.readLength();if(null===G)return new Error(T);if(p._offset=G,null===(Q=p.readOID()))return new Error(T);switch(Q){case"1.2.840.10045.3.1.7":B="prime256v1",n="ecdsa-sha2-nistp256",l="sha256";break;case"1.3.132.0.34":B="secp384r1",n="ecdsa-sha2-nistp384",l="sha384";break;case"1.3.132.0.35":B="secp521r1",n="ecdsa-sha2-nistp521",l="sha512";break;default:return new Error("Unsupported private key EC OID: ".concat(Q))}}catch(e){return new Error(T)}s=q("EC PRIVATE",d);var K=function(e,t){var r=o(e);return r.setPrivateKey(t),r.getPublicKey()}(B,F);c=W(Q,K),u=V(Q,K)}return new ee(n,"",s,c,u,l,g)},re.prototype=X;var ne,ie=Buffer.alloc(0),oe=Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ae=Buffer.from([0,0,0,0]),se=Buffer.from([0,0,0,1]),ce=/^PuTTY-User-Key-File-2: (ssh-(?:rsa|dss))\r?\nEncryption: (aes256-cbc|none)\r?\nComment: ([^\r\n]*)\r?\nPublic-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-Lines: \d+\r?\n([\s\S]+?)\r?\nPrivate-MAC: ([^\r\n]+)/;function ue(e,t,r,n,i){this.type=e,this.comment=t,this[I]=null,this[T]=r,this[C]=n,this[k]=i,this[O]=!1}function le(e,t,r,n,i){this.type=e,this.comment=t,this[I]=null,this[T]=r,this[C]=n,this[k]=i,this[O]=!1}re.parse=function(e,t){var r=ce.exec(e);if(null===r)return null;var n=r[2],o="none"!==n;if(o&&!t)return new Error("Encrypted PPK private key detected, but no passphrase given");var c=Buffer.from(r[5],"base64");if(o){var u=g[n],l=D(a("sha1").update(ae).update(t).digest(),a("sha1").update(se).update(t).digest());l.length>u.keyLen&&(l=w(l,0,u.keyLen));try{var p=i(u.sslName,l,oe);p.setAutoPadding(!1),c=D(p.update(c),p.final())}catch(e){return e}}var d,h,f,m=r[1],y=r[3],v=Buffer.from(r[4],"base64"),b=r[6],E=m.length,A=n.length,S=Buffer.byteLength(y),k=v.length,I=c.length,T=Buffer.allocUnsafe(4+E+4+A+4+S+4+k+4+I),C=0;if(_(T,E,C),T.utf8Write(m,C+=4,E),_(T,A,C+=E),T.utf8Write(n,C+=4,A),_(T,S,C+=A),T.utf8Write(y,C+=4,S),_(T,k,C+=S),T.set(v,C+=4),_(T,I,C+=k),T.set(c,C+4),t||(t=ie),s("sha1",a("sha1").update("putty-private-key-file-mac-key").update(t).digest()).update(T).digest("hex")!==b)return o?new Error("PPK private key integrity check failed -- bad passphrase?"):new Error("PPK private key integrity check failed");switch(v._pos=0,B(v,1),m){case"ssh-rsa":var O=x(v,v._pos);if(void 0===O)return new Error("Malformed PPK public key");var N=x(v,v._pos);if(void 0===N)return new Error("Malformed PPK public key");var R=x(c,0);if(void 0===R)return new Error("Malformed PPK private key");var P=x(c,c._pos);if(void 0===P)return new Error("Malformed PPK private key");var L=x(c,c._pos);if(void 0===L)return new Error("Malformed PPK private key");var M=x(c,c._pos);if(void 0===M)return new Error("Malformed PPK private key");d=j(N,O),h=U(N,O),f=F(N,O,R,M,P,L);break;case"ssh-dss":var q=x(v,v._pos);if(void 0===q)return new Error("Malformed PPK public key");var G=x(v,v._pos);if(void 0===G)return new Error("Malformed PPK public key");var K=x(v,v._pos);if(void 0===K)return new Error("Malformed PPK public key");var $=x(v,v._pos);if(void 0===$)return new Error("Malformed PPK public key");var W=x(c,0);if(void 0===W)return new Error("Malformed PPK private key");d=z(q,G,K,$),h=H(q,G,K,$),f=Q(q,G,K,$,W)}return new re(m,y,f,d,h,"sha1",o)},ue.prototype=X,ne=v?/^(((?:ssh-(?:rsa|dss|ed25519))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z/+=]+)(?:$|\s+([\S].*)?)$/:/^(((?:ssh-(?:rsa|dss))|ecdsa-sha2-nistp(?:256|384|521))(?:-cert-v0[01]@openssh.com)?) ([A-Z0-9a-z/+=]+)(?:$|\s+([\S].*)?)$/,ue.parse=function(e){var t=ne.exec(e);if(null===t)return null;var r=t[1],n=t[2],i=Buffer.from(t[3],"base64"),o=t[4]||"",a=x(i,i._pos,!0);return void 0===a||0!==a.indexOf(n)?new Error("Malformed OpenSSH public key"):me(i,n,o,r)},le.prototype=X;var pe=/^---- BEGIN SSH2 PUBLIC KEY ----(?:\r?\n)((?:.{0,72}\r?\n)+)---- END SSH2 PUBLIC KEY ----$/,de=/^[A-Z0-9a-z/+=\r\n]+$/,he=/^([\x21-\x39\x3B-\x7E]{1,64}): ((?:[^\\]*\\\r?\n)*[^\r\n]+)\r?\n/gm,fe=/\\\r?\n/g;function me(e,t,r,n){if(!ge(t))return new Error("Unsupported OpenSSH public key type: ".concat(t));var i,o,a=null,s=null;switch(t){case"ssh-rsa":var c=x(e,e._pos||0);if(void 0===c)return new Error("Malformed OpenSSH public key");var u=x(e,e._pos);if(void 0===u)return new Error("Malformed OpenSSH public key");a=j(u,c),s=U(u,c),i="sha1";break;case"ssh-dss":var l=x(e,e._pos||0);if(void 0===l)return new Error("Malformed OpenSSH public key");var p=x(e,e._pos);if(void 0===p)return new Error("Malformed OpenSSH public key");var d=x(e,e._pos);if(void 0===d)return new Error("Malformed OpenSSH public key");var h=x(e,e._pos);if(void 0===h)return new Error("Malformed OpenSSH public key");a=z(l,p,d,h),s=H(l,p,d,h),i="sha1";break;case"ssh-ed25519":var f=x(e,e._pos||0);if(void 0===f||32!==f.length)return new Error("Malformed OpenSSH public key");a=G(f),s=K(f),i=null;break;case"ecdsa-sha2-nistp256":i="sha256",o="1.2.840.10045.3.1.7";case"ecdsa-sha2-nistp384":void 0===i&&(i="sha384",o="1.3.132.0.34");case"ecdsa-sha2-nistp521":if(void 0===i&&(i="sha512",o="1.3.132.0.35"),!B(e,1))return new Error("Malformed OpenSSH public key");var m=x(e,e._pos||0);if(void 0===m)return new Error("Malformed OpenSSH public key");a=W(o,m),s=V(o,m);break;default:return new Error("Unsupported OpenSSH public key type: ".concat(t))}return new ue(n,r,a,s,i)}function ge(e){switch(e){case"ssh-rsa":case"ssh-dss":case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":return!0;case"ssh-ed25519":if(v)return!0;default:return!1}}function ye(e){return!!e&&"boolean"==typeof e[O]}function ve(e,t){if(ye(e))return e;var r,n;if(Buffer.isBuffer(e))r=e,e=e.utf8Slice(0,e.length).trim();else{if("string"!=typeof e)return new Error("Key data must be a Buffer or string");e=e.trim()}if(null!=t)if("string"==typeof t)t=Buffer.from(t);else if(!Buffer.isBuffer(t))return new Error("Passphrase must be a string or Buffer when supplied");if(null!==(n=J.parse(e,t)))return n;if(null!==(n=ee.parse(e,t)))return n;if(null!==(n=re.parse(e,t)))return n;if(null!==(n=ue.parse(e)))return n;if(null!==(n=le.parse(e)))return n;if(r){M.init(r,0);var i=M.readString(!0);void 0!==i&&void 0!==(e=M.readRaw())&&(n=me(e,i,"",i))instanceof Error&&(n=null),M.clear()}return n||new Error("Unsupported key format")}le.parse=function(e){var t=pe.exec(e);if(null===t)return null;for(var r=t[1],n=0,i="";t=he.exec(r);){var o=t[1],a=t[2].replace(fe,"");if(a.length>1024)return he.lastIndex=0,new Error("Malformed RFC4716 public key");n=he.lastIndex,"comment"===o.toLowerCase()&&(i=a).length>1&&34===i.charCodeAt(0)&&34===i.charCodeAt(i.length-1)&&(i=i.slice(1,-1))}var s=r.slice(n);if(!de.test(s))return new Error("Malformed RFC4716 public key");s=Buffer.from(s,"base64");var c=x(s,0,!0);if(void 0===c)return new Error("Malformed RFC4716 public key");var u=null,l=null;switch(c){case"ssh-rsa":var p=x(s,s._pos);if(void 0===p)return new Error("Malformed RFC4716 public key");var d=x(s,s._pos);if(void 0===d)return new Error("Malformed RFC4716 public key");u=j(d,p),l=U(d,p);break;case"ssh-dss":var h=x(s,s._pos);if(void 0===h)return new Error("Malformed RFC4716 public key");var f=x(s,s._pos);if(void 0===f)return new Error("Malformed RFC4716 public key");var m=x(s,s._pos);if(void 0===m)return new Error("Malformed RFC4716 public key");var g=x(s,s._pos);if(void 0===g)return new Error("Malformed RFC4716 public key");u=z(h,f,m,g),l=H(h,f,m,g);break;default:return new Error("Malformed RFC4716 public key")}return new le(c,i,u,l,"sha1")},e.exports={isParsedKey:ye,isSupportedKeyType:ge,parseDERKey:function(e,t){return me(e,t,"",t)},parseKey:ve}},8977:function(e,t,r){"use strict";var n=r(2613),i=r(9023).inspect;function o(e){for(var t="",r=e.length,n="-"===e[0]?1:0;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function a(e,t){if(n("string"==typeof t,"`thing` has to be of type string"),Array.isArray(e)){var r=e.length;return n(r>0,"At least one expected value needs to be specified"),e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}t.ERR_INTERNAL_ASSERTION=function(e){function t(e){var r;P(this,t),r=_(this,t),Error.captureStackTrace(k(r),t);var n="This is caused by either a bug in ssh2 or incorrect usage of ssh2 internals.\nPlease open an issue with this stack trace at https://github.com/mscdex/ssh2/issues\n";return r.message=void 0===e?n:"".concat(e,"\n").concat(n),r}return C(t,e),M(t)}(d(Error));var s=Math.pow(2,32),c=function(){try{return new Function("return 2n ** 32n")()}catch(e){}}();t.ERR_OUT_OF_RANGE=function(e){function t(e,r,a,u){var l;P(this,t),l=_(this,t),Error.captureStackTrace(k(l),t),n(r,'Missing "range" argument');var p,d=u?e:'The value of "'.concat(e,'" is out of range.');return Number.isInteger(a)&&Math.abs(a)>s?p=o(String(a)):"bigint"==typeof a?(p=String(a),(a>c||a<-c)&&(p=o(p)),p+="n"):p=i(a),d+=" It must be ".concat(r,". Received ").concat(p),l.message=d,l}return C(t,e),M(t)}(d(RangeError));var u=function(e){function t(e,r,i){var o,s,c;if(P(this,t),o=_(this,t),Error.captureStackTrace(k(o),t),n("string"==typeof e,"'name' must be a string"),"string"==typeof r&&r.startsWith("not ")?(s="must not be",r=r.replace(/^not /,"")):s="must be",e.endsWith(" argument"))c="The ".concat(e," ").concat(s," ").concat(a(r,"type"));else{var u=e.includes(".")?"property":"argument";c='The "'.concat(e,'" ').concat(u," ").concat(s," ").concat(a(r,"type"))}return c+=". Received type "+D(i),o.message=c,k(o)}return C(t,e),M(t)}(d(TypeError));t.ERR_INVALID_ARG_TYPE=u,t.validateNumber=function(e,t){if("number"!=typeof e)throw new u(t,"number",e)}},5623:function(e,t,r){"use strict";var n,i=r(3100).Ber,o=Buffer[Symbol.species],a=Object.getPrototypeOf(Uint8Array.prototype).fill;function s(e,t){return 16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t]}function c(e,t,r,n,i){i||(i=0),n>e.length&&(n=e.length);var o=n-r,a=t.length-i;return o>a&&(o=a),t.set(new Uint8Array(e.buffer,e.byteOffset+r,o),i),o}function u(e,t,r){return void 0===r&&(r=e.length),new o(e.buffer,e.byteOffset+t,r-t)}function l(){var e,t=0,r={init:function(r,n){e=r,t="number"==typeof n?n:0},pos:function(){return t},length:function(){return e?e.length:0},avail:function(){return e&&t<e.length?e.length-t:0},clear:function(){e=void 0},readUInt32BE:function(){if(e&&!(t+3>=e.length))return 16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t++]},readUInt64BE:function(r){if(e&&!(t+7>=e.length))switch(r){case"always":return BigInt("0x".concat(e.hexSlice(t,t+=8)));case"maybe":if(e[t]>31)return BigInt("0x".concat(e.hexSlice(t,t+=8)));default:return 72057594037927940*e[t++]+281474976710656*e[t++]+1099511627776*e[t++]+4294967296*e[t++]+16777216*e[t++]+65536*e[t++]+256*e[t++]+e[t++]}},skip:function(r){e&&r>0&&(t+=r)},skipString:function(){var n=r.readUInt32BE();if(void 0!==n)return(t+=n)<=e.length?n:void 0},readByte:function(){if(e&&t<e.length)return e[t++]},readBool:function(){if(e&&t<e.length)return!!e[t++]},readList:function(){var e=r.readString(!0);if(void 0!==e)return e?e.split(","):[]},readString:function(n,i){"number"==typeof n&&(i=n,n=void 0);var o=r.readUInt32BE();if(void 0!==o&&!(e.length-t<o||"number"==typeof i&&o>i))return n?Buffer.isBuffer(n)?c(e,n,t,t+=o):e.utf8Slice(t,t+=o):u(e,t,t+=o)},readRaw:function(r){if(e)return"number"!=typeof r?u(e,t,t+=e.length-t):e.length-t>=r?u(e,t,t+=r):void 0}};return r}function p(e,t,r){var n=new Error(e);return"boolean"==typeof t?(r=t,n.level="protocol"):n.level=t||"protocol",n.fatal=!!r,n}function d(e,t,r){return e[r++]=t>>>24,e[r++]=t>>>16,e[r++]=t>>>8,e[r++]=t,r}var h=l();e.exports={bufferCopy:c,bufferSlice:u,FastBuffer:o,bufferFill:function(e,t,r,n){return a.call(e,t,r,n)},makeError:p,doFatalError:function(e,t,i,o){var a,s;return void 0===n&&(a=r(2535),n=a.DISCONNECT_REASON),t instanceof Error?(s=t,o="number"!=typeof i?n.PROTOCOL_ERROR:i):s=p(t,i,!0),"number"!=typeof o&&(o=n.PROTOCOL_ERROR),e.disconnect(o),e._destruct(),e._onError(s),1/0},readUInt32BE:s,writeUInt32BE:d,writeUInt32LE:function(e,t,r){return e[r++]=t,e[r++]=t>>>8,e[r++]=t>>>16,e[r++]=t>>>24,r},makeBufferParser:l,bufferParser:l(),readString:function(e,t,r,n){"number"==typeof r&&(n=r,r=void 0),void 0===t&&(t=0);var i=e.length-t;if(!(t<0||t>=e.length||i<4)){var o=s(e,t);if(!(i<4+o||"number"==typeof n&&o>n)){var a=(t+=4)+o;return e._pos=a,r?Buffer.isBuffer(r)?c(e,r,t,a):e.utf8Slice(t,a):u(e,t,a)}}},sigSSHToASN1:function(e,t){switch(t){case"ssh-dss":if(e.length>40)return e;var r=new i.Writer;r.startSequence();var n=e.slice(0,20),o=e.slice(20);if(128&n[0]){var a=Buffer.allocUnsafe(21);a[0]=0,n.copy(a,1),n=a}else 0!==n[0]||128&n[1]||(n=n.slice(1));if(128&o[0]){var s=Buffer.allocUnsafe(21);s[0]=0,o.copy(s,1),o=s}else 0!==o[0]||128&o[1]||(o=o.slice(1));return r.writeBuffer(n,i.Integer),r.writeBuffer(o,i.Integer),r.endSequence(),r.buffer;case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":h.init(e,0);var c=h.readString(),u=h.readString();if(h.clear(),void 0===c||void 0===u)return;var l=new i.Writer;return l.startSequence(),l.writeBuffer(c,i.Integer),l.writeBuffer(u,i.Integer),l.endSequence(),l.buffer;default:return e}},convertSignature:function(e,t){switch(t){case"ssh-dss":if(e.length<=40)return e;var r=new i.Reader(e);r.readSequence();var n=r.readString(i.Integer,!0),o=r.readString(i.Integer,!0),a=0,s=0;if(n.length<20){var u=Buffer.allocUnsafe(20);u.set(n,1),(n=u)[0]=0}if(o.length<20){var l=Buffer.allocUnsafe(20);l.set(o,1),(o=l)[0]=0}n.length>20&&0===n[0]&&(a=1),o.length>20&&0===o[0]&&(s=1);var p=Buffer.allocUnsafe(n.length-a+(o.length-s));return c(n,p,a,n.length,0),c(o,p,s,o.length,n.length-a),p;case"ecdsa-sha2-nistp256":case"ecdsa-sha2-nistp384":case"ecdsa-sha2-nistp521":if(0===e[0])return e;var h=new i.Reader(e);h.readSequence();var f=h.readString(i.Integer,!0),m=h.readString(i.Integer,!0);if(null===f||null===m)return;var g=Buffer.allocUnsafe(4+f.length+4+m.length);return d(g,f.length,0),g.set(f,4),d(g,m.length,4+f.length),g.set(m,8+f.length),g}return e},sendPacket:function(e,t,r){return r||void 0===e._kexinit?(e._cipher.encrypt(t),!0):(void 0===e._queue&&(e._queue=[]),e._queue.push(t),e._debug&&e._debug("Outbound: ... packet queued"),!1)}}},3129:function(e,t,r){"use strict";var n=r(181).kMaxLength,i=r(3106),o=i.createInflate,a=i.constants,s=a.DEFLATE,c=a.INFLATE,u=a.Z_DEFAULT_CHUNK,l=a.Z_DEFAULT_COMPRESSION,p=a.Z_DEFAULT_MEMLEVEL,d=a.Z_DEFAULT_STRATEGY,h=a.Z_DEFAULT_WINDOWBITS,f=a.Z_PARTIAL_FLUSH,m=o()._handle.constructor;function g(){throw new Error("Should not get here")}function y(e,t,r){var n=this._owner,i=new Error(e);i.errno=t,i.code=r,n._err=i}function v(e){e._handle&&(e._handle.close(),e._handle=null)}var b=function(){return M((function e(t){P(this,e);var r=h,i=l,o=p,a=d;this._err=void 0,this._writeState=new Uint32Array(2),this._chunkSize=u,this._maxOutputLength=n,this._outBuffer=Buffer.allocUnsafe(this._chunkSize),this._outOffset=0,this._handle=new m(t),this._handle._owner=this,this._handle.onerror=y,this._handle.init(r,i,o,a,this._writeState,g,void 0)}),[{key:"writeSync",value:function(e,t){var r=this._handle;if(!r)throw new Error("Invalid Zlib instance");for(var n,i,o,a=e.length,s=this._chunkSize-this._outOffset,c=0,u=0,l=this._writeState,p=this._outBuffer,d=this._outOffset,h=this._chunkSize;;){if(r.writeSync(f,e,c,a,p,d,s),this._err)throw this._err;n=l[0];var m=a-(i=l[1]),g=s-n;if(g>0){var y=0===d&&g===p.length?p:p.slice(d,d+g);if(d+=g,o?void 0===o.push?o=[o,y]:o.push(y):o=y,(u+=y.byteLength)>this._maxOutputLength)throw v(this),new Error("Output length exceeded maximum of ".concat(this._maxOutputLength))}else if(0!==g)throw new Error("have should not go down");if((0===n||d>=h)&&(s=h,d=0,p=Buffer.allocUnsafe(h)),0!==n)break;c+=m,a=i}if(this._outBuffer=p,this._outOffset=d,0===u&&(o=Buffer.alloc(0)),t)return o.totalLen=u,o;if(void 0===o.push)return o;for(var b=Buffer.allocUnsafe(u),E=0,w=0;E<o.length;++E){var A=o[E];b.set(A,w),w+=A.length}return b}}])}();e.exports={PacketReader:function(){return M((function e(){P(this,e)}),[{key:"cleanup",value:function(){}},{key:"read",value:function(e){return e}}])}(),PacketWriter:function(){return M((function e(t){P(this,e),this.allocStart=5,this.allocStartKEX=5,this._protocol=t}),[{key:"cleanup",value:function(){}},{key:"alloc",value:function(e,t){return void 0===this._protocol._kexinit||t?this._protocol._cipher.allocPacket(e):Buffer.allocUnsafe(e)}},{key:"finalize",value:function(e,t){return e}}])}(),ZlibPacketReader:function(){return M((function e(){P(this,e),this._zlib=new b(c)}),[{key:"cleanup",value:function(){this._zlib&&v(this._zlib)}},{key:"read",value:function(e){return this._zlib.writeSync(e,!1)}}])}(),ZlibPacketWriter:function(){return M((function e(t){P(this,e),this.allocStart=0,this.allocStartKEX=0,this._protocol=t,this._zlib=new b(s)}),[{key:"cleanup",value:function(){this._zlib&&v(this._zlib)}},{key:"alloc",value:function(e,t){return Buffer.allocUnsafe(e)}},{key:"finalize",value:function(e,t){if(void 0===this._protocol._kexinit||t){var r=this._zlib.writeSync(e,!0),n=this._protocol._cipher.allocPacket(r.totalLen);if(void 0===r.push)n.set(r,5);else for(var i=0,o=5;i<r.length;++i){var a=r[i];n.set(a,o),o+=a.length}return n}return e}}])}()}},734:function(e,t,r){"use strict";var n=r(9278).Server,i=r(4434),o=i.listenerCount,a=r(2535),s=a.CHANNEL_OPEN_FAILURE,c=a.DEFAULT_CIPHER,u=a.DEFAULT_COMPRESSION,l=a.DEFAULT_KEX,p=a.DEFAULT_MAC,d=a.DEFAULT_SERVER_HOST_KEY,h=a.DISCONNECT_REASON,f=a.DISCONNECT_REASON_BY_VALUE,m=a.SUPPORTED_CIPHER,g=a.SUPPORTED_COMPRESSION,y=a.SUPPORTED_KEX,v=a.SUPPORTED_MAC,b=a.SUPPORTED_SERVER_HOST_KEY,E=r(7785).init,w=r(8818).KexInit,A=r(8946).parseKey,x=r(6008),S=r(4261).SFTP,I=r(5623).writeUInt32BE,T=r(7838),O=T.Channel,N=T.MAX_WINDOW,R=T.PACKET_SIZE,L=T.windowAdjust,q=T.WINDOW_THRESHOLD,B=r(9100),j=B.ChannelManager,U=B.generateAlgorithmList,F=B.isWritable,z=B.onChannelOpenFailure,H=B.onCHANNEL_CLOSE,Q=function(e){function t(e,r,n,i,o){var a;return P(this,t),(a=_(this,t)).username=a.user=r,a.service=n,a.method=i,a._initialResponse=!1,a._finalResponse=!1,a._multistep=!1,a._cbfinal=function(e,t,r){a._finalResponse||(a._finalResponse=!0,o(k(a),e,t,r))},a._protocol=e,a}return C(t,e),M(t,[{key:"accept",value:function(){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!0)}},{key:"reject",value:function(e,t){this._cleanup&&this._cleanup(),this._initialResponse=!0,this._cbfinal(!1,e,t)}}])}(i),G=function(e){function t(e,r,n,i,o,a){var s;return P(this,t),(s=_(this,t,[e,r,n,i,a]))._multistep=!0,s._cb=void 0,s._onInfoResponse=function(e){var t=s._cb;t&&(s._cb=void 0,t(e))},s.submethods=o,s.on("abort",(function(){s._cb&&s._cb(new Error("Authentication request aborted"))})),s}return C(t,e),M(t,[{key:"prompt",value:function(e,t,r,n){Array.isArray(e)||(e=[e]),"function"==typeof t?(n=t,t=r=void 0):"function"==typeof r?(n=r,r=void 0):"function"!=typeof n&&(n=void 0);for(var i=0;i<e.length;++i)"string"==typeof e[i]&&(e[i]={prompt:e[i],echo:!0});this._cb=n,this._initialResponse=!0,this._protocol.authInfoReq(t,r,e)}}])}(Q),K=function(e){function t(e,r,n,i,o,a){var s;return P(this,t),(s=_(this,t,[e,r,n,i,a])).key={algo:o.keyAlgo,data:o.key},s.hashAlgo=o.hashAlgo,s.signature=o.signature,s.blob=o.blob,s}return C(t,e),M(t,[{key:"accept",value:function(){this.signature?Q.prototype.accept.call(this):(this._initialResponse=!0,this._protocol.authPKOK(this.key.algo,this.key.data))}}])}(Q),$=function(e){function t(e,r,n,i,o,a){var s;return P(this,t),(s=_(this,t,[e,r,n,i,a])).key={algo:o.keyAlgo,data:o.key},s.hashAlgo=o.hashAlgo,s.signature=o.signature,s.blob=o.blob,s.localHostname=o.localHostname,s.localUsername=o.localUsername,s}return C(t,e),M(t)}(Q),W=function(e){function t(e,r,n,i,o,a){var s;return P(this,t),(s=_(this,t,[e,r,n,i,a])).password=o,s._changeCb=void 0,s}return C(t,e),M(t,[{key:"requestChange",value:function(e,t){if(this._changeCb)throw new Error("Change request already in progress");if("string"!=typeof e)throw new Error("prompt argument must be a string");if("function"!=typeof t)throw new Error("Callback argument must be a function");this._changeCb=t,this._protocol.authPasswdChg(e)}}])}(Q),V=function(e){function t(e,r,n){var i;return P(this,t),(i=_(this,t)).type="session",i.subtype=void 0,i.server=!0,i._ending=!1,i._channel=void 0,i._chanInfo={type:"session",incoming:{id:n,window:N,packetSize:R,state:"open"},outgoing:{id:r.sender,window:r.window,packetSize:r.packetSize,state:"open"}},i}return C(t,e),M(t)}(i),Y=function(e){function t(e,r){var i;if(P(this,t),i=_(this,t),"object"!=D(e)||null===e)throw new Error("Missing configuration object");var o=Object.create(null),a=[],s=e.hostKeys;if(!Array.isArray(s))throw new Error("hostKeys must be an array");for(var h="object"==D(e.algorithms)&&null!==e.algorithms?e.algorithms:{},f=U(h.serverHostKey,d,b),E=function(){var e;if((e=Buffer.isBuffer(s[x])||"string"==typeof s[x]?A(s[x]):A(s[x].key,s[x].passphrase))instanceof Error)throw new Error("Cannot parse privateKey: ".concat(e.message));if(Array.isArray(e)&&(e=e[0]),null===e.getPrivatePEM())throw new Error("privateKey value contains an invalid private key");if(!a.includes(e.type))if("ssh-rsa"===e.type){var t=f.indexOf("ssh-rsa"),r=f.indexOf("rsa-sha2-256"),n=f.indexOf("rsa-sha2-512");-1===t&&(t=1/0),[t,r,n].sort(Z).forEach((function(i){if(-1!==i){var s;switch(i){case t:s="ssh-rsa";break;case r:s="rsa-sha2-256";break;case n:s="rsa-sha2-512";break;default:return}o[s]=e,a.push(s)}}))}else o[e.type]=e,a.push(e.type)},x=0;x<s.length;++x)E();var S={kex:U(h.kex,l,y).concat(["kex-strict-s-v00@openssh.com"]),serverHostKey:a,cs:{cipher:U(h.cipher,c,m),mac:U(h.hmac,p,v),compress:U(h.compress,u,g),lang:[]},sc:void 0};S.sc=S.cs,"function"==typeof r&&i.on("connection",r);var I="function"==typeof e.debug?e.debug:void 0,T=e.ident?Buffer.from(e.ident):void 0,C=new w(S);return i._srv=new n((function(t){if(i._connections>=i.maxConnections)t.destroy();else{var r;if(++i._connections,t.once("close",(function(){--i._connections})),I){var n="[".concat(process.hrtime().join("."),"] ");r=function(e){I("".concat(n).concat(e))}}new X(t,o,T,C,r,k(i),e)}})).on("error",(function(e){i.emit("error",e)})).on("listening",(function(){i.emit("listening")})).on("close",(function(){i.emit("close")})),i._connections=0,i.maxConnections=1/0,k(i)}return C(t,e),M(t,[{key:"injectSocket",value:function(e){this._srv.emit("connection",e)}},{key:"listen",value:function(){var e;return(e=this._srv).listen.apply(e,arguments),this}},{key:"address",value:function(){return this._srv.address()}},{key:"getConnections",value:function(e){return this._srv.getConnections(e),this}},{key:"close",value:function(e){return this._srv.close(e),this}},{key:"ref",value:function(){return this._srv.ref(),this}},{key:"unref",value:function(){return this._srv.unref(),this}}])}(i);Y.KEEPALIVE_CLIENT_INTERVAL=15e3,Y.KEEPALIVE_CLIENT_COUNT_MAX=3;var X=function(e){function t(e,r,n,i,a,c,u){var l;P(this,t),l=_(this,t);var p,d,m,g=0,y=!1,v=[],b=[];function w(e){}l._sock=e,l._chanMgr=new j(l),l._debug=a,l.noMoreSessions=!1,l.authenticated=!1,l.on("error",w);var A=a?function(e,t,r){a("Debug output from client: ".concat(JSON.stringify(r)))}:void 0,k="number"==typeof u.keepaliveInterval&&isFinite(u.keepaliveInterval)&&u.keepaliveInterval>0?u.keepaliveInterval:"number"==typeof Y.KEEPALIVE_CLIENT_INTERVAL&&isFinite(Y.KEEPALIVE_CLIENT_INTERVAL)&&Y.KEEPALIVE_CLIENT_INTERVAL>0?Y.KEEPALIVE_CLIENT_INTERVAL:-1,T="number"==typeof u.keepaliveCountMax&&isFinite(u.keepaliveCountMax)&&u.keepaliveCountMax>=0?u.keepaliveCountMax:"number"==typeof Y.KEEPALIVE_CLIENT_COUNT_MAX&&isFinite(Y.KEEPALIVE_CLIENT_COUNT_MAX)&&Y.KEEPALIVE_CLIENT_COUNT_MAX>=0?Y.KEEPALIVE_CLIENT_COUNT_MAX:-1,C=0;-1!==k&&-1!==T&&(l.once("ready",(function(){var e=function(){clearInterval(d)};l.on("close",e).on("end",e),d=setInterval((function(){if(++C>T){clearInterval(d);var e=new Error("Keepalive timeout");e.level="client-timeout",l.emit("error",e),l.end()}else M.ping()}),k)})),m=function(){d&&d.refresh(),C=0});var M=l._protocol=new x({server:!0,hostKeys:r,ident:n,offer:i,onPacket:m,greeting:u.greeting,banner:u.banner,onWrite:function(t){F(e)&&e.write(t)},onError:function(t){M._destruct||e.removeAllListeners("data"),l.emit("error",t);try{e.end()}catch(e){}},onHeader:function(t){l.removeListener("error",w);var r={ip:e.remoteAddress,family:e.remoteFamily,port:e.remotePort,header:t};if(!c.emit("connection",l,r))return M.disconnect(h.BY_APPLICATION),void e.end();t.greeting&&l.emit("greeting",t.greeting)},onHandshakeComplete:function(e){++g>1&&l.emit("rekey"),l.emit("handshake",e)},debug:a,messageHandlers:{DEBUG:A,DISCONNECT:function(t,r,n){if(r!==h.BY_APPLICATION){n||void 0===(n=f[r])&&(n="Unexpected disconnection reason: ".concat(r));var i=new Error(n);i.code=r,l.emit("error",i)}e.end()},CHANNEL_OPEN:function(e,t){if("session"===t.type&&l.noMoreSessions||!l.authenticated){var r=s.ADMINISTRATIVELY_PROHIBITED;return M.channelOpenFail(t.sender,r)}var n,i,c=-1,u=!1,p=function(){u||(u=!0,void 0===n&&(n=-1===c?s.RESOURCE_SHORTAGE:s.CONNECT_FAILED),-1!==c&&l._chanMgr.remove(c),M.channelOpenFail(t.sender,n,""))},d=function(){return-1===(c=l._chanMgr.add())&&(n=s.RESOURCE_SHORTAGE,a&&a("Automatic rejection of incoming channel open: no channels available")),-1!==c},h=t.data;switch(t.type){case"session":if(o(l,"session")&&d())return i=function(){if(!u){u=!0;var e=new V(l,t,c);return l._chanMgr.update(c,e),M.channelOpenConfirm(t.sender,c,N,R),e}},void l.emit("session",i,p);break;case"direct-tcpip":if(o(l,"tcpip")&&d())return i=function(){if(!u){u=!0;var e={type:void 0,incoming:{id:c,window:N,packetSize:R,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},r=new O(l,e,{server:!0});return l._chanMgr.update(c,r),M.channelOpenConfirm(t.sender,c,N,R),r}},void l.emit("tcpip",i,p,h);break;case"direct-streamlocal@openssh.com":if(o(l,"openssh.streamlocal")&&d())return i=function(){if(!u){u=!0;var e={type:void 0,incoming:{id:c,window:N,packetSize:R,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},r=new O(l,e,{server:!0});return l._chanMgr.update(c,r),M.channelOpenConfirm(t.sender,c,N,R),r}},void l.emit("openssh.streamlocal",i,p,h);break;default:n=s.UNKNOWN_CHANNEL_TYPE,a&&a("Automatic rejection of unsupported incoming channel open type: ".concat(t.type))}void 0===n&&(n=s.ADMINISTRATIVELY_PROHIBITED,a&&a("Automatic rejection of unexpected incoming channel open for: ".concat(t.type))),p()},CHANNEL_OPEN_CONFIRMATION:function(e,t){var r=l._chanMgr.get(t.recipient);if("function"==typeof r){var n={type:r.type,incoming:{id:t.recipient,window:N,packetSize:R,state:"open"},outgoing:{id:t.sender,window:t.window,packetSize:t.packetSize,state:"open"}},i=new O(l,n,{server:!0});l._chanMgr.update(t.recipient,i),r(void 0,i)}},CHANNEL_OPEN_FAILURE:function(e,t,r,n){var i=l._chanMgr.get(t);"function"==typeof i&&z(l,t,{reason:r,description:n},i)},CHANNEL_DATA:function(e,t,r){var n=l._chanMgr.get(t);"object"==D(n)&&null!==n&&(n.constructor!==V||(n=n._channel))&&0!==n.incoming.window&&(n.incoming.window-=r.length,!1!==n.push(r)?n.incoming.window<=q&&L(n):n._waitChanDrain=!0)},CHANNEL_EXTENDED_DATA:function(e,t,r,n){},CHANNEL_WINDOW_ADJUST:function(e,t,r){var n=l._chanMgr.get(t);"object"==D(n)&&null!==n&&(n.constructor!==V||(n=n._channel))&&(n.outgoing.window+=r,n._waitWindow&&(n._waitWindow=!1,n._chunk?n._write(n._chunk,null,n._chunkcb):n._chunkcb?n._chunkcb():n._chunkErr?n.stderr._write(n._chunkErr,null,n._chunkcbErr):n._chunkcbErr&&n._chunkcbErr()))},CHANNEL_SUCCESS:function(e,t){var r=l._chanMgr.get(t);"object"==D(r)&&null!==r&&(r.constructor!==V||(r=r._channel))&&r._callbacks.length&&r._callbacks.shift()(!1)},CHANNEL_FAILURE:function(e,t){var r=l._chanMgr.get(t);"object"==D(r)&&null!==r&&(r.constructor!==V||(r=r._channel))&&r._callbacks.length&&r._callbacks.shift()(!0)},CHANNEL_REQUEST:function(e,t,r,n,i){var s=l._chanMgr.get(t);if("object"==D(s)&&null!==s){var c,u,p=!1;if(s.constructor===V)if(n&&("shell"!==r&&"exec"!==r&&"subsystem"!==r&&(c=function(){p||s._ending||s._channel||(p=!0,M.channelSuccess(s._chanInfo.outgoing.id))}),u=function(){p||s._ending||s._channel||(p=!0,M.channelFailure(s._chanInfo.outgoing.id))}),s._ending)u&&u();else{switch(r){case"env":if(o(s,"env"))return void s.emit("env",c,u,{key:i.name,val:i.value});break;case"pty-req":if(o(s,"pty"))return void s.emit("pty",c,u,i);break;case"window-change":o(s,"window-change")?s.emit("window-change",c,u,i):u&&u();break;case"x11-req":if(o(s,"x11"))return void s.emit("x11",c,u,i);break;case"signal":if(o(s,"signal"))return void s.emit("signal",c,u,{name:i});break;case"auth-agent-req@openssh.com":if(o(s,"auth-agent"))return void s.emit("auth-agent",c,u);break;case"shell":if(o(s,"shell"))return c=function(){if(!(p||s._ending||s._channel)){p=!0,n&&M.channelSuccess(s._chanInfo.outgoing.id);var e=new O(l,s._chanInfo,{server:!0});return e.subtype=s.subtype=r,s._channel=e,e}},void s.emit("shell",c,u);break;case"exec":if(o(s,"exec"))return c=function(){if(!(p||s._ending||s._channel)){p=!0,n&&M.channelSuccess(s._chanInfo.outgoing.id);var e=new O(l,s._chanInfo,{server:!0});return e.subtype=s.subtype=r,s._channel=e,e}},void s.emit("exec",c,u,{command:i});break;case"subsystem":var d="sftp"===i;if(c=function(){var e;if(!(p||s._ending||s._channel))return p=!0,n&&M.channelSuccess(s._chanInfo.outgoing.id),d?e=new S(l,s._chanInfo,{server:!0,debug:a}):(e=new O(l,s._chanInfo,{server:!0})).subtype=s.subtype="".concat(r,":").concat(i),s._channel=e,e},"sftp"===i){if(o(s,"sftp"))return void s.emit("sftp",c,u);d=!1}if(o(s,"subsystem"))return void s.emit("subsystem",c,u,{name:i})}a&&a("Automatic rejection of incoming channel request: ".concat(r)),u&&u()}else n&&M.channelFailure(s.outgoing.id)}},CHANNEL_EOF:function(e,t){var r=l._chanMgr.get(t);"object"==D(r)&&null!==r&&(r.constructor!==V||(r._ending||(r._ending=!0,r.emit("eof"),r.emit("end")),r=r._channel))&&"open"===r.incoming.state&&(r.incoming.state="eof",r.readable&&r.push(null))},CHANNEL_CLOSE:function(e,t){var r=l._chanMgr.get(t);"object"==D(r)&&null!==r&&(r.constructor!==V||(r._ending=!0,r.emit("close"),r=r._channel))&&H(l,t,r)},SERVICE_REQUEST:function(t,r){if(0===g||y||l.authenticated||"ssh-userauth"!==r)return M.disconnect(h.SERVICE_NOT_AVAILABLE),void e.end();y=!0,M.serviceAccept(r)},USERAUTH_REQUEST:function(t,r,n,i,a){if(0===g||l.authenticated||p&&(p.username!==r||p.service!==n)||"password"!==i&&"publickey"!==i&&"hostbased"!==i&&"keyboard-interactive"!==i&&"none"!==i||10===v.length)return M.disconnect(h.PROTOCOL_ERROR),void e.end();if("ssh-connection"!==n)return M.disconnect(h.SERVICE_NOT_AVAILABLE),void e.end();var s;switch(i){case"keyboard-interactive":s=new G(M,r,n,i,a,B);break;case"publickey":s=new K(M,r,n,i,a,B);break;case"hostbased":s=new $(M,r,n,i,a,B);break;case"password":if(p&&p instanceof W&&p._changeCb){var c=p._changeCb;return p._changeCb=void 0,void c(a.newPassword)}s=new W(M,r,n,i,a,B);break;case"none":s=new Q(M,r,n,i,B)}if(p){if(!p._initialResponse)return v.push(s);p._multistep&&!p._finalResponse&&(p._cleanup&&p._cleanup(),p.emit("abort"))}p=s,o(l,"authentication")?l.emit("authentication",p):p.reject()},USERAUTH_INFO_RESPONSE:function(e,t){p&&p instanceof G&&p._onInfoResponse(t)},GLOBAL_REQUEST:function(e,t,r,n){var i={type:null,buf:null};function a(e,t){i.type=e,i.buf=t,function(){for(;b.length>0&&b[0].type;){var e=b.shift();"SUCCESS"===e.type&&M.requestSuccess(e.buf),"FAILURE"===e.type&&M.requestFailure()}}()}if(r&&b.push(i),("tcpip-forward"===t||"cancel-tcpip-forward"===t||"no-more-sessions@openssh.com"===t||"streamlocal-forward@openssh.com"===t||"cancel-streamlocal-forward@openssh.com"===t)&&o(l,"request")&&l.authenticated){var s,c;if(r){var u=!1;s=function(e){var r;u||(u=!0,"tcpip-forward"===t&&0===n.bindPort&&"number"==typeof e&&(r=Buffer.allocUnsafe(4),I(r,e,0)),a("SUCCESS",r))},c=function(){u||(u=!0,a("FAILURE"))}}if("no-more-sessions@openssh.com"===t)return l.noMoreSessions=!0,void(s&&s());l.emit("request",s,c,t,n)}else r&&a("FAILURE")}}});e.pause(),E.then((function(){M.start(),e.on("data",(function(t){try{M.parse(t,0,t.length)}catch(t){l.emit("error",t);try{F(e)&&e.end()}catch(e){}}})),e.resume()})).catch((function(t){l.emit("error",t);try{F(e)&&e.end()}catch(e){}})),e.on("error",(function(e){e.level="socket",l.emit("error",e)})).once("end",(function(){a&&a("Socket ended"),M.cleanup(),l.emit("end")})).once("close",(function(){a&&a("Socket closed"),M.cleanup(),l.emit("close");var e=new Error("No response from server");l._chanMgr.cleanup(e)}));var B=function(e,t,r,n){p!==e||l.authenticated||(t?(p=void 0,l.authenticated=!0,M.authSuccess(),v=[],l.emit("ready")):(M.authFailure(r,n),v.length&&(p=v.pop(),o(l,"authentication")?l.emit("authentication",p):p.reject())))};return l}return C(t,e),M(t,[{key:"end",value:function(){return this._sock&&F(this._sock)&&(this._protocol.disconnect(h.BY_APPLICATION),this._sock.end()),this}},{key:"x11",value:function(e,t,r){return J(this,"x11",{originAddr:e,originPort:t},r),this}},{key:"forwardOut",value:function(e,t,r,n,i){return J(this,"forwarded-tcpip",{boundAddr:e,boundPort:t,remoteAddr:r,remotePort:n},i),this}},{key:"openssh_forwardOutStreamLocal",value:function(e,t){return J(this,"forwarded-streamlocal@openssh.com",{socketPath:e},t),this}},{key:"rekey",value:function(e){var t;try{this._protocol.rekey()}catch(e){t=e}"function"==typeof e&&(t?process.nextTick(e,t):this.once("rekey",e))}},{key:"setNoDelay",value:function(e){return this._sock&&"function"==typeof this._sock.setNoDelay&&this._sock.setNoDelay(e),this}}])}(i);function J(e,t,r,n){var i=N,o=R;"function"==typeof r&&(n=r,r={});var a=function(e,t){n(e,t)};a.type=t;var s=e._chanMgr.add(a);if(-1!==s)switch(t){case"forwarded-tcpip":e._protocol.forwardedTcpip(s,i,o,r);break;case"x11":e._protocol.x11(s,i,o,r);break;case"forwarded-streamlocal@openssh.com":e._protocol.openssh_forwardedStreamLocal(s,i,o,r);break;default:throw new Error("Unsupported channel type: ".concat(t))}else n(new Error("No free channels available"))}function Z(e,t){return e-t}e.exports=Y,e.exports.IncomingClient=X},9100:function(e,t,r){"use strict";var n=r(4261).SFTP,i=Math.pow(2,32)-1;function o(e,t,r,n){var i;e._chanMgr.remove(t),"function"==typeof n&&(r instanceof Error?i=r:"object"==D(r)&&null!==r?(i=new Error("(SSH) Channel open failure: ".concat(r.description))).reason=r.reason:(i=new Error("(SSH) Channel open failure: server closed channel unexpectedly")).reason="",n(i))}function a(e,t,r,i,a){if("function"!=typeof r){if("object"==D(r)&&null!==r&&!(r.incoming&&"closed"===r.incoming.state||(e._chanMgr.remove(t),r.server&&"Session"===r.constructor.name))){r.incoming.state="closed",r.readable&&r.push(null),r.server?r.stderr.writable&&r.stderr.end():r.stderr.readable&&r.stderr.push(null),r.constructor===n||"open"!==r.outgoing.state&&"eof"!==r.outgoing.state||a||r.close(),"closing"===r.outgoing.state&&(r.outgoing.state="closed");var s=r._readableState,c=r._writableState;!c||c.ending||c.finished||a||r.end();var u=r._callbacks;r._callbacks=[];for(var l=0;l<u.length;++l)u[l](!0);if(r.server)!r.readable||r.destroyed||s&&s.endEmitted?r.emit("close"):r.once("end",(function(){return r.emit("close")}));else{var p;switch(r.type){case"direct-streamlocal@openssh.com":case"direct-tcpip":p=function(){return r.emit("close")};break;default:var d=r._exit;p=function(){null===d.code?r.emit("close",d.code,d.signal,d.dump,d.desc):r.emit("close",d.code)}}!r.readable||r.destroyed||s&&s.endEmitted?p():r.once("end",p);var h=r.stderr._readableState;!r.stderr.readable||r.stderr.destroyed||h&&h.endEmitted?r.stderr.emit("close"):r.stderr.once("end",(function(){return r.stderr.emit("close")}))}}}else o(e,t,i,r)}var s=function(){var e=Object.prototype.toString;return function(t){return"[object RegExp]"===e.call(t)}}();e.exports={ChannelManager:function(){return M((function e(t){P(this,e),this._client=t,this._channels={},this._cur=-1,this._count=0}),[{key:"add",value:function(e){var t;if(this._cur<i)t=++this._cur;else if(0===this._count)this._cur=0,t=0;else for(var r=this._channels,n=0;n<i;++n)if(void 0===r[n]){t=n;break}return void 0===t?-1:(this._channels[t]=e||!0,++this._count,t)}},{key:"update",value:function(e,t){if("number"!=typeof e||e<0||e>=i||!isFinite(e))throw new Error("Invalid channel id: ".concat(e));t&&this._channels[e]&&(this._channels[e]=t)}},{key:"get",value:function(e){if("number"!=typeof e||e<0||e>=i||!isFinite(e))throw new Error("Invalid channel id: ".concat(e));return this._channels[e]}},{key:"remove",value:function(e){if("number"!=typeof e||e<0||e>=i||!isFinite(e))throw new Error("Invalid channel id: ".concat(e));this._channels[e]&&(delete this._channels[e],this._count&&--this._count)}},{key:"cleanup",value:function(e){var t=this._channels;this._channels={},this._cur=-1,this._count=0;for(var r=Object.keys(t),n=this._client,i=0;i<r.length;++i){var o=+r[i],s=t[o];a(n,o,s._channel||s,e,!0)}}}])}(),generateAlgorithmList:function(e,t,r){if(Array.isArray(e)&&e.length>0){for(var n=0;n<e.length;++n)if(-1===r.indexOf(e[n]))throw new Error("Unsupported algorithm: ".concat(e[n]));return e}if("object"==D(e)&&null!==e){for(var i=Object.keys(e),o=t,a=0;a<i.length;++a){var c=i[a],u=e[c];switch(c){case"append":if(Array.isArray(u)||(u=[u]),Array.isArray(u))for(var l=0;l<u.length;++l){var p=u[l];if("string"==typeof p){if(!p||-1!==o.indexOf(p))continue;if(-1===r.indexOf(p))throw new Error("Unsupported algorithm: ".concat(p));o===t&&(o=o.slice()),o.push(p)}else if(s(p))for(var d=0;d<r.length;++d){var h=r[d];if(p.test(h)){if(-1!==o.indexOf(h))continue;o===t&&(o=o.slice()),o.push(h)}}}break;case"prepend":if(Array.isArray(u)||(u=[u]),Array.isArray(u))for(var f=u.length;f>=0;--f){var m=u[f];if("string"==typeof m){if(!m||-1!==o.indexOf(m))continue;if(-1===r.indexOf(m))throw new Error("Unsupported algorithm: ".concat(m));o===t&&(o=o.slice()),o.unshift(m)}else if(s(m))for(var g=r.length;g>=0;--g){var y=r[g];if(m.test(y)){if(-1!==o.indexOf(y))continue;o===t&&(o=o.slice()),o.unshift(y)}}}break;case"remove":if(Array.isArray(u)||(u=[u]),Array.isArray(u))for(var v=0;v<u.length;++v){var b=u[v];if("string"==typeof b){if(!b)continue;var E=o.indexOf(b);if(-1===E)continue;o===t&&(o=o.slice()),o.splice(E,1)}else if(s(b))for(var w=0;w<o.length;++w)b.test(o[w])&&(o===t&&(o=o.slice()),o.splice(w,1),--w)}}}return o}return t},onChannelOpenFailure:o,onCHANNEL_CLOSE:a,isWritable:function(e){return e&&e.writable&&e._readableState&&!1===e._readableState.ended}}},2403:function(e,t,r){"use strict";var n=r(7662);function i(e){if(!Object.prototype.hasOwnProperty.call(o.message,e))throw new Error("invalid status code: "+e);return o.message[e]}function o(e){if("number"==typeof e)return i(e);if("string"!=typeof e)throw new TypeError("code must be a number or string");var t=parseInt(e,10);return isNaN(t)?function(e){var t=e.toLowerCase();if(!Object.prototype.hasOwnProperty.call(o.code,t))throw new Error('invalid status message: "'+e+'"');return o.code[t]}(e):i(t)}e.exports=o,o.message=n,o.code=function(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r],i=Number(r);t[n.toLowerCase()]=i})),t}(n),o.codes=function(e){return Object.keys(e).map((function(e){return Number(e)}))}(n),o.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},o.empty={204:!0,205:!0,304:!0},o.retry={502:!0,503:!0,504:!0}},3141:function(e,t,r){"use strict";var n=r(2861).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=p,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.I=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},7687:function(e,t,r){"use strict";var n,i=r(857),o=r(2018),a=r(5884),s=process.env;function c(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 0!==(t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.streamIsTTY,o=t.sniffFlags,c=void 0===o||o,u=function(){if("FORCE_COLOR"in s)return"true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(Number.parseInt(s.FORCE_COLOR,10),3)}();void 0!==u&&(n=u);var l=c?n:u;if(0===l)return 0;if(c){if(a("color=16m")||a("color=full")||a("color=truecolor"))return 3;if(a("color=256"))return 2}if(e&&!r&&void 0===l)return 0;var p=l||0;if("dumb"===s.TERM)return p;if("win32"===process.platform){var d=i.release().split(".");return Number(d[0])>=10&&Number(d[2])>=10586?Number(d[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((function(e){return e in s}))||"codeship"===s.CI_NAME?1:p;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){var h=Number.parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return h>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:p}(e,E({streamIsTTY:e&&e.isTTY},r)))&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}a("no-color")||a("no-colors")||a("color=false")||a("color=never")?n=0:(a("color")||a("colors")||a("color=true")||a("color=always"))&&(n=1),e.exports={supportsColor:c,stdout:c({isTTY:o.isatty(1)}),stderr:c({isTTY:o.isatty(2)})}},2414:function(e,t,r){var n=r(9023),i=r(4829),o=r(3481),a=r(4198).Writable,s=r(4198).PassThrough,c=function(){},u=function(e){return(e&=511)&&512-e},l=function(e,t){this._parent=e,this.offset=t,s.call(this,{autoDestroy:!1})};n.inherits(l,s),l.prototype.destroy=function(e){this._parent.destroy(e)};var p=function(e){if(!(this instanceof p))return new p(e);a.call(this,e),e=e||{},this._offset=0,this._buffer=i(),this._missing=0,this._partial=!1,this._onparse=c,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,r=t._buffer,n=function(){t._continue()},s=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||n()},d=function(){t._stream=null;var e=u(t._header.size);e?t._parse(e,h):t._parse(512,v),t._locked||n()},h=function(){t._buffer.consume(u(t._header.size)),t._parse(512,v),n()},f=function(){var e=t._header.size;t._paxGlobal=o.decodePax(r.slice(0,e)),r.consume(e),d()},m=function(){var e=t._header.size;t._pax=o.decodePax(r.slice(0,e)),t._paxGlobal&&(t._pax=Object.assign({},t._paxGlobal,t._pax)),r.consume(e),d()},g=function(){var n=t._header.size;this._gnuLongPath=o.decodeLongPath(r.slice(0,n),e.filenameEncoding),r.consume(n),d()},y=function(){var n=t._header.size;this._gnuLongLinkPath=o.decodeLongPath(r.slice(0,n),e.filenameEncoding),r.consume(n),d()},v=function(){var i,a=t._offset;try{i=t._header=o.decode(r.slice(0,512),e.filenameEncoding,e.allowUnknownFormat)}catch(e){t.emit("error",e)}return r.consume(512),i?"gnu-long-path"===i.type?(t._parse(i.size,g),void n()):"gnu-long-link-path"===i.type?(t._parse(i.size,y),void n()):"pax-global-header"===i.type?(t._parse(i.size,f),void n()):"pax-header"===i.type?(t._parse(i.size,m),void n()):(t._gnuLongPath&&(i.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(i.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=i=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e}(i,t._pax),t._pax=null),t._locked=!0,i.size&&"directory"!==i.type?(t._stream=new l(t,a),t.emit("entry",i,t._stream,s),t._parse(i.size,d),void n()):(t._parse(512,v),void t.emit("entry",i,function(e,t){var r=new l(e,t);return r.end(),r}(t,a),s))):(t._parse(512,v),void n())};this._onheader=v,this._parse(512,v)};n.inherits(p,a),p.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},p.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},p.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=c,this._overflow?this._write(this._overflow,void 0,e):e()}},p.prototype._write=function(e,t,r){if(!this._destroyed){var n=this._stream,i=this._buffer,o=this._missing;if(e.length&&(this._partial=!0),e.length<o)return this._missing-=e.length,this._overflow=null,n?n.write(e,r):(i.append(e),r());this._cb=r,this._missing=0;var a=null;e.length>o&&(a=e.slice(o),e=e.slice(0,o)),n?n.end(e):i.append(e),this._overflow=a,this._onparse()}},p.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},e.exports=p},3481:function(e,t){var r=Buffer.alloc,n="0".charCodeAt(0),i=Buffer.from("ustar\0","binary"),o=Buffer.from("00","binary"),a=Buffer.from("ustar ","binary"),s=Buffer.from(" \0","binary"),c=parseInt("7777",8),u=function(e,t,r,n){for(;r<n;r++)if(e[r]===t)return r;return n},l=function(e){for(var t=256,r=0;r<148;r++)t+=e[r];for(var n=156;n<512;n++)t+=e[n];return t},p=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "},d=function(e,t,r){if(128&(e=e.slice(t,t+r))[t=0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var r=[],n=e.length-1;n>0;n--){var i=e[n];t?r.push(i):r.push(255-i)}var o=0,a=r.length;for(n=0;n<a;n++)o+=r[n]*Math.pow(256,n);return t?o:-1*o}(e);for(;t<e.length&&32===e[t];)t++;for(var n=(i=u(e,32,t,e.length),o=e.length,a=e.length,"number"!=typeof i?a:(i=~~i)>=o?o:i>=0||(i+=o)>=0?i:0);t<n&&0===e[t];)t++;return n===t?0:parseInt(e.slice(t,n).toString(),8);var i,o,a},h=function(e,t,r,n){return e.slice(t,u(e,0,t,t+r)).toString(n)},f=function(e){var t=Buffer.byteLength(e),r=Math.floor(Math.log(t)/Math.log(10))+1;return t+r>=Math.pow(10,r)&&r++,t+r+e};t.decodeLongPath=function(e,t){return h(e,0,e.length,t)},t.encodePax=function(e){var t="";e.name&&(t+=f(" path="+e.name+"\n")),e.linkname&&(t+=f(" linkpath="+e.linkname+"\n"));var r=e.pax;if(r)for(var n in r)t+=f(" "+n+"="+r[n]+"\n");return Buffer.from(t)},t.decodePax=function(e){for(var t={};e.length;){for(var r=0;r<e.length&&32!==e[r];)r++;var n=parseInt(e.slice(0,r).toString(),10);if(!n)return t;var i=e.slice(r+1,n-1).toString(),o=i.indexOf("=");if(-1===o)return t;t[i.slice(0,o)]=i.slice(o+1),e=e.slice(n)}return t},t.encode=function(e){var t=r(512),a=e.name,s="";if(5===e.typeflag&&"/"!==a[a.length-1]&&(a+="/"),Buffer.byteLength(a)!==a.length)return null;for(;Buffer.byteLength(a)>100;){var u=a.indexOf("/");if(-1===u)return null;s+=s?"/"+a.slice(0,u):a.slice(0,u),a=a.slice(u+1)}return Buffer.byteLength(a)>100||Buffer.byteLength(s)>155||e.linkname&&Buffer.byteLength(e.linkname)>100?null:(t.write(a),t.write(p(e.mode&c,6),100),t.write(p(e.uid,6),108),t.write(p(e.gid,6),116),t.write(p(e.size,11),124),t.write(p(e.mtime.getTime()/1e3|0,11),136),t[156]=n+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&t.write(e.linkname,157),i.copy(t,257),o.copy(t,263),e.uname&&t.write(e.uname,265),e.gname&&t.write(e.gname,297),t.write(p(e.devmajor||0,6),329),t.write(p(e.devminor||0,6),337),s&&t.write(s,345),t.write(p(l(t),6),148),t)},t.decode=function(e,t,r){var o=0===e[156]?0:e[156]-n,c=h(e,0,100,t),u=d(e,100,8),p=d(e,108,8),f=d(e,116,8),m=d(e,124,12),g=d(e,136,12),y=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(o),v=0===e[157]?null:h(e,157,100,t),b=h(e,265,32),E=h(e,297,32),w=d(e,329,8),A=d(e,337,8),x=l(e);if(256===x)return null;if(x!==d(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(0===i.compare(e,257,263))e[345]&&(c=h(e,345,155,t)+"/"+c);else if(0===a.compare(e,257,263)&&0===s.compare(e,263,265));else if(!r)throw new Error("Invalid tar header: unknown format.");return 0===o&&c&&"/"===c[c.length-1]&&(o=5),{name:c,mode:u,uid:p,gid:f,size:m,mtime:new Date(1e3*g),type:y,linkname:v,uname:b,gname:E,devmajor:w,devminor:A}}},4231:function(e,t,r){t.extract=r(2414),t.pack=r(446)},446:function(e,t,r){var n=r(2170),i=r(6611),o=r(2017),a=Buffer.alloc,s=r(4198).Readable,c=r(4198).Writable,u=r(3193).StringDecoder,l=r(3481),p=parseInt("755",8),d=parseInt("644",8),h=a(1024),f=function(){},m=function(e,t){(t&=511)&&e.push(h.slice(0,512-t))},g=function(e){c.call(this),this.written=0,this._to=e,this._destroyed=!1};o(g,c),g.prototype._write=function(e,t,r){if(this.written+=e.length,this._to.push(e))return r();this._to._drain=r},g.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var y=function(){c.call(this),this.linkname="",this._decoder=new u("utf-8"),this._destroyed=!1};o(y,c),y.prototype._write=function(e,t,r){this.linkname+=this._decoder.write(e),r()},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var v=function(){c.call(this),this._destroyed=!1};o(v,c),v.prototype._write=function(e,t,r){r(new Error("No body allowed for this entry"))},v.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var b=function(e){if(!(this instanceof b))return new b(e);s.call(this,e),this._drain=f,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};o(b,s),b.prototype.entry=function(e,t,r){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof t&&(r=t,t=null),r||(r=f);var o=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&n.S_IFMT){case n.S_IFBLK:return"block-device";case n.S_IFCHR:return"character-device";case n.S_IFDIR:return"directory";case n.S_IFIFO:return"fifo";case n.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?p:d),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=Buffer.from(t)),Buffer.isBuffer(t)){e.size=t.length,this._encode(e);var a=this.push(t);return m(o,e.size),a?process.nextTick(r):this._drain=r,new v}if("symlink"===e.type&&!e.linkname){var s=new y;return i(s,(function(t){if(t)return o.destroy(),r(t);e.linkname=s.linkname,o._encode(e),r()})),s}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return process.nextTick(r),new v;var c=new g(this);return this._stream=c,i(c,(function(t){return o._stream=null,t?(o.destroy(),r(t)):c.written!==e.size?(o.destroy(),r(new Error("size mismatch"))):(m(o,e.size),o._finalizing&&o.finalize(),void r())})),c}},b.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(h),this.push(null))},b.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},b.prototype._encode=function(e){if(!e.pax){var t=l.encode(e);if(t)return void this.push(t)}this._encodePax(e)},b.prototype._encodePax=function(e){var t=l.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),r={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(l.encode(r)),this.push(t),m(this,t.length),r.size=e.size,r.type=e.type,this.push(l.encode(r))},b.prototype._read=function(e){var t=this._drain;this._drain=f,t()},e.exports=b},6963:function(e){"use strict";e.exports=function(e){return e.split(" ").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join("").replace(/[^ _0-9a-z]/gi,"")}},8947:function(e,t,r){!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=t(),s=t([1]),c=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function f(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function m(e,t,r,n,i){var o,a=0;for(o=0;o<i;o++)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}function g(e,t,r,n){return m(e,t,r,n,16)}function y(e,t,r,n){return m(e,t,r,n,32)}function v(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,p=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,E=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=o,A=a,x=s,S=c,_=u,k=l,I=p,T=d,C=h,O=f,N=m,R=g,P=y,L=v,M=b,q=E,D=0;D<20;D+=2)w^=(i=(P^=(i=(C^=(i=(_^=(i=w+P|0)<<7|i>>>25)+w|0)<<9|i>>>23)+_|0)<<13|i>>>19)+C|0)<<18|i>>>14,k^=(i=(A^=(i=(L^=(i=(O^=(i=k+A|0)<<7|i>>>25)+k|0)<<9|i>>>23)+O|0)<<13|i>>>19)+L|0)<<18|i>>>14,N^=(i=(I^=(i=(x^=(i=(M^=(i=N+I|0)<<7|i>>>25)+N|0)<<9|i>>>23)+M|0)<<13|i>>>19)+x|0)<<18|i>>>14,q^=(i=(R^=(i=(T^=(i=(S^=(i=q+R|0)<<7|i>>>25)+q|0)<<9|i>>>23)+S|0)<<13|i>>>19)+T|0)<<18|i>>>14,w^=(i=(S^=(i=(x^=(i=(A^=(i=w+S|0)<<7|i>>>25)+w|0)<<9|i>>>23)+A|0)<<13|i>>>19)+x|0)<<18|i>>>14,k^=(i=(_^=(i=(T^=(i=(I^=(i=k+_|0)<<7|i>>>25)+k|0)<<9|i>>>23)+I|0)<<13|i>>>19)+T|0)<<18|i>>>14,N^=(i=(O^=(i=(C^=(i=(R^=(i=N+O|0)<<7|i>>>25)+N|0)<<9|i>>>23)+R|0)<<13|i>>>19)+C|0)<<18|i>>>14,q^=(i=(M^=(i=(L^=(i=(P^=(i=q+M|0)<<7|i>>>25)+q|0)<<9|i>>>23)+P|0)<<13|i>>>19)+L|0)<<18|i>>>14;w=w+o|0,A=A+a|0,x=x+s|0,S=S+c|0,_=_+u|0,k=k+l|0,I=I+p|0,T=T+d|0,C=C+h|0,O=O+f|0,N=N+m|0,R=R+g|0,P=P+y|0,L=L+v|0,M=M+b|0,q=q+E|0,e[0]=w>>>0&255,e[1]=w>>>8&255,e[2]=w>>>16&255,e[3]=w>>>24&255,e[4]=A>>>0&255,e[5]=A>>>8&255,e[6]=A>>>16&255,e[7]=A>>>24&255,e[8]=x>>>0&255,e[9]=x>>>8&255,e[10]=x>>>16&255,e[11]=x>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=_>>>0&255,e[17]=_>>>8&255,e[18]=_>>>16&255,e[19]=_>>>24&255,e[20]=k>>>0&255,e[21]=k>>>8&255,e[22]=k>>>16&255,e[23]=k>>>24&255,e[24]=I>>>0&255,e[25]=I>>>8&255,e[26]=I>>>16&255,e[27]=I>>>24&255,e[28]=T>>>0&255,e[29]=T>>>8&255,e[30]=T>>>16&255,e[31]=T>>>24&255,e[32]=C>>>0&255,e[33]=C>>>8&255,e[34]=C>>>16&255,e[35]=C>>>24&255,e[36]=O>>>0&255,e[37]=O>>>8&255,e[38]=O>>>16&255,e[39]=O>>>24&255,e[40]=N>>>0&255,e[41]=N>>>8&255,e[42]=N>>>16&255,e[43]=N>>>24&255,e[44]=R>>>0&255,e[45]=R>>>8&255,e[46]=R>>>16&255,e[47]=R>>>24&255,e[48]=P>>>0&255,e[49]=P>>>8&255,e[50]=P>>>16&255,e[51]=P>>>24&255,e[52]=L>>>0&255,e[53]=L>>>8&255,e[54]=L>>>16&255,e[55]=L>>>24&255,e[56]=M>>>0&255,e[57]=M>>>8&255,e[58]=M>>>16&255,e[59]=M>>>24&255,e[60]=q>>>0&255,e[61]=q>>>8&255,e[62]=q>>>16&255,e[63]=q>>>24&255}(e,t,r,n)}function b(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,p=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,d=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,E=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)o^=(i=(y^=(i=(h^=(i=(u^=(i=o+y|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,l^=(i=(a^=(i=(v^=(i=(f^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+f|0)<<13|i>>>19)+v|0)<<18|i>>>14,m^=(i=(p^=(i=(s^=(i=(b^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+b|0)<<13|i>>>19)+s|0)<<18|i>>>14,E^=(i=(g^=(i=(d^=(i=(c^=(i=E+g|0)<<7|i>>>25)+E|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,o^=(i=(c^=(i=(s^=(i=(a^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,l^=(i=(u^=(i=(d^=(i=(p^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+d|0)<<18|i>>>14,m^=(i=(f^=(i=(h^=(i=(g^=(i=m+f|0)<<7|i>>>25)+m|0)<<9|i>>>23)+g|0)<<13|i>>>19)+h|0)<<18|i>>>14,E^=(i=(b^=(i=(v^=(i=(y^=(i=E+b|0)<<7|i>>>25)+E|0)<<9|i>>>23)+y|0)<<13|i>>>19)+v|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=E>>>0&255,e[13]=E>>>8&255,e[14]=E>>>16&255,e[15]=E>>>24&255,e[16]=p>>>0&255,e[17]=p>>>8&255,e[18]=p>>>16&255,e[19]=p>>>24&255,e[20]=d>>>0&255,e[21]=d>>>8&255,e[22]=d>>>16&255,e[23]=d>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=f>>>0&255,e[29]=f>>>8&255,e[30]=f>>>16&255,e[31]=f>>>24&255}(e,t,r,n)}var E=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(e,t,r,n,i,o,a){var s,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(v(l,u,a,E),c=0;c<64;c++)e[t+c]=r[n+c]^l[c];for(s=1,c=8;c<16;c++)s=s+(255&u[c])|0,u[c]=255&s,s>>>=8;i-=64,t+=64,n+=64}if(i>0)for(v(l,u,a,E),c=0;c<i;c++)e[t+c]=r[n+c]^l[c];return 0}function A(e,t,r,n,i){var o,a,s=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=n[a];for(;r>=64;){for(v(c,s,i,E),a=0;a<64;a++)e[t+a]=c[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(v(c,s,i,E),a=0;a<r;a++)e[t+a]=c[a];return 0}function x(e,t,r,n,i){var o=new Uint8Array(32);b(o,n,i,E);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=n[s+16];return A(e,t,r,a,o)}function S(e,t,r,n,i,o,a){var s=new Uint8Array(32);b(s,o,a,E);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return w(e,t,r,n,i,c,s)}var _=function(e){var t,r,n,i,o,a,s,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|s<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function k(e,t,r,n,i,o){var a=new _(o);return a.update(r,n,i),a.finish(e,t),0}function I(e,t,r,n,i,o){var a=new Uint8Array(16);return k(a,0,r,n,i,o),g(e,t,a,0)}function T(e,t,r,n,i){var o;if(r<32)return-1;for(S(e,0,t,0,r,n,i),k(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function C(e,t,r,n,i){var o,a=new Uint8Array(32);if(r<32)return-1;if(x(a,0,32,n,i),0!==I(t,16,t,32,r-32,a))return-1;for(S(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function O(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function N(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function R(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function P(e,r){var n,i,o,a=t(),s=t();for(n=0;n<16;n++)s[n]=r[n];for(N(s),N(s),N(s),i=0;i<2;i++){for(a[0]=s[0]-65517,n=1;n<15;n++)a[n]=s[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,R(s,a,1-o)}for(n=0;n<16;n++)e[2*n]=255&s[n],e[2*n+1]=s[n]>>8}function L(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return P(r,e),P(n,t),y(r,0,n,0)}function M(e){var t=new Uint8Array(32);return P(t,e),1&t[0]}function q(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function D(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function B(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function j(e,t,r){var n,i,o=0,a=0,s=0,c=0,u=0,l=0,p=0,d=0,h=0,f=0,m=0,g=0,y=0,v=0,b=0,E=0,w=0,A=0,x=0,S=0,_=0,k=0,I=0,T=0,C=0,O=0,N=0,R=0,P=0,L=0,M=0,q=r[0],D=r[1],B=r[2],j=r[3],U=r[4],F=r[5],z=r[6],H=r[7],Q=r[8],G=r[9],K=r[10],$=r[11],W=r[12],V=r[13],Y=r[14],X=r[15];o+=(n=t[0])*q,a+=n*D,s+=n*B,c+=n*j,u+=n*U,l+=n*F,p+=n*z,d+=n*H,h+=n*Q,f+=n*G,m+=n*K,g+=n*$,y+=n*W,v+=n*V,b+=n*Y,E+=n*X,a+=(n=t[1])*q,s+=n*D,c+=n*B,u+=n*j,l+=n*U,p+=n*F,d+=n*z,h+=n*H,f+=n*Q,m+=n*G,g+=n*K,y+=n*$,v+=n*W,b+=n*V,E+=n*Y,w+=n*X,s+=(n=t[2])*q,c+=n*D,u+=n*B,l+=n*j,p+=n*U,d+=n*F,h+=n*z,f+=n*H,m+=n*Q,g+=n*G,y+=n*K,v+=n*$,b+=n*W,E+=n*V,w+=n*Y,A+=n*X,c+=(n=t[3])*q,u+=n*D,l+=n*B,p+=n*j,d+=n*U,h+=n*F,f+=n*z,m+=n*H,g+=n*Q,y+=n*G,v+=n*K,b+=n*$,E+=n*W,w+=n*V,A+=n*Y,x+=n*X,u+=(n=t[4])*q,l+=n*D,p+=n*B,d+=n*j,h+=n*U,f+=n*F,m+=n*z,g+=n*H,y+=n*Q,v+=n*G,b+=n*K,E+=n*$,w+=n*W,A+=n*V,x+=n*Y,S+=n*X,l+=(n=t[5])*q,p+=n*D,d+=n*B,h+=n*j,f+=n*U,m+=n*F,g+=n*z,y+=n*H,v+=n*Q,b+=n*G,E+=n*K,w+=n*$,A+=n*W,x+=n*V,S+=n*Y,_+=n*X,p+=(n=t[6])*q,d+=n*D,h+=n*B,f+=n*j,m+=n*U,g+=n*F,y+=n*z,v+=n*H,b+=n*Q,E+=n*G,w+=n*K,A+=n*$,x+=n*W,S+=n*V,_+=n*Y,k+=n*X,d+=(n=t[7])*q,h+=n*D,f+=n*B,m+=n*j,g+=n*U,y+=n*F,v+=n*z,b+=n*H,E+=n*Q,w+=n*G,A+=n*K,x+=n*$,S+=n*W,_+=n*V,k+=n*Y,I+=n*X,h+=(n=t[8])*q,f+=n*D,m+=n*B,g+=n*j,y+=n*U,v+=n*F,b+=n*z,E+=n*H,w+=n*Q,A+=n*G,x+=n*K,S+=n*$,_+=n*W,k+=n*V,I+=n*Y,T+=n*X,f+=(n=t[9])*q,m+=n*D,g+=n*B,y+=n*j,v+=n*U,b+=n*F,E+=n*z,w+=n*H,A+=n*Q,x+=n*G,S+=n*K,_+=n*$,k+=n*W,I+=n*V,T+=n*Y,C+=n*X,m+=(n=t[10])*q,g+=n*D,y+=n*B,v+=n*j,b+=n*U,E+=n*F,w+=n*z,A+=n*H,x+=n*Q,S+=n*G,_+=n*K,k+=n*$,I+=n*W,T+=n*V,C+=n*Y,O+=n*X,g+=(n=t[11])*q,y+=n*D,v+=n*B,b+=n*j,E+=n*U,w+=n*F,A+=n*z,x+=n*H,S+=n*Q,_+=n*G,k+=n*K,I+=n*$,T+=n*W,C+=n*V,O+=n*Y,N+=n*X,y+=(n=t[12])*q,v+=n*D,b+=n*B,E+=n*j,w+=n*U,A+=n*F,x+=n*z,S+=n*H,_+=n*Q,k+=n*G,I+=n*K,T+=n*$,C+=n*W,O+=n*V,N+=n*Y,R+=n*X,v+=(n=t[13])*q,b+=n*D,E+=n*B,w+=n*j,A+=n*U,x+=n*F,S+=n*z,_+=n*H,k+=n*Q,I+=n*G,T+=n*K,C+=n*$,O+=n*W,N+=n*V,R+=n*Y,P+=n*X,b+=(n=t[14])*q,E+=n*D,w+=n*B,A+=n*j,x+=n*U,S+=n*F,_+=n*z,k+=n*H,I+=n*Q,T+=n*G,C+=n*K,O+=n*$,N+=n*W,R+=n*V,P+=n*Y,L+=n*X,E+=(n=t[15])*q,a+=38*(A+=n*B),s+=38*(x+=n*j),c+=38*(S+=n*U),u+=38*(_+=n*F),l+=38*(k+=n*z),p+=38*(I+=n*H),d+=38*(T+=n*Q),h+=38*(C+=n*G),f+=38*(O+=n*K),m+=38*(N+=n*$),g+=38*(R+=n*W),y+=38*(P+=n*V),v+=38*(L+=n*Y),b+=38*(M+=n*X),o=(n=(o+=38*(w+=n*D))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),E=(n=E+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=c,e[4]=u,e[5]=l,e[6]=p,e[7]=d,e[8]=h,e[9]=f,e[10]=m,e[11]=g,e[12]=y,e[13]=v,e[14]=b,e[15]=E}function U(e,t){j(e,t,t)}function F(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)U(i,i),2!==n&&4!==n&&j(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function z(e,r,n){var i,o,a=new Uint8Array(32),s=new Float64Array(80),u=t(),l=t(),p=t(),d=t(),h=t(),f=t();for(o=0;o<31;o++)a[o]=r[o];for(a[31]=127&r[31]|64,a[0]&=248,q(s,n),o=0;o<16;o++)l[o]=s[o],d[o]=u[o]=p[o]=0;for(u[0]=d[0]=1,o=254;o>=0;--o)R(u,l,i=a[o>>>3]>>>(7&o)&1),R(p,d,i),D(h,u,p),B(u,u,p),D(p,l,d),B(l,l,d),U(d,h),U(f,u),j(u,p,u),j(p,l,h),D(h,u,p),B(u,u,p),U(l,u),B(p,d,f),j(u,p,c),D(u,u,d),j(p,p,u),j(u,d,f),j(d,l,s),U(l,h),R(u,l,i),R(p,d,i);for(o=0;o<16;o++)s[o+16]=u[o],s[o+32]=p[o],s[o+48]=l[o],s[o+64]=d[o];var m=s.subarray(32),g=s.subarray(16);return F(m,m),j(g,g,m),P(e,g),0}function H(e,t){return z(e,t,o)}function Q(e,t){return n(t,32),H(e,t)}function G(e,t,r){var n=new Uint8Array(32);return z(n,r,t),b(e,i,n,E)}_.prototype.blocks=function(e,t,r){for(var n,i,o,a,s,c,u,l,p,d,h,f,m,g,y,v,b,E,w,A=this.fin?0:2048,x=this.h[0],S=this.h[1],_=this.h[2],k=this.h[3],I=this.h[4],T=this.h[5],C=this.h[6],O=this.h[7],N=this.h[8],R=this.h[9],P=this.r[0],L=this.r[1],M=this.r[2],q=this.r[3],D=this.r[4],B=this.r[5],j=this.r[6],U=this.r[7],F=this.r[8],z=this.r[9];r>=16;)d=p=0,d+=(x+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*P,d+=(S+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*z),d+=(_+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*F),d+=(k+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*U),p=(d+=(I+=8191&(a>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*j))>>>13,d&=8191,d+=(T+=s>>>1&8191)*(5*B),d+=(C+=8191&(s>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*D),d+=(O+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*q),d+=(N+=8191&(u>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*M),h=p+=(d+=(R+=l>>>5|A)*(5*L))>>>13,h+=x*L,h+=S*P,h+=_*(5*z),h+=k*(5*F),p=(h+=I*(5*U))>>>13,h&=8191,h+=T*(5*j),h+=C*(5*B),h+=O*(5*D),h+=N*(5*q),p+=(h+=R*(5*M))>>>13,h&=8191,f=p,f+=x*M,f+=S*L,f+=_*P,f+=k*(5*z),p=(f+=I*(5*F))>>>13,f&=8191,f+=T*(5*U),f+=C*(5*j),f+=O*(5*B),f+=N*(5*D),m=p+=(f+=R*(5*q))>>>13,m+=x*q,m+=S*M,m+=_*L,m+=k*P,p=(m+=I*(5*z))>>>13,m&=8191,m+=T*(5*F),m+=C*(5*U),m+=O*(5*j),m+=N*(5*B),g=p+=(m+=R*(5*D))>>>13,g+=x*D,g+=S*q,g+=_*M,g+=k*L,p=(g+=I*P)>>>13,g&=8191,g+=T*(5*z),g+=C*(5*F),g+=O*(5*U),g+=N*(5*j),y=p+=(g+=R*(5*B))>>>13,y+=x*B,y+=S*D,y+=_*q,y+=k*M,p=(y+=I*L)>>>13,y&=8191,y+=T*P,y+=C*(5*z),y+=O*(5*F),y+=N*(5*U),v=p+=(y+=R*(5*j))>>>13,v+=x*j,v+=S*B,v+=_*D,v+=k*q,p=(v+=I*M)>>>13,v&=8191,v+=T*L,v+=C*P,v+=O*(5*z),v+=N*(5*F),b=p+=(v+=R*(5*U))>>>13,b+=x*U,b+=S*j,b+=_*B,b+=k*D,p=(b+=I*q)>>>13,b&=8191,b+=T*M,b+=C*L,b+=O*P,b+=N*(5*z),E=p+=(b+=R*(5*F))>>>13,E+=x*F,E+=S*U,E+=_*j,E+=k*B,p=(E+=I*D)>>>13,E&=8191,E+=T*q,E+=C*M,E+=O*L,E+=N*P,w=p+=(E+=R*(5*z))>>>13,w+=x*z,w+=S*F,w+=_*U,w+=k*j,p=(w+=I*B)>>>13,w&=8191,w+=T*D,w+=C*q,w+=O*M,w+=N*L,x=d=8191&(p=(p=((p+=(w+=R*P)>>>13)<<2)+p|0)+(d&=8191)|0),S=h+=p>>>=13,_=f&=8191,k=m&=8191,I=g&=8191,T=y&=8191,C=v&=8191,O=b&=8191,N=E&=8191,R=w&=8191,t+=16,r-=16;this.h[0]=x,this.h[1]=S,this.h[2]=_,this.h[3]=k,this.h[4]=I,this.h[5]=T,this.h[6]=C,this.h[7]=O,this.h[8]=N,this.h[9]=R},_.prototype.finish=function(e,t){var r,n,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+r,r=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^r)-1,o=0;o<10;o++)a[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},_.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var K=T,$=C,W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function V(e,t,r,n){for(var i,o,a,s,c,u,l,p,d,h,f,m,g,y,v,b,E,w,A,x,S,_,k,I,T,C,O=new Int32Array(16),N=new Int32Array(16),R=e[0],P=e[1],L=e[2],M=e[3],q=e[4],D=e[5],B=e[6],j=e[7],U=t[0],F=t[1],z=t[2],H=t[3],Q=t[4],G=t[5],K=t[6],$=t[7],V=0;n>=128;){for(A=0;A<16;A++)x=8*A+V,O[A]=r[x+0]<<24|r[x+1]<<16|r[x+2]<<8|r[x+3],N[A]=r[x+4]<<24|r[x+5]<<16|r[x+6]<<8|r[x+7];for(A=0;A<80;A++)if(i=R,o=P,a=L,s=M,c=q,u=D,l=B,d=U,h=F,f=z,m=H,g=Q,y=G,v=K,k=65535&(_=$),I=_>>>16,T=65535&(S=j),C=S>>>16,k+=65535&(_=(Q>>>14|q<<18)^(Q>>>18|q<<14)^(q>>>9|Q<<23)),I+=_>>>16,T+=65535&(S=(q>>>14|Q<<18)^(q>>>18|Q<<14)^(Q>>>9|q<<23)),C+=S>>>16,k+=65535&(_=Q&G^~Q&K),I+=_>>>16,T+=65535&(S=q&D^~q&B),C+=S>>>16,S=W[2*A],k+=65535&(_=W[2*A+1]),I+=_>>>16,T+=65535&S,C+=S>>>16,S=O[A%16],I+=(_=N[A%16])>>>16,T+=65535&S,C+=S>>>16,T+=(I+=(k+=65535&_)>>>16)>>>16,k=65535&(_=w=65535&k|I<<16),I=_>>>16,T=65535&(S=E=65535&T|(C+=T>>>16)<<16),C=S>>>16,k+=65535&(_=(U>>>28|R<<4)^(R>>>2|U<<30)^(R>>>7|U<<25)),I+=_>>>16,T+=65535&(S=(R>>>28|U<<4)^(U>>>2|R<<30)^(U>>>7|R<<25)),C+=S>>>16,I+=(_=U&F^U&z^F&z)>>>16,T+=65535&(S=R&P^R&L^P&L),C+=S>>>16,p=65535&(T+=(I+=(k+=65535&_)>>>16)>>>16)|(C+=T>>>16)<<16,b=65535&k|I<<16,k=65535&(_=m),I=_>>>16,T=65535&(S=s),C=S>>>16,I+=(_=w)>>>16,T+=65535&(S=E),C+=S>>>16,P=i,L=o,M=a,q=s=65535&(T+=(I+=(k+=65535&_)>>>16)>>>16)|(C+=T>>>16)<<16,D=c,B=u,j=l,R=p,F=d,z=h,H=f,Q=m=65535&k|I<<16,G=g,K=y,$=v,U=b,A%16==15)for(x=0;x<16;x++)S=O[x],k=65535&(_=N[x]),I=_>>>16,T=65535&S,C=S>>>16,S=O[(x+9)%16],k+=65535&(_=N[(x+9)%16]),I+=_>>>16,T+=65535&S,C+=S>>>16,E=O[(x+1)%16],k+=65535&(_=((w=N[(x+1)%16])>>>1|E<<31)^(w>>>8|E<<24)^(w>>>7|E<<25)),I+=_>>>16,T+=65535&(S=(E>>>1|w<<31)^(E>>>8|w<<24)^E>>>7),C+=S>>>16,E=O[(x+14)%16],I+=(_=((w=N[(x+14)%16])>>>19|E<<13)^(E>>>29|w<<3)^(w>>>6|E<<26))>>>16,T+=65535&(S=(E>>>19|w<<13)^(w>>>29|E<<3)^E>>>6),C+=S>>>16,C+=(T+=(I+=(k+=65535&_)>>>16)>>>16)>>>16,O[x]=65535&T|C<<16,N[x]=65535&k|I<<16;k=65535&(_=U),I=_>>>16,T=65535&(S=R),C=S>>>16,S=e[0],I+=(_=t[0])>>>16,T+=65535&S,C+=S>>>16,C+=(T+=(I+=(k+=65535&_)>>>16)>>>16)>>>16,e[0]=R=65535&T|C<<16,t[0]=U=65535&k|I<<16,k=65535&(_=F),I=_>>>16,T=65535&(S=P),C=S>>>16,S=e[1],I+=(_=t[1])>>>16,T+=65535&S,C+=S>>>16,C+=(T+=(I+=(k+=65535&_)>>>16)>>>16)>>>16,e[1]=P=65535&T|C<<16,t[1]=F=65535&k|I<<16,k=65535&(_=z),I=_>>>16,T=65535&(S=L),C=S>>>16,S=e[2],I+=(_=t[2])>>>16,T+=65535&S,C+=S>>>16,C+=(T+=(I+=(k+=65535&_)>>>16)>>>16)>>>16,e[2]=L=65535&T|C<<16,t[2]=z=65535&k|I<<16,k=65535&(_=H),I=_>>>16,T=65535&(S=M),C=S>>>16,S=e[3],I+=(_=t[3])>>>16,T+=65535&S,C+=S>>>16,C+=(T+=(I+=(k+=65535&_)>>>16)>>>16)>>>16,e[3]=M=65535&T|C<<16,t[3]=H=65535&k|I<<16,k=65535&(_=Q),I=_>>>16,T=65535&(S=q),C=S>>>16,S=e[4],I+=(_=t[4])>>>16,T+=65535&S,C+=S>>>16,C+=(T+=(I+=(k+=65535&_)>>>16)>>>16)>>>16,e[4]=q=65535&T|C<<16,t[4]=Q=65535&k|I<<16,k=65535&(_=G),I=_>>>16,T=65535&(S=D),C=S>>>16,S=e[5],I+=(_=t[5])>>>16,T+=65535&S,C+=S>>>16,C+=(T+=(I+=(k+=65535&_)>>>16)>>>16)>>>16,e[5]=D=65535&T|C<<16,t[5]=G=65535&k|I<<16,k=65535&(_=K),I=_>>>16,T=65535&(S=B),C=S>>>16,S=e[6],I+=(_=t[6])>>>16,T+=65535&S,C+=S>>>16,C+=(T+=(I+=(k+=65535&_)>>>16)>>>16)>>>16,e[6]=B=65535&T|C<<16,t[6]=K=65535&k|I<<16,k=65535&(_=$),I=_>>>16,T=65535&(S=j),C=S>>>16,S=e[7],I+=(_=t[7])>>>16,T+=65535&S,C+=S>>>16,C+=(T+=(I+=(k+=65535&_)>>>16)>>>16)>>>16,e[7]=j=65535&T|C<<16,t[7]=$=65535&k|I<<16,V+=128,n-=128}return n}function Y(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,V(i,o,t,r),r%=128,n=0;n<r;n++)a[n]=t[s-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,f(a,r-8,s/536870912|0,s<<3),V(i,o,a,r),n=0;n<8;n++)f(e,8*n,i[n],o[n]);return 0}function X(e,r){var n=t(),i=t(),o=t(),a=t(),s=t(),c=t(),u=t(),p=t(),d=t();B(n,e[1],e[0]),B(d,r[1],r[0]),j(n,n,d),D(i,e[0],e[1]),D(d,r[0],r[1]),j(i,i,d),j(o,e[3],r[3]),j(o,o,l),j(a,e[2],r[2]),D(a,a,a),B(s,i,n),B(c,a,o),D(u,a,o),D(p,i,n),j(e[0],s,c),j(e[1],p,u),j(e[2],u,c),j(e[3],s,p)}function J(e,t,r){var n;for(n=0;n<4;n++)R(e[n],t[n],r)}function Z(e,r){var n=t(),i=t(),o=t();F(o,r[2]),j(n,r[0],o),j(i,r[1],o),P(e,i),e[31]^=M(n)<<7}function ee(e,t,r){var n,i;for(O(e[0],a),O(e[1],s),O(e[2],s),O(e[3],a),i=255;i>=0;--i)J(e,t,n=r[i/8|0]>>(7&i)&1),X(t,e),X(e,e),J(e,t,n)}function te(e,r){var n=[t(),t(),t(),t()];O(n[0],p),O(n[1],d),O(n[2],s),j(n[3],p,d),ee(e,n,r)}function re(e,r,i){var o,a=new Uint8Array(64),s=[t(),t(),t(),t()];for(i||n(r,32),Y(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,te(s,a),Z(e,s),o=0;o<32;o++)r[o+32]=e[o];return 0}var ne=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ie(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ne[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ne[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ne[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function oe(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;ie(e,r)}function ae(e,r,n,i){var o,a,s=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),p=[t(),t(),t(),t()];Y(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var d=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=s[32+o];for(Y(u,e.subarray(32),n+32),oe(u),te(p,u),Z(e,p),o=32;o<64;o++)e[o]=i[o];for(Y(c,e,n+64),oe(c),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=u[o];for(o=0;o<32;o++)for(a=0;a<32;a++)l[o+a]+=c[o]*s[a];return ie(e.subarray(32),l),d}function se(e,r,n,i){var o,c=new Uint8Array(32),l=new Uint8Array(64),p=[t(),t(),t(),t()],d=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),o=t(),c=t(),l=t(),p=t(),d=t();return O(e[2],s),q(e[1],r),U(o,e[1]),j(c,o,u),B(o,o,e[2]),D(c,e[2],c),U(l,c),U(p,l),j(d,p,l),j(n,d,o),j(n,n,c),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)U(i,i),1!==n&&j(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(n,n),j(n,n,o),j(n,n,c),j(n,n,c),j(e[0],n,c),U(i,e[0]),j(i,i,c),L(i,o)&&j(e[0],e[0],h),U(i,e[0]),j(i,i,c),L(i,o)?-1:(M(e[0])===r[31]>>7&&B(e[0],a,e[0]),j(e[3],e[0],e[1]),0)}(d,i))return-1;for(o=0;o<n;o++)e[o]=r[o];for(o=0;o<32;o++)e[o+32]=i[o];if(Y(l,e,n),oe(l),ee(p,d,l),te(d,r.subarray(32)),X(p,d),Z(c,p),n-=64,y(r,0,c,0)){for(o=0;o<n;o++)e[o]=0;return-1}for(o=0;o<n;o++)e[o]=r[o+64];return n}var ce,ue=64,le=32,pe=64;function de(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function he(){var e,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}function fe(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:S,crypto_stream:x,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:A,crypto_onetimeauth:k,crypto_onetimeauth_verify:I,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:T,crypto_secretbox_open:C,crypto_scalarmult:z,crypto_scalarmult_base:H,crypto_box_beforenm:G,crypto_box_afternm:K,crypto_box:function(e,t,r,n,i,o){var a=new Uint8Array(32);return G(a,i,o),K(e,t,r,n,a)},crypto_box_open:function(e,t,r,n,i,o){var a=new Uint8Array(32);return G(a,i,o),$(e,t,r,n,a)},crypto_box_keypair:Q,crypto_hash:Y,crypto_sign:ae,crypto_sign_keypair:re,crypto_sign_open:se,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ue,crypto_sign_PUBLICKEYBYTES:le,crypto_sign_SECRETKEYBYTES:pe,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},e.util||(e.util={},e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){he(e,t,r),de(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return T(i,n,n.length,t,r),i.subarray(16)},e.secretbox.open=function(e,t,r){he(e,t,r),de(r,t);for(var n=new Uint8Array(16+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+16]=e[o];return!(n.length<32)&&0===C(i,n,n.length,t,r)&&i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(he(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return z(r,e,t),r},e.scalarMult.base=function(e){if(he(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return H(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){he(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return G(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return Q(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(he(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return H(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(he(e,t),t.length!==pe)throw new Error("bad secret key size");var r=new Uint8Array(ue+e.length);return ae(r,e,e.length,t),r},e.sign.open=function(e,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(he(e,t),t.length!==le)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=se(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(ue),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(he(e,t,r),t.length!==ue)throw new Error("bad signature size");if(r.length!==le)throw new Error("bad public key size");var n,i=new Uint8Array(ue+e.length),o=new Uint8Array(ue+e.length);for(n=0;n<ue;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+ue]=e[n];return se(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(le),t=new Uint8Array(pe);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(he(e),e.length!==pe)throw new Error("bad secret key size");for(var t=new Uint8Array(le),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(he(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(le),r=new Uint8Array(pe),n=0;n<32;n++)r[n]=e[n];return re(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=le,e.sign.secretKeyLength=pe,e.sign.seedLength=32,e.sign.signatureLength=ue,e.hash=function(e){he(e);var t=new Uint8Array(64);return Y(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return he(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===m(e,0,t,0,e.length)},e.setPRNG=function(e){n=e},(ce="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&ce.getRandomValues?e.setPRNG((function(e,t){var r,n=new Uint8Array(t);for(r=0;r<t;r+=65536)ce.getRandomValues(n.subarray(r,r+Math.min(t-r,65536)));for(r=0;r<t;r++)e[r]=n[r];fe(n)})):(ce=r(6982))&&ce.randomBytes&&e.setPRNG((function(e,t){var r,n=ce.randomBytes(t);for(r=0;r<t;r++)e[r]=n[r];fe(n)}))}(e.exports?e.exports:self.nacl=self.nacl||{})},1592:function(e,t,r){"use strict";var n=r(864),i=r(6049);function o(e,t){var r,i,o=t,a=function(e){if(!e)return null;try{return function(e){var t=n.parse(e);return t.parameters=void 0,n.format(t)}(e)}catch(e){return null}}(e);if(!a)return!1;if(o&&!Array.isArray(o))for(o=new Array(arguments.length-1),r=0;r<o.length;r++)o[r]=arguments[r+1];if(!o||!o.length)return a;for(r=0;r<o.length;r++)if(c(s(i=o[r]),a))return"+"===i[0]||-1!==i.indexOf("*")?a:i;return!1}function a(e){return void 0!==e.headers["transfer-encoding"]||!isNaN(e.headers["content-length"])}function s(e){if("string"!=typeof e)return!1;switch(e){case"urlencoded":return"application/x-www-form-urlencoded";case"multipart":return"multipart/*"}return"+"===e[0]?"*/*"+e:-1===e.indexOf("/")?i.lookup(e):e}function c(e,t){if(!1===e)return!1;var r=t.split("/"),n=e.split("/");return 2===r.length&&2===n.length&&("*"===n[0]||n[0]===r[0])&&("*+"===n[1].substr(0,2)?n[1].length<=r[1].length+1&&n[1].substr(1)===r[1].substr(1-n[1].length):"*"===n[1]||n[1]===r[1])}e.exports=function(e,t){var r=t;if(!a(e))return null;if(arguments.length>2){r=new Array(arguments.length-1);for(var n=0;n<r.length;n++)r[n]=arguments[n+1]}return o(e.headers["content-type"],r)},e.exports.is=o,e.exports.hasBody=a,e.exports.normalize=s,e.exports.match=c},1170:function(e){"use strict";e.exports=function(e){if(!e)throw new TypeError("argument stream is required");if("function"!=typeof e.unpipe){if(function(e){for(var t=e.listeners("data"),r=0;r<t.length;r++)if("ondata"===t[r].name)return!0;return!1}(e))for(var t,r=e.listeners("close"),n=0;n<r.length;n++)"cleanup"!==(t=r[n]).name&&"onclose"!==t.name||t.call(e)}else e.unpipe()}},7983:function(e,t,r){e.exports=r(9023).deprecate},8127:function(e,t){e.exports=function(e,t){if(e&&t)for(var r in t)e[r]=t[r];return e}},677:function(e){"use strict";e.exports=function(e,t){if(!e||!e.getHeader||!e.setHeader)throw new TypeError("res argument is required");var n=e.getHeader("Vary")||"",i=Array.isArray(n)?n.join(", "):String(n);(n=r(i,t))&&e.setHeader("Vary",n)},e.exports.append=r;var t=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function r(e,r){if("string"!=typeof e)throw new TypeError("header argument is required");if(!r)throw new TypeError("field argument is required");for(var i=Array.isArray(r)?r:n(String(r)),o=0;o<i.length;o++)if(!t.test(i[o]))throw new TypeError("field argument contains an invalid header name");if("*"===e)return e;var a=e,s=n(e.toLowerCase());if(-1!==i.indexOf("*")||-1!==s.indexOf("*"))return"*";for(var c=0;c<i.length;c++){var u=i[c].toLowerCase();-1===s.indexOf(u)&&(s.push(u),a=a?a+", "+i[c]:i[c])}return a}function n(e){for(var t=0,r=[],n=0,i=0,o=e.length;i<o;i++)switch(e.charCodeAt(i)){case 32:n===t&&(n=t=i+1);break;case 44:r.push(e.substring(n,t)),n=t=i+1;break;default:t=i+1}return r.push(e.substring(n,t)),r}},6587:function(e){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),i=e[e.length-1];return"function"==typeof n&&n!==i&&Object.keys(i).forEach((function(e){n[e]=i[e]})),n}}},9031:function(e){"use strict";e.exports=r(5225)},6689:function(e){"use strict";e.exports=r(8203)},2613:function(e){"use strict";e.exports=r(2613)},290:function(e){"use strict";e.exports=r(290)},181:function(e){"use strict";e.exports=r(181)},5317:function(e){"use strict";e.exports=r(5317)},9140:function(e){"use strict";e.exports=r(9140)},6982:function(e){"use strict";e.exports=r(6982)},2250:function(e){"use strict";e.exports=r(2250)},4434:function(e){"use strict";e.exports=r(6261)},9896:function(e){"use strict";e.exports=r(9896)},8611:function(e){"use strict";e.exports=r(8611)},5692:function(e){"use strict";e.exports=r(5692)},9278:function(e){"use strict";e.exports=r(9278)},8161:function(e){"use strict";e.exports=r(8161)},1708:function(e){"use strict";e.exports=r(1708)},7975:function(e){"use strict";e.exports=r(7975)},857:function(e){"use strict";e.exports=r(857)},6928:function(e){"use strict";e.exports=r(6928)},3480:function(e){"use strict";e.exports=r(3480)},2203:function(e){"use strict";e.exports=r(2203)},3193:function(e){"use strict";e.exports=r(3318)},4756:function(e){"use strict";e.exports=r(4756)},2018:function(e){"use strict";e.exports=r(2018)},7016:function(e){"use strict";e.exports=r(7016)},9023:function(e){"use strict";e.exports=r(9023)},3106:function(e){"use strict";e.exports=r(3106)},49:function(){},7530:function(){},4430:function(e,t){"use strict";t.w=void 0,t.w={operationRequestMap:new WeakMap}},2583:function(e,t){"use strict";t.w=void 0,t.w={instrumenterImplementation:void 0}},9834:function(e,t,r){"use strict";function n(e){return(e instanceof Buffer?e:Buffer.from(e.buffer)).toString("base64")}function i(e){return Buffer.from(e,"base64")}r.d(t,{Nl:function(){return Q},fj:function(){return G},rl:function(){return d}});var o="$",a="_",s=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,c=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;function l(e,t){var r,n,i=e.parsedHeaders;if("HEAD"===e.request.method)return Object.assign(Object.assign({},i),{body:e.parsedBody});var o=t&&t.bodyMapper,a=Boolean(null==o?void 0:o.nullable),s=null==o?void 0:o.type.name;if("Stream"===s)return Object.assign(Object.assign({},i),{blobBody:e.blobBody,readableStreamBody:e.readableStreamBody});var c,u,l="Composite"===s&&o.type.modelProperties||{},p=Object.keys(l).some((function(e){return""===l[e].serializedName}));if("Sequence"===s||p){for(var d=null!==(r=e.parsedBody)&&void 0!==r?r:[],h=0,f=Object.keys(l);h<f.length;h++){var m=f[h];l[m].serializedName&&(d[m]=null===(n=e.parsedBody)||void 0===n?void 0:n[m])}if(i)for(var g=0,y=Object.keys(i);g<y.length;g++){var v=y[g];d[v]=i[v]}return!a||e.parsedBody||i||0!==Object.getOwnPropertyNames(l).length?d:null}return function(e){var t=Object.assign(Object.assign({},e.headers),e.body);return e.hasNullableType&&0===Object.getOwnPropertyNames(t).length?e.shouldWrapBody?{body:null}:null:e.shouldWrapBody?Object.assign(Object.assign({},e.headers),{body:e.body}):t}({body:e.parsedBody,headers:i,hasNullableType:a,shouldWrapBody:(c=e.parsedBody,u=s,"Composite"!==u&&"Dictionary"!==u&&("string"==typeof c||"number"==typeof c||"boolean"==typeof c||null!==(null==u?void 0:u.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i))||null==c))})}var p=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];P(this,e),this.modelMappers=t,this.isXML=r}),[{key:"validateConstraints",value:function(e,t,r){var n=function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,n){throw new Error('"'.concat(r,'" with value "').concat(t,'" should satisfy the constraint "').concat(e,'": ').concat(n,"."))}));if(e.constraints&&null!=t){var i=e.constraints,o=i.ExclusiveMaximum,a=i.ExclusiveMinimum,s=i.InclusiveMaximum,c=i.InclusiveMinimum,u=i.MaxItems,l=i.MaxLength,p=i.MinItems,d=i.MinLength,h=i.MultipleOf,f=i.Pattern,m=i.UniqueItems;if(void 0!==o&&t>=o&&n("ExclusiveMaximum",o),void 0!==a&&t<=a&&n("ExclusiveMinimum",a),void 0!==s&&t>s&&n("InclusiveMaximum",s),void 0!==c&&t<c&&n("InclusiveMinimum",c),void 0!==u&&t.length>u&&n("MaxItems",u),void 0!==l&&t.length>l&&n("MaxLength",l),void 0!==p&&t.length<p&&n("MinItems",p),void 0!==d&&t.length<d&&n("MinLength",d),void 0!==h&&t%h!=0&&n("MultipleOf",h),f){var g="string"==typeof f?new RegExp(f):f;"string"==typeof t&&null!==t.match(g)||n("Pattern",f)}m&&t.some((function(e,t,r){return r.indexOf(e)!==t}))&&n("UniqueItems",m)}}},{key:"serialize",value:function(e,t,r){var i,u,l,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{xml:{}},d={xml:{rootName:null!==(i=p.xml.rootName)&&void 0!==i?i:"",includeRoot:null!==(u=p.xml.includeRoot)&&void 0!==u&&u,xmlCharKey:null!==(l=p.xml.xmlCharKey)&&void 0!==l?l:a}},m={},b=e.type.name;r||(r=e.serializedName),null!==b.match(/^Sequence$/i)&&(m=[]),e.isConstant&&(t=e.defaultValue);var A=e.required,x=e.nullable;if(A&&x&&void 0===t)throw new Error("".concat(r," cannot be undefined."));if(A&&!x&&null==t)throw new Error("".concat(r," cannot be null or undefined."));if(!A&&!1===x&&null===t)throw new Error("".concat(r," cannot be null."));return null==t||null!==b.match(/^any$/i)?m=t:null!==b.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/i)?m=function(e,t,r){if(null!=r)if(null!==e.match(/^Number$/i)){if("number"!=typeof r)throw new Error("".concat(t," with value ").concat(r," must be of type number."))}else if(null!==e.match(/^String$/i)){if("string"!=typeof r.valueOf())throw new Error("".concat(t,' with value "').concat(r,'" must be of type string.'))}else if(null!==e.match(/^Uuid$/i)){if("string"!=typeof r.valueOf()||(i=r,!c.test(i)))throw new Error("".concat(t,' with value "').concat(r,'" must be of type string and a valid uuid.'))}else if(null!==e.match(/^Boolean$/i)){if("boolean"!=typeof r)throw new Error("".concat(t," with value ").concat(r," must be of type boolean."))}else if(null!==e.match(/^Stream$/i)){var n=D(r);if(!("string"===n||"function"==typeof r.pipe||"function"==typeof r.tee||r instanceof ArrayBuffer||ArrayBuffer.isView(r)||("function"==typeof Blob||"object"==("undefined"==typeof Blob?"undefined":D(Blob)))&&r instanceof Blob||"function"===n))throw new Error("".concat(t," must be a string, Blob, ArrayBuffer, ArrayBufferView, ReadableStream, or () => ReadableStream."))}var i;return r}(b,r,t):null!==b.match(/^Enum$/i)?m=function(e,t,r){if(!t)throw new Error("Please provide a set of allowedValues to validate ".concat(e," as an Enum Type."));if(!t.some((function(e){return"string"==typeof e.valueOf()?e.toLowerCase()===r.toLowerCase():e===r})))throw new Error("".concat(r," is not a valid value for ").concat(e,". The valid values are: ").concat(JSON.stringify(t),"."));return r}(r,e.type.allowedValues,t):null!==b.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/i)?m=function(e,t,r){if(null!=t)if(null!==e.match(/^Date$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error("".concat(r," must be an instanceof Date or a string in ISO8601 format."));t=t instanceof Date?t.toISOString().substring(0,10):new Date(t).toISOString().substring(0,10)}else if(null!==e.match(/^DateTime$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error("".concat(r," must be an instanceof Date or a string in ISO8601 format."));t=t instanceof Date?t.toISOString():new Date(t).toISOString()}else if(null!==e.match(/^DateTimeRfc1123$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error("".concat(r," must be an instanceof Date or a string in RFC-1123 format."));t=t instanceof Date?t.toUTCString():new Date(t).toUTCString()}else if(null!==e.match(/^UnixTime$/i)){if(!(t instanceof Date||"string"==typeof t.valueOf()&&!isNaN(Date.parse(t))))throw new Error("".concat(r," must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format."));t=function(e){if(e)return"string"==typeof e.valueOf()&&(e=new Date(e)),Math.floor(e.getTime()/1e3)}(t)}else if(null!==e.match(/^TimeSpan$/i)&&!function(e){return s.test(e)}(t))throw new Error("".concat(r,' must be a string in ISO 8601 format. Instead was "').concat(t,'".'));return t}(b,t,r):null!==b.match(/^ByteArray$/i)?m=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error("".concat(e," must be of type Uint8Array."));t=n(t)}return t}(r,t):null!==b.match(/^Base64Url$/i)?m=function(e,t){if(null!=t){if(!(t instanceof Uint8Array))throw new Error("".concat(e," must be of type Uint8Array."));t=function(e){if(e){if(!(e instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");return function(e){for(var t=e.length;t-1>=0&&"="===e[t-1];)--t;return e.substr(0,t)}(n(e)).replace(/\+/g,"-").replace(/\//g,"_")}}(t)}return t}(r,t):null!==b.match(/^Sequence$/i)?m=function(e,t,r,n,i,a){var s;if(!Array.isArray(r))throw new Error("".concat(n," must be of type Array."));var c=t.type.element;if(!c||"object"!=D(c))throw new Error('element" metadata for an Array must be defined in the mapper and it must of type "object" in '.concat(n,"."));"Composite"===c.type.name&&c.type.className&&(c=null!==(s=e.modelMappers[c.type.className])&&void 0!==s?s:c);for(var u=[],l=0;l<r.length;l++){var p=e.serialize(c,r[l],n,a);if(i&&c.xmlNamespace){var d=c.xmlNamespacePrefix?"xmlns:".concat(c.xmlNamespacePrefix):"xmlns";"Composite"===c.type.name?(u[l]=Object.assign({},p),u[l][o]=R({},d,c.xmlNamespace)):(u[l]={},u[l][a.xml.xmlCharKey]=p,u[l][o]=R({},d,c.xmlNamespace))}else u[l]=p}return u}(this,e,t,r,Boolean(this.isXML),d):null!==b.match(/^Dictionary$/i)?m=function(e,t,r,n,i,a){if("object"!=D(r))throw new Error("".concat(n," must be of type object."));var s=t.type.value;if(!s||"object"!=D(s))throw new Error('"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in '.concat(n,"."));for(var c={},u=0,l=Object.keys(r);u<l.length;u++){var p=l[u],d=e.serialize(s,r[p],n,a);c[p]=v(s,d,i,a)}if(i&&t.xmlNamespace){var h=t.xmlNamespacePrefix?"xmlns:".concat(t.xmlNamespacePrefix):"xmlns",f=c;return f[o]=R({},h,t.xmlNamespace),f}return c}(this,e,t,r,Boolean(this.isXML),d):null!==b.match(/^Composite$/i)&&(m=function(e,t,r,n,i,a){if(w(e,t)&&(t=E(e,t,r,"clientName")),null!=r){for(var s={},c=y(e,t,n),u=0,l=Object.keys(c);u<l.length;u++){var p=l[u],d=c[p];if(!d.readOnly){var m=void 0,b=s;if(e.isXML)m=d.xmlIsWrapped?d.xmlName:d.xmlElementName||d.xmlName;else{var A=h(d.serializedName);m=A.pop();var x,S=f(A);try{for(S.s();!(x=S.n()).done;){var _=x.value;null==b[_]&&(void 0!==r[p]&&null!==r[p]||void 0!==d.defaultValue)&&(b[_]={}),b=b[_]}}catch(e){S.e(e)}finally{S.f()}}if(null!=b){if(i&&t.xmlNamespace){var k=t.xmlNamespacePrefix?"xmlns:".concat(t.xmlNamespacePrefix):"xmlns";b[o]=Object.assign(Object.assign({},b[o]),R({},k,t.xmlNamespace))}var I=""!==d.serializedName?n+"."+d.serializedName:n,T=r[p],C=w(e,t);C&&C.clientName===p&&null==T&&(T=t.serializedName);var O=e.serialize(d,T,I,a);if(void 0!==O&&null!=m){var N=v(d,O,i,a);i&&d.xmlIsAttribute?(b[o]=b[o]||{},b[o][m]=O):i&&d.xmlIsWrapped?b[m]=R({},d.xmlElementName,N):b[m]=N}}}}var P=function(e,t,r){var n=t.type.additionalProperties;if(!n&&t.type.className){var i=g(e,t,r);return null==i?void 0:i.type.additionalProperties}return n}(e,t,n);if(P){var L=Object.keys(c),M=function(t){L.every((function(e){return e!==t}))&&(s[t]=e.serialize(P,r[t],n+'["'+t+'"]',a))};for(var q in r)M(q)}return s}return r}(this,e,t,r,Boolean(this.isXML),d)),m}},{key:"deserialize",value:function(e,t,r){var n,s,c,l,p,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{xml:{}},m={xml:{rootName:null!==(n=d.xml.rootName)&&void 0!==n?n:"",includeRoot:null!==(s=d.xml.includeRoot)&&void 0!==s&&s,xmlCharKey:null!==(c=d.xml.xmlCharKey)&&void 0!==c?c:a},ignoreUnknownProperties:null!==(l=d.ignoreUnknownProperties)&&void 0!==l&&l};if(null==t)return this.isXML&&"Sequence"===e.type.name&&!e.xmlIsWrapped&&(t=[]),void 0!==e.defaultValue&&(t=e.defaultValue),t;var g=e.type.name;if(r||(r=e.serializedName),null!==g.match(/^Composite$/i))p=function(e,t,r,n,i){var s,c,l=null!==(s=i.xml.xmlCharKey)&&void 0!==s?s:a;w(e,t)&&(t=E(e,t,r,"serializedName"));for(var p=y(e,t,n),d={},m=[],g=0,v=Object.keys(p);g<v.length;g++){var A=v[g],x=p[A],S=h(p[A].serializedName);m.push(S[0]);var _=x.serializedName,k=x.xmlName,I=x.xmlElementName,T=n;""!==_&&void 0!==_&&(T=n+"."+_);var C=x.headerCollectionPrefix;if(C){for(var O={},N=0,R=Object.keys(r);N<R.length;N++){var P=R[N];P.startsWith(C)&&(O[P.substring(C.length)]=e.deserialize(x.type.value,r[P],T,i)),m.push(P)}d[A]=O}else if(e.isXML)if(x.xmlIsAttribute&&r[o])d[A]=e.deserialize(x,r[o][k],T,i);else if(x.xmlIsMsText)void 0!==r[l]?d[A]=r[l]:"string"==typeof r&&(d[A]=r);else{var L=I||k||_;if(x.xmlIsWrapped){var M=r[k],q=null!==(c=null==M?void 0:M[I])&&void 0!==c?c:[];d[A]=e.deserialize(x,q,T,i),m.push(k)}else{var D=r[L];d[A]=e.deserialize(x,D,T,i),m.push(L)}}else{var B,j=void 0,U=r,F=0,z=f(S);try{for(z.s();!(B=z.n()).done;){var H=B.value;if(!U)break;F++,U=U[H]}}catch(e){z.e(e)}finally{z.f()}null===U&&F<S.length&&(U=void 0),j=U;var Q=t.type.polymorphicDiscriminator,G=void 0;if(Q&&A===Q.clientName&&null==j&&(j=t.serializedName),Array.isArray(r[A])&&""===p[A].serializedName){j=r[A];for(var K=e.deserialize(x,j,T,i),$=0,W=Object.entries(d);$<W.length;$++){var V=u(W[$],2),Y=V[0],X=V[1];Object.prototype.hasOwnProperty.call(K,Y)||(K[Y]=X)}d=K}else void 0===j&&void 0===x.defaultValue||(G=e.deserialize(x,j,T,i),d[A]=G)}}var J=t.type.additionalProperties;if(J){var Z=function(e){for(var t in p)if(h(p[t].serializedName)[0]===e)return!1;return!0};for(var ee in r)Z(ee)&&(d[ee]=e.deserialize(J,r[ee],n+'["'+ee+'"]',i))}else if(r&&!i.ignoreUnknownProperties)for(var te=0,re=Object.keys(r);te<re.length;te++){var ne=re[te];void 0!==d[ne]||m.includes(ne)||b(ne,i)||(d[ne]=r[ne])}return d}(this,e,t,r,m);else{if(this.isXML){var v=m.xml.xmlCharKey;void 0!==t[o]&&void 0!==t[v]&&(t=t[v])}null!==g.match(/^Number$/i)?(p=parseFloat(t),isNaN(p)&&(p=t)):null!==g.match(/^Boolean$/i)?p="true"===t||"false"!==t&&t:null!==g.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/i)?p=t:null!==g.match(/^(Date|DateTime|DateTimeRfc1123)$/i)?p=new Date(t):null!==g.match(/^UnixTime$/i)?p=function(e){if(e)return new Date(1e3*e)}(t):null!==g.match(/^ByteArray$/i)?p=i(t):null!==g.match(/^Base64Url$/i)?p=function(e){if(e){if(e&&"string"!=typeof e.valueOf())throw new Error("Please provide an input of type string for converting to Uint8Array");return i(e=e.replace(/-/g,"+").replace(/_/g,"/"))}}(t):null!==g.match(/^Sequence$/i)?p=function(e,t,r,n,i){var o,a=t.type.element;if(!a||"object"!=D(a))throw new Error('element" metadata for an Array must be defined in the mapper and it must of type "object" in '.concat(n));if(r){Array.isArray(r)||(r=[r]),"Composite"===a.type.name&&a.type.className&&(a=null!==(o=e.modelMappers[a.type.className])&&void 0!==o?o:a);for(var s=[],c=0;c<r.length;c++)s[c]=e.deserialize(a,r[c],"".concat(n,"[").concat(c,"]"),i);return s}return r}(this,e,t,r,m):null!==g.match(/^Dictionary$/i)&&(p=function(e,t,r,n,i){var o=t.type.value;if(!o||"object"!=D(o))throw new Error('"value" metadata for a Dictionary must be defined in the mapper and it must of type "object" in '.concat(n));if(r){for(var a={},s=0,c=Object.keys(r);s<c.length;s++){var u=c[s];a[u]=e.deserialize(o,r[u],n,i)}return a}return r}(this,e,t,r,m))}return e.isConstant&&(p=e.defaultValue),p}}])}();function d(){return new p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function h(e){var t=[],r="";if(e){var n,i=f(e.split("."));try{for(i.s();!(n=i.n()).done;){var o=n.value;"\\"===o.charAt(o.length-1)?r+=o.substr(0,o.length-1)+".":(r+=o,t.push(r),r="")}}catch(e){i.e(e)}finally{i.f()}}return t}function g(e,t,r){var n=t.type.className;if(!n)throw new Error('Class name for model "'.concat(r,'" is not provided in the mapper "').concat(JSON.stringify(t,void 0,2),'".'));return e.modelMappers[n]}function y(e,t,r){var n=t.type.modelProperties;if(!n){var i=g(e,t,r);if(!i)throw new Error('mapper() cannot be null or undefined for model "'.concat(t.type.className,'".'));if(!(n=null==i?void 0:i.type.modelProperties))throw new Error('modelProperties cannot be null or undefined in the mapper "'.concat(JSON.stringify(i),'" of type "').concat(t.type.className,'" for object "').concat(r,'".'))}return n}function v(e,t,r,n){if(!r||!e.xmlNamespace)return t;var i=R({},e.xmlNamespacePrefix?"xmlns:".concat(e.xmlNamespacePrefix):"xmlns",e.xmlNamespace);if(["Composite"].includes(e.type.name)){if(t[o])return t;var a=Object.assign({},t);return a[o]=i,a}var s={};return s[n.xml.xmlCharKey]=t,s[o]=i,s}function b(e,t){return[o,t.xml.xmlCharKey].includes(e)}function E(e,t,r,n){var i,o=w(e,t);if(o){var a=o[n];if(a){"serializedName"===n&&(a=a.replace(/\\/gi,""));var s=r[a],c=null!==(i=t.type.uberParent)&&void 0!==i?i:t.type.className;if("string"==typeof s&&c){var l=function(e,t,r){for(var n=[r];n.length;){var i=n.shift(),o=t===i?t:i+"."+t;if(Object.prototype.hasOwnProperty.call(e,o))return e[o];for(var a=0,s=Object.entries(e);a<s.length;a++){var c=u(s[a],2),l=c[0],p=c[1];l.startsWith(i+".")&&p.type.uberParent===i&&p.type.className&&n.push(p.type.className)}}}(e.modelMappers.discriminators,s,c);l&&(t=l)}}}return t}function w(e,t){return t.type.polymorphicDiscriminator||A(e,t.type.uberParent)||A(e,t.type.className)}function A(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}var x="Sequence",_="Stream",k=r(3448),I=r(4430).w;function T(e,t,r){var n,i=t.parameterPath,o=t.mapper;if("string"==typeof i&&(i=[i]),Array.isArray(i)){if(i.length>0)if(o.isConstant)n=o.defaultValue;else{var a=C(e,i);!a.propertyFound&&r&&(a=C(r,i));var s=!1;a.propertyFound||(s=o.required||"options"===i[0]&&2===i.length),n=s?o.defaultValue:a.propertyValue}}else for(var c in o.required&&(n={}),i){var u=o.type.modelProperties[c],l=T(e,{parameterPath:i[c],mapper:u},r);void 0!==l&&(n||(n={}),n[c]=l)}return n}function C(e,t){for(var r={propertyFound:!1},n=0;n<t.length;++n){var i=t[n];if(!e||!(i in e))break;e=e[i]}return n===t.length&&(r.propertyValue=e,r.propertyFound=!0),r}var O=Symbol.for("@azure/core-client original request");function L(e){if(function(e){return O in e}(e))return L(e[O]);var t=I.operationRequestMap.get(e);return t||(t={},I.operationRequestMap.set(e,t)),t}var q,B=["application/json","text/json"],j=["application/xml","application/atom+xml"];function U(e){var t=e.parameterPath,r=e.mapper;return"string"==typeof t?t:Array.isArray(t)?t.join("."):r.serializedName}var F={CSV:",",SSV:" ",Multi:"Multi",TSV:"\t",Pipes:"|"};function z(e,t){var r,n=e,i=f(t);try{for(i.s();!(r=i.n()).done;){var o=u(r.value,2),a=o[0],s=o[1];n=n.split(a).join(s)}}catch(e){i.e(e)}finally{i.f()}return n}var H=(0,r(5136).KV)("core-client"),Q=function(){return M((function e(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(P(this,e),this._requestContentType=n.requestContentType,this._endpoint=null!==(t=n.endpoint)&&void 0!==t?t:n.baseUri,n.baseUri&&H.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=n.allowInsecureConnection,this._httpClient=n.httpClient||(q||(q=(0,k.fl)()),q),this.pipeline=n.pipeline||function(e){var t=function(e){if(e.credentialScopes)return e.credentialScopes;if(e.endpoint)return"".concat(e.endpoint,"/.default");if(e.baseUri)return"".concat(e.baseUri,"/.default");if(e.credential&&!e.credentialScopes)throw new Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}(e),r=e.credential&&t?{credentialScopes:t,credential:e.credential}:void 0;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,k.Fp)(null!=e?e:{});return e.credentialOptions&&t.addPolicy((0,k.N$)({credential:e.credentialOptions.credential,scopes:e.credentialOptions.credentialScopes})),t.addPolicy(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).stringifyXML;return{name:"serializationPolicy",sendRequest:function(t,r){return S(N().mark((function n(){var i,s,c;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=L(t),s=null==i?void 0:i.operationSpec,c=null==i?void 0:i.operationArguments,n.abrupt("return",(s&&c&&(function(e,t,r){var n,i;if(r.headerParameters){var o,a=f(r.headerParameters);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=T(t,s);if(null!=c||s.mapper.required){c=r.serializer.serialize(s.mapper,c,U(s));var u=s.mapper.headerCollectionPrefix;if(u)for(var l=0,p=Object.keys(c);l<p.length;l++){var d=p[l];e.headers.set(u+d,c[d])}else e.headers.set(s.mapper.serializedName||U(s),c)}}}catch(e){a.e(e)}finally{a.f()}}var h=null===(i=null===(n=t.options)||void 0===n?void 0:n.requestOptions)||void 0===i?void 0:i.customHeaders;if(h)for(var m=0,g=Object.keys(h);m<g.length;m++){var y=g[m];e.headers.set(y,h[y])}}(t,c,s),function(e,t,r){var n,i,s,c,u,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){throw new Error("XML serialization unsupported!")},p=null===(n=t.options)||void 0===n?void 0:n.serializerOptions,d={xml:{rootName:null!==(i=null==p?void 0:p.xml.rootName)&&void 0!==i?i:"",includeRoot:null!==(s=null==p?void 0:p.xml.includeRoot)&&void 0!==s&&s,xmlCharKey:null!==(c=null==p?void 0:p.xml.xmlCharKey)&&void 0!==c?c:a}},h=d.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){e.body=T(t,r.requestBody);var m=r.requestBody.mapper,g=m.required,y=m.serializedName,v=m.xmlName,b=m.xmlElementName,E=m.xmlNamespace,w=m.xmlNamespacePrefix,A=m.nullable,S=m.type.name;try{if(void 0!==e.body&&null!==e.body||A&&null===e.body||g){var k=U(r.requestBody);e.body=r.serializer.serialize(m,e.body,k,d);var I=S===_;if(r.isXML){var C=w?"xmlns:".concat(w):"xmlns",O=function(e,t,r,n,i){if(e&&!["Composite","Sequence","Dictionary"].includes(r)){var a={};return a[i.xml.xmlCharKey]=n,a[o]=R({},t,e),a}return n}(E,C,S,e.body,d);S===x?e.body=l(function(e,t,r,n){if(Array.isArray(e)||(e=[e]),!r||!n)return R({},t,e);var i=R({},t,e);return i[o]=R({},r,n),i}(O,b||v||y,C,E),{rootName:v||y,xmlCharKey:h}):I||(e.body=l(O,{rootName:v||y,xmlCharKey:h}))}else{if("String"===S&&((null===(u=r.contentType)||void 0===u?void 0:u.match("text/plain"))||"text"===r.mediaType))return;I||(e.body=JSON.stringify(e.body))}}}catch(e){throw new Error('Error "'.concat(e.message,'" occurred in serializing the payload - ').concat(JSON.stringify(y,void 0,"  "),"."))}}else if(r.formDataParameters&&r.formDataParameters.length>0){e.formData={};var N,P=f(r.formDataParameters);try{for(P.s();!(N=P.n()).done;){var L=N.value,M=T(t,L);if(null!=M){var q=L.mapper.serializedName||U(L);e.formData[q]=r.serializer.serialize(L.mapper,M,U(L),d)}}}catch(e){P.e(e)}finally{P.f()}}}(t,c,s,e)),r(t)));case 2:case"end":return n.stop()}}),n)})))()}}}(e.serializationOptions),{phase:"Serialize"}),t.addPolicy(function(){var e,t,r,n,i,o,s,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=null!==(t=null===(e=c.expectedContentTypes)||void 0===e?void 0:e.json)&&void 0!==t?t:B,l=null!==(n=null===(r=c.expectedContentTypes)||void 0===r?void 0:r.xml)&&void 0!==n?n:j,p=c.parseXML,d=c.serializerOptions,h={xml:{rootName:null!==(i=null==d?void 0:d.xml.rootName)&&void 0!==i?i:"",includeRoot:null!==(o=null==d?void 0:d.xml.includeRoot)&&void 0!==o&&o,xmlCharKey:null!==(s=null==d?void 0:d.xml.xmlCharKey)&&void 0!==s?s:a}};return{name:"deserializationPolicy",sendRequest:function(e,t){return S(N().mark((function r(){var n;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t(e);case 2:return n=r.sent,r.abrupt("return",function(){var e=S(N().mark((function e(t,r,n,i,o){var a,s,c,u,l,p,d,h;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=S(N().mark((function e(t,r,n,i,o){var a,s,c,u,l,p,d;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(a=n.request.streamResponseStatusCodes)||void 0===a?void 0:a.has(n.status))||!n.bodyAsText){e.next=18;break}if(s=n.bodyAsText,c=n.headers.get("Content-Type")||"",u=c?c.split(";").map((function(e){return e.toLowerCase()})):[],e.prev=2,0!==u.length&&!u.some((function(e){return-1!==t.indexOf(e)}))){e.next=5;break}return e.abrupt("return",(n.parsedBody=JSON.parse(s),n));case 5:if(!u.some((function(e){return-1!==r.indexOf(e)}))){e.next=12;break}if(o){e.next=8;break}throw new Error("Parsing XML not supported.");case 8:return e.next=10,o(s,i.xml);case 10:return l=e.sent,e.abrupt("return",(n.parsedBody=l,n));case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(2),p='Error "'.concat(e.t0,'" occurred while parsing the response body - ').concat(n.bodyAsText,"."),d=e.t0.code||k.pj.PARSE_ERROR,new k.pj(p,{code:d,statusCode:n.status,request:n.request,response:n});case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,r,n,i,o){return e.apply(this,arguments)}}()(t,r,n,i,o);case 2:if(function(e){var t=L(e.request),r=null==t?void 0:t.shouldDeserialize;return void 0===r||("boolean"==typeof r?r:r(e))}(a=e.sent)){e.next=5;break}return e.abrupt("return",a);case 5:if(s=L(a.request),(c=null==s?void 0:s.operationSpec)&&c.responses){e.next=8;break}return e.abrupt("return",a);case 8:if(u=function(e){var t,r=L(e.request),n=null==r?void 0:r.operationSpec;return n&&(t=(null==r?void 0:r.operationResponseGetter)?null==r?void 0:r.operationResponseGetter(n,e):n.responses[e.status]),t}(a),l=function(e,t,r,n){var i,o=200<=e.status&&e.status<300,a=function(e){var t=Object.keys(e.responses);return 0===t.length||1===t.length&&"default"===t[0]}(t)?o:!!r;if(a){if(!r)return{error:null,shouldReturnResponse:!1};if(!r.isError)return{error:null,shouldReturnResponse:!1}}var s=null!=r?r:t.responses.default,c=(null===(i=e.request.streamResponseStatusCodes)||void 0===i?void 0:i.has(e.status))?"Unexpected status code: ".concat(e.status):e.bodyAsText,u=new k.pj(c,{statusCode:e.status,request:e.request,response:e});if(!s)throw u;var l=s.bodyMapper,p=s.headersMapper;try{if(e.parsedBody){var d,h=e.parsedBody;if(l){var f=h;if(t.isXML&&l.type.name===x){f=[];var m=l.xmlElementName;"object"==D(h)&&m&&(f=h[m])}d=t.serializer.deserialize(l,f,"error.response.parsedBody",n)}var g=h.error||d||h;u.code=g.code,g.message&&(u.message=g.message),l&&(u.response.parsedBody=d)}e.headers&&p&&(u.response.parsedHeaders=t.serializer.deserialize(p,e.headers.toJSON(),"operationRes.parsedHeaders"))}catch(t){u.message='Error "'.concat(t.message,'" occurred in deserializing the responseBody - "').concat(e.bodyAsText,'" for the default response.')}return{error:u,shouldReturnResponse:!1}}(a,c,u,i),p=l.error,d=l.shouldReturnResponse,!p){e.next=11;break}throw p;case 11:if(!d){e.next=13;break}return e.abrupt("return",a);case 13:if(!u){e.next=28;break}if(!u.bodyMapper){e.next=26;break}h=a.parsedBody,c.isXML&&u.bodyMapper.type.name===x&&(h="object"==D(h)?h[u.bodyMapper.xmlElementName]:[]),e.prev=17,a.parsedBody=c.serializer.deserialize(u.bodyMapper,h,"operationRes.parsedBody",i),e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(17),new k.pj("Error ".concat(e.t0," occurred in deserializing the responseBody - ").concat(a.bodyAsText),{statusCode:a.status,request:a.request,response:a});case 24:e.next=27;break;case 26:"HEAD"===c.httpMethod&&(a.parsedBody=n.status>=200&&n.status<300);case 27:u.headersMapper&&(a.parsedHeaders=c.serializer.deserialize(u.headersMapper,a.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}));case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,null,[[17,21]])})));return function(t,r,n,i,o){return e.apply(this,arguments)}}()(u,l,n,h,p));case 4:case"end":return r.stop()}}),r)})))()}}}(e.deserializationOptions),{phase:"Deserialize"}),t}(Object.assign(Object.assign({},e),{credentialOptions:r}))}(n),null===(r=n.additionalPolicies)||void 0===r?void 0:r.length){var i,s=f(n.additionalPolicies);try{for(s.s();!(i=s.n()).done;){var c=i.value,u=c.policy,l="perRetry"===c.position?"Sign":void 0;this.pipeline.addPolicy(u,{afterPhase:l})}}catch(e){s.e(e)}finally{s.f()}}}),[{key:"sendRequest",value:(t=S(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.pipeline.sendRequest(this._httpClient,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"sendOperationRequest",value:(e=S(N().mark((function e(t,r){var n,i,o,a,s,c,p,d,h,g,y;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.baseUrl||this._endpoint){e.next=3;break}throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");case 3:return i=function(e,t,r,n){var i=function(e,t,r){var n,i=new Map;if(null===(n=e.urlParameters)||void 0===n?void 0:n.length){var o,a=f(e.urlParameters);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=T(t,s,r),u=U(s);c=e.serializer.serialize(s.mapper,c,u),s.skipEncoding||(c=encodeURIComponent(c)),i.set("{".concat(s.mapper.serializedName||u,"}"),c)}}catch(e){a.e(e)}finally{a.f()}}return i}(t,r,n),o=!1,a=z(e,i);if(t.path){var s=z(t.path,i);"/{nextLink}"===t.path&&s.startsWith("/")&&(s=s.substring(1)),s.includes("://")?(a=s,o=!0):a=function(e,t){if(!t)return e;var r=new URL(e),n=r.pathname;n.endsWith("/")||(n="".concat(n,"/")),t.startsWith("/")&&(t=t.substring(1));var i=t.indexOf("?");if(-1!==i){var o=t.substring(0,i),a=t.substring(i+1);n+=o,a&&(r.search=r.search?"".concat(r.search,"&").concat(a):a)}else n+=t;return r.pathname=n,r.toString()}(a,s)}var c=function(e,t,r){var n,i=new Map,o=new Set;if(null===(n=e.queryParameters)||void 0===n?void 0:n.length){var a,s=f(e.queryParameters);try{for(s.s();!(a=s.n()).done;){var c=a.value;"Sequence"===c.mapper.type.name&&c.mapper.serializedName&&o.add(c.mapper.serializedName);var u=T(t,c,r);if(null!=u||c.mapper.required){u=e.serializer.serialize(c.mapper,u,U(c));var l=c.collectionFormat?F[c.collectionFormat]:"";if(Array.isArray(u)&&(u=u.map((function(e){return null==e?"":e}))),"Multi"===c.collectionFormat&&0===u.length)continue;!Array.isArray(u)||"SSV"!==c.collectionFormat&&"TSV"!==c.collectionFormat||(u=u.join(l)),c.skipEncoding||(u=Array.isArray(u)?u.map((function(e){return encodeURIComponent(e)})):encodeURIComponent(u)),!Array.isArray(u)||"CSV"!==c.collectionFormat&&"Pipes"!==c.collectionFormat||(u=u.join(l)),i.set(c.mapper.serializedName||U(c),u)}}}catch(e){s.e(e)}finally{s.f()}}return{queryParams:i,sequenceParams:o}}(t,r,n);return a=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0===t.size)return e;var i,o=new URL(e),a=function(e){var t=new Map;if(!e||"?"!==e[0])return t;var r,n=f((e=e.slice(1)).split("&"));try{for(n.s();!(r=n.n()).done;){var i=u(r.value.split("=",2),2),o=i[0],a=i[1],s=t.get(o);s?Array.isArray(s)?s.push(a):t.set(o,[s,a]):t.set(o,a)}}catch(e){n.e(e)}finally{n.f()}return t}(o.search),s=f(t);try{for(s.s();!(i=s.n()).done;){var c=u(i.value,2),l=c[0],p=c[1],d=a.get(l);if(Array.isArray(d))if(Array.isArray(p)){d.push.apply(d,m(p));var h=new Set(d);a.set(l,Array.from(h))}else d.push(p);else d?(Array.isArray(p)?p.unshift(d):r.has(l)&&a.set(l,[d,p]),n||a.set(l,p)):a.set(l,p)}}catch(e){s.e(e)}finally{s.f()}var g,y=[],v=f(a);try{for(v.s();!(g=v.n()).done;){var b=u(g.value,2),E=b[0],w=b[1];if("string"==typeof w)y.push("".concat(E,"=").concat(w));else if(Array.isArray(w)){var A,x=f(w);try{for(x.s();!(A=x.n()).done;){var S=A.value;y.push("".concat(E,"=").concat(S))}}catch(e){x.e(e)}finally{x.f()}}else y.push("".concat(E,"=").concat(w))}}catch(e){v.e(e)}finally{v.f()}return o.search=y.length?"?".concat(y.join("&")):"",o.toString()}(a,c.queryParams,c.sequenceParams,o),a}(n,r,t,this),(o=(0,k.G6)({url:i})).method=r.httpMethod,(a=L(o)).operationSpec=r,a.operationArguments=t,(s=r.contentType||this._requestContentType)&&r.requestBody&&o.headers.set("Content-Type",s),(c=t.options)&&((p=c.requestOptions)&&(p.timeout&&(o.timeout=p.timeout),p.onUploadProgress&&(o.onUploadProgress=p.onUploadProgress),p.onDownloadProgress&&(o.onDownloadProgress=p.onDownloadProgress),void 0!==p.shouldDeserialize&&(a.shouldDeserialize=p.shouldDeserialize),p.allowInsecureConnection&&(o.allowInsecureConnection=!0)),c.abortSignal&&(o.abortSignal=c.abortSignal),c.tracingOptions&&(o.tracingOptions=c.tracingOptions)),this._allowInsecureConnection&&(o.allowInsecureConnection=!0),void 0===o.streamResponseStatusCodes&&(o.streamResponseStatusCodes=function(e){var t=new Set;for(var r in e.responses){var n=e.responses[r];n.bodyMapper&&n.bodyMapper.type.name===_&&t.add(Number(r))}return t}(r)),e.prev=12,e.next=15,this.sendRequest(o);case 15:return d=e.sent,h=l(d,r.responses[d.status]),e.abrupt("return",((null==c?void 0:c.onResponse)&&c.onResponse(d,h),h));case 20:throw e.prev=20,e.t0=e.catch(12),"object"==D(e.t0)&&(null==e.t0?void 0:e.t0.response)&&(g=e.t0.response,y=l(g,r.responses[e.t0.statusCode]||r.responses.default),e.t0.details=y,(null==c?void 0:c.onResponse)&&c.onResponse(g,y,e.t0)),e.t0;case 24:case"end":return e.stop()}}),e,this,[[12,20]])}))),function(t,r){return e.apply(this,arguments)})}]);var e,t}();function G(e){return K.apply(this,arguments)}function K(){return K=S(N().mark((function e(t){var r,n,i,o,a,s,c,l;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.scopes,n=t.response,i=t.logger||H,o=n.headers.get("WWW-Authenticate")){e.next=3;break}return e.abrupt("return",(i.info("The WWW-Authenticate header was missing. Failed to perform the Continuous Access Evaluation authentication flow."),!1));case 3:if(a=function(e){return", ".concat(e.trim()).split(", Bearer ").filter((function(e){return e})).map((function(e){return"".concat(e.trim(),", ").split('", ').filter((function(e){return e})).map((function(e){return R({},(t=u(e.trim().split('="'),2))[0],t[1]);var t})).reduce((function(e,t){return Object.assign(Object.assign({},e),t)}),{})}))}(o)||[],s=a.find((function(e){return e.claims})),s){e.next=6;break}return e.abrupt("return",(i.info('The WWW-Authenticate header was missing the necessary "claims" to perform the Continuous Access Evaluation authentication flow.'),!1));case 6:return e.next=8,t.getAccessToken(s.scope?[s.scope]:r,{claims:(l=s.claims,Buffer.from(l,"base64").toString())});case 8:return c=e.sent,e.abrupt("return",!!c&&(t.request.headers.set("Authorization","Bearer ".concat(c.token)),!0));case 10:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}},7307:function(e,t,r){"use strict";r.d(t,{Vj:function(){return T}});var n=(0,r(5136).KV)("core-lro"),i=2e3,o=["succeeded","canceled","failed"];function a(e){var t=e.state,r=e.stateProxy,n=e.isOperationError;return function(e){throw n(e)&&(r.setError(t,e),r.setFailed(t)),e}}function s(e,t){var r=e;return"."!==r.slice(-1)&&(r+="."),r+" "+t}function c(e){var t=e.state,r=e.stateProxy,i=e.status,o=e.isDone,a=e.processResult,c=e.getError,u=e.response,l=e.setErrorAsResult;switch(i){case"succeeded":r.setSucceeded(t);break;case"failed":var p=null==c?void 0:c(u),d="";if(p){var h=function(e){for(var t=e.message,r=e.code,n=e;n.innererror;)r=(n=n.innererror).code,t=s(t,n.message);return{code:r,message:t}}(p),f=h.code,m=h.message;d=". ".concat(f,". ").concat(m)}var g="The long-running operation has failed".concat(d);r.setError(t,new Error(g)),r.setFailed(t),n.warning(g);break;case"canceled":r.setCanceled(t)}((null==o?void 0:o(u,t))||void 0===o&&["succeeded","canceled"].concat(l?[]:["failed"]).includes(i))&&r.setResult(t,function(e){var t=e.processResult,r=e.response;return t?t(r,e.state):r}({response:u,state:t,processResult:a}))}function u(e){var t=e.azureAsyncOperation,r=e.operationLocation;return null!=r?r:t}function l(e){return e.headers.location}function p(e){return e.headers["operation-location"]}function d(e){return e.headers["azure-asyncoperation"]}function h(e){var t,r=e.location,n=e.requestMethod,i=e.requestPath,o=e.resourceLocationConfig;switch(n){case"PUT":return i;case"DELETE":return;case"PATCH":return null!==(t=a())&&void 0!==t?t:i;default:return a()}function a(){switch(o){case"azure-async-operation":return;case"original-uri":return i;default:return r}}}function f(e){var t=e.status,r=e.statusCode;if("string"!=typeof t&&void 0!==t)throw new Error("Polling was unsuccessful. Expected status to have a string value or no value but it has instead: ".concat(t,". This doesn't necessarily indicate the operation has failed. Check your Azure subscription or resource status for more information."));switch(null==t?void 0:t.toLocaleLowerCase()){case void 0:return m(r);case"succeeded":return"succeeded";case"failed":return"failed";case"running":case"accepted":case"started":case"canceling":case"cancelling":return"running";case"canceled":case"cancelled":return"canceled";default:return n.verbose("LRO: unrecognized operation status: ".concat(t)),t}}function m(e){return 202===e?"running":e<300?"succeeded":"failed"}function g(e){var t=e.rawResponse.headers["retry-after"];if(void 0!==t){var r=parseInt(t);return isNaN(r)?function(e){var t=Math.floor((new Date).getTime()),r=e.getTime();if(t<r)return r-t}(new Date(t)):1e3*r}}function y(e){var t=w(e,"error");if(t){if(t.code&&t.message)return t;n.warning("The long-running operation failed but the error property in the response's body doesn't contain code or message")}else n.warning("The long-running operation failed but there is no error property in the response's body")}function v(e){var t=e.response,r=e.state,n=e.operationLocation,i=function(){var e;switch(null===(e=r.config.metadata)||void 0===e?void 0:e.mode){case void 0:return m(t.rawResponse.statusCode);case"Body":return E(t,r);default:return"running"}}();return"running"===i&&void 0===n?"succeeded":i}function b(e,t){var r,n=e.rawResponse;switch(null===(r=t.config.metadata)||void 0===r?void 0:r.mode){case"OperationLocation":return u({operationLocation:p(n),azureAsyncOperation:d(n)});case"ResourceLocation":return l(n);default:return}}function E(e,t){var r,n=e.rawResponse,i=null===(r=t.config.metadata)||void 0===r?void 0:r.mode;switch(i){case"OperationLocation":return function(e){var t;return f({status:(null!==(t=e.body)&&void 0!==t?t:{}).status,statusCode:e.statusCode})}(n);case"ResourceLocation":return m(n.statusCode);case"Body":return function(e){var t,r,n=null!==(t=e.body)&&void 0!==t?t:{},i=n.properties,o=n.provisioningState;return f({status:null!==(r=null==i?void 0:i.provisioningState)&&void 0!==r?r:o,statusCode:e.statusCode})}(n);default:throw new Error("Internal error: Unexpected operation mode: ".concat(i))}}function w(e,t){var r,n,i=e.flatResponse,o=e.rawResponse;return null!==(r=null==i?void 0:i[t])&&void 0!==r?r:null===(n=o.body)||void 0===n?void 0:n[t]}function A(e,t){var r=w(e,"resourceLocation");return r&&"string"==typeof r&&(t.config.resourceLocation=r),t.config.resourceLocation}function x(e){return"RestError"===e.name}var _=r(3985),k=function(){return{initState:function(e){return{status:"running",config:e}},setCanceled:function(e){return e.status="canceled"},setError:function(e,t){return e.error=t},setResult:function(e,t){return e.result=t},setRunning:function(e){return e.status="running"},setSucceeded:function(e){return e.status="succeeded"},setFailed:function(e){return e.status="failed"},getError:function(e){return e.error},getResult:function(e){return e.result},isCanceled:function(e){return"canceled"===e.status},isFailed:function(e){return"failed"===e.status},isRunning:function(e){return"running"===e.status},isSucceeded:function(e){return"succeeded"===e.status}}};function I(e){var t=e.getOperationLocation,r=e.getStatusFromInitialResponse,s=e.getStatusFromPollResponse,u=e.isOperationError,l=e.getResourceLocation,p=e.getPollingInterval,d=e.getError,h=e.resolveOnUnsuccessful;return function(){var e=S(N().mark((function e(f,m){var g,y,v,b,E,w,A,x,I,T,C,O,R,P,L,M,q,D;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g=f.init,y=f.poll,b=(v=m||{}).processResult,E=v.updateState,w=v.withOperationLocation,A=v.intervalInMs,x=void 0===A?i:A,I=v.restoreFrom,T=k(),C=w?function(){var e=!1;return function(t,r){r?w(t):e||w(t),e=!0}}():void 0,!I){e.next=14;break}e.t0=function(e){try{return JSON.parse(e).state}catch(t){throw new Error("Unable to deserialize input state: ".concat(e))}}(I),e.next=17;break;case 14:return e.next=16,function(){var e=S(N().mark((function e(t){var r,i,o,a,s,u,l,p,d,h,f,m,g;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.init,i=t.stateProxy,o=t.processResult,a=t.getOperationStatus,s=t.withOperationLocation,u=t.setErrorAsResult,e.next=8,r();case 8:return l=e.sent,p=l.operationLocation,d=l.resourceLocation,h=l.metadata,f=l.response,p&&(null==s||s(p,!1)),m={metadata:h,operationLocation:p,resourceLocation:d},n.verbose("LRO: Operation description:",m),g=i.initState(m),e.abrupt("return",(c({state:g,status:a({response:f,state:g,operationLocation:p}),stateProxy:i,response:f,setErrorAsResult:u,processResult:o}),g));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()({init:g,stateProxy:T,processResult:b,getOperationStatus:r,withOperationLocation:C,setErrorAsResult:!h});case 16:e.t0=e.sent;case 17:return O=e.t0,P=new AbortController,L=new Map,M="Operation was canceled",q=x,D={getOperationState:function(){return O},getResult:function(){return O.result},isDone:function(){return["succeeded","failed","canceled"].includes(O.status)},isStopped:function(){return void 0===R},stopPolling:function(){P.abort()},toString:function(){return JSON.stringify({state:O})},onProgress:function(e){var t=Symbol();return L.set(t,e),function(){return L.delete(t)}},pollUntilDone:function(e){return null!=R?R:R=S(N().mark((function t(){var r,n,i;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=function(){P.abort()},r=(e||{}).abortSignal,i=P.signal,(null==r?void 0:r.aborted)?P.abort():i.aborted||null==r||r.addEventListener("abort",n,{once:!0}),t.prev=4,D.isDone()){t.next=15;break}return t.next=8,D.poll({abortSignal:i});case 8:if(D.isDone()){t.next=15;break}return t.next=11,(0,_.cb)(q,{abortSignal:i});case 11:return t.next=13,D.poll({abortSignal:i});case 13:t.next=8;break;case 15:return t.prev=15,null==r||r.removeEventListener("abort",n),t.finish(15);case 18:if(!h){t.next=20;break}return t.abrupt("return",D.getResult());case 20:t.t0=O.status,t.next="succeeded"===t.t0?23:"canceled"===t.t0?24:"failed"===t.t0?25:"notStarted"===t.t0||"running"===t.t0?26:27;break;case 23:return t.abrupt("return",D.getResult());case 24:throw new Error(M);case 25:throw O.error;case 26:throw new Error("Polling completed without succeeding or failing");case 27:case"end":return t.stop()}}),t,null,[[4,,15,18]])})))().finally((function(){R=void 0}))},poll:function(e){return S(N().mark((function r(){return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!h){r.next=5;break}if(!D.isDone()){r.next=3;break}return r.abrupt("return");case 3:r.next=11;break;case 5:r.t0=O.status,r.next="succeeded"===r.t0?8:"canceled"===r.t0?9:"failed"===r.t0?10:11;break;case 8:return r.abrupt("return");case 9:case 19:throw new Error(M);case 10:case 20:throw O.error;case 11:return r.next=13,function(){var e=S(N().mark((function e(t){var r,i,s,u,l,p,d,h,f,m,g,y,v,b,E,w,A,x,_,k,I,T,C;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.poll,i=t.state,s=t.stateProxy,u=t.options,l=t.getOperationStatus,p=t.getResourceLocation,d=t.getOperationLocation,h=t.isOperationError,f=t.withOperationLocation,m=t.getPollingInterval,g=t.processResult,y=t.getError,v=t.updateState,b=t.setDelay,E=t.isDone,w=t.setErrorAsResult,void 0===(A=i.config.operationLocation)){e.next=9;break}return e.next=4,function(){var e=S(N().mark((function e(t){var r,i,s,c,u,l,p,d,h,f,m;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.poll,i=t.state,s=t.stateProxy,c=t.operationLocation,u=t.getOperationStatus,l=t.getResourceLocation,p=t.isOperationError,d=t.options,e.next=10,r(c,d).catch(a({state:i,stateProxy:s,isOperationError:p}));case 10:if(h=e.sent,f=u(h,i),n.verbose("LRO: Status:\n\tPolling from: ".concat(i.config.operationLocation,"\n\tOperation status: ").concat(f,"\n\tPolling status: ").concat(o.includes(f)?"Stopped":"Running")),"succeeded"!==f){e.next=20;break}if(void 0===(m=l(h,i))){e.next=20;break}return e.next=17,r(m).catch(a({state:i,stateProxy:s,isOperationError:p}));case 17:return e.t0=e.sent,e.t1=f,e.abrupt("return",{response:e.t0,status:e.t1});case 20:return e.abrupt("return",{response:h,status:f});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()({poll:r,getOperationStatus:l,state:i,stateProxy:s,operationLocation:A,getResourceLocation:p,isOperationError:h,options:u});case 4:x=e.sent,_=x.response,c({status:k=x.status,response:_,state:i,stateProxy:s,isDone:E,processResult:g,getError:y,setErrorAsResult:w}),o.includes(k)||((I=null==m?void 0:m(_))&&b(I),void 0!==(T=null==d?void 0:d(_,i))?(C=A!==T,i.config.operationLocation=T,null==f||f(T,C)):null==f||f(A,!1)),null==v||v(i,_);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()({poll:y,state:O,stateProxy:T,getOperationLocation:t,isOperationError:u,withOperationLocation:C,getPollingInterval:p,getOperationStatus:s,getResourceLocation:l,processResult:b,getError:d,updateState:E,options:e,setDelay:function(e){q=e},setErrorAsResult:!h});case 13:return r.next=15,S(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L.forEach((function(e){return e(O)})));case 1:case"end":return e.stop()}}),e)})))();case 15:if(h){r.next=21;break}r.t1=O.status,r.next="canceled"===r.t1?19:"failed"===r.t1?20:21;break;case 21:case"end":return r.stop()}}),r)})))()}},e.abrupt("return",D);case 22:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}function T(e,t){return C.apply(this,arguments)}function C(){return C=S(N().mark((function e(t,r){var n,i,o,a,s,c,f,m,w;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(n=r||{}).resourceLocationConfig,o=n.intervalInMs,a=n.processResult,s=n.restoreFrom,c=n.updateState,f=n.withOperationLocation,m=n.resolveOnUnsuccessful,w=void 0!==m&&m,e.abrupt("return",I({getStatusFromInitialResponse:v,getStatusFromPollResponse:E,isOperationError:x,getOperationLocation:b,getResourceLocation:A,getPollingInterval:g,getError:y,resolveOnUnsuccessful:w})({init:function(){var e=S(N().mark((function e(){var r,n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sendInitialRequest();case 2:return r=e.sent,n=function(e){var t=e.rawResponse,r=e.requestMethod,n=e.requestPath,i=e.resourceLocationConfig,o=u({operationLocation:p(t),azureAsyncOperation:d(t)}),a=l(t),s=null==r?void 0:r.toLocaleUpperCase();return void 0!==o?{mode:"OperationLocation",operationLocation:o,resourceLocation:h({requestMethod:s,location:a,requestPath:n,resourceLocationConfig:i})}:void 0!==a?{mode:"ResourceLocation",operationLocation:a}:"PUT"===s&&n?{mode:"Body",operationLocation:n}:void 0}({rawResponse:r.rawResponse,requestPath:t.requestPath,requestMethod:t.requestMethod,resourceLocationConfig:i}),e.abrupt("return",Object.assign({response:r,operationLocation:null==n?void 0:n.operationLocation,resourceLocation:null==n?void 0:n.resourceLocation},(null==n?void 0:n.mode)?{metadata:{mode:n.mode}}:{}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),poll:t.sendPollRequest},{intervalInMs:o,withOperationLocation:f,restoreFrom:s,updateState:c,processResult:a?function(e,t){var r=e.flatResponse;return a(r,t)}:function(e){return e.flatResponse}}));case 2:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}Error,Error},3448:function(e,t,n){"use strict";n.d(t,{pj:function(){return Le},N$:function(){return Ze},uQ:function(){return Ye},fl:function(){return Ke},O8:function(){return a},Nc:function(){return fe},Fp:function(){return qe},G6:function(){return We}});var i=new Set(["Deserialize","Serialize","Retry","Sign"]),o=function(){function e(t){var r;P(this,e),this._policies=[],this._policies=null!==(r=null==t?void 0:t.slice(0))&&void 0!==r?r:[],this._orderedPolicies=void 0}return M(e,[{key:"addPolicy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.phase&&t.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(t.phase&&!i.has(t.phase))throw new Error("Invalid phase name: ".concat(t.phase));if(t.afterPhase&&!i.has(t.afterPhase))throw new Error("Invalid afterPhase name: ".concat(t.afterPhase));this._policies.push({policy:e,options:t}),this._orderedPolicies=void 0}},{key:"removePolicy",value:function(e){var t=[];return this._policies=this._policies.filter((function(r){return!(e.name&&r.policy.name===e.name||e.phase&&r.options.phase===e.phase)||(t.push(r.policy),!1)})),this._orderedPolicies=void 0,t}},{key:"sendRequest",value:function(e,t){return this.getOrderedPolicies().reduceRight((function(e,t){return function(r){return t.sendRequest(r,e)}}),(function(t){return e.sendRequest(t)}))(t)}},{key:"getOrderedPolicies",value:function(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}},{key:"clone",value:function(){return new e(this._policies)}},{key:"orderPolicies",value:function(){var e=[],t=new Map;function r(e){return{name:e,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}var n=r("Serialize"),i=r("None"),o=r("Deserialize"),a=r("Retry"),s=r("Sign"),c=[n,i,o,a,s];function u(e){return"Retry"===e?a:"Serialize"===e?n:"Deserialize"===e?o:"Sign"===e?s:i}var l,p=f(this._policies);try{for(p.s();!(l=p.n()).done;){var d=l.value,h=d.policy,m=d.options,g=h.name;if(t.has(g))throw new Error("Duplicate policy names not allowed in pipeline");var y={policy:h,dependsOn:new Set,dependants:new Set};m.afterPhase&&(y.afterPhase=u(m.afterPhase),y.afterPhase.hasAfterPolicies=!0),t.set(g,y),u(m.phase).policies.add(y)}}catch(e){p.e(e)}finally{p.f()}var v,b=f(this._policies);try{for(b.s();!(v=b.n()).done;){var E=v.value,w=E.policy,A=E.options,x=w.name,S=t.get(x);if(!S)throw new Error("Missing node for policy ".concat(x));if(A.afterPolicies){var _,k=f(A.afterPolicies);try{for(k.s();!(_=k.n()).done;){var I=_.value,T=t.get(I);T&&(S.dependsOn.add(T),T.dependants.add(S))}}catch(e){k.e(e)}finally{k.f()}}if(A.beforePolicies){var C,O=f(A.beforePolicies);try{for(O.s();!(C=O.n()).done;){var N=C.value,R=t.get(N);R&&(R.dependsOn.add(S),S.dependants.add(R))}}catch(e){O.e(e)}finally{O.f()}}}}catch(e){b.e(e)}finally{b.f()}function P(r){r.hasRun=!0;var n,i=f(r.policies);try{for(i.s();!(n=i.n()).done;){var o=n.value;if((!o.afterPhase||o.afterPhase.hasRun&&!o.afterPhase.policies.size)&&0===o.dependsOn.size){e.push(o.policy);var a,s=f(o.dependants);try{for(s.s();!(a=s.n()).done;)a.value.dependsOn.delete(o)}catch(e){s.e(e)}finally{s.f()}t.delete(o.policy.name),r.policies.delete(o)}}}catch(e){i.e(e)}finally{i.f()}}function L(){var e,t=f(c);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(P(r),r.policies.size>0&&r!==i)return void(i.hasRun||P(i));r.hasAfterPolicies&&P(i)}}catch(e){t.e(e)}finally{t.f()}}for(var M=0;t.size>0;){M++;var q=e.length;if(L(),e.length<=q&&M>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}}],[{key:"create",value:function(){return new e}}])}();function a(){return o.create()}var s=n(5136),c=(0,s.KV)("core-rest-pipeline"),l=n(3985),p="REDACTED",h=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],g=["api-version"],y=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.additionalAllowedHeaderNames,n=void 0===r?[]:r,i=t.additionalAllowedQueryParameters,o=void 0===i?[]:i;P(this,e),n=h.concat(n),o=g.concat(o),this.allowedHeaderNames=new Set(n.map((function(e){return e.toLowerCase()}))),this.allowedQueryParameters=new Set(o.map((function(e){return e.toLowerCase()})))}),[{key:"sanitize",value:function(e){var t=this,r=new Set;return JSON.stringify(e,(function(e,n){if(n instanceof Error)return Object.assign(Object.assign({},n),{name:n.name,message:n.message});if("headers"===e)return t.sanitizeHeaders(n);if("url"===e)return t.sanitizeUrl(n);if("query"===e)return t.sanitizeQuery(n);if("body"!==e&&"response"!==e&&"operationSpec"!==e){if(Array.isArray(n)||(0,l.Gv)(n)){if(r.has(n))return"[Circular]";r.add(n)}return n}}),2)}},{key:"sanitizeUrl",value:function(e){if("string"!=typeof e||null===e)return e;var t=new URL(e);if(!t.search)return e;var r,n=f(t.searchParams);try{for(n.s();!(r=n.n()).done;){var i=u(r.value,1)[0];this.allowedQueryParameters.has(i.toLowerCase())||t.searchParams.set(i,p)}}catch(e){n.e(e)}finally{n.f()}return t.toString()}},{key:"sanitizeHeaders",value:function(e){for(var t={},r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];this.allowedHeaderNames.has(i.toLowerCase())?t[i]=e[i]:t[i]=p}return t}},{key:"sanitizeQuery",value:function(e){if("object"!=D(e)||null===e)return e;for(var t={},r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];this.allowedQueryParameters.has(i.toLowerCase())?t[i]=e[i]:t[i]=p}return t}}])}(),v="logPolicy",b="redirectPolicy",E=["GET","HEAD"];function w(e,t,r){return A.apply(this,arguments)}function A(){return A=S(N().mark((function e(t,r,n){var i,o,a,s,c,u,l,p=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=p.length>3&&void 0!==p[3]?p[3]:0,o=r.request,a=r.status,s=r.headers,!((c=s.get("location"))&&(300===a||301===a&&E.includes(o.method)||302===a&&E.includes(o.method)||303===a&&"POST"===o.method||307===a)&&i<n)){e.next=9;break}return u=new URL(c,o.url),o.url=u.toString(),303===a&&(o.method="GET",o.headers.delete("Content-Length"),delete o.body),o.headers.delete("Authorization"),e.next=7,t(o);case 7:return l=e.sent,e.abrupt("return",w(t,l,n,i+1));case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}var x=n(8161),I=n(1708),T=n.t(I,2),O="1.16.1",R=3;function L(e){return q.apply(this,arguments)}function q(){return q=S(N().mark((function e(t){var r,n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Map).set("core-rest-pipeline",O),e.next=4,function(){var e=S(N().mark((function e(t){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T&&I.versions&&((r=I.versions).bun?t.set("Bun",r.bun):r.deno?t.set("Deno",r.deno):r.node&&t.set("Node",r.node)),t.set("OS","(".concat(x.arch(),"-").concat(x.type(),"-").concat(x.release(),")"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r);case 4:return n=function(e){var t,r=[],n=f(e);try{for(n.s();!(t=n.n()).done;){var i=u(t.value,2),o=i[0],a=i[1],s=a?"".concat(o,"/").concat(a):o;r.push(s)}}catch(e){n.e(e)}finally{n.f()}return r.join(" ")}(r),e.abrupt("return",t?"".concat(t," ").concat(n):n);case 6:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}var B="User-Agent",j="userAgentPolicy",U=n(1635),F=r(7075);function z(e){return"function"==typeof e.stream}var H=Symbol("rawContent");function Q(){return(0,U.AQ)(this,arguments,N().mark((function e(){var t,r,n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.getReader(),e.prev=1;case 2:return e.next=4,(0,U.N3)(t.read());case 4:if(r=e.sent,n=r.done,i=r.value,!n){e.next=11;break}return e.next=10,(0,U.N3)(void 0);case 10:return e.abrupt("return",e.sent);case 11:return e.next=13,(0,U.N3)(i);case 13:return e.next=15,e.sent;case 15:e.next=2;break;case 17:return e.prev=17,t.releaseLock(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,,17,20]])})))}function G(e){return e instanceof Uint8Array?F.Readable.from(Buffer.from(e)):z(e)?G("function"==typeof(n=e)[H]?n[H]():n.stream()):(t=e)instanceof ReadableStream?((r=t)[Symbol.asyncIterator]||(r[Symbol.asyncIterator]=Q.bind(r)),r.values||(r.values=Q.bind(r)),F.Readable.fromWeb(t)):t;var t,r,n}function K(e){var t,r="",n=f(e);try{for(n.s();!(t=n.n()).done;){var i=u(t.value,2),o=i[0],a=i[1];r+="".concat(o,": ").concat(a,"\r\n")}}catch(e){n.e(e)}finally{n.f()}return r}function $(e){return e instanceof Uint8Array?e.byteLength:z(e)?-1===e.size?void 0:e.size:void 0}var W="multipartPolicy",V=70,Y=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?"),X="decompressResponsePolicy",J=function(e){function t(e){var r;return P(this,t),(r=_(this,t,[e])).name="AbortError",r}return C(t,e),M(t)}(d(Error)),Z="The operation was aborted.";function ee(e,t,r){return new Promise((function(n,i){var o,a,s=function(){return i(new J((null==r?void 0:r.abortErrorMsg)?null==r?void 0:r.abortErrorMsg:Z))},c=function(){(null==r?void 0:r.abortSignal)&&a&&r.abortSignal.removeEventListener("abort",a)};if(a=function(){return o&&clearTimeout(o),c(),s()},(null==r?void 0:r.abortSignal)&&r.abortSignal.aborted)return s();o=setTimeout((function(){c(),n(t)}),e),(null==r?void 0:r.abortSignal)&&r.abortSignal.addEventListener("abort",a)}))}function te(e,t){var r=e.headers.get(t);if(r){var n=Number(r);return Number.isNaN(n)?void 0:n}}var re="Retry-After",ne=["retry-after-ms","x-ms-retry-after-ms",re];function ie(e){if(e&&[429,503].includes(e.status))try{var t,r=f(ne);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=te(e,n);if(0===i||i)return i*(n===re?1e3:1)}}catch(e){r.e(e)}finally{r.f()}var o=e.headers.get(re);if(!o)return;var a=Date.parse(o)-Date.now();return Number.isFinite(a)?Math.max(0,a):void 0}catch(e){return}}var oe=1e3,ae=64e3;function se(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null!==(e=r.retryDelayInMs)&&void 0!==e?e:oe,i=null!==(t=r.maxRetryDelayInMs)&&void 0!==t?t:ae,o=n;return{name:"exponentialRetryStrategy",retry:function(e){var t,n=e.retryCount,a=e.response,s=e.responseError,c=!!(t=s)&&("ETIMEDOUT"===t.code||"ESOCKETTIMEDOUT"===t.code||"ECONNREFUSED"===t.code||"ECONNRESET"===t.code||"ENOENT"===t.code||"ENOTFOUND"===t.code),u=c&&r.ignoreSystemErrors,p=function(e){return Boolean(e&&void 0!==e.status&&(e.status>=500||408===e.status)&&501!==e.status&&505!==e.status)}(a),d=p&&r.ignoreHttpStatusCodes,h=a&&(function(e){return Number.isFinite(ie(e))}(a)||!p);if(h||d||u)return{skipStrategy:!0};if(s&&!c&&!p)return{errorToThrow:s};var f=o*Math.pow(2,n),m=Math.min(i,f);return{retryAfterInMs:o=m/2+(0,l.Wq)(0,m/2)}}}}var ce=(0,s.KV)("core-rest-pipeline retryPolicy"),ue="retryPolicy";function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxRetries:R},r=t.logger||ce;return{name:ue,sendRequest:function(n,i){return S(N().mark((function o(){var a,s,c,u,l,p,d,h,m,g,y,v,b;return N().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:l=-1;case 1:return l+=1,c=void 0,u=void 0,o.prev=2,r.info("Retry ".concat(l,": Attempting to send request"),n.requestId),o.next=6,i(n);case 6:c=o.sent,r.info("Retry ".concat(l,": Received a response from request"),n.requestId),o.next=15;break;case 10:if(o.prev=10,o.t0=o.catch(2),r.error("Retry ".concat(l,": Received an error from request"),n.requestId),u=o.t0,o.t0&&"RestError"===u.name){o.next=14;break}throw o.t0;case 14:c=u.response;case 15:if(!(null===(a=n.abortSignal)||void 0===a?void 0:a.aborted)){o.next=17;break}throw r.error("Retry ".concat(l,": Request aborted.")),new J;case 17:if(!(l>=(null!==(s=t.maxRetries)&&void 0!==s?s:R))){o.next=23;break}if(r.info("Retry ".concat(l,": Maximum retries reached. Returning the last received response, or throwing the last received error.")),!u){o.next=20;break}throw u;case 20:if(!c){o.next=22;break}return o.abrupt("return",c);case 22:throw new Error("Maximum retries reached with no response or error to throw");case 23:r.info("Retry ".concat(l,": Processing ").concat(e.length," retry strategies.")),p=f(e),o.prev=25,p.s();case 27:if((d=p.n()).done){o.next=48;break}if(h=d.value,(m=h.logger||ce).info("Retry ".concat(l,": Processing retry strategy ").concat(h.name,".")),!(g=h.retry({retryCount:l,response:c,responseError:u})).skipStrategy){o.next=35;break}return m.info("Retry ".concat(l,": Skipped.")),o.abrupt("continue",46);case 35:if(y=g.errorToThrow,v=g.retryAfterInMs,b=g.redirectTo,!y){o.next=38;break}throw m.error("Retry ".concat(l,": Retry strategy ").concat(h.name," throws error:"),y),y;case 38:if(!v&&0!==v){o.next=43;break}return m.info("Retry ".concat(l,": Retry strategy ").concat(h.name," retries after ").concat(v)),o.next=42,ee(v,void 0,{abortSignal:n.abortSignal});case 42:return o.abrupt("continue",60);case 43:if(!b){o.next=46;break}return m.info("Retry ".concat(l,": Retry strategy ").concat(h.name," redirects to ").concat(b)),n.url=b,o.abrupt("continue",60);case 46:o.next=27;break;case 48:o.next=53;break;case 50:o.prev=50,o.t1=o.catch(25),p.e(o.t1);case 53:return o.prev=53,p.f(),o.finish(53);case 56:if(!u){o.next=58;break}throw r.info("None of the retry strategies could work with the received error. Throwing it."),u;case 58:if(!c){o.next=60;break}return o.abrupt("return",(r.info("None of the retry strategies could work with the received response. Returning it."),c));case 60:o.next=1;break;case 62:case"end":return o.stop()}}),o,null,[[2,10],[25,50,53,56]])})))()}}}var pe="defaultRetryPolicy";function de(e){return e.toLowerCase()}var he=function(){return M((function e(t){if(P(this,e),this._headersMap=new Map,t)for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];this.set(i,t[i])}}),[{key:"set",value:function(e,t){this._headersMap.set(de(e),{name:e,value:String(t).trim()})}},{key:"get",value:function(e){var t;return null===(t=this._headersMap.get(de(e)))||void 0===t?void 0:t.value}},{key:"has",value:function(e){return this._headersMap.has(de(e))}},{key:"delete",value:function(e){this._headersMap.delete(de(e))}},{key:"toJSON",value:function(){var e={};if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preserveCase){var t,r=f(this._headersMap.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;e[n.name]=n.value}}catch(e){r.e(e)}finally{r.f()}}else{var i,o=f(this._headersMap);try{for(o.s();!(i=o.n()).done;){var a=u(i.value,2),s=a[0],c=a[1];e[s]=c.value}}catch(e){o.e(e)}finally{o.f()}}return e}},{key:"toString",value:function(){return JSON.stringify(this.toJSON({preserveCase:!0}))}},{key:Symbol.iterator,value:function(){return N().mark((function e(t){var r,n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f(t.values()),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=9;break}return i=n.value,e.next=7,[i.name,i.value];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))(this._headersMap)}}])}();function fe(e){return new he(e)}var me="formDataPolicy",ge=n(3923),ye=n(1344),ve="HTTPS_PROXY",be="HTTP_PROXY",Ee="ALL_PROXY",we="NO_PROXY",Ae="proxyPolicy",xe=[],Se=!1,_e=new Map;function ke(e){return process.env[e]?process.env[e]:process.env[e.toLowerCase()]?process.env[e.toLowerCase()]:void 0}function Ie(e){var t;try{t=new URL(e.host)}catch(t){throw new Error('Expecting a valid host string in proxy settings, but found "'.concat(e.host,'".'))}return t.port=String(e.port),e.username&&(t.username=e.username),e.password&&(t.password=e.password),t}function Te(e,t,r){if(!e.agent){var n="https:"!==new URL(e.url).protocol;e.tlsSettings&&c.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");var i=e.headers.toJSON();n?(t.httpProxyAgent||(t.httpProxyAgent=new ye.HttpProxyAgent(r,{headers:i})),e.agent=t.httpProxyAgent):(t.httpsProxyAgent||(t.httpsProxyAgent=new ge.HttpsProxyAgent(r,{headers:i})),e.agent=t.httpsProxyAgent)}}var Ce="setClientRequestIdPolicy",Oe="tlsPolicy",Ne=n(1652),Re=n(7975).inspect.custom,Pe=new y,Le=function(e){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return P(this,t),(r=_(this,t,[e])).name="RestError",r.code=n.code,r.statusCode=n.statusCode,r.request=n.request,r.response=n.response,Object.setPrototypeOf(k(r),t.prototype),r}return C(t,e),M(t,[{key:Re,value:function(){return"RestError: ".concat(this.message," \n ").concat(Pe.sanitize(this))}}])}(d(Error));Le.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",Le.PARSE_ERROR="PARSE_ERROR";var Me="tracingPolicy";function qe(e){var t,r,n,i,o=a();return l.qx&&(e.tlsOptions&&o.addPolicy((r=e.tlsOptions,{name:Oe,sendRequest:(i=S(N().mark((function e(t,n){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(t.tlsSettings||(t.tlsSettings=r),n(t)));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})})),o.addPolicy(function(e){Se||xe.push.apply(xe,m(function(){var e=ke(we);return Se=!0,e?e.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length})):[]}()));var t=e?Ie(e):function(){var e=function(){if(process){var e=ke(ve),t=ke(Ee),r=ke(be);return e||t||r}}();return e?new URL(e):void 0}(),r={};return{name:Ae,sendRequest:function(e,n){return S(N().mark((function i(){return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(e.proxySettings||!t||function(e,t,r){if(0===t.length)return!1;var n=new URL(e).hostname;if(null==r?void 0:r.has(n))return r.get(n);var i,o=!1,a=f(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;"."===s[0]?(n.endsWith(s)||n.length===s.length-1&&n===s.slice(1))&&(o=!0):n===s&&(o=!0)}}catch(e){a.e(e)}finally{a.f()}return null==r||r.set(n,o),o}(e.url,xe,_e)?e.proxySettings&&Te(e,r,Ie(e.proxySettings)):Te(e,r,t),n(e)));case 1:case"end":return i.stop()}}),i)})))()}}}(e.proxyOptions)),o.addPolicy({name:X,sendRequest:(n=S(N().mark((function e(t,r){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",("HEAD"!==t.method&&t.headers.set("Accept-Encoding","gzip,deflate"),r(t)));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})})),o.addPolicy({name:me,sendRequest:function(e,t){return S(N().mark((function r(){var n;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l.qx&&"undefined"!=typeof FormData&&e.body instanceof FormData&&(e.formData=function(e){var t,r,n={},i=f(e.entries());try{for(i.s();!(r=i.n()).done;){var o=u(r.value,2),a=o[0],s=o[1];null!==(t=n[a])&&void 0!==t||(n[a]=[]),n[a].push(s)}}catch(e){i.e(e)}finally{i.f()}return n}(e.body),e.body=void 0),!e.formData){r.next=9;break}if(!(n=e.headers.get("Content-Type"))||-1===n.indexOf("application/x-www-form-urlencoded")){r.next=6;break}e.body=function(e){for(var t=new URLSearchParams,r=0,n=Object.entries(e);r<n.length;r++){var i=u(n[r],2),o=i[0],a=i[1];if(Array.isArray(a)){var s,c=f(a);try{for(c.s();!(s=c.n()).done;){var l=s.value;t.append(o,l.toString())}}catch(e){c.e(e)}finally{c.f()}}else t.append(o,a.toString())}return t.toString()}(e.formData),r.next=8;break;case 6:return r.next=8,function(){var e=S(N().mark((function e(t,r){var n,i,o,a,s,c,p,d,h,m,g,y;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r.headers.get("Content-Type"))||n.startsWith("multipart/form-data")){e.next=3;break}return e.abrupt("return");case 3:r.headers.set("Content-Type",null!=n?n:"multipart/form-data"),i=[],o=0,a=Object.entries(t);case 6:if(!(o<a.length)){e.next=34;break}s=u(a[o],2),c=s[0],p=s[1],d=f(Array.isArray(p)?p:[p]),e.prev=9,d.s();case 11:if((h=d.n()).done){e.next=23;break}if("string"!=typeof(m=h.value)){e.next=17;break}i.push({headers:fe({"Content-Disposition":'form-data; name="'.concat(c,'"')}),body:(0,l.Al)(m,"utf-8")}),e.next=21;break;case 17:if(null!=m&&"object"==D(m)){e.next=19;break}throw new Error("Unexpected value for key ".concat(c,": ").concat(m,". Value should be serialized to string first."));case 19:g=m.name||"blob",(y=fe()).set("Content-Disposition",'form-data; name="'.concat(c,'"; filename="').concat(g,'"')),y.set("Content-Type",m.type||"application/octet-stream"),i.push({headers:y,body:m});case 21:e.next=11;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(9),d.e(e.t0);case 28:return e.prev=28,d.f(),e.finish(28);case 31:o++,e.next=6;break;case 34:r.multipartBody={parts:i};case 35:case"end":return e.stop()}}),e,null,[[9,25,28,31]])})));return function(t,r){return e.apply(this,arguments)}}()(e.formData,e);case 8:e.formData=void 0;case 9:return r.abrupt("return",t(e));case 10:case"end":return r.stop()}}),r)})))()}},{beforePolicies:[W]}),o.addPolicy(function(){var e,t=L((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgentPrefix);return{name:j,sendRequest:(e=S(N().mark((function e(r,n){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r.headers.has(B),e.t0){e.next=8;break}return e.t1=r.headers,e.t2=B,e.next=6,t;case 6:e.t3=e.sent,e.t1.set.call(e.t1,e.t2,e.t3);case 8:return e.abrupt("return",n(r));case 9:case"end":return e.stop()}}),e)}))),function(t,r){return e.apply(this,arguments)})}}(e.userAgentOptions)),o.addPolicy(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"x-ms-client-request-id";return{name:Ce,sendRequest:(e=S(N().mark((function e(r,n){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(r.headers.has(t)||r.headers.set(t,r.requestId),n(r)));case 1:case"end":return e.stop()}}),e)}))),function(t,r){return e.apply(this,arguments)})}}(null===(t=e.telemetryOptions)||void 0===t?void 0:t.clientRequestIdHeaderName)),o.addPolicy({name:W,sendRequest:function(e,t){return S(N().mark((function r(){var n,i,o,a,s,c,p;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.multipartBody){r.next=2;break}return r.abrupt("return",t(e));case 2:if(!e.body){r.next=4;break}throw new Error("multipartBody and regular body cannot be set at the same time");case 4:if(i=e.multipartBody.boundary,o=null!==(n=e.headers.get("Content-Type"))&&void 0!==n?n:"multipart/mixed",a=o.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/)){r.next=8;break}throw new Error("Got multipart request body, but content-type header was not multipart: ".concat(o));case 8:if(s=u(a,3),c=s[1],!(p=s[2])||!i||p===i){r.next=11;break}throw new Error("Multipart boundary was specified as ".concat(p," in the header, but got ").concat(i," in the request body"));case 11:return null!=i||(i=p),i?function(e){if(e.length>V)throw new Error('Multipart boundary "'.concat(e,'" exceeds maximum length of 70 characters'));if(Array.from(e).some((function(e){return!Y.has(e)})))throw new Error('Multipart boundary "'.concat(e,'" contains invalid characters'))}(i):i="----AzSDKFormBoundary".concat((0,l.N4)()),e.headers.set("Content-Type","".concat(c,"; boundary=").concat(i)),r.next=16,function(){var e=S(N().mark((function e(t,r,n){var i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=[(0,l.Al)("--".concat(n),"utf-8")].concat(m(r.flatMap((function(e){return[(0,l.Al)("\r\n","utf-8"),(0,l.Al)(K(e.headers),"utf-8"),(0,l.Al)("\r\n","utf-8"),e.body,(0,l.Al)("\r\n--".concat(n),"utf-8")]}))),[(0,l.Al)("--\r\n\r\n","utf-8")]),o=function(e){var t,r=0,n=f(e);try{for(n.s();!(t=n.n()).done;){var i=$(t.value);if(void 0===i)return;r+=i}}catch(e){n.e(e)}finally{n.f()}return r}(i),o&&t.headers.set("Content-Length",o),e.next=4,function(){var e=S(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(function(){var e=t.map((function(e){return"function"==typeof e?e():e})).map(G);return F.Readable.from(function(){return(0,U.AQ)(this,arguments,N().mark((function t(){var r,n,i,o,a,s,c,u,l,p,d;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=f(e),t.prev=1,a.s();case 3:if((s=a.n()).done){t.next=37;break}c=s.value,t.prev=5,l=!0,n=void 0,p=(0,U.xN)(c);case 7:return t.next=9,(0,U.N3)(p.next());case 9:if(r=(u=t.sent).done){t.next=19;break}return o=u.value,l=!1,d=o,t.next=14,(0,U.N3)(d);case 14:return t.next=16,t.sent;case 16:l=!0,t.next=7;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(5),n={error:t.t0};case 24:if(t.prev=24,t.prev=25,t.t1=l||r||!(i=p.return),t.t1){t.next=30;break}return t.next=30,(0,U.N3)(i.call(p));case 30:if(t.prev=30,!n){t.next=33;break}throw n.error;case 33:return t.finish(30);case 34:return t.finish(24);case 35:t.next=3;break;case 37:t.next=42;break;case 39:t.prev=39,t.t2=t.catch(1),a.e(t.t2);case 42:return t.prev=42,a.f(),t.finish(42);case 45:case"end":return t.stop()}}),t,null,[[1,39,42,45],[5,21,24,35],[25,,30,34]])})))}())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(i);case 4:t.body=e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()(e,e.multipartBody.parts,i);case 16:return e.multipartBody=void 0,r.abrupt("return",t(e));case 18:case"end":return r.stop()}}),r)})))()}},{afterPhase:"Deserialize"}),o.addPolicy(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:pe,sendRequest:le([{name:"throttlingRetryStrategy",retry:function(e){var t=ie(e.response);return Number.isFinite(t)?{retryAfterInMs:t}:{skipStrategy:!0}}},se(t)],{maxRetries:null!==(e=t.maxRetries)&&void 0!==e?e:R}).sendRequest}}(e.retryOptions),{phase:"Retry"}),o.addPolicy(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=L(e.userAgentPrefix),r=new y({additionalAllowedQueryParameters:e.additionalAllowedQueryParameters}),n=function(){try{return(0,Ne.y)({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:O})}catch(e){return void c.warning("Error when creating the TracingClient: ".concat((0,l.u1)(e)))}}();return{name:Me,sendRequest:function(e,i){return S(N().mark((function o(){var a,s,p,d,h,f,m,g;return N().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n&&(null===(a=e.tracingOptions)||void 0===a?void 0:a.tracingContext)){o.next=2;break}return o.abrupt("return",i(e));case 2:return o.next=4,t;case 4:if(p=o.sent,d={"http.url":r.sanitizeUrl(e.url),"http.method":e.method,"http.user_agent":p,requestId:e.requestId},p&&(d["http.user_agent"]=p),h=null!==(s=function(e,t,r){try{var n=e.startSpan("HTTP ".concat(t.method),{tracingOptions:t.tracingOptions},{spanKind:"client",spanAttributes:r}),i=n.span,o=n.updatedOptions;if(!i.isRecording())return void i.end();for(var a=e.createRequestHeaders(o.tracingOptions.tracingContext),s=0,p=Object.entries(a);s<p.length;s++){var d=u(p[s],2),h=d[0],f=d[1];t.headers.set(h,f)}return{span:i,tracingContext:o.tracingOptions.tracingContext}}catch(e){return void c.warning("Skipping creating a tracing span due to an error: ".concat((0,l.u1)(e)))}}(n,e,d))&&void 0!==s?s:{},f=h.span,m=h.tracingContext,f&&m){o.next=10;break}return o.abrupt("return",i(e));case 10:return o.prev=10,o.next=13,n.withContext(m,i,e);case 13:return g=o.sent,o.abrupt("return",(function(e,t){try{e.setAttribute("http.status_code",t.status);var r=t.headers.get("x-ms-request-id");r&&e.setAttribute("serviceRequestId",r),e.setStatus({status:"success"}),e.end()}catch(e){c.warning("Skipping tracing span processing due to an error: ".concat((0,l.u1)(e)))}}(f,g),g));case 17:throw o.prev=17,o.t0=o.catch(10),function(e,t){try{e.setStatus({status:"error",error:(0,l.bJ)(t)?t:void 0}),((r=t)instanceof Le||(0,l.bJ)(r)&&"RestError"===r.name)&&t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(r){c.warning("Skipping tracing span processing due to an error: ".concat((0,l.u1)(r)))}var r}(f,o.t0),o.t0;case 20:case"end":return o.stop()}}),o,null,[[10,17]])})))()}}}(Object.assign(Object.assign({},e.userAgentOptions),e.loggingOptions)),{afterPhase:"Retry"}),l.qx&&o.addPolicy(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).maxRetries,t=void 0===e?20:e;return{name:b,sendRequest:function(e,r){return S(N().mark((function n(){var i;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(e);case 2:return i=n.sent,n.abrupt("return",w(r,i,t));case 4:case"end":return n.stop()}}),n)})))()}}}(e.redirectOptions),{afterPhase:"Retry"}),o.addPolicy(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null!==(e=t.logger)&&void 0!==e?e:c.info,n=new y({additionalAllowedHeaderNames:t.additionalAllowedHeaderNames,additionalAllowedQueryParameters:t.additionalAllowedQueryParameters});return{name:v,sendRequest:function(e,t){return S(N().mark((function i(){var o;return N().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r.enabled){i.next=2;break}return i.abrupt("return",t(e));case 2:return r("Request: ".concat(n.sanitize(e))),i.next=5,t(e);case 5:return o=i.sent,i.abrupt("return",(r("Response status code: ".concat(o.status)),r("Headers: ".concat(n.sanitize(o.headers))),o));case 7:case"end":return i.stop()}}),i)})))()}}}(e.loggingOptions),{afterPhase:"Sign"}),o}var De=r(7067),Be=r(4708),je=r(8522),Ue={};function Fe(e){return e&&"function"==typeof e.pipe}function ze(e){return new Promise((function(t){e.on("close",t),e.on("end",t),e.on("error",t)}))}function He(e){return e&&"number"==typeof e.byteLength}var Qe=function(e){function t(e){var r;return P(this,t),(r=_(this,t)).loadedBytes=0,r.progressCallback=e,r}return C(t,e),M(t,[{key:"_transform",value:function(e,t,r){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),r()}catch(e){r(e)}}}])}(F.Transform),Ge=function(){return M((function e(){P(this,e),this.cachedHttpsAgents=new WeakMap}),[{key:"sendRequest",value:(e=S(N().mark((function e(t){var r,n,i,o,a,s,u,l,p,d,h,f,m,g,y,v,b,E,w,A;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=new AbortController,!t.abortSignal){e.next=5;break}if(!t.abortSignal.aborted){e.next=4;break}throw new J("The operation was aborted.");case 4:a=function(e){"abort"===e.type&&o.abort()},t.abortSignal.addEventListener("abort",a);case 5:return t.timeout>0&&setTimeout((function(){o.abort()}),t.timeout),s=t.headers.get("Accept-Encoding"),u=(null==s?void 0:s.includes("gzip"))||(null==s?void 0:s.includes("deflate")),(p="function"==typeof t.body?t.body():t.body)&&!t.headers.has("Content-Length")&&(d=function(e){return e?Buffer.isBuffer(e)?e.length:Fe(e)?null:He(e)?e.byteLength:"string"==typeof e?Buffer.from(e).length:null:0}(p),null!==d&&t.headers.set("Content-Length",d)),e.prev=9,p&&t.onUploadProgress&&(h=t.onUploadProgress,(f=new Qe(h)).on("error",(function(e){c.error("Error in upload progress",e)})),Fe(p)?p.pipe(f):f.end(p),p=f),e.next=13,this.makeRequest(t,o,p);case 13:if(m=e.sent,g=function(e){for(var t=fe(),r=0,n=Object.keys(e.headers);r<n.length;r++){var i=n[r],o=e.headers[i];Array.isArray(o)?o.length>0&&t.set(i,o[0]):o&&t.set(i,o)}return t}(m),y={status:null!==(r=m.statusCode)&&void 0!==r?r:0,headers:g,request:t},"HEAD"!==t.method){e.next=18;break}return e.abrupt("return",(m.resume(),y));case 18:if(l=u?function(e,t){var r=t.get("Content-Encoding");if("gzip"===r){var n=je.createGunzip();return e.pipe(n),n}if("deflate"===r){var i=je.createInflate();return e.pipe(i),i}return e}(m,g):m,(v=t.onDownloadProgress)&&((b=new Qe(v)).on("error",(function(e){c.error("Error in download progress",e)})),l.pipe(b),l=b),!(null===(n=t.streamResponseStatusCodes)||void 0===n?void 0:n.has(Number.POSITIVE_INFINITY))&&!(null===(i=t.streamResponseStatusCodes)||void 0===i?void 0:i.has(y.status))){e.next=25;break}y.readableStreamBody=l,e.next=28;break;case 25:return e.next=27,A=l,new Promise((function(e,t){var r=[];A.on("data",(function(e){Buffer.isBuffer(e)?r.push(e):r.push(Buffer.from(e))})),A.on("end",(function(){e(Buffer.concat(r).toString("utf8"))})),A.on("error",(function(e){e&&"AbortError"===(null==e?void 0:e.name)?t(e):t(new Le("Error reading response as text: ".concat(e.message),{code:Le.PARSE_ERROR}))}))}));case 27:y.bodyAsText=e.sent;case 28:return e.abrupt("return",y);case 29:return e.prev=29,t.abortSignal&&a&&(E=Promise.resolve(),Fe(p)&&(E=ze(p)),w=Promise.resolve(),Fe(l)&&(w=ze(l)),Promise.all([E,w]).then((function(){var e;a&&(null===(e=t.abortSignal)||void 0===e||e.removeEventListener("abort",a))})).catch((function(e){c.warning("Error when cleaning up abortListener on httpRequest",e)}))),e.finish(29);case 32:case"end":return e.stop()}}),e,this,[[9,,29,32]])}))),function(t){return e.apply(this,arguments)})},{key:"makeRequest",value:function(e,t,r){var n,i=new URL(e.url),o="https:"!==i.protocol;if(o&&!e.allowInsecureConnection)throw new Error("Cannot connect to ".concat(e.url," while allowInsecureConnection is false."));var a={agent:null!==(n=e.agent)&&void 0!==n?n:this.getOrCreateAgent(e,o),hostname:i.hostname,path:"".concat(i.pathname).concat(i.search),port:i.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0})};return new Promise((function(n,i){var s=o?De.request(a,n):Be.request(a,n);s.once("error",(function(t){var r;i(new Le(t.message,{code:null!==(r=t.code)&&void 0!==r?r:Le.REQUEST_SEND_ERROR,request:e}))})),t.signal.addEventListener("abort",(function(){var e=new J("The operation was aborted.");s.destroy(e),i(e)})),r&&Fe(r)?r.pipe(s):r?"string"==typeof r||Buffer.isBuffer(r)?s.end(r):He(r)?s.end(ArrayBuffer.isView(r)?Buffer.from(r.buffer):Buffer.from(r)):(c.error("Unrecognized body type",r),i(new Le("Unrecognized body type"))):s.end()}))}},{key:"getOrCreateAgent",value:function(e,t){var r,n=e.disableKeepAlive;if(t)return n?De.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new De.Agent({keepAlive:!0})),this.cachedHttpAgent);if(n&&!e.tlsSettings)return Be.globalAgent;var i=null!==(r=e.tlsSettings)&&void 0!==r?r:Ue,o=this.cachedHttpsAgents.get(i);return o&&o.options.keepAlive===!n||(c.info("No cached TLS Agent exist, creating a new Agent"),o=new Be.Agent(Object.assign({keepAlive:!n},i)),this.cachedHttpsAgents.set(i,o)),o}}]);var e}();function Ke(){return new Ge}var $e=M((function e(t){var r,n,i,o,a,s,c;P(this,e),this.url=t.url,this.body=t.body,this.headers=null!==(r=t.headers)&&void 0!==r?r:fe(),this.method=null!==(n=t.method)&&void 0!==n?n:"GET",this.timeout=null!==(i=t.timeout)&&void 0!==i?i:0,this.multipartBody=t.multipartBody,this.formData=t.formData,this.disableKeepAlive=null!==(o=t.disableKeepAlive)&&void 0!==o&&o,this.proxySettings=t.proxySettings,this.streamResponseStatusCodes=t.streamResponseStatusCodes,this.withCredentials=null!==(a=t.withCredentials)&&void 0!==a&&a,this.abortSignal=t.abortSignal,this.tracingOptions=t.tracingOptions,this.onUploadProgress=t.onUploadProgress,this.onDownloadProgress=t.onDownloadProgress,this.requestId=t.requestId||(0,l.N4)(),this.allowInsecureConnection=null!==(s=t.allowInsecureConnection)&&void 0!==s&&s,this.enableBrowserStreams=null!==(c=t.enableBrowserStreams)&&void 0!==c&&c}));function We(e){return new $e(e)}var Ve={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:12e4},Ye="bearerTokenAuthenticationPolicy";function Xe(e){return Je.apply(this,arguments)}function Je(){return Je=S(N().mark((function e(t){var r,n,i,o,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.scopes,n=t.getAccessToken,i=t.request,o={abortSignal:i.abortSignal,tracingOptions:i.tracingOptions},e.next=6,n(r,o);case 6:(a=e.sent)&&t.request.headers.set("Authorization","Bearer ".concat(a.token));case 8:case"end":return e.stop()}}),e)}))),Je.apply(this,arguments)}function Ze(e){var t,r=e.credential,n=e.scopes,i=e.challengeCallbacks,o=e.logger||c,a=Object.assign({authorizeRequest:null!==(t=null==i?void 0:i.authorizeRequest)&&void 0!==t?t:Xe,authorizeRequestOnChallenge:null==i?void 0:i.authorizeRequestOnChallenge},i),s=r?function(e){var t,r=null,n=null,i=Object.assign(Object.assign({},Ve),void 0),o={get isRefreshing(){return null!==r},get shouldRefresh(){var e;return!o.isRefreshing&&(null!==(e=null==n?void 0:n.expiresOnTimestamp)&&void 0!==e?e:0)-i.refreshWindowInMs<Date.now()},get mustRefresh(){return null===n||n.expiresOnTimestamp-i.forcedRefreshWindowInMs<Date.now()}};function a(a,s){var c,u;return o.isRefreshing||(r=(u=S(N().mark((function e(t,r,n){var i,o,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){return(o=S(N().mark((function e(){var r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Date.now()<n){e.next=7;break}return e.next=3,t();case 3:if(null!==(r=e.sent)){e.next=6;break}throw new Error("Failed to refresh access token.");case 6:return e.abrupt("return",r);case 7:return e.prev=7,e.next=10,t();case 10:return e.abrupt("return",e.sent);case 13:return e.prev=13,e.t0=e.catch(7),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[7,13]])})))).apply(this,arguments)},i=function(){return o.apply(this,arguments)},e.next=4,i();case 4:a=e.sent;case 5:if(null!==a){e.next=13;break}return e.next=8,ee(r);case 8:return e.next=10,i();case 10:a=e.sent;case 11:e.next=5;break;case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),function(e,t,r){return u.apply(this,arguments)})((function(){return e.getToken(a,s)}),i.retryIntervalInMs,null!==(c=null==n?void 0:n.expiresOnTimestamp)&&void 0!==c?c:Date.now()).then((function(e){return r=null,n=e,t=s.tenantId,n})).catch((function(e){throw r=null,n=null,t=void 0,e}))),r}return function(){var e=S(N().mark((function e(r,i){var s,c;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Boolean(i.claims),c=t!==i.tenantId,e.abrupt("return",(s&&(n=null),c||s||o.mustRefresh?a(r,i):(o.shouldRefresh&&a(r,i),n)));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}(r):function(){return Promise.resolve(null)};return{name:Ye,sendRequest:function(e,t){return S(N().mark((function r(){var i,c;return N().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.url.toLowerCase().startsWith("https://")){r.next=2;break}throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");case 2:return r.next=4,a.authorizeRequest({scopes:Array.isArray(n)?n:[n],request:e,getAccessToken:s,logger:o});case 4:return r.prev=4,r.next=7,t(e);case 7:i=r.sent,r.next=13;break;case 10:r.prev=10,r.t0=r.catch(4),c=r.t0,i=r.t0.response;case 13:if(r.t1=a.authorizeRequestOnChallenge&&401===(null==i?void 0:i.status)&&function(e){var t=e.headers.get("WWW-Authenticate");if(401===e.status&&t)return t}(i),!r.t1){r.next=18;break}return r.next=17,a.authorizeRequestOnChallenge({scopes:Array.isArray(n)?n:[n],request:e,response:i,getAccessToken:s,logger:o});case 17:r.t1=r.sent;case 18:if(!r.t1){r.next=20;break}return r.abrupt("return",t(e));case 20:if(!c){r.next=22;break}throw c;case 22:return r.abrupt("return",i);case 23:case"end":return r.stop()}}),r,null,[[4,10]])})))()}}}},1652:function(e,t,r){"use strict";r.d(t,{y:function(){return c}});var n={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new o(e.parentContext);return e.span&&(t=t.setValue(n.span,e.span)),e.namespace&&(t=t.setValue(n.namespace,e.namespace)),t}var o=function(){function e(t){P(this,e),this._contextMap=t instanceof e?new Map(t._contextMap):new Map}return M(e,[{key:"setValue",value:function(t,r){var n=new e(this);return n._contextMap.set(t,r),n}},{key:"getValue",value:function(e){return this._contextMap.get(e)}},{key:"deleteValue",value:function(t){var r=new e(this);return r._contextMap.delete(t),r}}])}(),a=r(2583).w;function s(){return a.instrumenterImplementation||(a.instrumenterImplementation={createRequestHeaders:function(){return{}},parseTraceparentHeader:function(){},startSpan:function(e,t){return{span:{end:function(){},isRecording:function(){return!1},recordException:function(){},setAttribute:function(){},setStatus:function(){}},tracingContext:i({parentContext:t.tracingContext})}},withContext:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return t.apply(void 0,n)}}),a.instrumenterImplementation}function c(e){var t,r=e.namespace,i=e.packageName,o=e.packageVersion;function a(e,t,a){var c,u=s().startSpan(e,Object.assign(Object.assign({},a),{packageName:i,packageVersion:o,tracingContext:null===(c=null==t?void 0:t.tracingOptions)||void 0===c?void 0:c.tracingContext})),l=u.tracingContext,p=u.span;return l.getValue(n.namespace)||(l=l.setValue(n.namespace,r)),p.setAttribute("az.namespace",l.getValue(n.namespace)),{span:p,updatedOptions:Object.assign({},t,{tracingOptions:Object.assign(Object.assign({},null==t?void 0:t.tracingOptions),{tracingContext:l})})}}function c(e,t){for(var r,n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return(r=s()).withContext.apply(r,[e,t].concat(i))}return{startSpan:a,withSpan:(t=S(N().mark((function e(t,r,n,i){var o,s,u,l;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a(t,r,i),s=o.span,u=o.updatedOptions,e.prev=1,e.next=4,c(u.tracingOptions.tracingContext,(function(){return Promise.resolve(n(u,s))}));case 4:return l=e.sent,e.abrupt("return",(s.setStatus({status:"success"}),l));case 8:throw e.prev=8,e.t0=e.catch(1),s.setStatus({status:"error",error:e.t0}),e.t0;case 11:return e.prev=11,s.end(),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])}))),function(e,r,n,i){return t.apply(this,arguments)}),withContext:c,parseTraceparentHeader:function(e){return s().parseTraceparentHeader(e)},createRequestHeaders:function(e){return s().createRequestHeaders(e)}}}},3985:function(e,t,r){"use strict";r.d(t,{cb:function(){return o},u1:function(){return u},Wq:function(){return a},bJ:function(){return c},Ll:function(){return E},qx:function(){return b},Gv:function(){return s},N4:function(){return v},Al:function(){return w}});var n=function(e){function t(e){var r;return P(this,t),(r=_(this,t,[e])).name="AbortError",r}return C(t,e),M(t)}(d(Error)),i="The delay was aborted.";function o(e,t){var r,o=null!=t?t:{},a=o.abortSignal,s=o.abortErrorMsg;return function(t,i){var o=null!=i?i:{},a=o.cleanupBeforeAbort,s=o.abortSignal,c=o.abortErrorMsg;return new Promise((function(t,i){function o(){i(new n(null!=c?c:"The operation was aborted."))}function u(){null==s||s.removeEventListener("abort",l)}function l(){null==a||a(),u(),o()}if(null==s?void 0:s.aborted)return o();try{!function(t){r=setTimeout(t,e)}((function(e){u(),t(e)}))}catch(e){i(e)}null==s||s.addEventListener("abort",l)}))}(0,{cleanupBeforeAbort:function(){return clearTimeout(r)},abortSignal:a,abortErrorMsg:null!=s?s:i})}function a(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function s(e){return!("object"!=D(e)||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function c(e){if(s(e)){var t="string"==typeof e.name,r="string"==typeof e.message;return t&&r}return!1}function u(e){if(c(e))return e.message;var t;try{t="object"==D(e)&&e?JSON.stringify(e):String(e)}catch(e){t="[unable to stringify input]"}return"Unknown error ".concat(t)}var l,p,h,f,m,g=r(6982),y="function"==typeof(null===(l=null===globalThis||void 0===globalThis?void 0:globalThis.crypto)||void 0===l?void 0:l.randomUUID)?globalThis.crypto.randomUUID.bind(globalThis.crypto):g.randomUUID;function v(){return y()}"undefined"!=typeof window&&window.document,"object"==("undefined"==typeof self?"undefined":D(self))&&"function"==typeof(null===self||void 0===self?void 0:self.importScripts)&&("DedicatedWorkerGlobalScope"===(null===(p=self.constructor)||void 0===p?void 0:p.name)||"ServiceWorkerGlobalScope"===(null===(h=self.constructor)||void 0===h?void 0:h.name)||null===(f=self.constructor)||void 0===f||f.name),"undefined"!=typeof Deno&&void 0!==Deno.version&&Deno.version.deno,"undefined"!=typeof Bun&&Bun.version;var b=void 0!==globalThis.process&&Boolean(globalThis.process.version)&&Boolean(null===(m=globalThis.process.versions)||void 0===m?void 0:m.node),E=b;function w(e,t){return Buffer.from(e,t)}"undefined"!=typeof navigator&&(null===navigator||void 0===navigator||navigator.product)},5136:function(e,t,r){"use strict";r.d(t,{KV:function(){return k},XM:function(){return S}});var n,i=r(8161),o=r(7975),a=r(1708),s="undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0,c=[],u=[],l=[];s&&d(s);var p=Object.assign((function(e){return m(e)}),{enable:d,enabled:h,disable:function(){var e=n||"";return d(""),e},log:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];a.stderr.write("".concat(o.format.apply(o,[e].concat(r))).concat(i.EOL))}});function d(e){n=e,c=[],u=[];var t,r=/\*/g,i=e.split(",").map((function(e){return e.trim().replace(r,".*?")})),o=f(i);try{for(o.s();!(t=o.n()).done;){var a=t.value;a.startsWith("-")?u.push(new RegExp("^".concat(a.substr(1),"$"))):c.push(new RegExp("^".concat(a,"$")))}}catch(e){o.e(e)}finally{o.f()}var s,p=f(l);try{for(p.s();!(s=p.n()).done;){var d=s.value;d.enabled=h(d.namespace)}}catch(e){p.e(e)}finally{p.f()}}function h(e){if(e.endsWith("*"))return!0;var t,r=f(u);try{for(r.s();!(t=r.n()).done;)if(t.value.test(e))return!1}catch(e){r.e(e)}finally{r.f()}var n,i=f(c);try{for(i.s();!(n=i.n()).done;)if(n.value.test(e))return!0}catch(e){i.e(e)}finally{i.f()}return!1}function m(e){var t=Object.assign((function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.enabled&&(n.length>0&&(n[0]="".concat(e," ").concat(n[0])),t.log.apply(t,n))}),{enabled:h(e),destroy:g,log:p.log,namespace:e,extend:y});return l.push(t),t}function g(){var e=l.indexOf(this);return e>=0&&(l.splice(e,1),!0)}function y(e){var t=m("".concat(this.namespace,":").concat(e));return t.log=this.log,t}var v,b=p,E=new Set,w="undefined"!=typeof process&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,A=b("azure");A.log=function(){b.log.apply(b,arguments)};var x=["verbose","info","warning","error"];function S(){return v}w&&(O(w)?function(e){if(e&&!O(e))throw new Error("Unknown log level '".concat(e,"'. Acceptable values: ").concat(x.join(",")));v=e;var t,r=[],n=f(E);try{for(n.s();!(t=n.n()).done;){var i=t.value;C(i)&&r.push(i.namespace)}}catch(e){n.e(e)}finally{n.f()}b.enable(r.join(","))}(w):console.error("AZURE_LOG_LEVEL set to unknown log level '".concat(w,"'; logging is not enabled. Acceptable values: ").concat(x.join(", "),".")));var _={verbose:400,info:300,warning:200,error:100};function k(e){var t=A.extend(e);return I(A,t),{error:T(t,"error"),warning:T(t,"warning"),info:T(t,"info"),verbose:T(t,"verbose")}}function I(e,t){t.log=function(){e.log.apply(e,arguments)}}function T(e,t){var r=Object.assign(e.extend(t),{level:t});if(I(e,r),C(r)){var n=b.disable();b.enable(n+","+r.namespace)}return E.add(r),r}function C(e){return Boolean(v&&_[e.level]<=_[v])}function O(e){return x.includes(e)}},1635:function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function i(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function o(e){return this instanceof o?(this.v=e,this):new o(e)}function a(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),n[Symbol.asyncIterator]=function(){return this},n;function s(e,t){i[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||c(e,t)}))},t&&(n[e]=t(n[e])))}function c(e,t){try{(r=i[e](t)).value instanceof o?Promise.resolve(r.value.v).then(u,l):p(a[0][2],r)}catch(e){p(a[0][3],e)}var r}function u(e){c("next",e)}function l(e){c("throw",e)}function p(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1])}}function s(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:o(e[n](t)),done:!1}:i?i(t):t}:i}}function c(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}r.d(t,{AQ:function(){return a},Me:function(){return s},N3:function(){return o},Tt:function(){return n},sH:function(){return i},xN:function(){return c}}),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError},56:function(e){"use strict";e.exports=JSON.parse('{"name":"dotenv","version":"16.4.5","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"types":"./lib/main.d.ts","require":"./lib/main.js","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","lint-readme":"standard-markdown","pretest":"npm run lint && npm run dts-check","test":"tap tests/*.js --100 -Rspec","test:coverage":"tap --coverage-report=lcov","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"funding":"https://dotenvx.com","keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3","decache":"^4.6.1","sinon":"^14.0.1","standard":"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0","tap":"^16.3.0","tar":"^6.1.11","typescript":"^4.8.4"},"engines":{"node":">=12"},"browser":{"fs":false}}')},3267:function(e){"use strict";e.exports=JSON.parse('[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]')},4488:function(e){"use strict";e.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},1166:function(e){"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},2324:function(e){"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},6406:function(e){"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},9129:function(e){"use strict";e.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},5914:function(e){"use strict";e.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]')},679:function(e){"use strict";e.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},1813:function(e){"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},9415:function(e){"use strict";e.exports=JSON.parse('{"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/font-woff":[],"application/font-woff2":[],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/prs.cww":["cww"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":[],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":[],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":[],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":[],"application/x-msdownload":["com","bat"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["wmf","emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":[],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":[],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":[],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/wav":["wav"],"audio/wave":[],"audio/webm":["weba"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":[],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":[],"audio/x-wav":[],"audio/xm":["xm"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/ktx":["ktx"],"image/png":["png"],"image/prs.btif":["btif"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":[],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/webp":["webp"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":[],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/rfc822":["eml","mime"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/hjson":["hjson"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/prs.lines.tag":["dsc"],"text/richtext":["rtx"],"text/rtf":[],"text/sgml":["sgml","sgm"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/vtt":["vtt"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":[],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"text/xml":[],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/webm":["webm"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}')},8342:function(e){"use strict";e.exports={rE:"1.15.0"}},7662:function(e){"use strict";e.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a Teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Too Early","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')}},g={};function y(e){var t=g[e];if(void 0!==t)return t.exports;var r=g[e]={id:e,loaded:!1,exports:{}};return p[e].call(r.exports,r,r.exports,y),r.loaded=!0,r.exports}y.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return y.d(t,{a:t}),t},l=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},y.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==D(e)&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var n=Object.create(null);y.r(n);var i={};t=t||[null,l({}),l([]),l(l)];for(var o=2&r&&e;"object"==D(o)&&!~t.indexOf(o);o=l(o))Object.getOwnPropertyNames(o).forEach((function(t){return i[t]=function(){return e[t]}}));return i.default=function(){return e},y.d(n,i),n},y.d=function(e,t){for(var r in t)y.o(t,r)&&!y.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},y.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},y.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},y.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var v=y(8128);e.exports=v}()},4219:(e,t,r)=>{var n=r(9857),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/configs/"+this.id,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"config not found",500:"server error",503:"node is not part of a swarm"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.update=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/configs/"+this.id+"/update?",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"config not found",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/configs/"+this.id,method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"config not found",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},706:(e,t,r)=>{r(9857).extend;var n=r(6964),i=r(9857),o=function(e,t){this.modem=e,this.id=t,this.defaultOptions={top:{},start:{},commit:{},stop:{},pause:{},unpause:{},restart:{},resize:{},attach:{},remove:{},copy:{},kill:{},exec:{},rename:{},log:{},stats:{},getArchive:{},infoArchive:{},putArchive:{},update:{},wait:{}}};o.prototype[r(9023).inspect.custom]=function(){return this},o.prototype.inspect=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/json?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,404:"no such container",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.rename=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.rename),o={path:"/containers/"+this.id+"/rename?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.update=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.update),o={path:"/containers/"+this.id+"/update",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.top=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.top),o={path:"/containers/"+this.id+"/top?",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.changes=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/changes",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,404:"no such container",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.listCheckpoint=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/checkpoints?",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.deleteCheckpoint=function(e,t,r){var n=this,o=i.processArgs(t,r),a={path:"/containers/"+this.id+"/checkpoints/"+e+"?",method:"DELETE",abortSignal:o.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:o.opts};if(void 0===o.callback)return new this.modem.Promise((function(e,t){n.modem.dial(a,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(a,(function(e,t){o.callback(e,t)}))},o.prototype.createCheckpoint=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/checkpoints",method:"POST",abortSignal:n.opts.abortSignal,allowEmpty:!0,statusCodes:{200:!0,201:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.export=function(e,t){var r=this,n=i.processArgs(e,t),o={path:"/containers/"+this.id+"/export",method:"GET",abortSignal:n.opts.abortSignal,isStream:!0,statusCodes:{200:!0,404:"no such container",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.start=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.start),o={path:"/containers/"+this.id+"/start?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,304:"container already started",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.pause=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.pause),o={path:"/containers/"+this.id+"/pause",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.unpause=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.unpause),o={path:"/containers/"+this.id+"/unpause",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.exec=function(e,t){var r=this,o=i.processArgs(e,t,this.defaultOptions.exec),a={path:"/containers/"+this.id+"/exec",method:"POST",abortSignal:o.opts.abortSignal,statusCodes:{200:!0,201:!0,404:"no such container",409:"container stopped/paused",500:"server error"},options:o.opts};if(void 0===o.callback)return new this.modem.Promise((function(e,t){r.modem.dial(a,(function(i,o){if(i)return t(i);e(new n(r.modem,o.Id))}))}));this.modem.dial(a,(function(e,t){if(e)return o.callback(e,t);o.callback(e,new n(r.modem,t.Id))}))},o.prototype.commit=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.commit);n.opts.container=this.id;var o={path:"/commit?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,201:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.stop=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.stop),o={path:"/containers/"+this.id+"/stop?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,304:"container already stopped",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.restart=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.restart),o={path:"/containers/"+this.id+"/restart?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.kill=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.kill),o={path:"/containers/"+this.id+"/kill?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.resize=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.resize),o={path:"/containers/"+this.id+"/resize?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.attach=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.attach),o={path:"/containers/"+this.id+"/attach?",method:"POST",abortSignal:n.opts.abortSignal,isStream:!0,hijack:n.opts.hijack,openStdin:n.opts.stdin,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.wait=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.wait),o={path:"/containers/"+this.id+"/wait?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.remove=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.remove),o={path:"/containers/"+this.id+"?",method:"DELETE",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,400:"bad parameter",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.copy=function(e,t){var r=this;console.log("container.copy is deprecated since Docker v1.8.x");var n=i.processArgs(e,t,this.defaultOptions.copy),o={path:"/containers/"+this.id+"/copy",method:"POST",abortSignal:n.opts.abortSignal,isStream:!0,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.getArchive=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.getArchive),o={path:"/containers/"+this.id+"/archive?",method:"GET",abortSignal:n.opts.abortSignal,isStream:!0,statusCodes:{200:!0,400:"client error, bad parameters",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.infoArchive=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.infoArchive),o={path:"/containers/"+this.id+"/archive?",method:"HEAD",abortSignal:n.opts.abortSignal,isStream:!0,statusCodes:{200:!0,400:"client error, bad parameters",404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.putArchive=function(e,t,r){var n=this,o=i.processArgs(t,r,this.defaultOptions.putArchive),a={path:"/containers/"+this.id+"/archive?",method:"PUT",file:e,abortSignal:o.opts.abortSignal,statusCodes:{200:!0,400:"client error, bad parameters",403:"client error, permission denied",404:"no such container",500:"server error"},options:o.opts};if(void 0===o.callback)return new this.modem.Promise((function(e,t){n.modem.dial(a,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(a,(function(e,t){o.callback(e,t)}))},o.prototype.logs=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.log),o={path:"/containers/"+this.id+"/logs?",method:"GET",abortSignal:n.opts.abortSignal,isStream:n.opts.follow||!1,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){n.callback(e,t)}))},o.prototype.stats=function(e,t){var r=this,n=i.processArgs(e,t,this.defaultOptions.stats),o=!0;!1===n.opts.stream&&(o=!1);var a={path:"/containers/"+this.id+"/stats?",method:"GET",abortSignal:n.opts.abortSignal,isStream:o,statusCodes:{200:!0,404:"no such container",500:"server error"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(a,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(a,(function(e,t){n.callback(e,t)}))},e.exports=o},3841:(e,t,r)=>{var n=r(6261).EventEmitter,i=r(6779),o=r(706),a=r(4220),s=r(5107),c=r(3079),u=r(5306),l=r(934),p=r(7685),d=r(4219),h=r(9260),f=r(4145),m=r(6964),g=r(9857),y=g.extend,v=function(e){if(!(this instanceof v))return new v(e);var t=global.Promise;e&&e.Promise&&(t=e.Promise,1===Object.keys(e).length&&(e=void 0)),e&&e.modem?this.modem=e.modem:this.modem=new i(e),this.modem.Promise=t};v.prototype.createContainer=function(e,t){var r=this,n={path:"/containers/create?",method:"POST",options:e,authconfig:e.authconfig,abortSignal:e.abortSignal,statusCodes:{200:!0,201:!0,400:"bad parameter",404:"no such container",406:"impossible to attach",500:"server error"}};if(delete e.authconfig,void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(n,i){if(n)return t(n);e(r.getContainer(i.Id))}))}));this.modem.dial(n,(function(e,n){if(e)return t(e,n);t(e,r.getContainer(n.Id))}))},v.prototype.createImage=function(e,t,r){var n=this;r||"function"!=typeof t?r||t||(e=(t=e).authconfig):(r=t,e=(t=e).authconfig||void 0);var i={path:"/images/create?",method:"POST",options:t,authconfig:e,abortSignal:t.abortSignal,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},v.prototype.loadImage=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,t=null);var i={path:"/images/load?",method:"POST",options:t,file:e,abortSignal:t&&t.abortSignal,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},v.prototype.importImage=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,t=void 0),t||(t={}),t.fromSrc="-";var i={path:"/images/create?",method:"POST",options:t,file:e,abortSignal:t.abortSignal,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},v.prototype.checkAuth=function(e,t){var r=this,n={path:"/auth",method:"POST",options:e,abortSignal:e.abortSignal,statusCodes:{200:!0,204:!0,500:"server error"}};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},v.prototype.buildImage=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,t=null);var i={path:"/build?",method:"POST",file:void 0,options:t,abortSignal:t&&t.abortSignal,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(t&&(t.registryconfig&&(i.registryconfig=i.options.registryconfig,delete i.options.registryconfig),t.authconfig&&(i.authconfig=i.options.authconfig,delete i.options.authconfig)),void 0===r)return new n.modem.Promise((function(t,r){g.prepareBuildContext(e,(e=>{i.file=e,n.modem.dial(i,(function(e,n){if(e)return r(e);t(n)}))}))}));g.prepareBuildContext(e,(e=>{i.file=e,n.modem.dial(i,(function(e,t){r(e,t)}))}))},v.prototype.getContainer=function(e){return new o(this.modem,e)},v.prototype.getImage=function(e){return new a(this.modem,e)},v.prototype.getVolume=function(e){return new s(this.modem,e)},v.prototype.getPlugin=function(e,t){return new l(this.modem,e,t)},v.prototype.getService=function(e){return new u(this.modem,e)},v.prototype.getTask=function(e){return new h(this.modem,e)},v.prototype.getNode=function(e){return new f(this.modem,e)},v.prototype.getNetwork=function(e){return new c(this.modem,e)},v.prototype.getSecret=function(e){return new p(this.modem,e)},v.prototype.getConfig=function(e){return new d(this.modem,e)},v.prototype.getExec=function(e){return new m(this.modem,e)},v.prototype.listContainers=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/containers/json?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.listImages=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/images/json?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.getImages=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/images/get?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,isStream:!0,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.listServices=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/services?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.listNodes=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/nodes?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",404:"no such node",500:"server error",503:"node is not part of a swarm"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.listTasks=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/tasks?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.createSecret=function(e,t){var r=g.processArgs(e,t),n=this,i={path:"/secrets/create?",method:"POST",options:r.opts,abortSignal:r.opts.abortSignal,statusCodes:{200:!0,201:!0,406:"server error or node is not part of a swarm",409:"name conflicts with an existing object",500:"server error"}};if(void 0===r.callback)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,i){if(r)return t(r);e(n.getSecret(i.ID))}))}));this.modem.dial(i,(function(e,t){if(e)return r.callback(e,t);r.callback(e,n.getSecret(t.ID))}))},v.prototype.createConfig=function(e,t){var r=g.processArgs(e,t),n=this,i={path:"/configs/create?",method:"POST",options:r.opts,abortSignal:r.opts.abortSignal,statusCodes:{200:!0,201:!0,406:"server error or node is not part of a swarm",409:"name conflicts with an existing object",500:"server error"}};if(void 0===r.callback)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,i){if(r)return t(r);e(n.getConfig(i.ID))}))}));this.modem.dial(i,(function(e,t){if(e)return r.callback(e,t);r.callback(e,n.getConfig(t.ID))}))},v.prototype.listSecrets=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/secrets?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.listConfigs=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/configs?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.createPlugin=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/plugins/create?",method:"POST",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,204:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(i,o){if(i)return t(i);e(r.getPlugin(n.opts.name))}))}));this.modem.dial(i,(function(e,t){if(e)return n.callback(e,t);n.callback(e,r.getPlugin(n.opts.name))}))},v.prototype.listPlugins=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/plugins?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.pruneImages=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/images/prune?",method:"POST",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.pruneBuilder=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/build/prune",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.pruneContainers=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/containers/prune?",method:"POST",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.pruneVolumes=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/volumes/prune?",method:"POST",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.pruneNetworks=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/networks/prune?",method:"POST",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.createVolume=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/volumes/create?",method:"POST",allowEmpty:!0,options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,201:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(n,i){if(n)return t(n);e(r.getVolume(i.Name))}))}));this.modem.dial(i,(function(e,t){if(e)return n.callback(e,t);n.callback(e,r.getVolume(t.Name))}))},v.prototype.createService=function(e,t,r){r||"function"!=typeof t?t||r||(t=e):(r=t,e=(t=e).authconfig||void 0);var n=this,i={path:"/services/create",method:"POST",options:t,authconfig:e,abortSignal:t&&t.abortSignal,statusCodes:{200:!0,201:!0,500:"server error"}};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,i){if(r)return t(r);e(n.getService(i.ID||i.Id))}))}));this.modem.dial(i,(function(e,t){if(e)return r(e,t);r(e,n.getService(t.ID||t.Id))}))},v.prototype.listVolumes=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/volumes?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.createNetwork=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/networks/create?",method:"POST",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,201:!0,404:"driver not found",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(n,i){if(n)return t(n);e(r.getNetwork(i.Id))}))}));this.modem.dial(i,(function(e,t){if(e)return n.callback(e,t);n.callback(e,r.getNetwork(t.Id))}))},v.prototype.listNetworks=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/networks?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.searchImages=function(e,t){var r=this,n={path:"/images/search?",method:"GET",options:e,authconfig:e.authconfig,abortSignal:e.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},v.prototype.info=function(e,t){var r=this,n=g.processArgs(e,t);if(e={path:"/info",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}},void 0===n.callback)return new this.modem.Promise((function(t,n){r.modem.dial(e,(function(e,r){if(e)return n(e);t(r)}))}));this.modem.dial(e,(function(e,t){n.callback(e,t)}))},v.prototype.version=function(e,t){var r=this,n=g.processArgs(e,t);if(e={path:"/version",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}},void 0===n.callback)return new this.modem.Promise((function(t,n){r.modem.dial(e,(function(e,r){if(e)return n(e);t(r)}))}));this.modem.dial(e,(function(e,t){n.callback(e,t)}))},v.prototype.ping=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/_ping",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.df=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/system/df",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.getEvents=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/events?",method:"GET",options:n.opts,abortSignal:n.opts.abortSignal,isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.pull=function(e,t,r,n){var i=g.processArgs(t,r),o=g.parseRepositoryTag(e);i.opts.fromImage=o.repository,i.opts.tag=o.tag||"latest";var a=[i.opts,i.callback];return n&&(a=[n,i.opts,i.callback]),this.createImage.apply(this,a)},v.prototype.run=function(e,t,r,n,i,o){return"function"==typeof arguments[arguments.length-1]?this.runCallback(e,t,r,n,i,o):this.runPromise(e,t,r,n,i)},v.prototype.runCallback=function(e,t,r,i,o,a){a||"function"!=typeof i?a||"function"!=typeof o||(a=o,o={}):(a=i,i={},o={});var s=new n,c={Hostname:"",User:"",AttachStdin:!1,AttachStdout:!0,AttachStderr:!0,Tty:!0,OpenStdin:!1,StdinOnce:!1,Env:null,Cmd:t,Image:e,Volumes:{},VolumesFrom:[]};return y(c,i),this.createContainer(c,(function(e,t){if(e)return a(e,null,t);s.emit("container",t),t.attach({stream:!0,stdout:!0,stderr:!0},(function(e,n){if(e)return a(e,null,t);s.emit("stream",n),r&&(r instanceof Array?(n.on("end",(function(){try{r[0].end()}catch(e){}try{r[1].end()}catch(e){}})),t.modem.demuxStream(n,r[0],r[1])):(n.setEncoding("utf8"),n.pipe(r,{end:!0}))),t.start(o,(function(e,r){if(e)return a(e,r,t);s.emit("start",t),t.wait((function(e,r){s.emit("data",r),a(e,r,t)}))}))}))})),s},v.prototype.runPromise=function(e,t,r,n,i){var o=this;i=i||{};var a,s={Hostname:"",User:"",AttachStdin:!1,AttachStdout:!0,AttachStderr:!0,Tty:!0,OpenStdin:!1,StdinOnce:!1,Env:null,Cmd:t,Image:e,Volumes:{},VolumesFrom:[]};return y(s,n=n||{}),new this.modem.Promise((function(e,t){o.createContainer(s).then((function(e){return a=e,e.attach({stream:!0,stdout:!0,stderr:!0})})).then((function(e){return r&&(r instanceof Array?(e.on("end",(function(){try{r[0].end()}catch(e){}try{r[1].end()}catch(e){}})),a.modem.demuxStream(e,r[0],r[1])):(e.setEncoding("utf8"),e.pipe(r,{end:!0}))),a.start(i)})).then((function(e){return a.wait()})).then((function(t){e([t,a])})).catch((function(e){t(e)}))}))},v.prototype.swarmInit=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/swarm/init",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",406:"node is already part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.swarmJoin=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/swarm/join",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",406:"node is already part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.swarmLeave=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/swarm/leave?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,406:"node is not part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.swarmUpdate=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/swarm/update?",method:"POST",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,400:"bad parameter",406:"node is already part of a Swarm"},options:n.opts};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.prototype.swarmInspect=function(e,t){var r=this,n=g.processArgs(e,t),i={path:"/swarm",method:"GET",abortSignal:n.opts.abortSignal,statusCodes:{200:!0,406:"This node is not a swarm manager",500:"server error"}};if(void 0===n.callback)return new this.modem.Promise((function(e,t){r.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){n.callback(e,t)}))},v.Container=o,v.Image=a,v.Volume=s,v.Network=c,v.Service=u,v.Plugin=l,v.Secret=p,v.Task=h,v.Node=f,v.Exec=m,e.exports=v},6964:(e,t,r)=>{var n=r(9857),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.start=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/exec/"+this.id+"/start",method:"POST",abortSignal:i.opts.abortSignal,isStream:!0,allowEmpty:!0,hijack:i.opts.hijack,openStdin:i.opts.stdin,statusCodes:{200:!0,204:!0,404:"no such exec",409:"container stopped/paused",500:"container not running"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},i.prototype.resize=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/exec/"+this.id+"/resize?",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such exec",500:"container not running"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/exec/"+this.id+"/json",method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such exec",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},e.exports=i},4220:(e,t,r)=>{var n=r(9857),i=function(e,t){this.modem=e,this.name=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e){var t=this,r={path:"/images/"+this.name+"/json",method:"GET",statusCodes:{200:!0,404:"no such image",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},i.prototype.distribution=function(e,t){var r=n.processArgs(e,t),i=this,o={path:"/distribution/"+this.name+"/json",method:"GET",statusCodes:{200:!0,401:"no such image",500:"server error"},authconfig:r.opts?r.opts.authconfig:void 0};if(void 0===r.callback)return new this.modem.Promise((function(e,t){i.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return r.callback(e,t);r.callback(e,t)}))},i.prototype.history=function(e){var t=this,r={path:"/images/"+this.name+"/history",method:"GET",statusCodes:{200:!0,404:"no such image",500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},i.prototype.get=function(e){var t=this,r={path:"/images/"+this.name+"/get",method:"GET",isStream:!0,statusCodes:{200:!0,500:"server error"}};if(void 0===e)return new this.modem.Promise((function(e,n){t.modem.dial(r,(function(t,r){if(t)return n(t);e(r)}))}));this.modem.dial(r,(function(t,r){if(t)return e(t,r);e(t,r)}))},i.prototype.push=function(e,t,r){var i=this,o=n.processArgs(e,t),a=!0;!1===o.opts.stream&&(a=!1);var s={path:"/images/"+this.name+"/push?",method:"POST",options:o.opts,authconfig:o.opts.authconfig||r,abortSignal:o.opts.abortSignal,isStream:a,statusCodes:{200:!0,404:"no such image",500:"server error"}};if(delete s.options.authconfig,void 0===t)return new this.modem.Promise((function(e,t){i.modem.dial(s,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(s,(function(e,r){t(e,r)}))},i.prototype.tag=function(e,t){var r=this,n={path:"/images/"+this.name+"/tag?",method:"POST",options:e,abortSignal:e&&e.abortSignal,statusCodes:{200:!0,201:!0,400:"bad parameter",404:"no such image",409:"conflict",500:"server error"}};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/images/"+this.name+"?",method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such image",409:"conflict",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},3079:(e,t,r)=>{var n=r(9857),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t);if(e={path:"/networks/"+this.id+"?",method:"GET",statusCodes:{200:!0,404:"no such network",500:"server error"},options:i.opts},void 0===i.callback)return new this.modem.Promise((function(t,n){r.modem.dial(e,(function(e,r){if(e)return n(e);t(r)}))}));this.modem.dial(e,(function(e,t){i.callback(e,t)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/networks/"+this.id,method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such network",409:"conflict",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.connect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/networks/"+this.id+"/connect",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,201:!0,404:"network or container is not found",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.disconnect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/networks/"+this.id+"/disconnect",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,201:!0,404:"network or container is not found",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},4145:(e,t,r)=>{var n=r(9857),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/nodes/"+this.id,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such node",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.update=function(e,t){var r=this;t||"function"!=typeof e||(t=e);var n={path:"/nodes/"+this.id+"/update?",method:"POST",abortSignal:e&&e.abortSignal,statusCodes:{200:!0,404:"no such node",406:"node is not part of a swarm",500:"server error"},options:e};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/nodes/"+this.id+"?",method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such node",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},934:(e,t,r)=>{var n=r(9857),i=function(e,t,r){this.modem=e,this.name=t,this.remote=r||t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"plugin is not installed",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"?",method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"plugin is not installed",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){if(e)return i.callback(e,t);i.callback(e,t)}))},i.prototype.privileges=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/privileges?",method:"GET",options:{remote:this.remote},abortSignal:i.opts.abortSignal,statusCodes:{200:!0,500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.pull=function(e,t){var r=this,i=n.processArgs(e,t);i.opts._query&&!i.opts._query.name&&(i.opts._query.name=this.name),i.opts._query&&!i.opts._query.remote&&(i.opts._query.remote=this.remote);var o={path:"/plugins/pull?",method:"POST",abortSignal:i.opts.abortSignal,isStream:!0,options:i.opts,statusCodes:{200:!0,204:!0,500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.enable=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/enable?",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.disable=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/disable",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.push=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/push",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"plugin not installed",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.configure=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/plugins/"+this.name+"/set",method:"POST",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"plugin not installed",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.upgrade=function(e,t,r){var n=this;r||"function"!=typeof t||(r=t,e=(t=e).authconfig||void 0);var i={path:"/plugins/"+this.name+"/upgrade?",method:"POST",abortSignal:t&&t.abortSignal,statusCodes:{200:!0,204:!0,404:"plugin not installed",500:"server error"},authconfig:e,options:t};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(i,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(i,(function(e,t){r(e,t)}))},e.exports=i},7685:(e,t,r)=>{var n=r(9857),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/secrets/"+this.id,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"secret not found",406:"node is not part of a swarm",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.update=function(e,t){var r=this;t||"function"!=typeof e||(t=e);var n={path:"/secrets/"+this.id+"/update?",method:"POST",abortSignal:e&&e.abortSignal,statusCodes:{200:!0,404:"secret not found",500:"server error"},options:e};if(void 0===t)return new this.modem.Promise((function(e,t){r.modem.dial(n,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(n,(function(e,r){t(e,r)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/secrets/"+this.id,method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"secret not found",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},5306:(e,t,r)=>{var n=r(9857),i=function(e,t){this.modem=e,this.id=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/services/"+this.id,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such service",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/services/"+this.id,method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,204:!0,404:"no such service",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.update=function(e,t,r){var n=this;if(!r){var i=typeof t;"function"===i?(r=t,e=(t=e).authconfig||void 0):"undefined"===i&&(e=(t=e).authconfig||void 0)}var o={path:"/services/"+this.id+"/update?",method:"POST",abortSignal:t&&t.abortSignal,statusCodes:{200:!0,404:"no such service",500:"server error"},authconfig:e,options:t};if(void 0===r)return new this.modem.Promise((function(e,t){n.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){r(e,t)}))},i.prototype.logs=function(e,t){var r=this,i=n.processArgs(e,t,{}),o={path:"/services/"+this.id+"/logs?",method:"GET",abortSignal:i.opts.abortSignal,isStream:i.opts.follow||!1,statusCodes:{200:!0,404:"no such service",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},9260:(e,t,r)=>{var n=r(9857),i=function(e,t){this.modem=e,this.id=t,this.defaultOptions={log:{}}};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/tasks/"+this.id,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"unknown task",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.logs=function(e,t){var r=this,i=n.processArgs(e,t,this.defaultOptions.log),o={path:"/tasks/"+this.id+"/logs?",method:"GET",abortSignal:i.opts.abortSignal,isStream:i.opts.follow||!1,statusCodes:{101:!0,200:!0,404:"no such container",500:"server error",503:"node is not part of a swarm"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},9857:(e,t,r)=>{var n=r(4454),i=r(9896),o=r(6928),a=r(2365),s=r(3106),c=[],u=c.forEach,l=c.slice;e.exports.extend=function(e){return u.call(l.call(arguments,1),(function(t){if(t)for(var r in t)e[r]=t[r]})),e},e.exports.processArgs=function(t,r,n){return r||"function"!=typeof t||(r=t,t=null),{callback:r,opts:e.exports.extend({},n,t)}},e.exports.parseRepositoryTag=function(e){var t,r=e.indexOf("@"),n=e.lastIndexOf(":");if(r>=0)t=r;else{if(!(n>=0))return{repository:e};t=n}var i=e.slice(t+1);return-1===i.indexOf("/")?{repository:e.slice(0,t),tag:i}:{repository:e}},e.exports.prepareBuildContext=function(e,t){e&&e.context?i.readFile(o.join(e.context,".dockerignore"),((r,i)=>{let o,c;if(!r){const e=n({ignorecase:!1}).add(i.toString());c=e.createFilter(),o=e=>!c(e)}const u=e.src.slice()||[],l=a.pack(e.context,{entries:c?u.filter(c):u,ignore:o});t(l.pipe(s.createGzip()))})):t(e)}},5107:(e,t,r)=>{var n=r(9857),i=function(e,t){this.modem=e,this.name=t};i.prototype[r(9023).inspect.custom]=function(){return this},i.prototype.inspect=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/volumes/"+this.name,method:"GET",abortSignal:i.opts.abortSignal,statusCodes:{200:!0,404:"no such volume",500:"server error"}};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},i.prototype.remove=function(e,t){var r=this,i=n.processArgs(e,t),o={path:"/volumes/"+this.name,method:"DELETE",abortSignal:i.opts.abortSignal,statusCodes:{204:!0,404:"no such volume",409:"conflict",500:"server error"},options:i.opts};if(void 0===i.callback)return new this.modem.Promise((function(e,t){r.modem.dial(o,(function(r,n){if(r)return t(r);e(n)}))}));this.modem.dial(o,(function(e,t){i.callback(e,t)}))},e.exports=i},4760:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=4760,e.exports=t},1699:(e,t,r)=>{e.exports=r(5214)("node_sqlite3.node")},8203:(e,t,r)=>{const n=r(6928),i=r(1699),o=r(6261).EventEmitter;function a(e){return function(t){let r;const n=Array.prototype.slice.call(arguments,1);if("function"==typeof n[n.length-1]){const e=n[n.length-1];r=function(t){t&&e(t)}}const i=new u(this,t,r);return e.call(this,i,n)}}function s(e,t){for(const r in t.prototype)e.prototype[r]=t.prototype[r]}e.exports=i,i.cached={Database:function(e,t,r){if(""===e||":memory:"===e)return new c(e,t,r);let o;if(e=n.resolve(e),i.cached.objects[e]){o=i.cached.objects[e];const s="number"==typeof t?r:t;if("function"==typeof s){function a(){s.call(o,null)}o.open?process.nextTick(a):o.once("open",a)}}else o=i.cached.objects[e]=new c(e,t,r);return o},objects:{}};const c=i.Database,u=i.Statement,l=i.Backup;s(c,o),s(u,o),s(l,o),c.prototype.prepare=a((function(e,t){return t.length?e.bind.apply(e,t):e})),c.prototype.run=a((function(e,t){return e.run.apply(e,t).finalize(),this})),c.prototype.get=a((function(e,t){return e.get.apply(e,t).finalize(),this})),c.prototype.all=a((function(e,t){return e.all.apply(e,t).finalize(),this})),c.prototype.each=a((function(e,t){return e.each.apply(e,t).finalize(),this})),c.prototype.map=a((function(e,t){return e.map.apply(e,t).finalize(),this})),c.prototype.backup=function(){let e;return e=arguments.length<=2?new l(this,arguments[0],"main","main",!0,arguments[1]):new l(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),e.retryErrors=[i.BUSY,i.LOCKED],e},u.prototype.map=function(){const e=Array.prototype.slice.call(arguments),t=e.pop();return e.push((function(e,r){if(e)return t(e);const n={};if(r.length){const e=Object.keys(r[0]),t=e[0];if(e.length>2)for(let e=0;e<r.length;e++)n[r[e][t]]=r[e];else{const i=e[1];for(let e=0;e<r.length;e++)n[r[e][t]]=r[e][i]}}t(e,n)})),this.all.apply(this,e)};let p=!1;const d=["trace","profile","change"];c.prototype.addListener=c.prototype.on=function(e){const t=o.prototype.addListener.apply(this,arguments);return d.indexOf(e)>=0&&this.configure(e,!0),t},c.prototype.removeListener=function(e){const t=o.prototype.removeListener.apply(this,arguments);return d.indexOf(e)>=0&&!this._events[e]&&this.configure(e,!1),t},c.prototype.removeAllListeners=function(e){const t=o.prototype.removeAllListeners.apply(this,arguments);return d.indexOf(e)>=0&&this.configure(e,!1),t},i.verbose=function(){if(!p){const e=r(5671);["prepare","get","run","all","each","map","close","exec"].forEach((function(t){e.extendTrace(c.prototype,t)})),["bind","get","run","all","each","map","reset","finalize"].forEach((function(t){e.extendTrace(u.prototype,t)})),p=!0}return i}},5671:(e,t,r)=>{const n=r(9023);function i(e){return e.stack.split("\n").filter((function(e){return e.indexOf(__filename)<0}))}t.extendTrace=function(e,t,r){const o=e[t];e[t]=function(){const a=new Error,s=e.constructor.name+"#"+t+"("+Array.prototype.slice.call(arguments).map((function(e){return n.inspect(e,!1,0)})).join(", ")+")";void 0===r&&(r=-1),r<0&&(r+=arguments.length);const c=arguments[r];return"function"==typeof arguments[r]&&(arguments[r]=function(){const e=arguments[0];return e&&e.stack&&!e.__augmented&&(e.stack=i(e).join("\n"),e.stack+="\n--\x3e in "+s,e.stack+="\n"+i(a).slice(1).join("\n"),e.__augmented=!0),c.apply(this,arguments)}),o.apply(this,arguments)}}},4454:e=>{"use strict";e.exports=require("@balena/dockerignore")},5214:e=>{"use strict";e.exports=require("bindings")},263:e=>{"use strict";e.exports=require("debug")},6779:e=>{"use strict";e.exports=require("docker-modem")},4767:e=>{"use strict";e.exports=require("dottie")},6261:e=>{"use strict";e.exports=require("events")},6403:e=>{"use strict";e.exports=require("inflection")},7825:e=>{"use strict";e.exports=require("lodash")},2525:e=>{"use strict";e.exports=require("lodash/_baseIsNative")},4813:e=>{"use strict";e.exports=require("lodash/isPlainObject")},4716:e=>{"use strict";e.exports=require("moment")},5812:e=>{"use strict";e.exports=require("moment-timezone")},7214:e=>{"use strict";e.exports=require("pg-connection-string")},8821:e=>{"use strict";e.exports=require("pg-hstore")},3519:e=>{"use strict";e.exports=require("retry-as-promised")},8064:e=>{"use strict";e.exports=require("semver")},8028:e=>{"use strict";e.exports=require("sequelize-pool")},3318:e=>{"use strict";e.exports=require("string_decoder")},2365:e=>{"use strict";e.exports=require("tar-fs")},5985:e=>{"use strict";e.exports=require("toposort-class")},3903:e=>{"use strict";e.exports=require("uuid")},7906:e=>{"use strict";e.exports=require("validator")},1398:e=>{"use strict";e.exports=require("vscode")},9158:e=>{"use strict";e.exports=require("wkx")},2613:e=>{"use strict";e.exports=require("assert")},290:e=>{"use strict";e.exports=require("async_hooks")},181:e=>{"use strict";e.exports=require("buffer")},5317:e=>{"use strict";e.exports=require("child_process")},9140:e=>{"use strict";e.exports=require("constants")},6982:e=>{"use strict";e.exports=require("crypto")},2250:e=>{"use strict";e.exports=require("dns")},9896:e=>{"use strict";e.exports=require("fs")},1943:e=>{"use strict";e.exports=require("fs/promises")},8611:e=>{"use strict";e.exports=require("http")},5692:e=>{"use strict";e.exports=require("https")},9278:e=>{"use strict";e.exports=require("net")},3024:e=>{"use strict";e.exports=require("node:fs")},7067:e=>{"use strict";e.exports=require("node:http")},4708:e=>{"use strict";e.exports=require("node:https")},8161:e=>{"use strict";e.exports=require("node:os")},1708:e=>{"use strict";e.exports=require("node:process")},7075:e=>{"use strict";e.exports=require("node:stream")},7975:e=>{"use strict";e.exports=require("node:util")},8522:e=>{"use strict";e.exports=require("node:zlib")},857:e=>{"use strict";e.exports=require("os")},6928:e=>{"use strict";e.exports=require("path")},3480:e=>{"use strict";e.exports=require("querystring")},2203:e=>{"use strict";e.exports=require("stream")},4756:e=>{"use strict";e.exports=require("tls")},2018:e=>{"use strict";e.exports=require("tty")},7016:e=>{"use strict";e.exports=require("url")},9023:e=>{"use strict";e.exports=require("util")},3106:e=>{"use strict";e.exports=require("zlib")},7309:(e,t,r)=>{"use strict";const{AssociationError:n}=r(6797);class i{constructor(e,t,r={}){if(this.source=e,this.target=t,this.options=r,this.scope=r.scope,this.isSelfAssociation=this.source===this.target,this.as=r.as,this.associationType="",e.hasAlias(r.as))throw new n(`You have used the alias ${r.as} in two separate associations. Aliased associations must have unique aliases.`)}toInstanceArray(e){return Array.isArray(e)||(e=[e]),e.map((e=>{if(e instanceof this.target)return e;const t={};return t[this.target.primaryKeyAttribute]=e,this.target.build(t,{isNewRecord:!1})}))}[Symbol.for("nodejs.util.inspect.custom")](){return this.as}}e.exports=i},1020:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e},p=(e,t)=>i(e,o(t));const d=r(3588),h=r(6311),f=r(7825),m=r(7309),g=r(1878),y=r(9244),v=r(7219),b=r(6797).AssociationError,E=r(6797).EmptyResultError,w=r(4104);class A extends m{constructor(e,t,r){if(super(e,t,r),void 0===this.options.through||!0===this.options.through||null===this.options.through)throw new b(`${e.name}.belongsToMany(${t.name}) requires through option, pass either a string or a model`);if(this.options.through.model||(this.options.through={model:r.through}),this.associationType="BelongsToMany",this.targetAssociation=null,this.sequelize=e.sequelize,this.through=l({},this.options.through),this.isMultiAssociation=!0,this.doubleLinked=!1,!this.as&&this.isSelfAssociation)throw new b("'as' must be defined for many-to-many self-associations");if(this.as?(this.isAliased=!0,f.isPlainObject(this.as)?(this.options.name=this.as,this.as=this.as.plural):this.options.name={plural:this.as,singular:d.singularize(this.as)}):(this.as=this.target.options.name.plural,this.options.name=this.target.options.name),this.combinedTableName=d.combineTableNames(this.source.tableName,this.isSelfAssociation&&this.as||this.target.tableName),this.isSelfAssociation&&(this.targetAssociation=this),f.each(this.target.associations,(e=>{"BelongsToMany"===e.associationType&&e.target===this.source&&this.options.through.model===e.options.through.model&&(this.paired=e,e.paired=this)})),this.sourceKey=this.options.sourceKey||this.source.primaryKeyAttribute,this.sourceKeyField=this.source.rawAttributes[this.sourceKey].field||this.sourceKey,this.options.targetKey?(this.targetKey=this.options.targetKey,this.targetKeyField=this.target.rawAttributes[this.targetKey].field||this.targetKey):(this.targetKeyDefault=!0,this.targetKey=this.target.primaryKeyAttribute,this.targetKeyField=this.target.rawAttributes[this.targetKey].field||this.targetKey),this._createForeignAndOtherKeys(),"string"==typeof this.through.model&&(this.sequelize.isDefined(this.through.model)?this.through.model=this.sequelize.model(this.through.model):this.through.model=this.sequelize.define(this.through.model,{},Object.assign(this.options,{tableName:this.through.model,indexes:[],paranoid:!!this.through.paranoid&&this.through.paranoid,validate:{}}))),Object.assign(this.options,f.pick(this.through.model.options,["timestamps","createdAt","updatedAt","deletedAt","paranoid"])),this.paired){let e=!1;this.targetKeyDefault&&(this.targetKey=this.paired.sourceKey,this.targetKeyField=this.paired.sourceKeyField,this._createForeignAndOtherKeys()),this.paired.targetKeyDefault&&this.paired.targetKey!==this.sourceKey&&(delete this.through.model.rawAttributes[this.paired.otherKey],this.paired.targetKey=this.sourceKey,this.paired.targetKeyField=this.sourceKeyField,this.paired._createForeignAndOtherKeys(),e=!0),this.otherKeyDefault&&(this.otherKey=this.paired.foreignKey),this.paired.otherKeyDefault&&this.paired.otherKey!==this.foreignKey&&(delete this.through.model.rawAttributes[this.paired.otherKey],this.paired.otherKey=this.foreignKey,e=!0),e&&this.paired._injectAttributes()}this.through&&(this.throughModel=this.through.model),this.options.tableName=this.combinedName=this.through.model===Object(this.through.model)?this.through.model.tableName:this.through.model,this.associationAccessor=this.as;const n=f.upperFirst(this.options.name.plural),i=f.upperFirst(this.options.name.singular);this.accessors={get:`get${n}`,set:`set${n}`,addMultiple:`add${n}`,add:`add${i}`,create:`create${i}`,remove:`remove${i}`,removeMultiple:`remove${n}`,hasSingle:`has${i}`,hasAll:`has${n}`,count:`count${n}`}}_createForeignAndOtherKeys(){f.isObject(this.options.foreignKey)?(this.foreignKeyAttribute=this.options.foreignKey,this.foreignKey=this.foreignKeyAttribute.name||this.foreignKeyAttribute.fieldName):(this.foreignKeyAttribute={},this.foreignKey=this.options.foreignKey||d.camelize([this.source.options.name.singular,this.sourceKey].join("_"))),f.isObject(this.options.otherKey)?(this.otherKeyAttribute=this.options.otherKey,this.otherKey=this.otherKeyAttribute.name||this.otherKeyAttribute.fieldName):(this.options.otherKey||(this.otherKeyDefault=!0),this.otherKeyAttribute={},this.otherKey=this.options.otherKey||d.camelize([this.isSelfAssociation?d.singularize(this.as):this.target.options.name.singular,this.targetKey].join("_")))}_injectAttributes(){this.identifier=this.foreignKey,this.foreignIdentifier=this.otherKey,f.each(this.through.model.rawAttributes,((e,t)=>{!0===e.primaryKey&&!0===e._autoGenerated&&([this.foreignKey,this.otherKey].includes(t)?e.primaryKey=!1:delete this.through.model.rawAttributes[t],this.primaryKeyDeleted=!0)}));const e=this.source.rawAttributes[this.sourceKey].type,t=this.sourceKeyField,r=this.target.rawAttributes[this.targetKey].type,n=this.targetKeyField,i=l({type:e},this.foreignKeyAttribute),o=l({type:r},this.otherKeyAttribute);if(!0===this.primaryKeyDeleted)o.primaryKey=i.primaryKey=!0;else if(!1!==this.through.unique){let e;e="string"==typeof this.options.uniqueKey&&""!==this.options.uniqueKey?this.options.uniqueKey:[this.through.model.tableName,this.foreignKey,this.otherKey,"unique"].join("_"),o.unique=i.unique=e}return this.through.model.rawAttributes[this.foreignKey]||(this.through.model.rawAttributes[this.foreignKey]={_autoGenerated:!0}),this.through.model.rawAttributes[this.otherKey]||(this.through.model.rawAttributes[this.otherKey]={_autoGenerated:!0}),!1!==this.options.constraints&&(i.references={model:this.source.getTableName(),key:t},i.onDelete=this.options.onDelete||this.through.model.rawAttributes[this.foreignKey].onDelete,i.onUpdate=this.options.onUpdate||this.through.model.rawAttributes[this.foreignKey].onUpdate,i.onDelete||(i.onDelete="CASCADE"),i.onUpdate||(i.onUpdate="CASCADE"),o.references={model:this.target.getTableName(),key:n},o.onDelete=this.through.model.rawAttributes[this.otherKey].onDelete||this.options.onDelete,o.onUpdate=this.through.model.rawAttributes[this.otherKey].onUpdate||this.options.onUpdate,o.onDelete||(o.onDelete="CASCADE"),o.onUpdate||(o.onUpdate="CASCADE")),Object.assign(this.through.model.rawAttributes[this.foreignKey],i),Object.assign(this.through.model.rawAttributes[this.otherKey],o),this.through.model.refreshAttributes(),this.identifierField=this.through.model.rawAttributes[this.foreignKey].field||this.foreignKey,this.foreignIdentifierField=this.through.model.rawAttributes[this.otherKey].field||this.otherKey,"db2"===this.options.sequelize.options.dialect&&!0!==this.source.rawAttributes[this.sourceKey].primaryKey&&(this.source.rawAttributes[this.sourceKey].unique=!0),this.paired&&!this.paired.foreignIdentifierField&&(this.paired.foreignIdentifierField=this.through.model.rawAttributes[this.paired.otherKey].field||this.paired.otherKey),this.toSource=new g(this.through.model,this.source,{foreignKey:this.foreignKey}),this.manyFromSource=new y(this.source,this.through.model,{foreignKey:this.foreignKey}),this.oneFromSource=new v(this.source,this.through.model,{foreignKey:this.foreignKey,sourceKey:this.sourceKey,as:this.through.model.name}),this.toTarget=new g(this.through.model,this.target,{foreignKey:this.otherKey}),this.manyFromTarget=new y(this.target,this.through.model,{foreignKey:this.otherKey}),this.oneFromTarget=new v(this.target,this.through.model,{foreignKey:this.otherKey,sourceKey:this.targetKey,as:this.through.model.name}),this.paired&&this.paired.otherKeyDefault&&(this.paired.toTarget=new g(this.paired.through.model,this.paired.target,{foreignKey:this.paired.otherKey}),this.paired.oneFromTarget=new v(this.paired.target,this.paired.through.model,{foreignKey:this.paired.otherKey,sourceKey:this.paired.targetKey,as:this.paired.through.model.name})),h.checkNamingCollision(this),this}mixin(e){h.mixinMethods(this,e,["get","count","hasSingle","hasAll","set","add","addMultiple","remove","removeMultiple","create"],{hasSingle:"has",hasAll:"has",addMultiple:"add",removeMultiple:"remove"})}async get(e,t){t=d.cloneDeep(t)||{};const r=this.through;let n,i;this.scope&&(n=l({},this.scope)),t.where={[w.and]:[n,t.where]},Object(r.model)===r.model&&(i={},i[this.foreignKey]=e.get(this.sourceKey),r.scope&&Object.assign(i,r.scope),t.through&&t.through.where&&(i={[w.and]:[i,t.through.where]}),t.include=t.include||[],t.include.push({association:this.oneFromTarget,attributes:t.joinTableAttributes,required:!0,paranoid:f.get(t.through,"paranoid",!0),where:i}));let o=this.target;return Object.prototype.hasOwnProperty.call(t,"scope")&&(o=t.scope?o.scope(t.scope):o.unscoped()),Object.prototype.hasOwnProperty.call(t,"schema")&&(o=o.schema(t.schema,t.schemaDelimiter)),o.findAll(t)}async count(e,t){const r=this.target.sequelize;(t=d.cloneDeep(t)).attributes=[[r.fn("COUNT",r.col([this.target.name,this.targetKeyField].join("."))),"count"]],t.joinTableAttributes=[],t.raw=!0,t.plain=!0;const n=await this.get(e,t);return parseInt(n.count,10)}async has(e,t,r){Array.isArray(t)||(t=[t]),r=p(l({raw:!0},r),{scope:!1,attributes:[this.targetKey],joinTableAttributes:[]});const n=t.map((e=>e instanceof this.target?e.where():{[this.targetKey]:e}));r.where={[w.and]:[{[w.or]:n},r.where]};const i=await this.get(e,r);return 0===f.differenceWith(n,i,((e,t)=>f.isEqual(e[this.targetKey],t[this.targetKey]))).length}async set(e,t,r){r=r||{};const n=this.sourceKey,i=this.targetKey,o=this.identifier,a=this.foreignIdentifier;t=null===t?[]:this.toInstanceArray(t);const s=l({[o]:e.get(n)},this.through.scope),c=s=>{const c=[],u=[],d=r.through||{},h=t.filter((e=>!s.some((t=>t[a]===e.get(i)))));for(const p of s){const s=t.find((e=>p[a]===e.get(i)));if(s){let t=s[this.through.model.name];t instanceof this.through.model&&(t={});const c=l(l({},d),t);Object.keys(c).length&&u.push(this.through.model.update(c,Object.assign(r,{where:{[o]:e.get(n),[a]:s.get(i)}})))}else c.push(p)}if(c.length>0&&u.push(this.through.model.destroy(p(l({},r),{where:l({[o]:e.get(n),[a]:c.map((e=>e[a]))},this.through.scope)}))),h.length>0){const t=h.map((t=>l(p(l(l({},d),t[this.through.model.name]),{[o]:e.get(n),[a]:t.get(i)}),this.through.scope)));u.push(this.through.model.bulkCreate(t,l({validate:!0},r)))}return Promise.all(u)};try{const e=await this.through.model.findAll(p(l({},r),{where:s,raw:!0}));return await c(e)}catch(e){if(e instanceof E)return c([]);throw e}}async add(e,t,r){if(!t)return Promise.resolve();r=l({},r);const n=this,i=n.sourceKey,o=n.targetKey,a=n.identifier,s=n.foreignIdentifier,c=r.through||{};t=n.toInstanceArray(t);const u=l({[a]:e.get(i),[s]:t.map((e=>e.get(o)))},n.through.scope),d=u=>{const p=[],d=[],h=[];for(const e of t){const t=u&&u.find((t=>t[s]===e.get(o)));if(t){const r=e[n.through.model.name],i=l(l({},c),r);Object.keys(i).some((e=>i[e]!==t[e]))&&h.push(e)}else d.push(e)}if(d.length>0){const t=d.map((t=>{const r=t[n.through.model.name],u=l(l({},c),r);return u[a]=e.get(i),u[s]=t.get(o),Object.assign(u,n.through.scope),u}));p.push(n.through.model.bulkCreate(t,l({validate:!0},r)))}for(const t of h){let u=t[n.through.model.name];const d=l(l({},c),u);u instanceof n.through.model&&(u={}),p.push(n.through.model.update(d,Object.assign(r,{where:{[a]:e.get(i),[s]:t.get(o)}})))}return Promise.all(p)};try{const e=await n.through.model.findAll(p(l({},r),{where:u,raw:!0})),[t]=await d(e);return t}catch(e){if(e instanceof E)return d();throw e}}remove(e,t,r){const n=this;r=r||{},t=n.toInstanceArray(t);const i={[n.identifier]:e.get(n.sourceKey),[n.foreignIdentifier]:t.map((e=>e.get(n.targetKey)))};return n.through.model.destroy(p(l({},r),{where:i}))}async create(e,t,r){const n=this;r=r||{},t=t||{},Array.isArray(r)&&(r={fields:r}),n.scope&&(Object.assign(t,n.scope),r.fields&&(r.fields=r.fields.concat(Object.keys(n.scope))));const i=await n.target.create(t,r);return await e[n.accessors.add](i,f.omit(r,["fields"])),i}verifyAssociationAlias(e){return"string"==typeof e?this.as===e:e&&e.plural?this.as===e.plural:!this.isAliased}}e.exports=A,e.exports.BelongsToMany=A,e.exports.default=A},1878:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e};const u=r(3588),l=r(6311),p=r(7825),d=r(7309),h=r(4104);class f extends d{constructor(e,t,r){if(super(e,t,r),this.associationType="BelongsTo",this.isSingleAssociation=!0,this.foreignKeyAttribute={},this.as?(this.isAliased=!0,this.options.name={singular:this.as}):(this.as=this.target.options.name.singular,this.options.name=this.target.options.name),p.isObject(this.options.foreignKey)?(this.foreignKeyAttribute=this.options.foreignKey,this.foreignKey=this.foreignKeyAttribute.name||this.foreignKeyAttribute.fieldName):this.options.foreignKey&&(this.foreignKey=this.options.foreignKey),this.foreignKey||(this.foreignKey=u.camelize([this.as,this.target.primaryKeyAttribute].join("_"))),this.identifier=this.foreignKey,this.source.rawAttributes[this.identifier]&&(this.identifierField=this.source.rawAttributes[this.identifier].field||this.identifier),this.options.targetKey&&!this.target.rawAttributes[this.options.targetKey])throw new Error(`Unknown attribute "${this.options.targetKey}" passed as targetKey, define this attribute on model "${this.target.name}" first`);this.targetKey=this.options.targetKey||this.target.primaryKeyAttribute,this.targetKeyField=this.target.rawAttributes[this.targetKey].field||this.targetKey,this.targetKeyIsPrimary=this.targetKey===this.target.primaryKeyAttribute,this.targetIdentifier=this.targetKey,this.associationAccessor=this.as,this.options.useHooks=r.useHooks;const n=p.upperFirst(this.options.name.singular);this.accessors={get:`get${n}`,set:`set${n}`,create:`create${n}`}}_injectAttributes(){const e={[this.foreignKey]:c({type:this.options.keyType||this.target.rawAttributes[this.targetKey].type,allowNull:!0},this.foreignKeyAttribute)};if(!1!==this.options.constraints){const t=this.source.rawAttributes[this.foreignKey]||e[this.foreignKey];this.options.onDelete=this.options.onDelete||(t.allowNull?"SET NULL":"NO ACTION"),this.options.onUpdate=this.options.onUpdate||"CASCADE"}return l.addForeignKeyConstraints(e[this.foreignKey],this.target,this.source,this.options,this.targetKeyField),u.mergeDefaults(this.source.rawAttributes,e),this.source.refreshAttributes(),this.identifierField=this.source.rawAttributes[this.foreignKey].field||this.foreignKey,l.checkNamingCollision(this),this}mixin(e){l.mixinMethods(this,e,["get","set","create"])}async get(e,t){const r={};let n,i=this.target;if(t=u.cloneDeep(t),Object.prototype.hasOwnProperty.call(t,"scope")&&(i=t.scope?i.scope(t.scope):i.unscoped()),Object.prototype.hasOwnProperty.call(t,"schema")&&(i=i.schema(t.schema,t.schemaDelimiter)),Array.isArray(e)||(n=e,e=void 0),e)r[this.targetKey]={[h.in]:e.map((e=>e.get(this.foreignKey)))};else{if(this.targetKeyIsPrimary&&!t.where)return i.findByPk(n.get(this.foreignKey),t);r[this.targetKey]=n.get(this.foreignKey),t.limit=null}if(t.where=t.where?{[h.and]:[r,t.where]}:r,e){const r=await i.findAll(t),n={};for(const t of e)n[t.get(this.foreignKey,{raw:!0})]=null;for(const e of r)n[e.get(this.targetKey,{raw:!0})]=e;return n}return i.findOne(t)}async set(e,t,r={}){let n=t;if(t instanceof this.target&&(n=t[this.targetKey]),e.set(this.foreignKey,n),!1!==r.save)return r=c({fields:[this.foreignKey],allowNull:[this.foreignKey],association:!0},r),await e.save(r)}async create(e,t,r){t=t||{},r=r||{};const n=await this.target.create(t,r);return await e[this.accessors.set](n,r),n}verifyAssociationAlias(e){return"string"==typeof e?this.as===e:e&&e.singular?this.as===e.singular:!this.isAliased}}e.exports=f,e.exports.BelongsTo=f,e.exports.default=f},9244:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e},p=(e,t)=>i(e,o(t));const d=r(3588),h=r(6311),f=r(7825),m=r(7309),g=r(4104);class y extends m{constructor(e,t,r){if(super(e,t,r),this.associationType="HasMany",this.targetAssociation=null,this.sequelize=e.sequelize,this.isMultiAssociation=!0,this.foreignKeyAttribute={},this.options.through)throw new Error("N:M associations are not supported with hasMany. Use belongsToMany instead");this.isSelfAssociation&&(this.targetAssociation=this),this.as?(this.isAliased=!0,f.isPlainObject(this.as)?(this.options.name=this.as,this.as=this.as.plural):this.options.name={plural:this.as,singular:d.singularize(this.as)}):(this.as=this.target.options.name.plural,this.options.name=this.target.options.name),f.isObject(this.options.foreignKey)?(this.foreignKeyAttribute=this.options.foreignKey,this.foreignKey=this.foreignKeyAttribute.name||this.foreignKeyAttribute.fieldName):this.options.foreignKey&&(this.foreignKey=this.options.foreignKey),this.foreignKey||(this.foreignKey=d.camelize([this.source.options.name.singular,this.source.primaryKeyAttribute].join("_"))),this.target.rawAttributes[this.foreignKey]&&(this.identifierField=this.target.rawAttributes[this.foreignKey].field||this.foreignKey,this.foreignKeyField=this.target.rawAttributes[this.foreignKey].field||this.foreignKey),this.sourceKey=this.options.sourceKey||this.source.primaryKeyAttribute,this.source.rawAttributes[this.sourceKey]?(this.sourceKeyAttribute=this.sourceKey,this.sourceKeyField=this.source.rawAttributes[this.sourceKey].field||this.sourceKey):(this.sourceKeyAttribute=this.source.primaryKeyAttribute,this.sourceKeyField=this.source.primaryKeyField);const n=f.upperFirst(this.options.name.plural),i=f.upperFirst(this.options.name.singular);this.associationAccessor=this.as,this.accessors={get:`get${n}`,set:`set${n}`,addMultiple:`add${n}`,add:`add${i}`,create:`create${i}`,remove:`remove${i}`,removeMultiple:`remove${n}`,hasSingle:`has${i}`,hasAll:`has${n}`,count:`count${n}`}}_injectAttributes(){const e={[this.foreignKey]:l({type:this.options.keyType||this.source.rawAttributes[this.sourceKeyAttribute].type,allowNull:!0},this.foreignKeyAttribute)},t=l({},this.options);if(!1!==this.options.constraints){const r=this.target.rawAttributes[this.foreignKey]||e[this.foreignKey];t.onDelete=t.onDelete||(r.allowNull?"SET NULL":"CASCADE"),t.onUpdate=t.onUpdate||"CASCADE"}return h.addForeignKeyConstraints(e[this.foreignKey],this.source,this.target,t,this.sourceKeyField),d.mergeDefaults(this.target.rawAttributes,e),this.target.refreshAttributes(),this.source.refreshAttributes(),this.identifierField=this.target.rawAttributes[this.foreignKey].field||this.foreignKey,this.foreignKeyField=this.target.rawAttributes[this.foreignKey].field||this.foreignKey,this.sourceKeyField=this.source.rawAttributes[this.sourceKey].field||this.sourceKey,h.checkNamingCollision(this),this}mixin(e){h.mixinMethods(this,e,["get","count","hasSingle","hasAll","set","add","addMultiple","remove","removeMultiple","create"],{hasSingle:"has",hasAll:"has",addMultiple:"add",removeMultiple:"remove"})}async get(e,t={}){const r={};let n,i,o=this.target;Array.isArray(e)||(n=e,e=void 0),t=l({},t),this.scope&&Object.assign(r,this.scope),e?(i=e.map((e=>e.get(this.sourceKey,{raw:!0}))),t.limit&&e.length>1?(t.groupedLimit={limit:t.limit,on:this,values:i},delete t.limit):(r[this.foreignKey]={[g.in]:i},delete t.groupedLimit)):r[this.foreignKey]=n.get(this.sourceKey,{raw:!0}),t.where=t.where?{[g.and]:[r,t.where]}:r,Object.prototype.hasOwnProperty.call(t,"scope")&&(o=t.scope?o.scope(t.scope):o.unscoped()),Object.prototype.hasOwnProperty.call(t,"schema")&&(o=o.schema(t.schema,t.schemaDelimiter));const a=await o.findAll(t);if(n)return a;const s={};for(const t of e)s[t.get(this.sourceKey,{raw:!0})]=[];for(const e of a)s[e.get(this.foreignKey,{raw:!0})].push(e);return s}async count(e,t){(t=d.cloneDeep(t)).attributes=[[this.sequelize.fn("COUNT",this.sequelize.col(`${this.target.name}.${this.target.primaryKeyField}`)),"count"]],t.raw=!0,t.plain=!0;const r=await this.get(e,t);return parseInt(r.count,10)}async has(e,t,r){const n={};return Array.isArray(t)||(t=[t]),r=p(l({},r),{scope:!1,attributes:[this.target.primaryKeyAttribute],raw:!0}),n[g.or]=t.map((e=>e instanceof this.target?e.where():{[this.target.primaryKeyAttribute]:e})),r.where={[g.and]:[n,r.where]},(await this.get(e,r)).length===t.length}async set(e,t,r){t=null===t?[]:this.toInstanceArray(t);const n=await this.get(e,p(l({},r),{scope:!1,raw:!0})),i=[],o=n.filter((e=>!t.find((t=>t[this.target.primaryKeyAttribute]===e[this.target.primaryKeyAttribute])))),a=t.filter((e=>!n.find((t=>e[this.target.primaryKeyAttribute]===t[this.target.primaryKeyAttribute]))));let s,c;return o.length>0&&(c={},c[this.foreignKey]=null,s={[this.target.primaryKeyAttribute]:o.map((e=>e[this.target.primaryKeyAttribute]))},i.push(this.target.unscoped().update(c,p(l({},r),{where:s})))),a.length>0&&(s={},c={},c[this.foreignKey]=e.get(this.sourceKey),Object.assign(c,this.scope),s[this.target.primaryKeyAttribute]=a.map((e=>e[this.target.primaryKeyAttribute])),i.push(this.target.unscoped().update(c,p(l({},r),{where:s})))),await Promise.all(i),e}async add(e,t,r={}){if(!t)return Promise.resolve();t=this.toInstanceArray(t);const n=l({[this.foreignKey]:e.get(this.sourceKey)},this.scope),i={[this.target.primaryKeyAttribute]:t.map((e=>e.get(this.target.primaryKeyAttribute)))};return await this.target.unscoped().update(n,p(l({},r),{where:i})),e}async remove(e,t,r={}){const n={[this.foreignKey]:null};t=this.toInstanceArray(t);const i={[this.foreignKey]:e.get(this.sourceKey),[this.target.primaryKeyAttribute]:t.map((e=>e.get(this.target.primaryKeyAttribute)))};return await this.target.unscoped().update(n,p(l({},r),{where:i})),this}async create(e,t,r={}){if(Array.isArray(r)&&(r={fields:r}),void 0===t&&(t={}),this.scope)for(const e of Object.keys(this.scope))t[e]=this.scope[e],r.fields&&r.fields.push(e);return t[this.foreignKey]=e.get(this.sourceKey),r.fields&&r.fields.push(this.foreignKey),await this.target.create(t,r)}verifyAssociationAlias(e){return"string"==typeof e?this.as===e:e&&e.plural?this.as===e.plural:!this.isAliased}}e.exports=y,e.exports.HasMany=y,e.exports.default=y},7219:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e},p=(e,t)=>i(e,o(t));const d=r(3588),h=r(6311),f=r(7825),m=r(7309),g=r(4104);e.exports=class extends m{constructor(e,t,r){if(super(e,t,r),this.associationType="HasOne",this.isSingleAssociation=!0,this.foreignKeyAttribute={},this.as?(this.isAliased=!0,this.options.name={singular:this.as}):(this.as=this.target.options.name.singular,this.options.name=this.target.options.name),f.isObject(this.options.foreignKey)?(this.foreignKeyAttribute=this.options.foreignKey,this.foreignKey=this.foreignKeyAttribute.name||this.foreignKeyAttribute.fieldName):this.options.foreignKey&&(this.foreignKey=this.options.foreignKey),this.foreignKey||(this.foreignKey=d.camelize([d.singularize(this.options.as||this.source.name),this.source.primaryKeyAttribute].join("_"))),this.options.sourceKey&&!this.source.rawAttributes[this.options.sourceKey])throw new Error(`Unknown attribute "${this.options.sourceKey}" passed as sourceKey, define this attribute on model "${this.source.name}" first`);this.sourceKey=this.sourceKeyAttribute=this.options.sourceKey||this.source.primaryKeyAttribute,this.sourceKeyField=this.source.rawAttributes[this.sourceKey].field||this.sourceKey,this.sourceKeyIsPrimary=this.sourceKey===this.source.primaryKeyAttribute,this.associationAccessor=this.as,this.options.useHooks=r.useHooks,this.target.rawAttributes[this.foreignKey]&&(this.identifierField=this.target.rawAttributes[this.foreignKey].field||this.foreignKey);const n=f.upperFirst(this.options.name.singular);this.accessors={get:`get${n}`,set:`set${n}`,create:`create${n}`}}_injectAttributes(){const e={[this.foreignKey]:l({type:this.options.keyType||this.source.rawAttributes[this.sourceKey].type,allowNull:!0},this.foreignKeyAttribute)};if(!1!==this.options.constraints){const t=this.target.rawAttributes[this.foreignKey]||e[this.foreignKey];this.options.onDelete=this.options.onDelete||(t.allowNull?"SET NULL":"CASCADE"),this.options.onUpdate=this.options.onUpdate||"CASCADE"}return h.addForeignKeyConstraints(e[this.foreignKey],this.source,this.target,this.options,this.sourceKeyField),d.mergeDefaults(this.target.rawAttributes,e),this.target.refreshAttributes(),this.identifierField=this.target.rawAttributes[this.foreignKey].field||this.foreignKey,h.checkNamingCollision(this),this}mixin(e){h.mixinMethods(this,e,["get","set","create"])}async get(e,t){const r={};let n,i=this.target;if(t=d.cloneDeep(t),Object.prototype.hasOwnProperty.call(t,"scope")&&(i=t.scope?i.scope(t.scope):i.unscoped()),Object.prototype.hasOwnProperty.call(t,"schema")&&(i=i.schema(t.schema,t.schemaDelimiter)),Array.isArray(e)||(n=e,e=void 0),r[this.foreignKey]=e?{[g.in]:e.map((e=>e.get(this.sourceKey)))}:n.get(this.sourceKey),this.scope&&Object.assign(r,this.scope),t.where=t.where?{[g.and]:[r,t.where]}:r,e){const r=await i.findAll(t),n={};for(const t of e)n[t.get(this.sourceKey,{raw:!0})]=null;for(const e of r)n[e.get(this.foreignKey,{raw:!0})]=e;return n}return i.findOne(t)}async set(e,t,r){r=p(l({},r),{scope:!1});const n=await e[this.accessors.get](r),i=n&&t&&this.target.primaryKeyAttributes.every((e=>n.get(e,{raw:!0})===(t.get?t.get(e,{raw:!0}):t)));if(n&&!i&&(n[this.foreignKey]=null,await n.save(p(l({},r),{fields:[this.foreignKey],allowNull:[this.foreignKey],association:!0}))),t&&!i){if(!(t instanceof this.target)){const e={};e[this.target.primaryKeyAttribute]=t,t=this.target.build(e,{isNewRecord:!1})}return Object.assign(t,this.scope),t.set(this.foreignKey,e.get(this.sourceKeyAttribute)),t.save(r)}return null}async create(e,t,r){if(t=t||{},r=r||{},this.scope)for(const e of Object.keys(this.scope))t[e]=this.scope[e],r.fields&&r.fields.push(e);return t[this.foreignKey]=e.get(this.sourceKeyAttribute),r.fields&&r.fields.push(this.foreignKey),await this.target.create(t,r)}verifyAssociationAlias(e){return"string"==typeof e?this.as===e:e&&e.singular?this.as===e.singular:!this.isAliased}}},6311:(e,t)=>{"use strict";t.checkNamingCollision=function(e){if(Object.prototype.hasOwnProperty.call(e.source.rawAttributes,e.as))throw new Error(`Naming collision between attribute '${e.as}' and association '${e.as}' on model ${e.source.name}. To remedy this, change either foreignKey or as in your association definition`)},t.addForeignKeyConstraints=function(e,t,r,n,i){if(n.foreignKeyConstraint||n.onDelete||n.onUpdate){const r=Object.keys(t.primaryKeys).map((e=>t.rawAttributes[e].field||e));1!==r.length&&r.includes(i)||(e.references={model:t.getTableName(),key:i||r[0]},e.onDelete=n.onDelete,e.onUpdate=n.onUpdate)}},t.mixinMethods=function(e,t,r,n){n=n||{};for(const i of r)if(!Object.prototype.hasOwnProperty.call(t,e.accessors[i])){const r=n[i]||i;t[e.accessors[i]]=function(){return e[r](this,...Array.from(arguments))}}}},8502:(e,t,r)=>{"use strict";const n=r(7309);n.BelongsTo=r(1878),n.HasOne=r(7219),n.HasMany=r(9244),n.BelongsToMany=r(1020),e.exports=n,e.exports.default=n,e.exports.Association=n},8867:(e,t,r)=>{"use strict";const n=r(7825),i=r(7219),o=r(9244),a=r(1020),s=r(1878);function c(e,t){return e&&e.prototype&&e.prototype instanceof t.Sequelize.Model}const u={hasMany(e,t={}){if(!c(e,this.sequelize))throw new Error(`${this.name}.hasMany called with something that's not a subclass of Sequelize.Model`);const r=this;t.hooks=void 0!==t.hooks&&Boolean(t.hooks),t.useHooks=t.hooks,Object.assign(t,n.omit(r.options,["hooks"])),t.useHooks&&this.runHooks("beforeAssociate",{source:r,target:e,type:o},t);const i=new o(r,e,t);return r.associations[i.associationAccessor]=i,i._injectAttributes(),i.mixin(r.prototype),t.useHooks&&this.runHooks("afterAssociate",{source:r,target:e,type:o,association:i},t),i},belongsToMany(e,t={}){if(!c(e,this.sequelize))throw new Error(`${this.name}.belongsToMany called with something that's not a subclass of Sequelize.Model`);const r=this;t.hooks=void 0!==t.hooks&&Boolean(t.hooks),t.useHooks=t.hooks,t.timestamps=void 0===t.timestamps?this.sequelize.options.timestamps:t.timestamps,Object.assign(t,n.omit(r.options,["hooks","timestamps","scopes","defaultScope"])),t.useHooks&&this.runHooks("beforeAssociate",{source:r,target:e,type:a},t);const i=new a(r,e,t);return r.associations[i.associationAccessor]=i,i._injectAttributes(),i.mixin(r.prototype),t.useHooks&&this.runHooks("afterAssociate",{source:r,target:e,type:a,association:i},t),i},getAssociations(e){return Object.values(this.associations).filter((t=>t.target.name===e.name))},getAssociationForAlias(e,t){return this.getAssociations(e).find((e=>e.verifyAssociationAlias(t)))||null}};function l(e){return function(t,r={}){const i=this;if(!c(t,i.sequelize))throw new Error(`${i.name}.${n.lowerFirst(e.name)} called with something that's not a subclass of Sequelize.Model`);r.hooks=void 0!==r.hooks&&Boolean(r.hooks),r.useHooks=r.hooks,r.useHooks&&i.runHooks("beforeAssociate",{source:i,target:t,type:e},r);const o=new e(i,t,Object.assign(r,i.options));return i.associations[o.associationAccessor]=o,o._injectAttributes(),o.mixin(i.prototype),r.useHooks&&i.runHooks("afterAssociate",{source:i,target:t,type:e,association:o},r),o}}u.hasOne=l(i),u.belongsTo=l(s),e.exports=u,e.exports.Mixin=u,e.exports.default=u},2869:(e,t,r)=>{"use strict";const n=r(9023),i=r(7825),o=r(9158),a=r(6797),s=r(8893).N,c=r(5812),u=r(4716),{logger:l}=r(5275),p={},{classToInvokable:d}=r(753),{joinSQLFragments:h}=r(9446);class f{toString(e){return this.toSql(e)}toSql(){return this.key}stringify(e,t){return this._stringify?this._stringify(e,t):e}bindParam(e,t){return this._bindParam?this._bindParam(e,t):t.bindParam(this.stringify(e,t))}static toString(){return this.name}static warn(e,t){p[t]||(p[t]=!0,l.warn(`${t} \n>> Check: ${e}`))}static extend(e){return new this(e.options)}}f.prototype.dialectTypes="";class m extends f{constructor(e,t){super();const r="object"==typeof e&&e||{length:e,binary:t};this.options=r,this._binary=r.binary,this._length=r.length||255}toSql(){return h([`VARCHAR(${this._length})`,this._binary&&"BINARY"])}validate(e){if("[object String]"!==Object.prototype.toString.call(e)){if(this.options.binary&&Buffer.isBuffer(e)||"number"==typeof e)return!0;throw new a.ValidationError(n.format("%j is not a valid string",e))}return!0}get BINARY(){return this._binary=!0,this.options.binary=!0,this}static get BINARY(){return(new this).BINARY}}class g extends f{constructor(e={}){super(),"number"==typeof e&&(e={length:e}),this.options=e,this._length=e.length,this._zerofill=e.zerofill,this._decimals=e.decimals,this._precision=e.precision,this._scale=e.scale,this._unsigned=e.unsigned}toSql(){let e=this.key;return this._length&&(e+=`(${this._length}`,"number"==typeof this._decimals&&(e+=`,${this._decimals}`),e+=")"),this._unsigned&&(e+=" UNSIGNED"),this._zerofill&&(e+=" ZEROFILL"),e}validate(e){if(!s.isFloat(String(e)))throw new a.ValidationError(n.format(`%j is not a valid ${this.key.toLowerCase()}`,e));return!0}_stringify(e){return"number"==typeof e||"bigint"==typeof e||"boolean"==typeof e||null==e?e:"function"==typeof e.toString?e.toString():e}get UNSIGNED(){return this._unsigned=!0,this.options.unsigned=!0,this}get ZEROFILL(){return this._zerofill=!0,this.options.zerofill=!0,this}static get UNSIGNED(){return(new this).UNSIGNED}static get ZEROFILL(){return(new this).ZEROFILL}}class y extends g{validate(e){if(!s.isInt(String(e)))throw new a.ValidationError(n.format(`%j is not a valid ${this.key.toLowerCase()}`,e));return!0}}class v extends g{constructor(e,t){super("object"==typeof e&&e||{length:e,decimals:t})}validate(e){if(!s.isFloat(String(e)))throw new a.ValidationError(n.format("%j is not a valid float",e));return!0}}class b extends g{constructor(e,t){super("object"==typeof e&&e||{length:e,decimals:t})}}class E extends g{constructor(e,t){super("object"==typeof e&&e||{length:e,decimals:t})}}class w extends g{constructor(e,t){super("object"==typeof e&&e||{precision:e,scale:t})}toSql(){return this._precision||this._scale?`DECIMAL(${[this._precision,this._scale].filter(i.identity).join(",")})`:"DECIMAL"}validate(e){if(!s.isDecimal(String(e)))throw new a.ValidationError(n.format("%j is not a valid decimal",e));return!0}}const A={escape:!1,_value:e=>isNaN(e)?"NaN":isFinite(e)?e:(e<0?"-":"")+"Infinity",_stringify(e){return`'${this._value(e)}'`},_bindParam(e,t){return t.bindParam(this._value(e))}};for(const e of[v,E,b])Object.assign(e.prototype,A);class x extends f{toSql(){return"TINYINT(1)"}validate(e){if(!s.isBoolean(String(e)))throw new a.ValidationError(n.format("%j is not a valid boolean",e));return!0}_sanitize(e){if(null!=e){Buffer.isBuffer(e)&&1===e.length&&(e=e[0]);const t=typeof e;if("string"===t)return"true"===e||"false"!==e&&e;if("number"===t)return 1===e||0!==e&&e}return e}}x.parse=x.prototype._sanitize;class S extends f{validate(){return!0}_stringify(e){return JSON.stringify(e)}}class _ extends f{constructor(e){super();const t="object"==typeof e&&e||{length:e};this.options=t,this._length=t.length||""}toSql(){switch(this._length.toLowerCase()){case"tiny":return"TINYBLOB";case"medium":return"MEDIUMBLOB";case"long":return"LONGBLOB";default:return this.key}}validate(e){if("string"!=typeof e&&!Buffer.isBuffer(e))throw new a.ValidationError(n.format("%j is not a valid blob",e));return!0}_stringify(e){Buffer.isBuffer(e)||(e=Array.isArray(e)?Buffer.from(e):Buffer.from(e.toString()));const t=e.toString("hex");return this._hexify(t)}_hexify(e){return`X'${e}'`}_bindParam(e,t){return Buffer.isBuffer(e)||(e=Array.isArray(e)?Buffer.from(e):Buffer.from(e.toString())),t.bindParam(e)}}_.prototype.escape=!1;class k extends f{constructor(e){super();const t=i.isPlainObject(e)?e:{type:e};this.options=t,this.type="function"==typeof t.type?new t.type:t.type}toSql(){return`${this.type.toSql()}[]`}validate(e){if(!Array.isArray(e))throw new a.ValidationError(n.format("%j is not a valid array",e));return!0}static is(e,t){return e instanceof k&&e.type instanceof t}}class I extends f{constructor(e,t){super();const r=i.isPlainObject(e)?e:{type:e,srid:t};this.options=r,this.type=r.type,this.srid=r.srid}_stringify(e,t){return`ST_GeomFromText(${t.escape(o.Geometry.parseGeoJSON(e).toWkt())})`}_bindParam(e,t){return`ST_GeomFromText(${t.bindParam(o.Geometry.parseGeoJSON(e).toWkt())})`}}I.prototype.escape=!1;class T extends f{constructor(e,t){super();const r=i.isPlainObject(e)?e:{type:e,srid:t};this.options=r,this.type=r.type,this.srid=r.srid}_stringify(e,t){return`ST_GeomFromText(${t.escape(o.Geometry.parseGeoJSON(e).toWkt())})`}_bindParam(e,t){return`ST_GeomFromText(${t.bindParam(o.Geometry.parseGeoJSON(e).toWkt())})`}}T.prototype.escape=!1;const C=e.exports={ABSTRACT:f,STRING:m,CHAR:class extends m{constructor(e,t){super("object"==typeof e&&e||{length:e,binary:t})}toSql(){return h([`CHAR(${this._length})`,this._binary&&"BINARY"])}},TEXT:class extends f{constructor(e){super();const t="object"==typeof e&&e||{length:e};this.options=t,this._length=t.length||""}toSql(){switch(this._length.toLowerCase()){case"tiny":return"TINYTEXT";case"medium":return"MEDIUMTEXT";case"long":return"LONGTEXT";default:return this.key}}validate(e){if("string"!=typeof e)throw new a.ValidationError(n.format("%j is not a valid string",e));return!0}},NUMBER:g,TINYINT:class extends y{},SMALLINT:class extends y{},MEDIUMINT:class extends y{},INTEGER:y,BIGINT:class extends y{},FLOAT:v,TIME:class extends f{toSql(){return"TIME"}},DATE:class extends f{constructor(e){super();const t="object"==typeof e&&e||{length:e};this.options=t,this._length=t.length||""}toSql(){return"DATETIME"}validate(e){if(!s.isDate(String(e)))throw new a.ValidationError(n.format("%j is not a valid date",e));return!0}_sanitize(e,t){return t&&(!t||t.raw)||e instanceof Date||!e?e:new Date(e)}_isChanged(e,t){return!(t&&e&&(e===t||e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime())||!t&&!e&&t===e)}_applyTimezone(e,t){return t.timezone?c.tz.zone(t.timezone)?c(e).tz(t.timezone):u(e).utcOffset(t.timezone):c(e)}_stringify(e,t){return u.isMoment(e)||(e=this._applyTimezone(e,t)),e.format("YYYY-MM-DD HH:mm:ss.SSS Z")}},DATEONLY:class extends f{toSql(){return"DATE"}_stringify(e){return u(e).format("YYYY-MM-DD")}_sanitize(e,t){return(!t||t&&!t.raw)&&e?u(e).format("YYYY-MM-DD"):e}_isChanged(e,t){return!(t&&e&&t===e||!t&&!e&&t===e)}},BOOLEAN:x,NOW:class extends f{},BLOB:_,DECIMAL:w,NUMERIC:w,UUID:class extends f{validate(e,t){if("string"!=typeof e||!s.isUUID(e)&&(!t||!t.acceptStrings))throw new a.ValidationError(n.format("%j is not a valid uuid",e));return!0}},UUIDV1:class extends f{validate(e,t){if("string"!=typeof e||!s.isUUID(e)&&(!t||!t.acceptStrings))throw new a.ValidationError(n.format("%j is not a valid uuid",e));return!0}},UUIDV4:class extends f{validate(e,t){if("string"!=typeof e||!s.isUUID(e,4)&&(!t||!t.acceptStrings))throw new a.ValidationError(n.format("%j is not a valid uuidv4",e));return!0}},HSTORE:class extends f{validate(e){if(!i.isPlainObject(e))throw new a.ValidationError(n.format("%j is not a valid hstore",e));return!0}},JSON:S,JSONB:class extends S{},VIRTUAL:class extends f{constructor(e,t){super(),"function"==typeof e&&(e=new e),this.returnType=e,this.fields=t}},ARRAY:k,ENUM:class extends f{constructor(...e){super();const t=e[0],r="object"==typeof t&&!Array.isArray(t)&&t||{values:e.reduce(((e,t)=>e.concat(Array.isArray(t)?t:[t])),[])};this.values=r.values,this.options=r}validate(e){if(!this.values.includes(e))throw new a.ValidationError(n.format("%j is not a valid choice in %j",e,this.values));return!0}},RANGE:class extends f{constructor(e){super();const t=i.isPlainObject(e)?e:{subtype:e};t.subtype||(t.subtype=new y),"function"==typeof t.subtype&&(t.subtype=new t.subtype),this._subtype=t.subtype.key,this.options=t}validate(e){if(!Array.isArray(e))throw new a.ValidationError(n.format("%j is not a valid range",e));if(2!==e.length)throw new a.ValidationError("A range must be an array with two elements");return!0}},REAL:b,"DOUBLE PRECISION":E,DOUBLE:E,GEOMETRY:I,GEOGRAPHY:T,CIDR:class extends f{validate(e){if("string"!=typeof e||!s.isIPRange(e))throw new a.ValidationError(n.format("%j is not a valid CIDR",e));return!0}},INET:class extends f{validate(e){if("string"!=typeof e||!s.isIP(e))throw new a.ValidationError(n.format("%j is not a valid INET",e));return!0}},MACADDR:class extends f{validate(e){if("string"!=typeof e||!s.isMACAddress(e))throw new a.ValidationError(n.format("%j is not a valid MACADDR",e));return!0}},CITEXT:class extends f{toSql(){return"CITEXT"}validate(e){if("string"!=typeof e)throw new a.ValidationError(n.format("%j is not a valid string",e));return!0}},TSVECTOR:class extends f{validate(e){if("string"!=typeof e)throw new a.ValidationError(n.format("%j is not a valid string",e));return!0}}};i.each(C,((e,t)=>{Object.prototype.hasOwnProperty.call(e,"key")||(e.types={},e.key=e.prototype.key=t)}));const O={};O.postgres=r(5293)(C),O.mysql=r(7414)(C),O.mariadb=r(6712)(C),O.sqlite=r(7872)(C),O.mssql=r(4404)(C),O.db2=r(1396)(C),O.snowflake=r(8568)(C),O.oracle=r(9838)(C);const N=Object.values(O);for(const e of N)i.each(e,((e,t)=>{e.key||(e.key=e.prototype.key=t)}));for(const e of[C,...N])i.each(e,((t,r)=>{e[r]=d(t)}));Object.assign(C,O)},2623:(e,t,r)=>{"use strict";const{classToInvokable:n}=r(3588);class i{static toString(...e){return(new this).toString(...e)}toString(...e){return this.toSql(...e)}toSql(){throw new Error("toSql implementation missing")}}const o={INITIALLY_DEFERRED:n(class extends i{toSql(){return"DEFERRABLE INITIALLY DEFERRED"}}),INITIALLY_IMMEDIATE:n(class extends i{toSql(){return"DEFERRABLE INITIALLY IMMEDIATE"}}),NOT:n(class extends i{toSql(){return"NOT DEFERRABLE"}}),SET_DEFERRED:n(class extends i{constructor(e){super(),this.constraints=e}toSql(e){return e.setDeferredQuery(this.constraints)}}),SET_IMMEDIATE:n(class extends i{constructor(e){super(),this.constraints=e}toSql(e){return e.setImmediateQuery(this.constraints)}})};e.exports=o},1740:(e,t,r)=>{"use strict";const{Pool:n,TimeoutError:i}=r(8028),o=r(7825),a=r(8064),s=r(6797),{logger:c}=r(5275),u=r(6892),l=c.debugContext("pool");class p{constructor(e,t){const r=o.cloneDeep(t.config);if(this.sequelize=t,this.config=r,this.dialect=e,this.versionPromise=null,this.dialectName=this.sequelize.options.dialect,!1===r.pool)throw new Error("Support for pool:false was removed in v4.0");r.pool=o.defaults(r.pool||{},{max:5,min:0,idle:1e4,acquire:6e4,evict:1e3,validate:this._validate.bind(this)}),this.initPools()}refreshTypeParser(e){o.each(e,(e=>{if(Object.prototype.hasOwnProperty.call(e,"parse")){if(!e.types[this.dialectName])throw new Error(`Parse function not supported for type ${e.key} in dialect ${this.dialectName}`);this._refreshTypeParser(e)}}))}_loadDialectModule(e){try{return this.sequelize.config.dialectModulePath?r(4760)(this.sequelize.config.dialectModulePath):this.sequelize.config.dialectModule?this.sequelize.config.dialectModule:r(4760)(e)}catch(t){if("MODULE_NOT_FOUND"===t.code){if(this.sequelize.config.dialectModulePath)throw new Error(`Unable to find dialect at ${this.sequelize.config.dialectModulePath}`);throw new Error(`Please install ${e} package manually`)}throw t}}async _onProcessExit(){if(this.pool)return await this.pool.drain(),l("connection drain due to process exit"),await this.pool.destroyAllNow()}async close(){return this.getConnection=async function(){throw new Error("ConnectionManager.getConnection was called after the connection manager was closed!")},await this._onProcessExit()}initPools(){const e=this.config;if(!e.replication)return this.pool=new n({name:"sequelize",create:()=>this._connect(e),destroy:async e=>{const t=await this._disconnect(e);return l("connection destroy"),t},validate:e.pool.validate,max:e.pool.max,min:e.pool.min,acquireTimeoutMillis:e.pool.acquire,idleTimeoutMillis:e.pool.idle,reapIntervalMillis:e.pool.evict,maxUses:e.pool.maxUses}),void l(`pool created with max/min: ${e.pool.max}/${e.pool.min}, no replication`);Array.isArray(e.replication.read)||(e.replication.read=[e.replication.read]),e.replication.write=o.defaults(e.replication.write,o.omit(e,"replication")),e.replication.read=e.replication.read.map((e=>o.defaults(e,o.omit(this.config,"replication"))));let t=0;this.pool={release:e=>{"read"===e.queryType?this.pool.read.release(e):this.pool.write.release(e)},acquire:(e,t)=>(t=void 0!==t&&t,"SELECT"!==e||t?this.pool.write.acquire():this.pool.read.acquire()),destroy:e=>{this.pool[e.queryType].destroy(e),l("connection destroy")},destroyAllNow:async()=>{await Promise.all([this.pool.read.destroyAllNow(),this.pool.write.destroyAllNow()]),l("all connections destroyed")},drain:async()=>Promise.all([this.pool.write.drain(),this.pool.read.drain()]),read:new n({name:"sequelize:read",create:async()=>{const r=t++%e.replication.read.length,n=await this._connect(e.replication.read[r]);return n.queryType="read",n},destroy:e=>this._disconnect(e),validate:e.pool.validate,max:e.pool.max,min:e.pool.min,acquireTimeoutMillis:e.pool.acquire,idleTimeoutMillis:e.pool.idle,reapIntervalMillis:e.pool.evict,maxUses:e.pool.maxUses}),write:new n({name:"sequelize:write",create:async()=>{const t=await this._connect(e.replication.write);return t.queryType="write",t},destroy:e=>this._disconnect(e),validate:e.pool.validate,max:e.pool.max,min:e.pool.min,acquireTimeoutMillis:e.pool.acquire,idleTimeoutMillis:e.pool.idle,reapIntervalMillis:e.pool.evict,maxUses:e.pool.maxUses})},l(`pool created with max/min: ${e.pool.max}/${e.pool.min}, with replication`)}async getConnection(e){let t;e=e||{},0===this.sequelize.options.databaseVersion&&(this.versionPromise||(this.versionPromise=(async()=>{try{const e=await this._connect(this.config.replication.write||this.config),t={};if(t.transaction={connection:e},t.logging=()=>{},t.logging.__testLoggingFn=!0,0===this.sequelize.options.databaseVersion){const e=await this.sequelize.databaseVersion(t),r=o.get(a.coerce(e),"version")||e;this.sequelize.options.databaseVersion=a.valid(r)?r:this.dialect.defaultVersion}return a.lt(this.sequelize.options.databaseVersion,this.dialect.defaultVersion)&&(u.unsupportedEngine(),l(`Unsupported database engine version ${this.sequelize.options.databaseVersion}`)),this.versionPromise=null,await this._disconnect(e)}catch(e){throw this.versionPromise=null,e}})()),await this.versionPromise);try{await this.sequelize.runHooks("beforePoolAcquire",e),t=await this.pool.acquire(e.type,e.useMaster),await this.sequelize.runHooks("afterPoolAcquire",t,e)}catch(e){if(e instanceof i)throw new s.ConnectionAcquireTimeoutError(e);throw e}return l("connection acquired"),t}releaseConnection(e){this.pool.release(e),l("connection released")}async destroyConnection(e){await this.pool.destroy(e),l(`connection ${e.uuid} destroyed`)}async _connect(e){await this.sequelize.runHooks("beforeConnect",e);const t=await this.dialect.connectionManager.connect(e);return await this.sequelize.runHooks("afterConnect",t,e),t}async _disconnect(e){return await this.sequelize.runHooks("beforeDisconnect",e),await this.dialect.connectionManager.disconnect(e),this.sequelize.runHooks("afterDisconnect",e)}_validate(e){return!this.dialect.connectionManager.validate||this.dialect.connectionManager.validate(e)}}e.exports=p,e.exports.ConnectionManager=p,e.exports.default=p},3476:e=>{"use strict";class t{canBackslashEscape(){return!1}}t.prototype.supports={DEFAULT:!0,"DEFAULT VALUES":!1,"VALUES ()":!1,"LIMIT ON UPDATE":!1,"ON DUPLICATE KEY":!0,"ORDER NULLS":!1,UNION:!0,"UNION ALL":!0,"RIGHT JOIN":!0,returnValues:!1,autoIncrement:{identityInsert:!1,defaultValue:!0,update:!0},bulkDefault:!1,schemas:!1,transactions:!0,settingIsolationLevelDuringTransaction:!0,transactionOptions:{type:!1},migrations:!0,upserts:!0,inserts:{ignoreDuplicates:"",updateOnDuplicate:!1,onConflictDoNothing:"",onConflictWhere:!1,conflictFields:!1},constraints:{restrict:!0,addConstraint:!0,dropConstraint:!0,unique:!0,default:!1,check:!0,foreignKey:!0,primaryKey:!0},index:{collate:!0,length:!1,parser:!1,concurrently:!1,type:!1,using:!0,functionBased:!1,operator:!1},groupedLimit:!0,indexViaAlter:!1,JSON:!1,deferrableConstraints:!1,escapeStringConstants:!1},e.exports=t,e.exports.AbstractDialect=t,e.exports.default=t},1848:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e},p=(e,t)=>i(e,o(t));const d=r(9023),h=r(7825),f=r(3903).v4,m=r(3588),g=(r(6892),r(4667)),y=r(2869),v=r(7684),b=r(7309),E=r(1878),w=r(1020),A=r(9244),x=r(4104),S=r(6797),_=r(9670);class k{constructor(e){if(!e.sequelize)throw new Error("QueryGenerator initialized without options.sequelize");if(!e._dialect)throw new Error("QueryGenerator initialized without options._dialect");this.sequelize=e.sequelize,this.options=e.sequelize.options,this.dialect=e._dialect.name,this._dialect=e._dialect,this._initQuoteIdentifier()}extractTableDetails(e,t){return t=t||{},{schema:(e=e||{}).schema||t.schema||this.options.schema||"public",tableName:h.isPlainObject(e)?e.tableName:e,delimiter:e.delimiter||t.delimiter||"."}}addSchema(e){if(!e._schema)return e.tableName||e;const t=this;return{tableName:e.tableName||e,table:e.tableName||e,name:e.name||e,schema:e._schema,delimiter:e._schemaDelimiter||".",toString(){return t.quoteTable(this)}}}dropSchema(e,t){return this.dropTableQuery(e,t)}describeTableQuery(e,t,r){return`DESCRIBE ${this.quoteTable(this.addSchema({tableName:e,_schema:t,_schemaDelimiter:r}))};`}dropTableQuery(e){return`DROP TABLE IF EXISTS ${this.quoteTable(e)};`}renameTableQuery(e,t){return`ALTER TABLE ${this.quoteTable(e)} RENAME TO ${this.quoteTable(t)};`}populateInsertQueryReturnIntoBinds(){}insertQuery(e,t,r,n){n=n||{},h.defaults(n,this.options);const i={},o=n.bind||[],a=[],s=[],c=[],u=[],l=this.quoteTable(e),p=void 0===n.bindParam?this.bindParam(o):n.bindParam,d=[];let g,y="",v="",b="",E="",w=!1,A="";if(r&&h.each(r,((e,t)=>{i[t]=e,e.field&&(i[e.field]=e)})),this._dialect.supports["DEFAULT VALUES"]?v+=" DEFAULT VALUES":this._dialect.supports["VALUES ()"]&&(v+=" VALUES ()"),(this._dialect.supports.returnValues||this._dialect.supports.returnIntoValues)&&n.returning){const e=this.generateReturnValues(r,n);s.push(...e.returnFields),this._dialect.supports.returnIntoValues&&c.push(...e.returnTypes),E=e.returningFragment,A=e.tmpTable||"",b=e.outputFragment||""}(h.get(this,["sequelize","options","dialectOptions","prependSearchPath"])||n.searchPath)&&(n.bindParam=!1),this._dialect.supports.EXCEPTION&&n.exception&&(n.bindParam=!1),t=m.removeNullValuesFromHash(t,this.options.omitNull);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e];a.push(this.quoteIdentifier(e)),i&&i[e]&&!0===i[e].autoIncrement&&null==r?this._dialect.supports.autoIncrement.defaultValue?this._dialect.supports.DEFAULT?u.push("DEFAULT"):u.push(this.escape(null)):a.splice(-1,1):(i&&i[e]&&!0===i[e].autoIncrement&&(w=!0),r instanceof m.SequelizeMethod||!1===n.bindParam?u.push(this.escape(r,i&&i[e]||void 0,{context:"INSERT"})):u.push(this.format(r,i&&i[e]||void 0,{context:"INSERT"},p)))}let x="";if(!h.isEmpty(n.conflictWhere)&&!this._dialect.supports.inserts.onConflictWhere)throw new Error("missing dialect support for conflictWhere option");if(this._dialect.supports.inserts.updateOnDuplicate&&n.updateOnDuplicate)if(" ON CONFLICT DO UPDATE SET"==this._dialect.supports.inserts.updateOnDuplicate){const e=n.upsertKeys.map((e=>this.quoteIdentifier(e))),t=n.updateOnDuplicate.map((e=>`${this.quoteIdentifier(e)}=EXCLUDED.${this.quoteIdentifier(e)}`)),r=["ON CONFLICT","(",e.join(","),")"];h.isEmpty(n.conflictWhere)||r.push(this.whereQuery(n.conflictWhere,n)),h.isEmpty(t)?r.push("DO NOTHING"):r.push("DO UPDATE SET",t.join(",")),x=` ${m.joinSQLFragments(r)}`}else{const e=n.updateOnDuplicate.map((e=>`${this.quoteIdentifier(e)}=VALUES(${this.quoteIdentifier(e)})`));if(h.isEmpty(e)&&n.upsertKeys&&e.push(...n.upsertKeys.map((e=>`${this.quoteIdentifier(e)}=${this.quoteIdentifier(e)}`))),h.isEmpty(e))throw new Error("No update values found for ON DUPLICATE KEY UPDATE clause, and no identifier fields could be found to use instead.");x+=`${this._dialect.supports.inserts.updateOnDuplicate} ${e.join(",")}`}const S=n.ignoreDuplicates?this._dialect.supports.inserts.ignoreDuplicates:"",_=n.ignoreDuplicates?this._dialect.supports.inserts.onConflictDoNothing:"",k=a.join(","),I=b;if(y=`${A}INSERT${S} INTO ${l} (${k})${I} VALUES (${u.join(",")})${x}${_}${y}`,v=`${A}INSERT${S} INTO ${l}${I}${x}${_}${v}`,this._dialect.supports.EXCEPTION&&n.exception){const e="DROP FUNCTION IF EXISTS pg_temp.testfunc()";0===s.length&&s.push("*");const t=`$func_${f().replace(/-/g,"")}$`,r=`SELECT (testfunc.response).${s.join(", (testfunc.response).")}, testfunc.sequelize_caught_exception FROM pg_temp.testfunc();`;n.exception="WHEN unique_violation THEN GET STACKED DIAGNOSTICS sequelize_caught_exception = PG_EXCEPTION_DETAIL;",y=`CREATE OR REPLACE FUNCTION pg_temp.testfunc(OUT response ${l}, OUT sequelize_caught_exception text) RETURNS RECORD AS ${t} BEGIN ${y} RETURNING * INTO response; EXCEPTION ${n.exception} END ${t} LANGUAGE plpgsql; ${r} ${e}`}else y+=E,v+=E;this._dialect.supports.returnIntoValues&&n.returning&&this.populateInsertQueryReturnIntoBinds(s,c,o.length,d,n),g=`${k.length?y:v}${d.join(",")};`,this._dialect.supports.finalTable&&(g=`SELECT * FROM FINAL TABLE(${k.length?y:v});`),w&&this._dialect.supports.autoIncrement.identityInsert&&(g=`SET IDENTITY_INSERT ${l} ON; ${g} SET IDENTITY_INSERT ${l} OFF;`);const T={query:g};return!1!==n.bindParam&&(T.bind=o),T}bulkInsertQuery(e,t,r,n){r=r||{},n=n||{};const i=[],o={},a=[];let s="";for(const e of t)h.forOwn(e,((e,t)=>{a.includes(t)||a.push(t),n[t]&&!0===n[t].autoIncrement&&(o[t]=!0)}));for(const e of t){const t=a.map((t=>this._dialect.supports.bulkDefault&&!0===o[t]?null!=e[t]?e[t]:"DEFAULT":this.escape(e[t],n[t],{context:"INSERT"})));i.push(`(${t.join(",")})`)}if(this._dialect.supports.inserts.updateOnDuplicate&&r.updateOnDuplicate)if(" ON CONFLICT DO UPDATE SET"==this._dialect.supports.inserts.updateOnDuplicate){const e=r.upsertKeys.map((e=>this.quoteIdentifier(e))),t=r.updateOnDuplicate.map((e=>`${this.quoteIdentifier(e)}=EXCLUDED.${this.quoteIdentifier(e)}`));let n=!1;if(r.conflictWhere){if(!this._dialect.supports.inserts.onConflictWhere)throw new Error(`conflictWhere not supported for dialect ${this._dialect.name}`);n=this.whereQuery(r.conflictWhere,r)}s=["ON CONFLICT","(",e.join(","),")",n,"DO UPDATE SET",t.join(",")]}else{if(r.conflictWhere)throw new Error(`conflictWhere not supported for dialect ${this._dialect.name}`);const e=r.updateOnDuplicate.map((e=>`${this.quoteIdentifier(e)}=VALUES(${this.quoteIdentifier(e)})`));s=`${this._dialect.supports.inserts.updateOnDuplicate} ${e.join(",")}`}const c=r.ignoreDuplicates?this._dialect.supports.inserts.ignoreDuplicates:"",u=a.map((e=>this.quoteIdentifier(e))).join(","),l=r.ignoreDuplicates?this._dialect.supports.inserts.onConflictDoNothing:"";let p="";return this._dialect.supports.returnValues&&r.returning&&(p+=this.generateReturnValues(n,r).returningFragment),m.joinSQLFragments(["INSERT",c,"INTO",this.quoteTable(e),`(${u})`,"VALUES",i.join(","),s,l,p,";"])}updateQuery(e,t,r,n,i){n=n||{},h.defaults(n,this.options),t=m.removeNullValuesFromHash(t,n.omitNull,n);const o=[],a=[],s={};let c="",u="",d="";(h.get(this,["sequelize","options","dialectOptions","prependSearchPath"])||n.searchPath)&&(n.bindParam=!1);const f=void 0===n.bindParam?this.bindParam(a):n.bindParam;if(this._dialect.supports["LIMIT ON UPDATE"]&&n.limit&&(["mssql","db2","oracle"].includes(this.dialect)?"oracle"===this.dialect&&(r&&(r.length&&r.length>0||Object.keys(r).length>0)?d+=" AND ":d+=" WHERE ",d+=`rownum <= ${this.escape(n.limit)} `):d=` LIMIT ${this.escape(n.limit)} `),this._dialect.supports.returnValues&&n.returning){const e=this.generateReturnValues(i,n);d+=e.returningFragment,u=e.tmpTable||"",c=e.outputFragment||"",!this._dialect.supports.returnValues.output&&n.returning&&(n.mapToModel=!0)}i&&h.each(i,((e,t)=>{s[t]=e,e.field&&(s[e.field]=e)}));for(const e in t){if(s&&s[e]&&!0===s[e].autoIncrement&&!this._dialect.supports.autoIncrement.update)continue;const r=t[e];r instanceof m.SequelizeMethod||!1===n.bindParam?o.push(`${this.quoteIdentifier(e)}=${this.escape(r,s&&s[e]||void 0,{context:"UPDATE"})}`):o.push(`${this.quoteIdentifier(e)}=${this.format(r,s&&s[e]||void 0,{context:"UPDATE"},f)}`)}const g=p(l({},n),{bindParam:f});if(0===o.length)return"";const y={query:`${u}UPDATE ${this.quoteTable(e)} SET ${o.join(",")}${c} ${this.whereQuery(r,g)}${d}`.trim()};return!1!==n.bindParam&&(y.bind=a),y}arithmeticQuery(e,t,r,n,i,o){o=o||{},h.defaults(o,{returning:!0}),i=m.removeNullValuesFromHash(i,this.options.omitNull);let a="",s="";if(this._dialect.supports.returnValues&&o.returning){const e=this.generateReturnValues(null,o);a=e.outputFragment,s=e.returningFragment}const c=[];for(const t in n){const r=n[t],i=this.quoteIdentifier(t),o=this.escape(r);c.push(`${i}=${i}${e} ${o}`)}for(const e in i){const t=i[e],r=this.quoteIdentifier(e),n=this.escape(t);c.push(`${r}=${n}`)}return m.joinSQLFragments(["UPDATE",this.quoteTable(t),"SET",c.join(","),a,this.whereQuery(r),s])}addIndexQuery(e,t,r,n){r=r||{},Array.isArray(t)?r.fields=t:(r=t,t=void 0),r.prefix=r.prefix||n||e,r.prefix&&"string"==typeof r.prefix&&(r.prefix=r.prefix.replace(/\./g,"_"),r.prefix=r.prefix.replace(/("|')/g,""));const i=r.fields.map((e=>{if(e instanceof m.SequelizeMethod)return this.handleSequelizeMethod(e);"string"==typeof e&&(e={name:e});let t="";if(e.attribute&&(e.name=e.attribute),!e.name)throw new Error(`The following index field has no name: ${d.inspect(e)}`);if(t+=this.quoteIdentifier(e.name),this._dialect.supports.index.collate&&e.collate&&(t+=` COLLATE ${this.quoteIdentifier(e.collate)}`),this._dialect.supports.index.operator){const n=e.operator||r.operator;n&&(t+=` ${n}`)}return this._dialect.supports.index.length&&e.length&&(t+=`(${e.length})`),e.order&&(t+=` ${e.order}`),t}));r.name||(r=m.nameIndex(r,r.prefix)),r=v._conformIndex(r),this._dialect.supports.index.type||delete r.type,r.where&&(r.where=this.whereQuery(r.where)),e="string"==typeof e?this.quoteIdentifiers(e):this.quoteTable(e);const o=this._dialect.supports.index.concurrently&&r.concurrently?"CONCURRENTLY":void 0;let a;return a=this._dialect.supports.indexViaAlter?["ALTER TABLE",e,o,"ADD"]:["CREATE"],a=a.concat(r.unique?"UNIQUE":"",r.type,"INDEX",this._dialect.supports.indexViaAlter?void 0:o,this.quoteIdentifiers(r.name),1===this._dialect.supports.index.using&&r.using?`USING ${r.using}`:"",this._dialect.supports.indexViaAlter?void 0:`ON ${e}`,2===this._dialect.supports.index.using&&r.using?`USING ${r.using}`:"",`(${i.join(", ")})`,this._dialect.supports.index.parser&&r.parser?`WITH PARSER ${r.parser}`:void 0,this._dialect.supports.index.where&&r.where?r.where:void 0),h.compact(a).join(" ")}addConstraintQuery(e,t){return e="string"==typeof e?this.quoteIdentifiers(e):this.quoteTable(e),m.joinSQLFragments(["ALTER TABLE",e,"ADD",this.getConstraintSnippet(e,t||{}),";"])}getConstraintSnippet(e,t){let r,n;const i=t.fields.map((e=>{if("string"==typeof e)return this.quoteIdentifier(e);if(e instanceof m.SequelizeMethod)return this.handleSequelizeMethod(e);if(e.attribute&&(e.name=e.attribute),!e.name)throw new Error(`The following index field has no name: ${e}`);return this.quoteIdentifier(e.name)})),o=i.join(", "),a=i.join("_");switch(t.type.toUpperCase()){case"UNIQUE":n=this.quoteIdentifier(t.name||`${e}_${a}_uk`),r=`CONSTRAINT ${n} UNIQUE (${o})`;break;case"CHECK":t.where=this.whereItemsQuery(t.where),n=this.quoteIdentifier(t.name||`${e}_${a}_ck`),r=`CONSTRAINT ${n} CHECK (${t.where})`;break;case"DEFAULT":if(void 0===t.defaultValue)throw new Error("Default value must be specified for DEFAULT CONSTRAINT");if("mssql"!==this._dialect.name)throw new Error("Default constraints are supported only for MSSQL dialect.");n=this.quoteIdentifier(t.name||`${e}_${a}_df`),r=`CONSTRAINT ${n} DEFAULT (${this.escape(t.defaultValue)}) FOR ${i[0]}`;break;case"PRIMARY KEY":n=this.quoteIdentifier(t.name||`${e}_${a}_pk`),r=`CONSTRAINT ${n} PRIMARY KEY (${o})`;break;case"FOREIGN KEY":const s=t.references;if(!s||!s.table||!s.field&&!s.fields)throw new Error("references object with table and field must be specified");n=this.quoteIdentifier(t.name||`${e}_${a}_${s.table}_fk`);const c=void 0!==s.field?this.quoteIdentifier(s.field):s.fields.map((e=>this.quoteIdentifier(e))).join(", ");r=`CONSTRAINT ${n} `,r+=`FOREIGN KEY (${o}) REFERENCES ${this.quoteTable(s.table)} (${c})`,t.onUpdate&&(r+=` ON UPDATE ${t.onUpdate.toUpperCase()}`),t.onDelete&&(r+=` ON DELETE ${t.onDelete.toUpperCase()}`);break;default:throw new Error(`${t.type} is invalid.`)}return t.deferrable&&["UNIQUE","PRIMARY KEY","FOREIGN KEY"].includes(t.type.toUpperCase())&&(r+=` ${this.deferConstraintsQuery(t)}`),r}removeConstraintQuery(e,t){return e="string"==typeof e?this.quoteIdentifiers(e):this.quoteTable(e),m.joinSQLFragments(["ALTER TABLE",e,"DROP CONSTRAINT",this.quoteIdentifiers(t)])}quote(e,t,r){const n=["ASC","DESC","ASC NULLS LAST","DESC NULLS LAST","ASC NULLS FIRST","DESC NULLS FIRST","NULLS FIRST","NULLS LAST"];if(r=r||".","string"==typeof e)return this.quoteIdentifiers(e);if(Array.isArray(e)){e.forEach(((r,i)=>{const o=e[i-1];let a,s;if(o||void 0===t?o&&o instanceof b&&(a=o,s=o.target):s=t,s&&s.prototype instanceof v){let e,t;if("function"==typeof r&&r.prototype instanceof v?e=r:h.isPlainObject(r)&&r.model&&r.model.prototype instanceof v&&(e=r.model,t=r.as),e&&(!t&&a&&a instanceof b&&a.through&&a.through.model===e?r=new b(s,e,{as:e.name}):(r=s.getAssociationForAlias(e,t))||(r=s.getAssociationForAlias(e,e.name)),!(r instanceof b)))throw new Error(d.format("Unable to find a valid association for model, '%s'",e.name))}if("string"==typeof r){const e=n.indexOf(r.toUpperCase());if(i>0&&-1!==e)r=this.sequelize.literal(` ${n[e]}`);else if(s&&s.prototype instanceof v)if(void 0!==s.associations&&s.associations[r])r=s.associations[r];else if(void 0!==s.rawAttributes&&s.rawAttributes[r]&&r!==s.rawAttributes[r].field)r=s.rawAttributes[r].field;else if(r.includes(".")&&void 0!==s.rawAttributes){const e=r.split(".");if(s.rawAttributes[e[0]].type instanceof y.JSON){const t=this.quoteIdentifiers(`${s.name}.${s.rawAttributes[e[0]].field}`),n=e.slice(1);r=this.jsonPathExtractionQuery(t,n),r=this.sequelize.literal(r)}}}e[i]=r}),this);const i=e.length,o=[];let a,s=0;for(s=0;s<i-1&&(a=e[s],!("string"==typeof a||a._modelAttribute||a instanceof m.SequelizeMethod));s++)a instanceof b&&(o[s]=a.as);let c="";return s>0?c+=`${this.quoteIdentifier(o.join(r))}.`:"string"==typeof e[0]&&t&&(c+=`${this.quoteIdentifier(t.name)}.`),e.slice(s).forEach((e=>{c+=this.quote(e,t,r)}),this),c}if(e._modelAttribute)return`${this.quoteTable(e.Model.name)}.${this.quoteIdentifier(e.fieldName)}`;if(e instanceof m.SequelizeMethod)return this.handleSequelizeMethod(e);if(h.isPlainObject(e)&&e.raw)throw new Error('The `{raw: "..."}` syntax is no longer supported.  Use `sequelize.literal` instead.');throw new Error(`Unknown structure passed to order / group: ${d.inspect(e)}`)}_initQuoteIdentifier(){this._quoteIdentifier=this.quoteIdentifier,this.quoteIdentifier=function(e,t){return"*"===e?e:this._quoteIdentifier(e,t)}}quoteIdentifier(e,t){throw new Error(`quoteIdentifier for Dialect "${this.dialect}" is not implemented`)}quoteIdentifiers(e){if(e.includes(".")){const t=(e=e.split(".")).slice(0,e.length-1).join("->"),r=e[e.length-1];return`${this.quoteIdentifier(t)}.${this.quoteIdentifier(r)}`}return this.quoteIdentifier(e)}quoteAttribute(e,t){return t&&e in t.rawAttributes?this.quoteIdentifier(e):this.quoteIdentifiers(e)}getAliasToken(){return"AS"}quoteTable(e,t){let r="";return!0===t&&(t=e.as||e.name||e),h.isObject(e)?this._dialect.supports.schemas?(e.schema&&(r+=`${this.quoteIdentifier(e.schema)}.`),r+=this.quoteIdentifier(e.tableName)):(e.schema&&(r+=e.schema+(e.delimiter||".")),r+=e.tableName,r=this.quoteIdentifier(r)):r=this.quoteIdentifier(e),t&&(r+=` ${this.getAliasToken()} ${this.quoteIdentifier(t)}`),r}escape(e,t,r){if(r=r||{},null!=e){if(e instanceof m.SequelizeMethod)return this.handleSequelizeMethod(e);if(t&&t.type&&(this.validate(e,t,r),t.type.stringify)){const n=e=>g.escape(e,this.options.timezone,this.dialect);if(e=t.type.stringify(e,{escape:n,field:t,timezone:this.options.timezone,operation:r.operation}),!1===t.type.escape)return e}}return g.escape(e,this.options.timezone,this.dialect)}bindParam(e){return t=>(e.push(t),`$${e.length}`)}format(e,t,r,n){if(r=r||{},null!=e){if(e instanceof m.SequelizeMethod)throw new Error("Cannot pass SequelizeMethod as a bind parameter - use escape instead");if(t&&t.type&&(this.validate(e,t,r),t.type.bindParam))return t.type.bindParam(e,{escape:h.identity,field:t,timezone:this.options.timezone,operation:r.operation,bindParam:n})}return n(e)}validate(e,t,r){if(this.typeValidation&&t.type.validate&&e)try{if(r.isList&&Array.isArray(e))for(const n of e)t.type.validate(n,r);else t.type.validate(e,r)}catch(r){throw r instanceof S.ValidationError&&r.errors.push(new S.ValidationErrorItem(r.message,"Validation error",t.fieldName,e,null,`${t.type.key} validator`)),r}}isIdentifierQuoted(e){return/^\s*(?:([`"'])(?:(?!\1).|\1{2})*\1\.?)+\s*$/i.test(e)}jsonPathExtractionQuery(e,t,r){let n,i=h.toPath(t);const o=this.isIdentifierQuoted(e)?e:this.quoteIdentifier(e);switch(this.dialect){case"mysql":case"mariadb":case"sqlite":return"mysql"===this.dialect&&(i=i.map((e=>/\D/.test(e)?m.addTicks(e,'"'):e))),n=this.escape(["$"].concat(i).join(".").replace(/\.(\d+)(?:(?=\.)|$)/g,((e,t)=>`[${t}]`))),"sqlite"===this.dialect?`json_extract(${o},${n})`:`json_unquote(json_extract(${o},${n}))`;case"postgres":const e=r?"#>":"#>>";return n=this.escape(`{${i.join(",")}}`),`(${o}${e}${n})`;default:throw new Error(`Unsupported ${this.dialect} for JSON operations`)}}selectQuery(e,t,r){const n=(t=t||{}).limit,i=[],o=[],a=void 0===t.subQuery?n&&t.hasMultiAssociation:t.subQuery,s={main:t.attributes&&t.attributes.slice(),subQuery:null},c={name:e,quotedName:null,as:null,model:r},u={names:c,options:t,subQuery:a};let p,d=[],f=[];if(this.options.minifyAliases&&!t.aliasesMapping&&(t.aliasesMapping=new Map,t.aliasesByTable={},t.includeAliases=new Map),t.tableAs?c.as=this.quoteIdentifier(t.tableAs):!Array.isArray(c.name)&&c.model&&(c.as=this.quoteIdentifier(c.model.name)),c.quotedName=Array.isArray(c.name)?e.map((e=>Array.isArray(e)?this.quoteTable(e[0],e[1]):this.quoteTable(e,!0))).join(", "):this.quoteTable(c.name),a&&s.main)for(const e of c.model.primaryKeyAttributes)s.main.some((t=>e===t||e===t[0]||e===t[1]))||s.main.push(c.model.rawAttributes[e].field?[e,c.model.rawAttributes[e].field]:e);if(s.main=this.escapeAttributes(s.main,t,c.as),s.main=s.main||(t.include?[`${c.as}.*`]:["*"]),(a||t.groupedLimit)&&(s.subQuery=s.main,s.main=[`${c.as||c.quotedName}.*`]),t.include)for(const e of t.include){if(e.separate)continue;const t=this.generateInclude(e,{externalAs:c.as,internalAs:c.as},u);f=f.concat(t.subQuery),d=d.concat(t.mainQuery),t.attributes.main.length>0&&(s.main=h.uniq(s.main.concat(t.attributes.main))),t.attributes.subQuery.length>0&&(s.subQuery=h.uniq(s.subQuery.concat(t.attributes.subQuery)))}if(a)o.push(this.selectFromTableFragment(t,c.model,s.subQuery,c.quotedName,c.as)),o.push(f.join(""));else{if(t.groupedLimit){c.as||(c.as=c.quotedName);const n=l({},t.where);let o,a,u,p=c.as;if("string"==typeof t.groupedLimit.on?a=t.groupedLimit.on:t.groupedLimit.on instanceof A&&(a=t.groupedLimit.on.foreignKeyField),t.groupedLimit.on instanceof w){p=t.groupedLimit.on.manyFromSource.as;const e=v._validateIncludedElements({include:[{association:t.groupedLimit.on.manyFromSource,duplicating:!1,required:!0,where:l({[x.placeholder]:!0},t.groupedLimit.through&&t.groupedLimit.through.where)}],model:r});t.hasJoin=!0,t.hasMultiAssociation=!0,t.includeMap=Object.assign(e.includeMap,t.includeMap),t.includeNames=e.includeNames.concat(t.includeNames||[]),u=e.include,Array.isArray(t.order)&&(t.order.forEach(((e,r)=>{Array.isArray(e)&&(e=e[0]);let n=`subquery_order_${r}`;t.attributes.push([e,n]),n=this.sequelize.literal(this.quote(n)),Array.isArray(t.order[r])?t.order[r][0]=n:t.order[r]=n})),o=t.order)}else o=t.order,this._dialect.supports.topLevelOrderByRequired||delete t.order,n[x.placeholder]=!0;const d=`SELECT * FROM (${this.selectQuery(e,{attributes:t.attributes,offset:t.offset,limit:t.groupedLimit.limit,order:o,aliasesMapping:t.aliasesMapping,aliasesByTable:t.aliasesByTable,where:n,include:u,model:r},r).replace(/;$/,"")}) ${this.getAliasToken()} sub`,h=this.whereItemQuery(x.placeholder,!0,{model:r}),f=d.indexOf(h);i.push(this.selectFromTableFragment(t,c.model,s.main,`(${t.groupedLimit.values.map((e=>{let r;return a&&(r={[a]:e}),u&&(r={[t.groupedLimit.on.foreignIdentifierField]:e}),m.spliceStr(d,f,h.length,this.getWhereConditions(r,p))})).join(this._dialect.supports["UNION ALL"]?" UNION ALL ":" UNION ")})`,c.as))}else i.push(this.selectFromTableFragment(t,c.model,s.main,c.quotedName,c.as));i.push(d.join(""))}if(Object.prototype.hasOwnProperty.call(t,"where")&&!t.groupedLimit&&(t.where=this.getWhereConditions(t.where,c.as||e,r,t),t.where&&(a?o.push(` WHERE ${t.where}`):(i.push(` WHERE ${t.where}`),i.forEach(((e,n)=>{e.startsWith("SELECT")&&(i[n]=this.selectFromTableFragment(t,r,s.main,c.quotedName,c.as,t.where))}))))),t.group&&(t.group=Array.isArray(t.group)?t.group.map((e=>this.aliasGrouping(e,r,c.as,t))).join(", "):this.aliasGrouping(t.group,r,c.as,t),a&&t.group?o.push(` GROUP BY ${t.group}`):t.group&&i.push(` GROUP BY ${t.group}`)),Object.prototype.hasOwnProperty.call(t,"having")&&(t.having=this.getWhereConditions(t.having,e,r,t,!1),t.having&&(a?o.push(` HAVING ${t.having}`):i.push(` HAVING ${t.having}`))),t.order){const e=this.getQueryOrders(t,r,a);e.mainQueryOrder.length&&i.push(` ORDER BY ${e.mainQueryOrder.join(", ")}`),e.subQueryOrder.length&&o.push(` ORDER BY ${e.subQueryOrder.join(", ")}`)}const g=this.addLimitAndOffset(t,c.model);if(g&&!t.groupedLimit&&(a?o.push(g):i.push(g)),a?(this._throwOnEmptyAttributes(s.main,{modelName:r&&r.name,as:c.as}),p=`SELECT ${s.main.join(", ")} FROM (${o.join("")}) ${this.getAliasToken()} ${c.as}${d.join("")}${i.join("")}`):p=i.join(""),t.lock&&this._dialect.supports.lock){let e=t.lock;"object"==typeof t.lock&&(e=t.lock.level),this._dialect.supports.lockKey&&["KEY SHARE","NO KEY UPDATE"].includes(e)?p+=` FOR ${e}`:p+="SHARE"===e?` ${this._dialect.supports.forShare}`:" FOR UPDATE",this._dialect.supports.lockOf&&t.lock.of&&t.lock.of.prototype instanceof v&&(p+=` OF ${this.quoteTable(t.lock.of.name)}`),this._dialect.supports.skipLocked&&t.skipLocked&&(p+=" SKIP LOCKED")}return`${p};`}aliasGrouping(e,t,r,n){const i=Array.isArray(e)?e[0]:e;return this.quote(this._getAliasForField(r,i,n)||i,t)}escapeAttributes(e,t,r){return e&&e.map((e=>{let n=!0;if(e instanceof m.SequelizeMethod)return this.handleSequelizeMethod(e);if(Array.isArray(e)){if(2!==e.length)throw new Error(`${JSON.stringify(e)} is not a valid attribute definition. Please use the following format: ['attribute definition', 'alias']`);if((e=e.slice())[0]instanceof m.SequelizeMethod)e[0]=this.handleSequelizeMethod(e[0]),n=!1;else if("escape"===this.options.attributeBehavior||!e[0].includes("(")&&!e[0].includes(")"))e[0]=this.quoteIdentifier(e[0]);else if("unsafe-legacy"!==this.options.attributeBehavior)throw new Error('Attributes cannot include parentheses in Sequelize 6:\nIn order to fix the vulnerability CVE-2023-22578, we had to remove support for treating attributes as raw SQL if they included parentheses.\nSequelize 7 escapes all attributes, even if they include parentheses.\nFor Sequelize 6, because we\'re introducing this change in a minor release, we\'ve opted for throwing an error instead of silently escaping the attribute as a way to warn you about this change.\n\nHere is what you can do to fix this error:\n- Wrap the attribute in a literal() call. This will make Sequelize treat it as raw SQL.\n- Set the "attributeBehavior" sequelize option to "escape" to make Sequelize escape the attribute, like in Sequelize v7. We highly recommend this option.\n- Set the "attributeBehavior" sequelize option to "unsafe-legacy" to make Sequelize escape the attribute, like in Sequelize v5.\n\nWe sincerely apologize for the inconvenience this may cause you. You can find more information on the following threads:\nhttps://github.com/sequelize/sequelize/security/advisories/GHSA-f598-mfpv-gmfx\nhttps://github.com/sequelize/sequelize/discussions/15694');let i=e[1];this.options.minifyAliases&&(i=this._getMinifiedAlias(i,r,t)),e=[e[0],this.quoteIdentifier(i)].join(" AS ")}else e=e.includes(m.TICK_CHAR)||e.includes('"')?this.escape(e):this.quoteAttribute(e,t.model);return h.isEmpty(t.include)||e.includes(".")&&!t.dotNotation||!n||(e=`${r}.${e}`),e}))}generateInclude(e,t,r){const n={mainQuery:[],subQuery:[]},i=[],o=[];let a=!1;const s={internalAs:e.as,externalAs:e.as},c={main:[],subQuery:[]};let u;if(r.options.keysEscaped=!0,r.names.name!==t.externalAs&&r.names.as!==t.externalAs&&(s.internalAs=`${t.internalAs}->${e.as}`,s.externalAs=`${t.externalAs}.${e.as}`),!1!==r.options.includeIgnoreAttributes){e.model._expandAttributes(e),m.mapFinderOptions(e,e.model);const t=e.attributes.map((e=>{let t,n=e,i=!1;if(Array.isArray(e)&&2===e.length&&(e[0]instanceof m.SequelizeMethod&&(e[0]instanceof m.Literal||e[0]instanceof m.Cast||e[0]instanceof m.Fn)&&(i=!0),n=(e=e.map((e=>e instanceof m.SequelizeMethod?this.handleSequelizeMethod(e):e)))[1],e=e[0]),e instanceof m.Literal)return e.val;if(e instanceof m.Cast||e instanceof m.Fn)throw new Error("Tried to select attributes using Sequelize.cast or Sequelize.fn without specifying an alias for the result, during eager loading. This means the attribute will not be added to the returned instance");t=!0===i?e:/#>>|->>/.test(e)?`(${this.quoteIdentifier(s.internalAs)}.${e.replace(/\(|\)/g,"")})`:/json_extract\(/.test(e)?e.replace(/json_extract\(/i,`json_extract(${this.quoteIdentifier(s.internalAs)}.`):/json_value\(/.test(e)?e.replace(/json_value\(/i,`json_value(${this.quoteIdentifier(s.internalAs)}.`):`${this.quoteIdentifier(s.internalAs)}.${this.quoteIdentifier(e)}`;let o=`${s.externalAs}.${n}`;return this.options.minifyAliases&&(o=this._getMinifiedAlias(o,s.internalAs,r.options)),m.joinSQLFragments([t,"AS",this.quoteIdentifier(o,!0)])}));if(e.subQuery&&r.subQuery)for(const e of t)c.subQuery.push(e);else for(const e of t)c.main.push(e)}if(e.through?u=this.generateThroughJoin(e,s,t.internalAs,r):(this._generateSubQueryFilter(e,s,r),u=this.generateJoin(e,r)),u.attributes.main.length>0&&(c.main=c.main.concat(u.attributes.main)),u.attributes.subQuery.length>0&&(c.subQuery=c.subQuery.concat(u.attributes.subQuery)),e.include)for(const t of e.include){if(t.separate||t._pseudo)continue;const n=this.generateInclude(t,s,r);!1===e.required&&!0===t.required&&(a=!0),t.subQuery&&r.subQuery&&o.push(n.subQuery),n.mainQuery&&i.push(n.mainQuery),n.attributes.main.length>0&&(c.main=c.main.concat(n.attributes.main)),n.attributes.subQuery.length>0&&(c.subQuery=c.subQuery.concat(n.attributes.subQuery))}return e.subQuery&&r.subQuery?(a&&o.length>0?n.subQuery.push(` ${u.join} ( ${u.body}${o.join("")} ) ON ${u.condition}`):(n.subQuery.push(` ${u.join} ${u.body} ON ${u.condition}`),o.length>0&&n.subQuery.push(o.join(""))),n.mainQuery.push(i.join(""))):(a&&i.length>0?n.mainQuery.push(` ${u.join} ( ${u.body}${i.join("")} ) ON ${u.condition}`):(n.mainQuery.push(` ${u.join} ${u.body} ON ${u.condition}`),i.length>0&&n.mainQuery.push(i.join(""))),n.subQuery.push(o.join(""))),{mainQuery:n.mainQuery.join(""),subQuery:n.subQuery.join(""),attributes:c}}_getMinifiedAlias(e,t,r){if(r.aliasesByTable[`${t}${e}`])return r.aliasesByTable[`${t}${e}`];if(e.match(/subquery_order_[0-9]/))return e;const n=`_${r.aliasesMapping.size}`;return r.aliasesMapping.set(n,e),r.aliasesByTable[`${t}${e}`]=n,n}_getAliasForField(e,t,r){return this.options.minifyAliases&&r.aliasesByTable[`${e}${t}`]?r.aliasesByTable[`${e}${t}`]:null}generateJoin(e,t){const r=e.association,n=e.parent,i=!!n&&!e.parent.association&&e.parent.model.name===t.options.model.name;let o,a;const s=r.source,c=r instanceof E?r.identifier:r.sourceKeyAttribute||s.primaryKeyAttribute,u=r instanceof E?r.identifierField:s.rawAttributes[r.sourceKeyAttribute||s.primaryKeyAttribute].field;let l;const p=e.model,d=p.getTableName(),h=r instanceof E?p.rawAttributes[r.targetIdentifier||p.primaryKeyAttribute].field:r.identifierField;let f=e.as;for(;(o=o&&o.parent||e.parent)&&o.association;)l=l?`${o.as}->${l}`:o.as;l?f=`${l}->${f}`:l=n.as||n.model.name;let m=`${this.quoteTable(l)}.${this.quoteIdentifier(u)}`;const g=[];if(t.options.groupedLimit&&i||t.subQuery&&e.parent.subQuery&&!e.subQuery)if(i){const e=this.quoteTable(n.as||n.model.name);if(m=this._getAliasForField(e,c,t.options)||`${e}.${this.quoteIdentifier(c)}`,t.subQuery){const t=`${e}.${this.quoteIdentifier(u)}`;g.push(t!==m?`${t} AS ${this.quoteIdentifier(c)}`:t)}}else{const e=`${l.replace(/->/g,".")}.${c}`;m=this._getAliasForField(l,e,t.options)||this.quoteIdentifier(e)}return m+=` = ${this.quoteIdentifier(f)}.${this.quoteIdentifier(h)}`,e.on&&(m=this.whereItemsQuery(e.on,{prefix:this.sequelize.literal(this.quoteIdentifier(f)),model:e.model})),e.where&&(a=this.whereItemsQuery(e.where,{prefix:this.sequelize.literal(this.quoteIdentifier(f)),model:e.model}),a&&(e.or?m+=` OR ${a}`:m+=` AND ${a}`)),this.aliasAs(f,t),{join:e.required?"INNER JOIN":e.right&&this._dialect.supports["RIGHT JOIN"]?"RIGHT OUTER JOIN":"LEFT OUTER JOIN",body:this.quoteTable(d,f),condition:m,attributes:{main:[],subQuery:g}}}generateReturnValues(e,t){const r=[],n=[];let i="",o="",a="";return Array.isArray(t.returning)?r.push(...t.returning.map((e=>this.quoteIdentifier(e)))):e&&h.each(e,(e=>{e.type instanceof y.VIRTUAL||(r.push(this.quoteIdentifier(e.field)),n.push(e.type))})),h.isEmpty(r)&&r.push("*"),this._dialect.supports.returnValues.returning?o=` RETURNING ${r.join(",")}`:this._dialect.supports.returnIntoValues?o=` RETURNING ${r.join(",")} INTO `:this._dialect.supports.returnValues.output&&(i=` OUTPUT ${r.map((e=>`INSERTED.${e}`)).join(",")}`,t.hasTrigger&&this._dialect.supports.tmpTableTrigger)&&(a=`DECLARE @tmp TABLE (${r.map(((e,t)=>`${e} ${n[t].toSql()}`)).join(",")}); `,i+=" INTO @tmp",o="; SELECT * FROM @tmp"),{outputFragment:i,returnFields:r,returnTypes:n,returningFragment:o,tmpTable:a}}generateThroughJoin(e,t,r,n){const i=e.through,o=i.model.getTableName(),a=`${t.internalAs}->${i.as}`,s=`${t.externalAs}.${i.as}`,c=i.attributes.map((e=>{let t=`${s}.${Array.isArray(e)?e[1]:e}`;return this.options.minifyAliases&&(t=this._getMinifiedAlias(t,a,n.options)),m.joinSQLFragments([`${this.quoteIdentifier(a)}.${this.quoteIdentifier(Array.isArray(e)?e[0]:e)}`,"AS",this.quoteIdentifier(t)])})),u=e.association,l=!e.parent.association&&e.parent.model.name===n.options.model.name,p=r,d=u.identifierField,h=t.internalAs,f=u.foreignIdentifierField,g=u.targetKeyField,y=e.required?"INNER JOIN":e.right&&this._dialect.supports["RIGHT JOIN"]?"RIGHT OUTER JOIN":"LEFT OUTER JOIN";let v,b;const E={main:[],subQuery:[]};let w,A,x,S,_=u.sourceKey;if(!1!==n.options.includeIgnoreAttributes)for(const e of c)E.main.push(e);if(n.subQuery||(_=u.sourceKeyField),!n.subQuery||e.subQuery||e.parent.subQuery||e.parent.model===n.options.mainModel||(_=u.sourceKeyField),n.subQuery&&!e.subQuery&&e.parent.subQuery&&!l){const e=this._getAliasForField(p,`${p}.${_}`,n.options)||`${p}.${_}`;w=`${this.quoteIdentifier(e)} = `}else{const e=this._getAliasForField(p,_,n.options)||_;w=`${this.quoteTable(p)}.${this.quoteIdentifier(e)} = `}return w+=`${this.quoteIdentifier(a)}.${this.quoteIdentifier(d)}`,A=`${this.quoteIdentifier(h)}.${this.quoteIdentifier(g)} = `,A+=`${this.quoteIdentifier(a)}.${this.quoteIdentifier(f)}`,i.where&&(x=this.getWhereConditions(i.where,this.sequelize.literal(this.quoteIdentifier(a)),i.model)),this.aliasAs(t.internalAs,n),v=`( ${this.quoteTable(o,a)} INNER JOIN ${this.quoteTable(e.model.getTableName(),t.internalAs)} ON ${A}`,x&&(v+=` AND ${x}`),v+=")",b=w,(e.where||e.through.where)&&e.where&&(S=this.getWhereConditions(e.where,this.sequelize.literal(this.quoteIdentifier(t.internalAs)),e.model,n.options),S&&(b+=` AND ${S}`)),this._generateSubQueryFilter(e,t,n),{join:y,body:v,condition:b,attributes:E}}aliasAs(e,t){if(this.options.minifyAliases&&e.length>=64){const r=`%${t.options.includeAliases.size}`;t.options.includeAliases.set(r,e)}}_generateSubQueryFilter(e,t,r){if(!r.subQuery||!e.subQueryFilter)return;r.options.where||(r.options.where={});let n,i=e,o=e,a=this._getRequiredClosure(e).include;for(;i=i.parent;){if(i.parent&&!i.required)return;if(i.subQueryFilter)return;a=[p(l({},o),{include:a,attributes:[]})],o=i}const s=a[0],c=s.parent,u=s.association;if(s.association=void 0,s.through&&Object(s.through.model)===s.through.model)n=this.selectQuery(s.through.model.getTableName(),{attributes:[s.through.model.primaryKeyField],include:v._validateIncludedElements({model:s.through.model,include:[{association:u.toTarget,required:!0,where:s.where,include:s.include}]}).include,model:s.through.model,where:{[x.and]:[this.sequelize.literal([`${this.quoteTable(c.model.name)}.${this.quoteIdentifier(c.model.primaryKeyField)}`,`${this.quoteIdentifier(s.through.model.name)}.${this.quoteIdentifier(u.identifierField)}`].join(" = ")),s.through.where]},limit:1,includeIgnoreAttributes:!1},s.through.model);else{const e="BelongsTo"===u.associationType,t=e?u.identifierField:u.sourceKeyField||c.model.primaryKeyField,r=e?u.sourceKeyField||s.model.primaryKeyField:u.identifierField,i=[`${this.quoteIdentifier(s.as)}.${this.quoteIdentifier(r)}`,`${this.quoteTable(c.as||c.model.name)}.${this.quoteIdentifier(t)}`].join(" = ");n=this.selectQuery(s.model.getTableName(),{attributes:[r],include:v._validateIncludedElements(s).include,model:s.model,where:{[x.and]:[s.where,{[x.join]:this.sequelize.literal(i)}]},limit:1,tableAs:s.as,includeIgnoreAttributes:!1},s.model)}r.options.where[x.and]||(r.options.where[x.and]=[]),r.options.where[`__${t.internalAs}`]=this.sequelize.literal(["(",n.replace(/;$/,""),")","IS NOT NULL"].join(" "))}_getRequiredClosure(e){const t=p(l({},e),{attributes:[],include:[]});return Array.isArray(e.include)&&(t.include=e.include.filter((e=>e.required)).map((e=>this._getRequiredClosure(e)))),t}getQueryOrders(e,t,r){const n=[],i=[];if(Array.isArray(e.order))for(let o of e.order){if(Array.isArray(o)||(o=[o]),r&&Array.isArray(o)&&o[0]&&!(o[0]instanceof b)&&!("function"==typeof o[0]&&o[0].prototype instanceof v)&&!("function"==typeof o[0].model&&o[0].model.prototype instanceof v)&&("string"!=typeof o[0]||!t||void 0===t.associations||!t.associations[o[0]])){const r=t.rawAttributes[o[0]]?t.rawAttributes[o[0]].field:o[0],n=this._getAliasForField(this.quoteIdentifier(t.name),r,e);let a=null,s=[];null===n?(s=o,a=t):(s=[n,o.length>1?o[1]:"ASC"],a=null),i.push(this.quote(s,a,"->"))}if(e.attributes&&t){const r=e.attributes.find((e=>Array.isArray(e)&&e[1]&&(e[0]===o[0]||e[1]===o[0])));if(r){const n=this.quoteIdentifier(t.name),i=this._getAliasForField(n,r[1],e);o[0]=new m.Col(i||r[1])}}n.push(this.quote(o,t,"->"))}else{if(!(e.order instanceof m.SequelizeMethod))throw new Error("Order must be type of array or instance of a valid sequelize method.");{const o=this.quote(e.order,t,"->");r&&i.push(o),n.push(o)}}return{mainQueryOrder:n,subQueryOrder:i}}_throwOnEmptyAttributes(e,t={}){if(e.length>0)return;const r=t.as&&`as ${t.as}`||"",n=`Attempted a SELECT query ${t.modelName&&`for model '${t.modelName}'`||""} ${r} without selecting any columns`;throw new S.QueryError(n.replace(/ +/g," "))}selectFromTableFragment(e,t,r,n,i){this._throwOnEmptyAttributes(r,{modelName:t&&t.name,as:i});let o=`SELECT ${r.join(", ")} FROM ${n}`;if(i&&(o+=` ${this.getAliasToken()} ${i}`),e.indexHints&&this._dialect.supports.indexHints)for(const t of e.indexHints)_[t.type]&&(o+=` ${_[t.type]} INDEX (${t.values.map((e=>this.quoteIdentifiers(e))).join(",")})`);return o}addLimitAndOffset(e){let t="";return null!=e.offset&&null==e.limit?t+=" LIMIT "+this.escape(e.offset)+", 10000000000000":null!=e.limit&&(null!=e.offset?t+=" LIMIT "+this.escape(e.offset)+", "+this.escape(e.limit):t+=" LIMIT "+this.escape(e.limit)),t}handleSequelizeMethod(e,t,r,n,i){let o;if(Object.prototype.hasOwnProperty.call(this.OperatorMap,e.comparator)&&(e.comparator=this.OperatorMap[e.comparator]),e instanceof m.Where){let o,a=e.logic;return o=e.attribute instanceof m.SequelizeMethod?this.getWhereConditions(e.attribute,t,r,n,i):`${this.quoteTable(e.attribute.Model.name)}.${this.quoteIdentifier(e.attribute.field||e.attribute.fieldName)}`,a&&a instanceof m.SequelizeMethod?(a=this.getWhereConditions(a,t,r,n,i),"NULL"===a&&("="===e.comparator&&(e.comparator="IS"),"!="===e.comparator&&(e.comparator="IS NOT")),[o,a].join(` ${e.comparator} `)):h.isPlainObject(a)?this.whereItemQuery(e.attribute,a,{model:r}):(a=[this.OperatorMap[x.between],this.OperatorMap[x.notBetween]].includes(e.comparator)?`${this.escape(a[0])} AND ${this.escape(a[1])}`:"boolean"==typeof a?this.booleanValue(a):this.escape(a),"NULL"===a&&("="===e.comparator&&(e.comparator="IS"),"!="===e.comparator&&(e.comparator="IS NOT")),[o,a].join(` ${e.comparator} `))}if(e instanceof m.Literal)return e.val;if(e instanceof m.Cast)return o=e.val instanceof m.SequelizeMethod?this.handleSequelizeMethod(e.val,t,r,n,i):h.isPlainObject(e.val)?this.whereItemsQuery(e.val):this.escape(e.val),`CAST(${o} AS ${e.type.toUpperCase()})`;if(e instanceof m.Fn)return`${e.fn}(${e.args.map((e=>e instanceof m.SequelizeMethod?this.handleSequelizeMethod(e,t,r,n,i):h.isPlainObject(e)?this.whereItemsQuery(e):this.escape("string"==typeof e?e.replace(/\$/g,"$$$"):e))).join(", ")})`;if(e instanceof m.Col){if(Array.isArray(e.col)&&!r)throw new Error("Cannot call Sequelize.col() with array outside of order / group clause");return e.col.startsWith("*")?"*":this.quote(e.col,r)}return e.toString(this,r)}whereQuery(e,t){const r=this.whereItemsQuery(e,t);return r&&r.length?`WHERE ${r}`:""}whereItemsQuery(e,t,r){if(null==e||0===m.getComplexSize(e))return"";if("string"==typeof e)throw new Error("Support for `{where: 'raw query'}` has been removed.");const n=[];return" "!==(r=r||"AND")[0]&&(r=` ${r} `),h.isPlainObject(e)?m.getComplexKeys(e).forEach((r=>{const i=e[r];n.push(this.whereItemQuery(r,i,t))})):n.push(this.whereItemQuery(void 0,e,t)),n.length&&n.filter((e=>e&&e.length)).join(r)||""}whereItemQuery(e,t,r={}){if(void 0===t)throw new Error(`WHERE parameter "${e}" has invalid "undefined" value`);if("string"==typeof e&&e.includes(".")&&r.model){const n=e.split(".");if(r.model.rawAttributes[n[0]]&&r.model.rawAttributes[n[0]].type instanceof y.JSON){const e={},i=r.model.rawAttributes[n[0]];return h.set(e,n.slice(1),t),this.whereItemQuery(i.field||n[0],e,l({field:i},r))}}const n=this._findField(e,r),i=n&&n.type||r.type,o=h.isPlainObject(t),a=!o&&Array.isArray(t);e=this.OperatorsAliasMap&&this.OperatorsAliasMap[e]||e,o&&(t=this._replaceAliases(t));const s=o&&m.getComplexKeys(t);if(void 0===e){if("string"==typeof t)return t;if(o&&1===s.length)return this.whereItemQuery(s[0],t[s[0]],r)}if(null===t){const i=r.bindParam?"NULL":this.escape(t,n);return this._joinKeyValue(e,i,this.OperatorMap[x.is],r.prefix)}if(!t){const i=r.bindParam?this.format(t,n,r,r.bindParam):this.escape(t,n);return this._joinKeyValue(e,i,this.OperatorMap[x.eq],r.prefix)}if(t instanceof m.SequelizeMethod&&!(void 0!==e&&t instanceof m.Fn))return this.handleSequelizeMethod(t);if(void 0===e&&a){if(!m.canTreatArrayAsAnd(t))throw new Error("Support for literal replacements in the `where` object has been removed.");e=x.and}if(e===x.or||e===x.and||e===x.not)return this._whereGroupBind(e,t,r);if(t[x.or])return this._whereBind(this.OperatorMap[x.or],e,t[x.or],r);if(t[x.and])return this._whereBind(this.OperatorMap[x.and],e,t[x.and],r);if(a&&i instanceof y.ARRAY){const i=r.bindParam?this.format(t,n,r,r.bindParam):this.escape(t,n);return this._joinKeyValue(e,i,this.OperatorMap[x.eq],r.prefix)}if(o&&i instanceof y.JSON&&!1!==r.json)return this._whereJSON(e,t,r);if(o&&s.length>1)return this._whereBind(this.OperatorMap[x.and],e,t,r);if(a)return this._whereParseSingleValueObject(e,n,x.in,t,r);if(o)return this.OperatorMap[s[0]]?this._whereParseSingleValueObject(e,n,s[0],t[s[0]],r):this._whereParseSingleValueObject(e,n,this.OperatorMap[x.eq],t,r);if(e===x.placeholder){const i=r.bindParam?this.format(t,n,r,r.bindParam):this.escape(t,n);return this._joinKeyValue(this.OperatorMap[e],i,this.OperatorMap[x.eq],r.prefix)}const c=r.bindParam?this.format(t,n,r,r.bindParam):this.escape(t,n);return this._joinKeyValue(e,c,this.OperatorMap[x.eq],r.prefix)}_findField(e,t){return t.field?t.field:t.model&&t.model.rawAttributes&&t.model.rawAttributes[e]?t.model.rawAttributes[e]:t.model&&t.model.fieldRawAttributesMap&&t.model.fieldRawAttributesMap[e]?t.model.fieldRawAttributesMap[e]:void 0}_whereGroupBind(e,t,r){const n=e===x.or?this.OperatorMap[x.or]:this.OperatorMap[x.and],i=e===x.not?"NOT ":"";return t=Array.isArray(t)?(t=t.map((e=>{let t=this.whereItemsQuery(e,r,this.OperatorMap[x.and]);return t&&t.length&&(Array.isArray(e)||h.isPlainObject(e))&&m.getComplexSize(e)>1&&(t=`(${t})`),t})).filter((e=>e&&e.length))).length&&t.join(n):this.whereItemsQuery(t,r,n),e!==x.or&&e!==x.not||t?t?`${i}(${t})`:void 0:"0 = 1"}_whereBind(e,t,r,n){return(r=(r=h.isPlainObject(r)?m.getComplexKeys(r).map((e=>{const i=r[e];return this.whereItemQuery(t,{[e]:i},n)})):r.map((e=>this.whereItemQuery(t,e,n)))).filter((e=>e&&e.length))).length?`(${r.join(e)})`:void 0}_whereJSON(e,t,r){const n=[];let i=this.quoteIdentifier(e);r.prefix&&(i=r.prefix instanceof m.Literal?`${this.handleSequelizeMethod(r.prefix)}.${i}`:`${this.quoteTable(r.prefix)}.${i}`),m.getOperators(t).forEach((i=>{const o={[i]:t[i]};n.push(this.whereItemQuery(e,o,p(l({},r),{json:!1})))})),h.forOwn(t,((e,t)=>{this._traverseJSON(n,i,t,e,[t])}));const o=n.join(this.OperatorMap[x.and]);return n.length>1?`(${o})`:o}_traverseJSON(e,t,r,n,i){let o;if(i[i.length-1].includes("::")){const e=i[i.length-1].split("::");o=e[1],i[i.length-1]=e[0]}let a=this.jsonPathExtractionQuery(t,i);if(h.isPlainObject(n))return m.getOperators(n).forEach((r=>{const s=this._toJSONValue(n[r]);let c=!1;if("string"==typeof s&&r===x.contains)try{JSON.stringify(s),c=!0}catch(e){}a=this.jsonPathExtractionQuery(t,i,c),e.push(this.whereItemQuery(this._castKey(a,s,o),{[r]:s}))})),void h.forOwn(n,((r,n)=>{this._traverseJSON(e,t,n,r,i.concat([n]))}));n=this._toJSONValue(n),e.push(this.whereItemQuery(this._castKey(a,n,o),{[x.eq]:n}))}_toJSONValue(e){return e}_castKey(e,t,r,n){return(r=r||this._getJsonCast(Array.isArray(t)?t[0]:t))?new m.Literal(this.handleSequelizeMethod(new m.Cast(new m.Literal(e),r,n))):new m.Literal(e)}_getJsonCast(e){return"number"==typeof e?"double precision":e instanceof Date?"timestamptz":"boolean"==typeof e?"boolean":void 0}_joinKeyValue(e,t,r,n){if(!e)return t;if(void 0===r)throw new Error(`${e} and ${t} has no comparator`);return[e=this._getSafeKey(e,n),t].join(` ${r} `)}_getSafeKey(e,t){return e instanceof m.SequelizeMethod?(e=this.handleSequelizeMethod(e),this._prefixKey(this.handleSequelizeMethod(e),t)):m.isColString(e)?((e=e.substr(1,e.length-2).split(".")).length>2&&(e=[e.slice(0,-1).join("->"),e[e.length-1]]),e.map((e=>this.quoteIdentifier(e))).join(".")):this._prefixKey(this.quoteIdentifier(e),t)}_prefixKey(e,t){return t?t instanceof m.Literal?[this.handleSequelizeMethod(t),e].join("."):[this.quoteTable(t),e].join("."):e}_whereParseSingleValueObject(e,t,r,n,i){r===x.not&&(Array.isArray(n)?r=x.notIn:null!==n&&!0!==n&&!1!==n&&(r=x.ne));let o=this.OperatorMap[r]||this.OperatorMap[x.eq];switch(r){case x.in:case x.notIn:return n instanceof m.Literal?this._joinKeyValue(e,n.val,o,i.prefix):n.length?this._joinKeyValue(e,`(${n.map((e=>this.escape(e,t))).join(", ")})`,o,i.prefix):o===this.OperatorMap[x.in]?this._joinKeyValue(e,"(NULL)",o,i.prefix):"";case x.any:case x.all:return o=`${this.OperatorMap[x.eq]} ${o}`,n[x.values]?this._joinKeyValue(e,`(VALUES ${n[x.values].map((e=>`(${this.escape(e)})`)).join(", ")})`,o,i.prefix):this._joinKeyValue(e,`(${this.escape(n,t)})`,o,i.prefix);case x.between:case x.notBetween:return this._joinKeyValue(e,`${this.escape(n[0],t)} AND ${this.escape(n[1],t)}`,o,i.prefix);case x.raw:throw new Error("The `$raw` where property is no longer supported.  Use `sequelize.literal` instead.");case x.col:return o=this.OperatorMap[x.eq],(n=n.split(".")).length>2&&(n=[n.slice(0,-1).join("->"),n[n.length-1]]),this._joinKeyValue(e,n.map((e=>this.quoteIdentifier(e))).join("."),o,i.prefix);case x.startsWith:case x.endsWith:case x.substring:o=this.OperatorMap[x.like],n instanceof m.Literal&&(n=n.val);let a=`${n}%`;return r===x.endsWith&&(a=`%${n}`),r===x.substring&&(a=`%${n}%`),this._joinKeyValue(e,this.escape(a),o,i.prefix)}const a={acceptStrings:o.includes(this.OperatorMap[x.like])};if(h.isPlainObject(n)){if(n[x.col])return this._joinKeyValue(e,this.whereItemQuery(null,n),o,i.prefix);if(n[x.any])return a.isList=!0,this._joinKeyValue(e,`(${this.escape(n[x.any],t,a)})`,`${o} ${this.OperatorMap[x.any]}`,i.prefix);if(n[x.all])return a.isList=!0,this._joinKeyValue(e,`(${this.escape(n[x.all],t,a)})`,`${o} ${this.OperatorMap[x.all]}`,i.prefix)}return null===n&&o===this.OperatorMap[x.eq]?this._joinKeyValue(e,this.escape(n,t,a),this.OperatorMap[x.is],i.prefix):null===n&&o===this.OperatorMap[x.ne]?this._joinKeyValue(e,this.escape(n,t,a),this.OperatorMap[x.not],i.prefix):this._joinKeyValue(e,this.escape(n,t,a),o,i.prefix)}getWhereConditions(e,t,r,n,i){const o={};if(Array.isArray(t)&&(t=t[0],Array.isArray(t)&&(t=t[1])),n=n||{},void 0===i&&(i=!0),e&&e instanceof m.SequelizeMethod)return this.handleSequelizeMethod(e,t,r,n,i);if(h.isPlainObject(e))return this.whereItemsQuery(e,{model:r,prefix:i&&t,type:n.type});if("number"==typeof e||"bigint"==typeof e){let n=r?Object.keys(r.primaryKeys):[];return n=n.length>0?n[0]:"id",o[n]=e,this.whereItemsQuery(o,{model:r,prefix:i&&t})}if("string"==typeof e)return this.whereItemsQuery(e,{model:r,prefix:i&&t});if(Buffer.isBuffer(e))return this.escape(e);if(Array.isArray(e)){if(0===e.length||e.length>0&&0===e[0].length)return"1=1";if(m.canTreatArrayAsAnd(e)){const o={[x.and]:e};return this.getWhereConditions(o,t,r,n,i)}throw new Error("Support for literal replacements in the `where` object has been removed.")}if(null==e)return this.whereItemsQuery(e,{model:r,prefix:i&&t});throw new Error(`Unsupported where option value: ${d.inspect(e)}. Please refer to the Sequelize documentation to learn more about which values are accepted as part of the where option.`)}parseConditionObject(e,t){return t=t||[],h.reduce(e,((e,r,n)=>h.isObject(r)?e.concat(this.parseConditionObject(r,t.concat(n))):(e.push({path:t.concat(n),value:r}),e)),[])}booleanValue(e){return e}authTestQuery(){return"SELECT 1+1 AS result"}}Object.assign(k.prototype,r(7790)),Object.assign(k.prototype,r(5171)),e.exports=k},7790:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const c=r(7825),u=r(4104),l=r(3588),p={OperatorMap:{[u.eq]:"=",[u.ne]:"!=",[u.gte]:">=",[u.gt]:">",[u.lte]:"<=",[u.lt]:"<",[u.not]:"IS NOT",[u.is]:"IS",[u.in]:"IN",[u.notIn]:"NOT IN",[u.like]:"LIKE",[u.notLike]:"NOT LIKE",[u.iLike]:"ILIKE",[u.notILike]:"NOT ILIKE",[u.startsWith]:"LIKE",[u.endsWith]:"LIKE",[u.substring]:"LIKE",[u.regexp]:"~",[u.notRegexp]:"!~",[u.iRegexp]:"~*",[u.notIRegexp]:"!~*",[u.between]:"BETWEEN",[u.notBetween]:"NOT BETWEEN",[u.overlap]:"&&",[u.contains]:"@>",[u.contained]:"<@",[u.adjacent]:"-|-",[u.strictLeft]:"<<",[u.strictRight]:">>",[u.noExtendRight]:"&<",[u.noExtendLeft]:"&>",[u.any]:"ANY",[u.all]:"ALL",[u.and]:" AND ",[u.or]:" OR ",[u.col]:"COL",[u.placeholder]:"$$PLACEHOLDER$$",[u.match]:"@@"},OperatorsAliasMap:{},setOperatorsAliases(e){!e||c.isEmpty(e)?this.OperatorsAliasMap=!1:this.OperatorsAliasMap=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({},e)},_replaceAliases(e){const t={};return this.OperatorsAliasMap?(l.getOperators(e).forEach((r=>{const n=e[r];c.isPlainObject(n)?t[r]=this._replaceAliases(n):t[r]=n})),c.forOwn(e,((e,r)=>{r=this.OperatorsAliasMap[r]||r,c.isPlainObject(e)&&(e=this._replaceAliases(e)),t[r]=e})),t):e}};e.exports=p},5171:(e,t,r)=>{"use strict";const n=r(3903).v4,i={setIsolationLevelQuery(e,t){if(!t.parent)return`SET TRANSACTION ISOLATION LEVEL ${e};`},generateTransactionId:()=>n(),startTransactionQuery(e){return e.parent?`SAVEPOINT ${this.quoteIdentifier(e.name,!0)};`:"START TRANSACTION;"},deferConstraintsQuery(){},setConstraintQuery(){},setDeferredQuery(){},setImmediateQuery(){},commitTransactionQuery(e){if(!e.parent)return"COMMIT;"},rollbackTransactionQuery(e){return e.parent?`ROLLBACK TO SAVEPOINT ${this.quoteIdentifier(e.name,!0)};`:"ROLLBACK;"}};e.exports=i},9646:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e},p=(e,t)=>i(e,o(t));const d=r(7825),h=r(3588),f=r(2869),m=r(5137),g=r(9209);t.QueryInterface=class{constructor(e,t){this.sequelize=e,this.queryGenerator=t}async createDatabase(e,t){t=t||{};const r=this.queryGenerator.createDatabaseQuery(e,t);return await this.sequelize.query(r,t)}async dropDatabase(e,t){t=t||{};const r=this.queryGenerator.dropDatabaseQuery(e);return await this.sequelize.query(r,t)}async createSchema(e,t){t=t||{};const r=this.queryGenerator.createSchema(e);return await this.sequelize.query(r,t)}async dropSchema(e,t){t=t||{};const r=this.queryGenerator.dropSchema(e);return await this.sequelize.query(r,t)}async dropAllSchemas(e){if(e=e||{},!this.queryGenerator._dialect.supports.schemas)return this.sequelize.drop(e);const t=await this.showAllSchemas(e);return Promise.all(t.map((t=>this.dropSchema(t,e))))}async showAllSchemas(e){e=p(l({},e),{raw:!0,type:this.sequelize.QueryTypes.SELECT});const t=this.queryGenerator.showSchemasQuery(e),r=await this.sequelize.query(t,e);return d.flatten(r.map((e=>e.schema_name?e.schema_name:e)))}async databaseVersion(e){return await this.sequelize.query(this.queryGenerator.versionQuery(),p(l({},e),{type:g.VERSION}))}async createTable(e,t,r,n){let i="";return(r=l({},r))&&r.uniqueKeys&&d.forOwn(r.uniqueKeys,(e=>{void 0===e.customIndex&&(e.customIndex=!0)})),n&&(r.uniqueKeys=r.uniqueKeys||n.uniqueKeys),t=d.mapValues(t,(e=>this.sequelize.normalizeAttribute(e))),await this.ensureEnums(e,t,r,n),!e.schema&&(r.schema||n&&n._schema)&&(e=this.queryGenerator.addSchema({tableName:e,_schema:!!n&&n._schema||r.schema})),t=this.queryGenerator.attributesToSQL(t,{table:e,context:"createTable",withoutForeignKeyConstraints:r.withoutForeignKeyConstraints}),i=this.queryGenerator.createTableQuery(e,t,r),await this.sequelize.query(i,r)}async tableExists(e,t){const r=this.queryGenerator.tableExistsQuery(e);return 1===(await this.sequelize.query(r,p(l({},t),{type:g.SHOWTABLES}))).length}async dropTable(e,t){(t=l({},t)).cascade=t.cascade||t.force||!1;const r=this.queryGenerator.dropTableQuery(e,t);await this.sequelize.query(r,t)}async _dropAllTables(e,t,r){for(const n of e)t.includes(n.tableName||n)||await this.dropTable(n,p(l({},r),{cascade:!0}))}async dropAllTables(e){const t=(e=e||{}).skip||[],r=await this.showAllTables(e),n=await this.getForeignKeysForTables(r,e);for(const e of r){let t=e;d.isObject(e)&&(t=`${e.schema}.${e.tableName}`);for(const r of n[t])await this.sequelize.query(this.queryGenerator.dropForeignKeyQuery(e,r))}await this._dropAllTables(r,t,e)}async renameTable(e,t,r){r=r||{};const n=this.queryGenerator.renameTableQuery(e,t);return await this.sequelize.query(n,r)}async showAllTables(e){e=p(l({},e),{raw:!0,type:g.SHOWTABLES});const t=this.queryGenerator.showTablesQuery(this.sequelize.config.database),r=await this.sequelize.query(t,e);return d.flatten(r)}async describeTable(e,t){let r=null,n=null;"string"==typeof t?r=t:"object"==typeof t&&null!==t&&(r=t.schema||null,n=t.schemaDelimiter||null),"object"==typeof e&&null!==e&&(r=e.schema,e=e.tableName);const i=this.queryGenerator.describeTableQuery(e,r,n);t=p(l({},t),{type:g.DESCRIBE});try{const r=await this.sequelize.query(i,t);if(d.isEmpty(r))throw new Error(`No description found for "${e}" table. Check the table name and schema; remember, they _are_ case sensitive.`);return r}catch(t){if(t.original&&"ER_NO_SUCH_TABLE"===t.original.code)throw new Error(`No description found for "${e}" table. Check the table name and schema; remember, they _are_ case sensitive.`);throw t}}async addColumn(e,t,r,n){if(!e||!t||!r)throw new Error("addColumn takes at least 3 arguments (table, attribute name, attribute definition)");return n=n||{},r=this.sequelize.normalizeAttribute(r),await this.sequelize.query(this.queryGenerator.addColumnQuery(e,t,r),n)}async removeColumn(e,t,r){return this.sequelize.query(this.queryGenerator.removeColumnQuery(e,t),r)}normalizeAttribute(e){let t;return t=Object.values(f).includes(e)?{type:e,allowNull:!0}:e,this.sequelize.normalizeAttribute(t)}quoteIdentifier(e,t){return this.queryGenerator.quoteIdentifier(e,t)}quoteIdentifiers(e){return this.queryGenerator.quoteIdentifiers(e)}async changeColumn(e,t,r,n){n=n||{};const i=this.queryGenerator.attributesToSQL({[t]:this.normalizeAttribute(r)},{context:"changeColumn",table:e}),o=this.queryGenerator.changeColumnQuery(e,i);return this.sequelize.query(o,n)}async assertTableHasColumn(e,t,r){const n=await this.describeTable(e,r);if(n[t])return n;throw new Error(`Table ${e} doesn't have the column ${t}`)}async renameColumn(e,t,r,n){n=n||{};const i=(await this.assertTableHasColumn(e,t,n))[t],o={};o[r]={attribute:r,type:i.type,allowNull:i.allowNull,defaultValue:i.defaultValue},null!==i.defaultValue||i.allowNull||delete o[r].defaultValue;const a=this.queryGenerator.renameColumnQuery(e,t,this.queryGenerator.attributesToSQL(o));return await this.sequelize.query(a,n)}async addIndex(e,t,r,n){Array.isArray(t)||(n=r,t=(r=t).fields),n||(n=e),(r=h.cloneDeep(r)).fields=t;const i=this.queryGenerator.addIndexQuery(e,r,n);return await this.sequelize.query(i,p(l({},r),{supportsSearchPath:!1}))}async showIndex(e,t){const r=this.queryGenerator.showIndexesQuery(e,t);return await this.sequelize.query(r,p(l({},t),{type:g.SHOWINDEXES}))}async getForeignKeysForTables(e,t){if(0===e.length)return{};t=p(l({},t),{type:g.FOREIGNKEYS});const r=await Promise.all(e.map((e=>this.sequelize.query(this.queryGenerator.getForeignKeysQuery(e,this.sequelize.config.database),t)))),n={};return e.forEach(((e,t)=>{d.isObject(e)&&(e=`${e.schema}.${e.tableName}`),n[e]=Array.isArray(r[t])?r[t].map((e=>e.constraint_name)):[r[t]&&r[t].constraint_name],n[e]=n[e].filter(d.identity)})),n}async getForeignKeyReferencesForTable(e,t){const r=p(l({},t),{type:g.FOREIGNKEYS}),n=this.queryGenerator.getForeignKeysQuery(e,this.sequelize.config.database);return this.sequelize.query(n,r)}async removeIndex(e,t,r){r=r||{};const n=this.queryGenerator.removeIndexQuery(e,t,r);return await this.sequelize.query(n,r)}async addConstraint(e,t){if(!t.fields)throw new Error("Fields must be specified through options.fields");if(!t.type)throw new Error("Constraint type must be specified through options.type");t=h.cloneDeep(t);const r=this.queryGenerator.addConstraintQuery(e,t);return await this.sequelize.query(r,t)}async showConstraint(e,t,r){const n=this.queryGenerator.showConstraintsQuery(e,t);return await this.sequelize.query(n,p(l({},r),{type:g.SHOWCONSTRAINTS}))}async removeConstraint(e,t,r){return this.sequelize.query(this.queryGenerator.removeConstraintQuery(e,t),r)}async insert(e,t,r,n){(n=h.cloneDeep(n)).hasTrigger=e&&e.constructor.options.hasTrigger;const i=this.queryGenerator.insertQuery(t,r,e&&e.constructor.rawAttributes,n);n.type=g.INSERT,n.instance=e;const o=await this.sequelize.query(i,n);return e&&(o[0].isNewRecord=!1),o}async upsert(e,t,r,n,i){const o=(i=l({},i)).model;if(i.type=g.UPSERT,i.updateOnDuplicate=Object.keys(r),i.upsertKeys=i.conflictFields||[],0===i.upsertKeys.length){const e=Object.values(o.primaryKeys).map((e=>e.field)),t=Object.values(o.uniqueKeys).filter((e=>e.fields.length>0)).map((e=>e.fields)),r=Object.values(o._indexes).filter((e=>e.unique&&e.fields.length>0)).map((e=>e.fields));for(const e of i.updateOnDuplicate){const n=t.find((t=>t.includes(e)));if(n){i.upsertKeys=n;break}const o=r.find((t=>t.includes(e)));if(o){i.upsertKeys=o;break}}(0===i.upsertKeys.length||d.intersection(i.updateOnDuplicate,e).length)&&(i.upsertKeys=e),i.upsertKeys=d.uniq(i.upsertKeys)}const a=this.queryGenerator.insertQuery(e,t,o.rawAttributes,i);return await this.sequelize.query(a,i)}async bulkInsert(e,t,r,n){return(r=l({},r)).type=g.INSERT,(await this.sequelize.query(this.queryGenerator.bulkInsertQuery(e,t,r,n),r))[0]}async update(e,t,r,n,i){(i=l({},i)).hasTrigger=e&&e.constructor.options.hasTrigger;const o=this.queryGenerator.updateQuery(t,r,n,i,e.constructor.rawAttributes);return i.type=g.UPDATE,i.instance=e,await this.sequelize.query(o,i)}async bulkUpdate(e,t,r,n,i){n=h.cloneDeep(n),"object"==typeof r&&(r=h.cloneDeep(r));const o=this.queryGenerator.updateQuery(e,t,r,n,i),a=d.isObject(e)?e:{tableName:e},s=n.model?n.model:d.find(this.sequelize.modelManager.models,{tableName:a.tableName});return n.type=g.BULKUPDATE,n.model=s,await this.sequelize.query(o,n)}async delete(e,t,r,n){const i=[],o=this.queryGenerator.deleteQuery(t,r,{},e.constructor);if(n=l({},n),e.constructor&&e.constructor.associations){const t=Object.keys(e.constructor.associations),r=t.length;let n;for(let o=0;o<r;o++)n=e.constructor.associations[t[o]],n.options&&n.options.onDelete&&"cascade"===n.options.onDelete.toLowerCase()&&!0===n.options.useHooks&&i.push(n.accessors.get)}for(const t of i){let r=await e[t](n);if(r){Array.isArray(r)||(r=[r]);for(const e of r)await e.destroy(n)}}return n.instance=e,await this.sequelize.query(o,n)}async bulkDelete(e,t,r,n){return r=h.cloneDeep(r),!0===(r=d.defaults(r,{limit:null})).truncate?this.sequelize.query(this.queryGenerator.truncateTableQuery(e,r),r):("object"==typeof identifier&&(t=h.cloneDeep(t)),await this.sequelize.query(this.queryGenerator.deleteQuery(e,t,r,n),r))}async select(e,t,r){const n=p(l({},r),{type:g.SELECT,model:e});return await this.sequelize.query(this.queryGenerator.selectQuery(t,n,e),n)}async increment(e,t,r,n,i,o){o=h.cloneDeep(o);const a=this.queryGenerator.arithmeticQuery("+",t,r,n,i,o);return o.type=g.UPDATE,o.model=e,await this.sequelize.query(a,o)}async decrement(e,t,r,n,i,o){o=h.cloneDeep(o);const a=this.queryGenerator.arithmeticQuery("-",t,r,n,i,o);return o.type=g.UPDATE,o.model=e,await this.sequelize.query(a,o)}async rawSelect(e,t,r,n){t=h.cloneDeep(t),t=d.defaults(t,{raw:!0,plain:!0,type:g.SELECT});const i=this.queryGenerator.selectQuery(e,t,n);if(void 0===r)throw new Error("Please pass an attribute selector!");const o=await this.sequelize.query(i,t);if(!t.plain)return o;const a=o?o[r]:null;if(!t||!t.dataType)return a;const s=t.dataType;return(s instanceof f.DECIMAL||s instanceof f.FLOAT)&&null!==a?parseFloat(a):(s instanceof f.INTEGER||s instanceof f.BIGINT)&&null!==a?parseInt(a,10):s instanceof f.DATE&&null!==a&&!(a instanceof Date)?new Date(a):a}async createTrigger(e,t,r,n,i,o,a,s){const c=this.queryGenerator.createTrigger(e,t,r,n,i,o,a);if(s=s||{},c)return await this.sequelize.query(c,s)}async dropTrigger(e,t,r){const n=this.queryGenerator.dropTrigger(e,t);if(r=r||{},n)return await this.sequelize.query(n,r)}async renameTrigger(e,t,r,n){const i=this.queryGenerator.renameTrigger(e,t,r);if(n=n||{},i)return await this.sequelize.query(i,n)}async createFunction(e,t,r,n,i,o,a){const s=this.queryGenerator.createFunction(e,t,r,n,i,o,a);if(a=a||{},s)return await this.sequelize.query(s,a)}async dropFunction(e,t,r){const n=this.queryGenerator.dropFunction(e,t);if(r=r||{},n)return await this.sequelize.query(n,r)}async renameFunction(e,t,r,n){const i=this.queryGenerator.renameFunction(e,t,r);if(n=n||{},i)return await this.sequelize.query(i,n)}ensureEnums(){}async setIsolationLevel(e,t,r){if(!(e&&e instanceof m))throw new Error("Unable to set isolation level for a transaction without transaction object!");if(e.parent||!t)return;r=p(l({},r),{transaction:e.parent||e});const n=this.queryGenerator.setIsolationLevelQuery(t,{parent:e.parent});return n?await this.sequelize.query(n,r):void 0}async startTransaction(e,t){if(!(e&&e instanceof m))throw new Error("Unable to start a transaction without transaction object!");(t=p(l({},t),{transaction:e.parent||e})).transaction.name=e.parent?e.name:void 0;const r=this.queryGenerator.startTransactionQuery(e);return await this.sequelize.query(r,t)}async deferConstraints(e,t){t=p(l({},t),{transaction:e.parent||e});const r=this.queryGenerator.deferConstraintsQuery(t);if(r)return await this.sequelize.query(r,t)}async commitTransaction(e,t){if(!(e&&e instanceof m))throw new Error("Unable to commit a transaction without transaction object!");if(e.parent)return;t=p(l({},t),{transaction:e.parent||e,supportsSearchPath:!1,completesTransaction:!0});const r=this.queryGenerator.commitTransactionQuery(e),n=this.sequelize.query(r,t);return e.finished="commit",await n}async rollbackTransaction(e,t){if(!(e&&e instanceof m))throw new Error("Unable to rollback a transaction without transaction object!");(t=p(l({},t),{transaction:e.parent||e,supportsSearchPath:!1,completesTransaction:!0})).transaction.name=e.parent?e.name:void 0;const r=this.queryGenerator.rollbackTransactionQuery(e),n=this.sequelize.query(r,t);return e.finished="rollback",await n}}},6524:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const c=r(7825),u=r(4667),l=r(9209),p=r(4767),d=r(6892),h=r(3903).v4,{safeStringifyJson:f}=r(3588);class m{constructor(e,t,r){this.uuid=h(),this.connection=e,this.instance=r.instance,this.model=r.model,this.sequelize=t,this.options=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({plain:!1,raw:!1,logging:console.log},r),this.checkLoggingOption(),r.rawErrors&&(this.formatError=m.prototype.formatError)}static formatBindParameters(e,t,r,n,i){if(!t)return[e,[]];if(i=i||{},"function"!=typeof n&&(i=n||{},n=void 0),n){if(i.skipValueReplace){const e=n;n=(t,r,n,i,o,a)=>{if(void 0!==e(t,r,n,i,o,a))return t}}}else n=i.skipValueReplace?(e,t,r)=>{if(void 0!==r[t])return e}:(e,t,r,n,i)=>{if(void 0!==r[t])return u.escape(r[t],n,i)};const o=Array.isArray(t);return[e=e.replace(/\B\$(\$|\w+)/g,((e,a)=>{if("$"===a)return i.skipUnescape?e:a;let s;if(o?a.match(/^[1-9]\d*$/)&&(s=n(e,a-=1,t,null,r,i)):a.match(/^\d*$/)||(s=n(e,a,t,null,r,i)),void 0===s)throw new Error(`Named bind parameter "${e}" has no value in the given object.`);return s})),[]]}formatError(e,t){return e.stack=t,e}run(){throw new Error("The run method wasn't overwritten!")}checkLoggingOption(){!0===this.options.logging&&(d.noTrueLogging(),this.options.logging=console.log)}getInsertIdField(){return"insertId"}getUniqueConstraintErrorMessage(e){let t=e?`${e} must be unique`:"Must be unique";if(e&&this.model)for(const r of Object.keys(this.model.uniqueKeys))this.model.uniqueKeys[r].fields.includes(e.replace(/"/g,""))&&this.model.uniqueKeys[r].msg&&(t=this.model.uniqueKeys[r].msg);return t}isRawQuery(){return this.options.type===l.RAW}isVersionQuery(){return this.options.type===l.VERSION}isUpsertQuery(){return this.options.type===l.UPSERT}isInsertQuery(e,t){let r=!0;return this.options.type===l.INSERT||(r=r&&this.sql.toLowerCase().startsWith("insert into"),r=r&&(!e||Object.prototype.hasOwnProperty.call(e,this.getInsertIdField())),r=r&&(!t||Object.prototype.hasOwnProperty.call(t,this.getInsertIdField())),r)}handleInsertQuery(e,t){if(this.instance){const r=this.model.autoIncrementAttribute;let n=null;n=n||e&&e[this.getInsertIdField()],n=n||t&&t[this.getInsertIdField()],this.instance[r]=n}}isShowTablesQuery(){return this.options.type===l.SHOWTABLES}handleShowTablesQuery(e){return c.flatten(e.map((e=>Object.values(e))))}isShowIndexesQuery(){return this.options.type===l.SHOWINDEXES}isShowConstraintsQuery(){return this.options.type===l.SHOWCONSTRAINTS}isDescribeQuery(){return this.options.type===l.DESCRIBE}isSelectQuery(){return this.options.type===l.SELECT}isBulkUpdateQuery(){return this.options.type===l.BULKUPDATE}isBulkDeleteQuery(){return this.options.type===l.BULKDELETE}isForeignKeysQuery(){return this.options.type===l.FOREIGNKEYS}isUpdateQuery(){return this.options.type===l.UPDATE}handleSelectQuery(e){let t=null;if(this.options.fieldMap){const t=this.options.fieldMap;e=e.map((e=>c.reduce(t,((e,t,r)=>(void 0!==e[r]&&t!==r&&(e[t]=e[r],delete e[r]),e)),e)))}return this.options.raw?t=e.map((e=>{let t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return this.options.nest&&(t=p.transform(t)),t})):!0===this.options.hasJoin?(e=m._groupJoinData(e,{model:this.model,includeMap:this.options.includeMap,includeNames:this.options.includeNames},{checkExisting:this.options.hasMultiAssociation}),t=this.model.bulkBuild(e,{isNewRecord:!1,include:this.options.include,includeNames:this.options.includeNames,includeMap:this.options.includeMap,includeValidated:!0,attributes:this.options.originalAttributes||this.options.attributes,raw:!0})):t=this.model.bulkBuild(e,{isNewRecord:!1,raw:!0,attributes:this.options.originalAttributes||this.options.attributes}),this.options.plain&&(t=0===t.length?null:t[0]),t}isShowOrDescribeQuery(){let e=!1;return e=e||this.sql.toLowerCase().startsWith("show"),e=e||this.sql.toLowerCase().startsWith("describe"),e}isCallQuery(){return this.sql.toLowerCase().startsWith("call")}_logQuery(e,t,r){const{connection:n,options:i}=this,o=this.sequelize.options.benchmark||i.benchmark,a=this.sequelize.options.logQueryParameters||i.logQueryParameters,s=Date.now();let c="";if(a&&r){const t=e.endsWith(";")?"":";";let n;n=Array.isArray(r)?r.map((e=>f(e))).join(", "):f(r),c=`${t} ${n}`}const u=`(${n.uuid||"default"}): ${e}${c}`;return t(`Executing ${u}`),o||this.sequelize.log(`Executing ${u}`,i),()=>{const e=`Executed ${u}`;t(e),o&&this.sequelize.log(e,Date.now()-s,i)}}static _groupJoinData(e,t,r){if(!e.length)return[];let n,i,o,a,s,u;const l=e.length;let p,d,h,f,m,g,y,v;const b=r.checkExisting;let E,w,A;const x=b?[]:new Array(l),S={},_={};let k,I,T,C,O,N,R,P;const L=e=>{Object.prototype.hasOwnProperty.call(N.includeMap,e)&&(_[d]=N=N.includeMap[e],P=P?`${P}.${e}`:e,_[P]=N)},M={},q=(e,t)=>(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=e.substr(0,e.lastIndexOf("."))),t[e]),D={},B=e=>{if(!Object.prototype.hasOwnProperty.call(D,e)){const t=e.lastIndexOf(".");D[e]=e.substr(-1===t?0:t+1)}return D[e]},j={},U=e=>{if(!Object.prototype.hasOwnProperty.call(j,e)){const t=q(e,M);Object.prototype.hasOwnProperty.call(j,t)||(j[t]=t?t.split("."):[]),j[e]=j[t]}return j[e]},F={},z=e=>{if(!Object.prototype.hasOwnProperty.call(F,e)){const t=U(e),r=t.length;F[e]=r?t[r-1]:""}return F[e]},H=e=>{let t=c.chain(e.uniqueKeys);return t=t.result(`${t.findKey()}.fields`).map((t=>c.findKey(e.attributes,(e=>e.field===t)))).value(),t},Q=e=>e instanceof Buffer?e.toString("hex"):e;let G,K,$;for(s=0;s<l;s++){if(u=e[s],0===s&&(p=c.sortBy(Object.keys(u),(e=>[e.split(".").length])),f=p.length),b)if(v=!1,a=t.model.primaryKeyAttributes.length,A="",1===a)A=Q(u[t.model.primaryKeyAttributes[0]]);else if(a>1)for(o=0;o<a;o++)A+=Q(u[t.model.primaryKeyAttributes[o]]);else if(!c.isEmpty(t.model.uniqueKeys))for(K=H(t.model),o=0;o<K.length;o++)A+=u[K[o]];for(y=g={},C=void 0,h=0;h<f;h++){if(d=p[h],I=q(d,M),k=U(d),0!==s||Object.prototype.hasOwnProperty.call(_,d)||(k.length?(N=t,P=void 0,k.forEach(L)):_[d]=_[""]=t),void 0!==C&&C!==k)if(b){if(i=C.length,R=null,w=null,i)for(n=0;n<i;n++){if($=R?`${R}.${C[n]}`:C[n],G=_[$].model.primaryKeyAttributes,a=G.length,E=$,1===a)E+=Q(u[`${$}.${G[0]}`]);else if(a>1)for(o=0;o<a;o++)E+=Q(u[`${$}.${G[o]}`]);else if(!c.isEmpty(_[$].model.uniqueKeys))for(K=H(_[$].model),o=0;o<K.length;o++)E+=u[`${$}.${K[o]}`];w||(w=A),E=w+E,R=$,n<i-1&&(w=E)}else E=A;E===A?S[E]?v=!0:S[E]=g:S[E]||(R=S[w],O=z(m),_[m].association.isSingleAssociation?R&&(R[O]=S[E]=g):(R[O]||(R[O]=[]),R[O].push(S[E]=g))),g={}}else if(N=y,i=k.length,i)for(n=0;n<i;n++)n===i-1&&(g=N[k[n]]={}),N=N[k[n]]||{};g[B(d)]=u[d],m=d,C=k,T=I}if(b){if(i=C.length,R=null,w=null,i)for(n=0;n<i;n++){if($=R?`${R}.${C[n]}`:C[n],G=_[$].model.primaryKeyAttributes,a=G.length,E=$,1===a)E+=Q(u[`${$}.${G[0]}`]);else if(a>0)for(o=0;o<a;o++)E+=Q(u[`${$}.${G[o]}`]);else if(!c.isEmpty(_[$].model.uniqueKeys))for(K=H(_[$].model),o=0;o<K.length;o++)E+=u[`${$}.${K[o]}`];w||(w=A),E=w+E,R=$,n<i-1&&(w=E)}else E=A;E===A?S[E]?v=!0:S[E]=g:S[E]||(R=S[w],O=z(m),_[m].association.isSingleAssociation?R&&(R[O]=S[E]=g):(R[O]||(R[O]=[]),R[O].push(S[E]=g))),v||x.push(y)}else x[s]=y}return x}}e.exports=m,e.exports.AbstractQuery=m,e.exports.default=m},3782:(e,t,r)=>{"use strict";const n=r(1740),i=r(6797),{logger:o}=r(5275),a=r(2869).db2,s=o.debugContext("connection:db2"),c=r(2861)("db2");class u extends n{constructor(e,t){t.config.port=t.config.port||3306,super(e,t),this.lib=this._loadDialectModule("ibm_db"),this.refreshTypeParser(a)}static _typecast(e,t){return c.get(e.type)?c.get(e.type)(e,this.sequelize.options,t):t()}_refreshTypeParser(e){c.refresh(e)}_clearTypeParser(){c.clear()}async connect(e){const t={database:e.database,hostname:e.host,port:e.port,uid:e.username,pwd:e.password};if(e.ssl&&(t.security=e.ssl),e.sslcertificate&&(t.SSLServerCertificate=e.sslcertificate),e.dialectOptions)for(const r of Object.keys(e.dialectOptions))t[r]=e.dialectOptions[r];try{return await new Promise(((e,r)=>{const n=new this.lib.Database;n.lib=this.lib,n.open(t,(t=>t?t.message&&t.message.includes("SQL30081N")?r(new i.ConnectionRefusedError(t)):r(new i.ConnectionError(t)):e(n)))}))}catch(e){throw new i.ConnectionError(e)}}disconnect(e){return e.connected&&e.close((e=>{s(e||"connection closed")})),Promise.resolve()}validate(e){return e&&e.connected}_disconnect(e){return this.dialect.connectionManager.disconnect(e)}}e.exports=u,e.exports.ConnectionManager=u,e.exports.default=u},1396:(e,t,r)=>{"use strict";const n=r(5812),i=r(4716);e.exports=e=>{const t=e.ABSTRACT.warn.bind(void 0,"https://www.ibm.com/support/knowledgecenter/SSEPGG_11.1.0/com.ibm.db2.luw.sql.ref.doc/doc/r0008478.html");function r(e){(e._length||e.options.length||e._unsigned||e._zerofill)&&(t(`Db2 does not support '${e.key}' with options. Plain '${e.key}' will be used instead.`),e._length=void 0,e.options.length=void 0,e._unsigned=void 0,e._zerofill=void 0)}e.DATE.types.db2=["TIMESTAMP"],e.STRING.types.db2=["VARCHAR"],e.CHAR.types.db2=["CHAR"],e.TEXT.types.db2=["VARCHAR","CLOB"],e.TINYINT.types.db2=["SMALLINT"],e.SMALLINT.types.db2=["SMALLINT"],e.MEDIUMINT.types.db2=["INTEGER"],e.INTEGER.types.db2=["INTEGER"],e.BIGINT.types.db2=["BIGINT"],e.FLOAT.types.db2=["DOUBLE","REAL","FLOAT"],e.TIME.types.db2=["TIME"],e.DATEONLY.types.db2=["DATE"],e.BOOLEAN.types.db2=["BOOLEAN","BOOL","SMALLINT","BIT"],e.BLOB.types.db2=["BLOB"],e.DECIMAL.types.db2=["DECIMAL"],e.UUID.types.db2=["CHAR () FOR BIT DATA"],e.ENUM.types.db2=["VARCHAR"],e.REAL.types.db2=["REAL"],e.DOUBLE.types.db2=["DOUBLE"],e.GEOMETRY.types.db2=!1;class o extends e.BLOB{toSql(){return this._length?"tiny"===this._length.toLowerCase()?"BLOB(255)":"medium"===this._length.toLowerCase()?"BLOB(16M)":"long"===this._length.toLowerCase()?"BLOB(2G)":`BLOB(${this._length})`:"BLOB"}escape(e){return`BLOB('${e.toString().replace(/'/g,"''")}')`}_stringify(e){if(Buffer.isBuffer(e))return`BLOB('${e.toString().replace(/'/g,"''")}')`;const t=(e=Array.isArray(e)?Buffer.from(e):Buffer.from(e.toString())).toString("hex");return this._hexify(t)}_hexify(e){return`x'${e}'`}}class a extends e.STRING{toSql(){return this._binary?this._length<255?`CHAR(${this._length}) FOR BIT DATA`:this._length<=4e3?`VARCHAR(${this._length}) FOR BIT DATA`:`BLOB(${this._length})`:this._length<=4e3?`VARCHAR(${this._length})`:`CLOB(${this._length})`}_stringify(e,t){return this._binary?o.prototype._hexify(e.toString("hex")):t.escape(e)}_bindParam(e,t){return t.bindParam(this._binary?Buffer.from(e):e)}}a.prototype.escape=!1;class s extends e.TEXT{toSql(){let e=0;if(this._length){switch(this._length.toLowerCase()){case"tiny":e=256;break;case"medium":e=8192;break;case"long":e=65536}isNaN(this._length)&&(this._length=32672),e>0&&(this._length=e)}else this._length=32672;return e=this._length>32672?`CLOB(${this._length})`:`VARCHAR(${this._length})`,t(`Db2 does not support TEXT datatype. ${e} will be used instead.`),e}}class c extends e.BOOLEAN{toSql(){return"BOOLEAN"}_sanitize(e){return null!=e&&(Buffer.isBuffer(e)&&1===e.length&&(e=e[0]),"string"==typeof e?e=""===(e="true"===e||"false"!==e&&e)||"\0"!==e&&e:"number"==typeof e&&(e=1===e||0!==e&&e)),e}}c.parse=c.prototype._sanitize;class u extends e.UUID{toSql(){return"CHAR(36) FOR BIT DATA"}}class l extends e.NOW{toSql(){return"CURRENT TIME"}}class p extends e.DATE{toSql(){return this._length<0&&(this._length=0),this._length>6&&(this._length=6),"TIMESTAMP"+(this._length?`(${this._length})`:"")}_stringify(e,t){if(i.isMoment(e)||(e=this._applyTimezone(e,t)),this._length>0){let t=".";for(let e=0;e<this._length&&e<6;e++)t+="S";return e.format(`YYYY-MM-DD HH:mm:ss${t}`)}return e.format("YYYY-MM-DD HH:mm:ss")}static parse(e){return"string"!=typeof e&&(e=e.string()),null===e?e:e=new Date(n.utc(e))}}class d extends e.DATEONLY{static parse(e){return n(e).format("YYYY-MM-DD")}}class h extends e.INTEGER{constructor(e){super(e),r(this)}}class f extends e.TINYINT{constructor(e){super(e),r(this)}}class m extends e.SMALLINT{constructor(e){super(e),r(this)}}class g extends e.BIGINT{constructor(e){super(e),r(this)}}class y extends e.REAL{constructor(e,r){super(e,r),(this._length||this.options.length||this._unsigned||this._zerofill)&&(t("Db2 does not support REAL with options. Plain `REAL` will be used instead."),this._length=void 0,this.options.length=void 0,this._unsigned=void 0,this._zerofill=void 0)}}class v extends e.FLOAT{constructor(e,r){super(e,r),this._decimals&&(t("Db2 does not support Float with decimals. Plain `FLOAT` will be used instead."),this._length=void 0,this.options.length=void 0),this._unsigned&&(t("Db2 does not support Float unsigned. `UNSIGNED` was removed."),this._unsigned=void 0),this._zerofill&&(t("Db2 does not support Float zerofill. `ZEROFILL` was removed."),this._zerofill=void 0)}}class b extends e.ENUM{toSql(){return"VARCHAR(255)"}}class E extends e.DOUBLE{constructor(e,r){super(e,r),(this._length||this.options.length||this._unsigned||this._zerofill)&&(t("db2 does not support DOUBLE with options. Plain DOUBLE will be used instead."),this._length=void 0,this.options.length=void 0,this._unsigned=void 0,this._zerofill=void 0)}toSql(){return"DOUBLE"}}return E.prototype.key=E.key="DOUBLE",{BLOB:o,BOOLEAN:c,ENUM:b,STRING:a,UUID:u,DATE:p,DATEONLY:d,NOW:l,TINYINT:f,SMALLINT:m,INTEGER:h,DOUBLE:E,"DOUBLE PRECISION":E,BIGINT:g,REAL:y,FLOAT:v,TEXT:s}}},7582:(e,t,r)=>{"use strict";const n=r(7825),i=r(3476),o=r(3782),a=r(8086),s=r(4414),c=r(2869).db2,{Db2QueryInterface:u}=r(8720);class l extends i{constructor(e){super(),this.sequelize=e,this.connectionManager=new o(this,e),this.queryGenerator=new s({_dialect:this,sequelize:e}),this.queryInterface=new u(e,this.queryGenerator)}}l.prototype.supports=n.merge(n.cloneDeep(i.prototype.supports),{DEFAULT:!0,"DEFAULT VALUES":!1,"VALUES ()":!1,"LIMIT ON UPDATE":!1,"ORDER NULLS":!1,lock:!1,transactions:!0,migrations:!1,returnValues:!1,schemas:!0,finalTable:!0,autoIncrement:{identityInsert:!1,defaultValue:!1,update:!0},constraints:{restrict:!0,default:!1},index:{collate:!1,length:!1,parser:!1,type:!1,using:!1,where:!0},NUMERIC:!0,tmpTableTrigger:!0}),l.prototype.defaultVersion="1.0.0",l.prototype.Query=a,l.prototype.name="db2",l.prototype.TICK_CHAR='"',l.prototype.TICK_CHAR_LEFT='"',l.prototype.TICK_CHAR_RIGHT='"',l.prototype.DataTypes=c,e.exports=l},4414:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const l=r(7825),p=r(3588),d=r(2869),h=r(1848),f=r(6982).randomBytes,m=r(4104),g=function(e){throw new Error(`The method "${e}" is not defined! Please add it to your sql dialect.`)};function y(e){return e?`'${e}'`:""}e.exports=class extends h{constructor(e){var t,r;super(e),this.OperatorMap=(t=((e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e})({},this.OperatorMap),r={[m.regexp]:"REGEXP_LIKE",[m.notRegexp]:"NOT REGEXP_LIKE"},i(t,o(r))),this.autoGenValue=1}createSchema(e){return["CREATE SCHEMA",this.quoteIdentifier(e),";"].join(" ")}dropSchema(e){return{query:`CALL SYSPROC.ADMIN_DROP_SCHEMA(${y(e.trim())}, NULL, ? , ?)`,bind:[{ParamType:"INOUT",Data:"ERRORSCHEMA"},{ParamType:"INOUT",Data:"ERRORTABLE"}]}}showSchemasQuery(){return"SELECT SCHEMANAME AS \"schema_name\" FROM SYSCAT.SCHEMATA WHERE (SCHEMANAME NOT LIKE 'SYS%') AND SCHEMANAME NOT IN ('NULLID', 'SQLJ', 'ERRORSCHEMA')"}versionQuery(){return"select service_level as VERSION from TABLE (sysproc.env_get_inst_info()) as A"}createTableQuery(e,t,r){const n=[],i={},o=[];let a="";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){let c,u=t[s];if(u.includes("COMMENT ")){const t=u.match(/^(.+) (COMMENT.*)$/);if(t&&t.length>2){const r=t[2].replace(/COMMENT/,"").trim();a+=l.template(" -- <%= comment %>, TableName = <%= table %>, ColumnName = <%= column %>;",this._templateSettings)({table:this.quoteIdentifier(e),comment:this.escape(r),column:this.quoteIdentifier(s)}),u=t[1]}}if(l.includes(u,"PRIMARY KEY"))n.push(s),l.includes(u,"REFERENCES")?(c=u.match(/^(.+) (REFERENCES.*)$/),o.push(`${this.quoteIdentifier(s)} ${c[1].replace(/PRIMARY KEY/,"")}`),i[s]=c[2]):o.push(`${this.quoteIdentifier(s)} ${u.replace(/PRIMARY KEY/,"")}`);else if(l.includes(u,"REFERENCES"))c=u.match(/^(.+) (REFERENCES.*)$/),o.push(`${this.quoteIdentifier(s)} ${c[1]}`),i[s]=c[2];else{if(r&&r.uniqueKeys)for(const e in r.uniqueKeys)if(r.uniqueKeys[e].fields.includes(s)&&!l.includes(u,"NOT NULL")){u+=" NOT NULL";break}o.push(`${this.quoteIdentifier(s)} ${u}`)}}const s={table:this.quoteTable(e),attributes:o.join(", ")},c=n.map((e=>this.quoteIdentifier(e))).join(", ");r&&r.uniqueKeys&&l.each(r.uniqueKeys,((t,r)=>{t.customIndex&&(l.isString(r)||(r=`uniq_${e}_${t.fields.join("_")}`),s.attributes+=`, CONSTRAINT ${this.quoteIdentifier(r)} UNIQUE (${t.fields.map((e=>this.quoteIdentifier(e))).join(", ")})`)})),c.length>0&&(s.attributes+=`, PRIMARY KEY (${c})`);for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(s.attributes+=`, FOREIGN KEY (${this.quoteIdentifier(e)}) ${i[e]}`);return`${l.template("CREATE TABLE <%= table %> (<%= attributes %>)",this._templateSettings)(s).trim()};${a}`}describeTableQuery(e,t){let r=['SELECT NAME AS "Name", TBNAME AS "Table", TBCREATOR AS "Schema",','TRIM(COLTYPE) AS "Type", LENGTH AS "Length", SCALE AS "Scale",','NULLS AS "IsNull", DEFAULT AS "Default", COLNO AS "Colno",','IDENTITY AS "IsIdentity", KEYSEQ AS "KeySeq", REMARKS AS "Comment"',"FROM","SYSIBM.SYSCOLUMNS","WHERE TBNAME =",y(e)].join(" ");return r+=t?` AND TBCREATOR =${y(t)}`:" AND TBCREATOR = USER",`${r};`}renameTableQuery(e,t){return l.template("RENAME TABLE <%= before %> TO <%= after %>;",this._templateSettings)({before:this.quoteTable(e),after:this.quoteTable(t)})}showTablesQuery(){return'SELECT TABNAME AS "tableName", TRIM(TABSCHEMA) AS "tableSchema" FROM SYSCAT.TABLES WHERE TABSCHEMA = USER AND TYPE = \'T\' ORDER BY TABSCHEMA, TABNAME'}tableExistsQuery(e){const t=e.tableName||e,r=e.schema||this.sequelize.config.username.toUpperCase();return`SELECT name FROM sysibm.systables WHERE NAME = ${y(t)} AND CREATOR = ${y(r)}`}dropTableQuery(e){const t={table:this.quoteTable(e)};return`${l.template("DROP TABLE <%= table %>",this._templateSettings)(t).trim()};`}addColumnQuery(e,t,r){r.field=t;const n=l.template("<%= key %> <%= definition %>",this._templateSettings)({key:this.quoteIdentifier(t),definition:this.attributeToSQL(r,{context:"addColumn"})});return l.template("ALTER TABLE <%= table %> ADD <%= attribute %>;",this._templateSettings)({table:this.quoteTable(e),attribute:n})}removeColumnQuery(e,t){return l.template("ALTER TABLE <%= tableName %> DROP COLUMN <%= attributeName %>;",this._templateSettings)({tableName:this.quoteTable(e),attributeName:this.quoteIdentifier(t)})}changeColumnQuery(e,t){const r=[],n=[];for(const e in t){const i=t[e];let o=[i];Array.isArray(i)&&(o=i);for(let t=0;t<o.length;t++){const i=o[t];i.match(/REFERENCES/)?n.push(l.template("<%= fkName %> FOREIGN KEY (<%= attrName %>) <%= definition %>",this._templateSettings)({fkName:this.quoteIdentifier(`${e}_foreign_idx`),attrName:this.quoteIdentifier(e),definition:i.replace(/.+?(?=REFERENCES)/,"")})):l.startsWith(i,"DROP ")?r.push(l.template("<%= attrName %> <%= definition %>",this._templateSettings)({attrName:this.quoteIdentifier(e),definition:i})):r.push(l.template("<%= attrName %> SET <%= definition %>",this._templateSettings)({attrName:this.quoteIdentifier(e),definition:i}))}}let i="";return r.length&&(i+=`ALTER COLUMN ${r.join(" ALTER COLUMN ")}`,i+=n.length?" ":""),n.length&&(i+=`ADD CONSTRAINT ${n.join(" ADD CONSTRAINT ")}`),l.template("ALTER TABLE <%= tableName %> <%= query %>;",this._templateSettings)({tableName:this.quoteTable(e),query:i})}renameColumnQuery(e,t,r){const n=Object.keys(r)[0];return l.template("ALTER TABLE <%= tableName %> RENAME COLUMN <%= before %> TO <%= after %>;",this._templateSettings)({tableName:this.quoteTable(e),before:this.quoteIdentifier(t),after:this.quoteIdentifier(n)})}addConstraintQuery(e,t){(t=t||{}).onUpdate&&"CASCADE"===t.onUpdate.toUpperCase()&&delete t.onUpdate;const r=this.getConstraintSnippet(e,t);return`ALTER TABLE ${e="string"==typeof e?this.quoteIdentifiers(e):this.quoteTable(e)} ADD ${r};`}bulkInsertQuery(e,t,r,n){n=n||{};let i="INSERT INTO <%= table %> (<%= attributes %>)<%= output %> VALUES <%= tuples %>;";(r=r||{}).returning&&(i="SELECT * FROM FINAL TABLE( INSERT INTO <%= table %> (<%= attributes %>)<%= output %> VALUES <%= tuples %>);");const o=[],a=[],s=[];let c;const u=[];r.returning&&(c=""),l.forEach(t,(e=>{const t=Object.keys(e),r=n[t[0]];1===t.length&&r&&r.autoIncrement&&null===e[t[0]]?u.push(`(${this.autoGenValue++})`):l.forOwn(e,((e,t)=>{if(-1===a.indexOf(t)){if(null===e&&n[t]&&n[t].autoIncrement)return;a.push(t)}}))})),u.length>0&&s.push(`INSERT INTO <%= table %> VALUES ${u.join(",")}`),a.length>0&&(l.forEach(t,(e=>{o.push(`(${a.map((t=>this.escape(e[t])),void 0,{context:"INSERT"}).join(",")})`)})),s.push(i));const p={table:this.quoteTable(e),attributes:a.map((e=>this.quoteIdentifier(e))).join(","),tuples:o,output:c};return l.template(s.join(";"),this._templateSettings)(p)}updateQuery(e,t,r,n,i){const o=super.updateQuery(e,t,r,n,i);if(n=n||{},l.defaults(n,this.options),!n.limit)return o.query=`SELECT * FROM FINAL TABLE (${o.query});`,o;t=p.removeNullValuesFromHash(t,n.omitNull,n);const a={},s=[],c=[],u=n.bindParam||this.bindParam(c);i&&l.each(i,((e,t)=>{a[t]=e,e.field&&(a[e.field]=e)}));for(const e in t){const r=t[e];r instanceof p.SequelizeMethod||!1===n.bindParam?s.push(`${this.quoteIdentifier(e)}=${this.escape(r,a&&a[e]||void 0,{context:"UPDATE"})}`):s.push(`${this.quoteIdentifier(e)}=${this.format(r,a&&a[e]||void 0,{context:"UPDATE"},u)}`)}let d;const h=l.defaults({bindParam:u},n);return d=`UPDATE (SELECT * FROM ${this.quoteTable(e)} ${this.whereQuery(r,h)} FETCH NEXT ${this.escape(n.limit)} ROWS ONLY) SET ${s.join(",")}`,d=`SELECT * FROM FINAL TABLE (${d});`,{query:d,bind:c}}upsertQuery(e,t,r,n,i){const o=this.quoteTable(`${e}_target`),a=this.quoteTable(`${e}_source`),s=[],c=[],u=[],l=this.quoteTable(e);for(const e in i.rawAttributes)i.rawAttributes[e].primaryKey&&s.push(i.rawAttributes[e].field||e),i.rawAttributes[e].unique&&u.push(i.rawAttributes[e].field||e),i.rawAttributes[e].autoIncrement&&c.push(i.rawAttributes[e].field||e);for(const e of i._indexes)if(e.unique&&e.fields)for(const t of e.fields){const e="string"==typeof t?t:t.name||t.attribute;-1===u.indexOf(e)&&i.rawAttributes[e]&&u.push(e)}const p=Object.keys(r),d=Object.keys(t),h=d.map((e=>this.quoteIdentifier(e))).join(", "),f=d.map((e=>this.escape(t[e]))).join(", "),g=`VALUES(${f})`;let y;const v=n[m.or].filter((e=>{let t=!0;for(const r in e)if(!e[r]){t=!1;break}return t})),b=e=>e.map((e=>(e=this.quoteIdentifier(e),`${o}.${e} = ${a}.${e}`)));if(0===v.length)throw new Error("Primary Key or Unique key should be passed to upsert query");for(const e in v){const t=Object.keys(v[e]);if(-1!==s.indexOf(t[0])){y=b(s).join(" AND ");break}}y||(y=b(u).join(" AND "));const E=p.filter((e=>-1===c.indexOf(e))).map((e=>{const t=this.escape(r[e]);return e=this.quoteIdentifier(e),`${o}.${e} = ${t}`})).join(", "),w=E.length>0?`WHEN MATCHED THEN UPDATE SET ${E}`:"";let A=`MERGE INTO ${l} AS ${o} USING (${g}) AS ${a}(${h}) ON ${y}`;return A+=` ${w} WHEN NOT MATCHED THEN INSERT (${h}) VALUES(${f});`,A}truncateTableQuery(e){return`TRUNCATE TABLE ${this.quoteTable(e)} IMMEDIATE`}deleteQuery(e,t,r={},n){const i=this.quoteTable(e);t=this.getWhereConditions(t,null,n,r);let o="";r.offset>0&&(o=` OFFSET ${this.escape(r.offset)} ROWS`),r.limit&&(o+=` FETCH NEXT ${this.escape(r.limit)} ROWS ONLY`);const a={limit:o,table:i,where:t};return a.where&&(a.where=` WHERE ${a.where}`),l.template("DELETE FROM <%= table %><%= where %><%= limit %>",this._templateSettings)(a)}showIndexesQuery(e){let t,r='SELECT NAME AS "name", TBNAME AS "tableName", UNIQUERULE AS "keyType", COLNAMES, INDEXTYPE AS "type" FROM SYSIBM.SYSINDEXES WHERE TBNAME = <%= tableName %>';return l.isObject(e)&&(t=e.schema,e=e.tableName),t&&(r=`${r} AND TBCREATOR = <%= schemaName %>`),r=`${r} ORDER BY NAME;`,l.template(r,this._templateSettings)({tableName:y(e),schemaName:y(t)})}showConstraintsQuery(e,t){let r=`SELECT CONSTNAME AS "constraintName", TRIM(TABSCHEMA) AS "schemaName", TABNAME AS "tableName" FROM SYSCAT.TABCONST WHERE TABNAME = '${e}'`;return t&&(r+=` AND CONSTNAME LIKE '%${t}%'`),`${r} ORDER BY CONSTNAME;`}removeIndexQuery(e,t){let r=t;"string"!=typeof r&&(r=p.underscore(`${e}_${t.join("_")}`));const n={tableName:this.quoteIdentifiers(e),indexName:this.quoteIdentifiers(r)};return l.template("DROP INDEX <%= indexName %>",this._templateSettings)(n)}attributeToSQL(e,t){let r;l.isPlainObject(e)||(e={type:e});let n=1;if(e.type instanceof d.ENUM?(e.type.values&&!e.values&&(e.values=e.type.values),r=e.type.toSql(),r+=` CHECK (${this.quoteIdentifier(e.field)} IN(${e.values.map((e=>this.escape(e))).join(", ")}))`):r=e.type.toString(),t&&"changeColumn"===t.context&&e.type?r=`DATA TYPE ${r}`:(!1===e.allowNull||!0===e.primaryKey||e.unique)&&(r+=" NOT NULL",n=0),e.autoIncrement){let t=1;e.initialAutoIncrement&&(t=e.initialAutoIncrement),r+=` GENERATED BY DEFAULT AS IDENTITY(START WITH ${t}, INCREMENT BY 1)`}if("TEXT"!==e.type&&!0!==e.type._binary&&p.defaultValueSchemable(e.defaultValue)&&(r+=` DEFAULT ${this.escape(e.defaultValue)}`),!0===e.unique&&(r+=" UNIQUE"),e.primaryKey&&(r+=" PRIMARY KEY"),(!t||!t.withoutForeignKeyConstraints)&&e.references){if(t&&"addColumn"===t.context&&t.foreignKey){const e=this.quoteIdentifier(t.foreignKey);r+=`, CONSTRAINT ${t.tableName}_${e}_fidx FOREIGN KEY (${e})`}r+=` REFERENCES ${this.quoteTable(e.references.model)}`,e.references.key?r+=` (${this.quoteIdentifier(e.references.key)})`:r+=` (${this.quoteIdentifier("id")})`,e.onDelete&&(r+=` ON DELETE ${e.onDelete.toUpperCase()}`),e.onUpdate&&"CASCADE"!=e.onUpdate.toUpperCase()&&(r+=` ON UPDATE ${e.onUpdate.toUpperCase()}`)}return t&&"changeColumn"===t.context&&1===n&&void 0!==e.allowNull&&(r=[r],e.allowNull?r.push("DROP NOT NULL"):r.push("NOT NULL")),e.comment&&"string"==typeof e.comment&&(r+=` COMMENT ${e.comment}`),r}attributesToSQL(e,t){const r={},n=[];let i,o;for(i in e)o=e[i],o.references&&(-1!==n.indexOf(o.references.model.toString())||o.unique&&!0===o.unique?(o.onDelete="",o.onUpdate=""):n.push(o.references.model.toString())),i&&!o.field&&"object"==typeof o&&(o.field=i),r[o.field||i]=this.attributeToSQL(o,t);return r}createTrigger(){g("createTrigger")}dropTrigger(){g("dropTrigger")}renameTrigger(){g("renameTrigger")}createFunction(){g("createFunction")}dropFunction(){g("dropFunction")}renameFunction(){g("renameFunction")}_getForeignKeysQuerySQL(e){return`SELECT R.CONSTNAME AS "constraintName", TRIM(R.TABSCHEMA) AS "constraintSchema", R.TABNAME AS "tableName", TRIM(R.TABSCHEMA) AS "tableSchema", LISTAGG(C.COLNAME,', ') WITHIN GROUP (ORDER BY C.COLNAME) AS "columnName", TRIM(R.REFTABSCHEMA) AS "referencedTableSchema", R.REFTABNAME AS "referencedTableName", TRIM(R.PK_COLNAMES) AS "referencedColumnName" FROM SYSCAT.REFERENCES R, SYSCAT.KEYCOLUSE C WHERE R.CONSTNAME = C.CONSTNAME AND R.TABSCHEMA = C.TABSCHEMA AND R.TABNAME = C.TABNAME${e} GROUP BY R.REFTABSCHEMA, R.REFTABNAME, R.TABSCHEMA, R.TABNAME, R.CONSTNAME, R.PK_COLNAMES`}getForeignKeysQuery(e,t){const r=e.tableName||e;t=e.schema||t;let n="";return r&&(n=` AND R.TABNAME = ${y(r)}`),t&&(n+=` AND R.TABSCHEMA = ${y(t)}`),this._getForeignKeysQuerySQL(n)}getForeignKeyQuery(e,t){const r=e.tableName||e,n=e.schema;let i="";return r&&(i=` AND R.TABNAME = ${y(r)}`),n&&(i+=` AND R.TABSCHEMA = ${y(n)}`),t&&(i+=` AND C.COLNAME = ${y(t)}`),this._getForeignKeysQuerySQL(i)}getPrimaryKeyConstraintQuery(e,t){const r=y(e.tableName||e);return['SELECT TABNAME AS "tableName",','COLNAME AS "columnName",','CONSTNAME AS "constraintName"',"FROM SYSCAT.KEYCOLUSE WHERE CONSTNAME LIKE 'PK_%'",`AND COLNAME = ${y(t)}`,`AND TABNAME = ${r};`].join(" ")}dropForeignKeyQuery(e,t){return l.template("ALTER TABLE <%= table %> DROP <%= key %>",this._templateSettings)({table:this.quoteTable(e),key:this.quoteIdentifier(t)})}dropConstraintQuery(e,t){return l.template("ALTER TABLE <%= table %> DROP CONSTRAINT <%= constraint %>;",this._templateSettings)({table:this.quoteTable(e),constraint:this.quoteIdentifier(t)})}setAutocommitQuery(){return""}setIsolationLevelQuery(){}generateTransactionId(){return f(10).toString("hex")}startTransactionQuery(e){return e.parent?`SAVE TRANSACTION ${this.quoteIdentifier(e.name)};`:"BEGIN TRANSACTION;"}commitTransactionQuery(e){if(!e.parent)return"COMMIT TRANSACTION;"}rollbackTransactionQuery(e){return e.parent?`ROLLBACK TRANSACTION ${this.quoteIdentifier(e.name)};`:"ROLLBACK TRANSACTION;"}addLimitAndOffset(e){const t=e.offset||0;let r="";return t>0&&(r+=` OFFSET ${this.escape(t)} ROWS`),e.limit&&(r+=` FETCH NEXT ${this.escape(e.limit)} ROWS ONLY`),r}booleanValue(e){return e?1:0}addUniqueFields(e,t,r){r=void 0===r?1:r;for(const n in t)t[n].unique&&void 0===e[n]&&(t[n].type instanceof d.DATE?e[n]=p.now("db2"):t[n].type instanceof d.STRING?e[n]="unique"+r++:t[n].type instanceof d.INTEGER?e[n]=r++:t[n].type instanceof d.BOOLEAN&&(e[n]=new d.BOOLEAN(!1)));return r}quoteIdentifier(e,t){return p.addTicks(p.removeTicks(e,'"'),'"')}}},8720:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e};const p=r(7825),d=r(3588),h=r(4104),{QueryInterface:f}=r(9646),m=r(9209);t.Db2QueryInterface=class extends f{async getForeignKeyReferencesForTable(e,t){const r=(n=l({},t),a={type:m.FOREIGNKEYS},i(n,o(a)));var n,a;const s=this.queryGenerator.getForeignKeysQuery(e,this.sequelize.config.username.toUpperCase());return this.sequelize.query(s,r)}async upsert(e,t,r,n,i){const o=(i=l({},i)).model,a=[],s=Object.keys(t);let c,u=[];i=p.clone(i),d.isWhereEmpty(n)||a.push(n),u=p.map(o.uniqueKeys,(e=>e.fields)),o._indexes.forEach((e=>{e.unique&&(c=e.fields.map((e=>p.isPlainObject(e)?e.attribute:e)),u.push(c))}));for(const e of u)if(p.intersection(s,e).length===e.length){n={};for(const r of e)n[r]=t[r];a.push(n)}n={[h.or]:a},i.type=m.UPSERT,i.raw=!0;const f=this.queryGenerator.upsertQuery(e,t,r,n,o,i);return[await this.sequelize.query(f,i),void 0]}async createTable(e,t,r,n){let i="";return(r=l({},r))&&r.uniqueKeys&&p.forOwn(r.uniqueKeys,(e=>{void 0===e.customIndex&&(e.customIndex=!0)})),n&&(r.uniqueKeys=r.uniqueKeys||n.uniqueKeys),t=p.mapValues(t,(e=>this.sequelize.normalizeAttribute(e))),r.indexes&&r.indexes.forEach((e=>{const r=e.fields;1===r.length&&r.forEach((e=>{for(const r in t)e===t[r].field&&(t[r].unique=!0)}))})),r.alter&&r.indexes&&r.indexes.forEach((e=>{const r=e.fields;1===r.length&&r.forEach((e=>{for(const r in t)e===t[r].field&&t[r].unique&&(t[r].unique=!1)}))})),!e.schema&&(r.schema||n&&n._schema)&&(e=this.queryGenerator.addSchema({tableName:e,_schema:!!n&&n._schema||r.schema})),t=this.queryGenerator.attributesToSQL(t,{table:e,context:"createTable",withoutForeignKeyConstraints:r.withoutForeignKeyConstraints}),i=this.queryGenerator.createTableQuery(e,t,r),await this.sequelize.query(i,r)}}},8086:(e,t,r)=>{"use strict";const n=r(9023),i=r(6524),o=r(6797),a=r(2861)("db2"),s=r(7825),{logger:c}=r(5275),u=r(4716),l=c.debugContext("sql:db2");class p extends i{getInsertIdField(){return"id"}getSQLTypeFromJsType(e){return Buffer.isBuffer(e)?{ParamType:"INPUT",DataType:"BLOB",Data:e}:"bigint"==typeof e?e.toString():e}async _run(e,t,r){this.sql=t;const i=this.sequelize.options.benchmark||this.options.benchmark;let o;i?o=Date.now():this.sequelize.log(`Executing (${this.connection.uuid||"default"}): ${this.sql}`,this.options);const c=(new Error).stack;return new Promise(((p,d)=>{if(s.startsWith(this.sql,"BEGIN TRANSACTION"))e.beginTransaction((e=>{e?d(this.formatError(e,c)):p(this.formatResults())}));else if(s.startsWith(this.sql,"COMMIT TRANSACTION"))e.commitTransaction((e=>{e?d(this.formatError(e,c)):p(this.formatResults())}));else if(s.startsWith(this.sql,"ROLLBACK TRANSACTION"))e.rollbackTransaction((e=>{e?d(this.formatError(e,c)):p(this.formatResults())}));else if(s.startsWith(this.sql,"SAVE TRANSACTION"))e.commitTransaction((t=>{t?d(this.formatError(t,c)):e.beginTransaction((e=>{e?d(this.formatError(e,c)):p(this.formatResults())}))}),this.options.transaction.name);else{const h=[];r&&s.forOwn(r,((e,t)=>{const r=this.getSQLTypeFromJsType(e,t);h.push(r)}));const f=this.sql.toUpperCase();let m=this.sql;(this.isSelectQuery()||s.startsWith(f,"SELECT "))&&-1===f.indexOf(" FROM ",8)&&(";"===this.sql.charAt(this.sql.length-1)&&(m=this.sql.slice(0,this.sql.length-1)),m+=" FROM SYSIBM.SYSDUMMY1;"),e.prepare(m,((f,g)=>{f&&d(this.formatError(f,c)),g.execute(h,((h,f,y)=>{if(l(`executed(${this.connection.uuid||"default"}):${m} ${r?n.inspect(r,{compact:!0,breakLength:1/0}):""}`),i&&this.sequelize.log(`Executed (${this.connection.uuid||"default"}): ${m} ${r?n.inspect(r,{compact:!0,breakLength:1/0}):""}`,Date.now()-o,this.options),h&&h.message&&null===(h=this.filterSQLError(h,this.sql,e))&&(g.closeSync(),p(this.formatResults([],0))),h)h.sql=t,g.closeSync(),d(this.formatError(h,c,e,r));else{let t=[],r=[],n=0;"object"==typeof f&&(s.startsWith(this.sql,"DELETE FROM ")?n=f.getAffectedRowsSync():(t=f.fetchAllSync(),r=f.getColumnMetadataSync()),f.closeSync()),g.closeSync();const i=t.length;if(i>0){const n={};for(let e=0;e<r.length;e++)n[r[e].SQL_DESC_NAME]=r[e].SQL_DESC_TYPE_NAME;for(let e=0;e<i;e++)for(const r in t[e]){const i=a.get(n[r]),o=t[e][r];null!==o&&(i?t[e][r]=i(o):"TIMESTAMP"===n[r]?t[e][r]=new Date(u.utc(o)):"BLOB"===n[r]?t[e][r]=new Buffer.from(o):n[r].indexOf("FOR BIT DATA")>0&&(t[e][r]=new Buffer.from(o,"hex")))}y&&y.length&&t.unshift(y),p(this.formatResults(t,i,r,e))}else p(this.formatResults(t,n))}}))}))}}))}async run(e,t){return await this._run(this.connection,e,t)}static formatBindParameters(e,t,r){let n={};return e=i.formatBindParameters(e,t,r,((e,t,r)=>{if(void 0!==r[t])return n[t]=r[t],"?"}))[0],Array.isArray(t)&&"object"==typeof t[0]&&(n=t),[e,n]}filterSQLError(e,t,r){if(-1!=e.message.search("SQL0204N")&&s.startsWith(t,"DROP "))e=null;else if(-1!=e.message.search("SQL0443N"))this.isDropSchemaQuery()&&(r.querySync("DROP TABLE ERRORSCHEMA.ERRORTABLE;"),r.querySync(this.sql)),e=null;else if(-1!=e.message.search("SQL0601N")){const n=e.message.match(/SQL0601N {2}The name of the object to be created is identical to the existing name "(.*)" of type "(.*)"./);if(n&&n.length>1&&"TABLE"===n[2]){let i;const o=n[1].split(".");i=o[1]?`"${o[0]}"."${o[1]}"`:`"${o[0]}"`,!1!==r.dropTable?(r.querySync(`DROP TABLE ${i}`),e=r.querySync(t)):e=null}else e=null}else-1!=e.message.search("SQL0911N")?-1!=e.message.search('Reason code "2"')&&(e=null):-1!=e.message.search("SQL0605W")?e=null:-1!=e.message.search("SQL0668N")&&s.startsWith(t,"ALTER TABLE ")&&(r.querySync(`CALL SYSPROC.ADMIN_CMD('REORG TABLE ${t.substring(12).split(" ")[0]}')`),e=r.querySync(t));return e&&0===e.length&&(e=null),e}formatResults(e,t,r,n){let i=this.instance;if(this.isInsertQuery(e,r)&&(this.handleInsertQuery(e,r),!this.instance))if(this.options.plain){const t=e[0];i=t[Object.keys(t)[0]]}else i=e;if(this.isShowTablesQuery())i=e;else if(this.isDescribeQuery()){i={};for(const t of e)t.Default&&(t.Default=t.Default.replace("('","").replace("')","").replace(/'/g,"")),i[t.Name]={type:t.Type.toUpperCase(),allowNull:"Y"===t.IsNull,defaultValue:t.Default,primaryKey:t.KeySeq>0,autoIncrement:"Y"===t.IsIdentity,comment:t.Comment}}else if(this.isShowIndexesQuery())i=this.handleShowIndexesQuery(e);else if(this.isSelectQuery())i=this.handleSelectQuery(e);else if(this.isUpsertQuery())i=e;else if(this.isDropSchemaQuery()){if(i=e[0],n){const e="DROP TABLE ERRORSCHEMA.ERRORTABLE";n.querySync(e)}}else i=this.isCallQuery()?e:this.isBulkUpdateQuery()?e.length:this.isBulkDeleteQuery()?t:this.isVersionQuery()?e[0].VERSION:this.isForeignKeysQuery()?e:this.isInsertQuery()||this.isUpdateQuery()?[i,t]:this.isShowConstraintsQuery()?this.handleShowConstraintsQuery(e):this.isRawQuery()?[e,r]:e;return i}handleShowTablesQuery(e){return e.map((e=>({tableName:e.TABLE_NAME,schema:e.TABLE_SCHEMA})))}handleShowConstraintsQuery(e){return s.remove(e,(e=>!s.startsWith(e.constraintName,"SQL")))}formatError(e,t,r,n){let i;if(e&&e.message||(e.message="No error message found."),i=e.message.match(/SQL0803N {2}One or more values in the INSERT statement, UPDATE statement, or foreign key update caused by a DELETE statement are not valid because the primary key, unique constraint or unique index identified by "(\d)+" constrains table "(.*)\.(.*)" from having duplicate values for the index key./),i&&i.length>0){let a="",c="";const u={};let l=e.message;const p=`SELECT INDNAME FROM SYSCAT.INDEXES  WHERE IID = ${i[1]} AND TABSCHEMA = '${i[2]}' AND TABNAME = '${i[3]}'`;r&&i.length>3&&(a=r.querySync(p),a=a[0].INDNAME),this.model&&a&&(c=this.model.uniqueKeys[a]),!c&&this.options.fields&&(c=this.options.fields[i[1]-1]),c&&(this.options.where&&void 0!==this.options.where[c.column]?u[c.column]=this.options.where[c.column]:this.options.instance&&this.options.instance.dataValues&&this.options.instance.dataValues[c.column]?u[c.column]=this.options.instance.dataValues[c.column]:n&&(u[c.column]=n[0])),c&&c.msg&&(l=c.msg);const d=[];return s.forOwn(u,((e,t)=>{d.push(new o.ValidationErrorItem(this.getUniqueConstraintErrorMessage(t),"unique violation",t,e,this.instance,"not_unique"))})),new o.UniqueConstraintError({message:l,errors:d,parent:e,fields:u,stack:t})}if(i=e.message.match(/SQL0532N {2}A parent row cannot be deleted because the relationship "(.*)" restricts the deletion/)||e.message.match(/SQL0530N/)||e.message.match(/SQL0531N/),i&&i.length>0)return new o.ForeignKeyConstraintError({fields:null,index:i[1],parent:e,stack:t});if(i=e.message.match(/SQL0204N {2}"(.*)" is an undefined name./),i&&i.length>1){const r=i[1];let n=e.sql.match(/table "(.+?)"/i);return n=n?n[1]:void 0,new o.UnknownConstraintError({message:i[0],constraint:r,table:n,parent:e,stack:t})}return new o.DatabaseError(e,{stack:t})}isDropSchemaQuery(){let e=!1;return s.startsWith(this.sql,"CALL SYSPROC.ADMIN_DROP_SCHEMA")&&(e=!0),e}isShowOrDescribeQuery(){let e=!1;return e=e||this.sql.toLowerCase().startsWith("select c.column_name as 'name', c.data_type as 'type', c.is_nullable as 'isnull'"),e=e||this.sql.toLowerCase().startsWith("select tablename = t.name, name = ind.name,"),e=e||this.sql.toLowerCase().startsWith("exec sys.sp_helpindex @objname"),e}isShowIndexesQuery(){let e=!1;return e=e||this.sql.toLowerCase().startsWith("exec sys.sp_helpindex @objname"),e=e||this.sql.startsWith('SELECT NAME AS "name", TBNAME AS "tableName", UNIQUERULE AS "keyType", COLNAMES, INDEXTYPE AS "type" FROM SYSIBM.SYSINDEXES'),e}handleShowIndexesQuery(e){let t;const r=[];return e.forEach((e=>{t&&t.name===e.Key_name||(t={primary:"P"===e.keyType,fields:[],name:e.name,tableName:e.tableName,unique:"U"===e.keyType,type:e.type},s.forEach(e.COLNAMES.replace(/\+|-/g,(e=>` ${e}`)).split(" "),(e=>{let r=e.trim();r&&(r=r.replace(/\+|-/,""),t.fields.push({attribute:r,length:void 0,order:-1===e.indexOf("-")?"ASC":"DESC",collate:void 0}))})),r.push(t))})),r}handleInsertQuery(e,t){if(this.instance){const r=this.model.autoIncrementAttribute;let n=null,i=null;Object.prototype.hasOwnProperty.call(this.model.rawAttributes,r)&&void 0!==this.model.rawAttributes[r].field&&(i=this.model.rawAttributes[r].field),n=n||e&&e[0][this.getInsertIdField()],n=n||t&&t[this.getInsertIdField()],n=n||e&&e[0][r],n=n||i&&e&&e[0][i],this.instance[r]=n}}}e.exports=p,e.exports.Query=p,e.exports.default=p},8066:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const c=r(8064),u=r(1740),l=r(6797),{logger:p}=r(5275),d=r(2869).mariadb,h=r(5812),f=p.debugContext("connection:mariadb"),m=r(2861)("mariadb");class g extends u{constructor(e,t){t.config.port=t.config.port||3306,super(e,t),this.lib=this._loadDialectModule("mariadb"),this.refreshTypeParser(d)}static _typecast(e,t){return m.get(e.type)?m.get(e.type)(e,this.sequelize.options,t):t()}_refreshTypeParser(e){m.refresh(e)}_clearTypeParser(){m.clear()}async connect(e){let t=this.sequelize.options.timezone;t=/\//.test(t)?h.tz(t).format("Z"):t;const r=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({host:e.host,port:e.port,user:e.username,password:e.password,database:e.database,timezone:t,typeCast:g._typecast.bind(this),bigNumberStrings:!1,supportBigNumbers:!0,foundRows:!1},e.dialectOptions);this.sequelize.config.keepDefaultTimezone||(r.initSql?(Array.isArray(r.initSql)||(r.initSql=[r.initSql]),r.initSql.push(`SET time_zone = '${t}'`)):r.initSql=`SET time_zone = '${t}'`);try{const e=await this.lib.createConnection(r);return this.sequelize.options.databaseVersion=c.coerce(e.serverVersion()).version,f("connection acquired"),e.on("error",(t=>{switch(t.code){case"ESOCKET":case"ECONNRESET":case"EPIPE":case"PROTOCOL_CONNECTION_LOST":this.pool.destroy(e)}})),e}catch(e){switch(e.code){case"ECONNREFUSED":throw new l.ConnectionRefusedError(e);case"ER_ACCESS_DENIED_ERROR":case"ER_ACCESS_DENIED_NO_PASSWORD_ERROR":throw new l.AccessDeniedError(e);case"ENOTFOUND":throw new l.HostNotFoundError(e);case"EHOSTUNREACH":case"ENETUNREACH":case"EADDRNOTAVAIL":throw new l.HostNotReachableError(e);case"EINVAL":throw new l.InvalidConnectionError(e);default:throw new l.ConnectionError(e)}}}async disconnect(e){if(e.isValid())return await e.end();f("connection tried to disconnect but was already at CLOSED state")}validate(e){return e&&e.isValid()}}e.exports=g,e.exports.ConnectionManager=g,e.exports.default=g},6712:(e,t,r)=>{"use strict";const n=r(9158),i=r(7825),o=r(5812),a=r(4716);e.exports=e=>{e.ABSTRACT.prototype.dialectTypes="https://mariadb.com/kb/en/library/resultset/#field-types",e.DATE.types.mariadb=["DATETIME"],e.STRING.types.mariadb=["VAR_STRING"],e.CHAR.types.mariadb=["STRING"],e.TEXT.types.mariadb=["BLOB"],e.TINYINT.types.mariadb=["TINY"],e.SMALLINT.types.mariadb=["SHORT"],e.MEDIUMINT.types.mariadb=["INT24"],e.INTEGER.types.mariadb=["LONG"],e.BIGINT.types.mariadb=["LONGLONG"],e.FLOAT.types.mariadb=["FLOAT"],e.TIME.types.mariadb=["TIME"],e.DATEONLY.types.mariadb=["DATE"],e.BOOLEAN.types.mariadb=["TINY"],e.BLOB.types.mariadb=["TINYBLOB","BLOB","LONGBLOB"],e.DECIMAL.types.mariadb=["NEWDECIMAL"],e.UUID.types.mariadb=!1,e.ENUM.types.mariadb=!1,e.REAL.types.mariadb=["DOUBLE"],e.DOUBLE.types.mariadb=["DOUBLE"],e.GEOMETRY.types.mariadb=["GEOMETRY"],e.JSON.types.mariadb=["JSON"];class t extends e.DECIMAL{toSql(){let e=super.toSql();return this._unsigned&&(e+=" UNSIGNED"),this._zerofill&&(e+=" ZEROFILL"),e}}class r extends e.DATE{toSql(){return this._length?`DATETIME(${this._length})`:"DATETIME"}_stringify(e,t){return a.isMoment(e)||(e=this._applyTimezone(e,t)),e.format("YYYY-MM-DD HH:mm:ss.SSS")}static parse(e,t){return null===(e=e.string())?e:e=o.tz.zone(t.timezone)?o.tz(e,t.timezone).toDate():new Date(`${e} ${t.timezone}`)}}class s extends e.DATEONLY{static parse(e){return e.string()}}class c extends e.UUID{toSql(){return"CHAR(36) BINARY"}}class u extends e.GEOMETRY{constructor(e,t){super(e,t),i.isEmpty(this.type)?this.sqlType=this.key:this.sqlType=this.type}static parse(e){return(e=e.buffer())&&0!==e.length?(e=e.slice(4),n.Geometry.parse(e).toGeoJSON({shortCrs:!0})):null}toSql(){return this.sqlType}}class l extends e.ENUM{toSql(e){return`ENUM(${this.values.map((t=>e.escape(t))).join(", ")})`}}class p extends e.JSON{_stringify(e,t){return"where"===t.operation&&"string"==typeof e?e:JSON.stringify(e)}}return{ENUM:l,DATE:r,DATEONLY:s,UUID:c,GEOMETRY:u,DECIMAL:t,JSON:p}}},1514:(e,t,r)=>{"use strict";const n=r(7825),i=r(3476),o=r(8066),a=r(3226),s=r(3194),{MySQLQueryInterface:c}=r(494),u=r(2869).mariadb;class l extends i{constructor(e){super(),this.sequelize=e,this.connectionManager=new o(this,e),this.queryGenerator=new s({_dialect:this,sequelize:e}),this.queryInterface=new c(e,this.queryGenerator)}canBackslashEscape(){return!0}}l.prototype.supports=n.merge(n.cloneDeep(i.prototype.supports),{"VALUES ()":!0,"LIMIT ON UPDATE":!0,lock:!0,forShare:"LOCK IN SHARE MODE",settingIsolationLevelDuringTransaction:!1,schemas:!0,inserts:{ignoreDuplicates:" IGNORE",updateOnDuplicate:" ON DUPLICATE KEY UPDATE"},index:{collate:!1,length:!0,parser:!0,type:!0,using:1},constraints:{dropConstraint:!1,check:!1},indexViaAlter:!0,indexHints:!0,NUMERIC:!0,GEOMETRY:!0,JSON:!0,REGEXP:!0}),l.prototype.defaultVersion="10.1.44",l.prototype.Query=a,l.prototype.QueryGenerator=s,l.prototype.DataTypes=u,l.prototype.name="mariadb",l.prototype.TICK_CHAR="`",l.prototype.TICK_CHAR_LEFT=l.prototype.TICK_CHAR,l.prototype.TICK_CHAR_RIGHT=l.prototype.TICK_CHAR,e.exports=l},3194:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const c=r(3624),u=r(3588);e.exports=class extends c{createSchema(e,t){return t=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({charset:null,collate:null},t),u.joinSQLFragments(["CREATE SCHEMA IF NOT EXISTS",this.quoteIdentifier(e),t.charset&&`DEFAULT CHARACTER SET ${this.escape(t.charset)}`,t.collate&&`DEFAULT COLLATE ${this.escape(t.collate)}`,";"])}dropSchema(e){return`DROP SCHEMA IF EXISTS ${this.quoteIdentifier(e)};`}showSchemasQuery(e){const t=["'MYSQL'","'INFORMATION_SCHEMA'","'PERFORMANCE_SCHEMA'"];if(e.skip&&Array.isArray(e.skip)&&e.skip.length>0)for(const r of e.skip)t.push(this.escape(r));return u.joinSQLFragments(["SELECT SCHEMA_NAME as schema_name","FROM INFORMATION_SCHEMA.SCHEMATA",`WHERE SCHEMA_NAME NOT IN (${t.join(", ")})`,";"])}showTablesQuery(e){let t="SELECT TABLE_NAME, TABLE_SCHEMA FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE'";return t+=e?` AND TABLE_SCHEMA = ${this.escape(e)}`:" AND TABLE_SCHEMA NOT IN ('MYSQL', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA')",`${t};`}quoteIdentifier(e,t){return u.addTicks(u.removeTicks(e,"`"),"`")}}},3226:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const c=r(6524),u=r(6797),l=r(7825),p=r(2869),{logger:d}=r(5275),h=d.debugContext("sql:mariadb");e.exports=class extends c{constructor(e,t,r){super(e,t,((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({showWarnings:!1},r))}static formatBindParameters(e,t,r){const n=[];return[e=c.formatBindParameters(e,t,r,((e,t,r)=>{if(void 0!==r[t])return n.push(r[t]),"?"}))[0],n.length>0?n:void 0]}async run(e,t){this.sql=e;const{connection:r,options:n}=this,i=this.sequelize.options.showWarnings||n.showWarnings,o=this._logQuery(e,h,t);let a;t&&h("parameters(%j)",t);const s=new Error;try{a=await r.query(this.sql,t)}catch(r){if(n.transaction&&1213===r.errno){try{await n.transaction.rollback()}catch(e){}n.transaction.finished="rollback"}throw r.sql=e,r.parameters=t,this.formatError(r,s.stack)}finally{o()}return i&&a&&a.warningStatus>0&&await this.logWarnings(a),this.formatResults(a)}formatResults(e){let t=this.instance;if(this.isBulkUpdateQuery()||this.isBulkDeleteQuery())return e.affectedRows;if(this.isUpsertQuery())return[t,1===e.affectedRows];if(this.isInsertQuery(e)&&(this.handleInsertQuery(e),!this.instance)){if(this.model&&this.model.autoIncrementAttribute&&this.model.autoIncrementAttribute===this.model.primaryKeyAttribute&&this.model.rawAttributes[this.model.primaryKeyAttribute]){const r=e[this.getInsertIdField()];t=new Array(e.affectedRows);const n=this.model.rawAttributes[this.model.primaryKeyAttribute].field;for(let i=0;i<e.affectedRows;i++)t[i]={[n]:r+i};return[t,e.affectedRows]}return[e[this.getInsertIdField()],e.affectedRows]}if(this.isSelectQuery())return this.handleJsonSelectQuery(e),this.handleSelectQuery(e);if(this.isInsertQuery()||this.isUpdateQuery())return[t,e.affectedRows];if(this.isCallQuery())return e[0];if(this.isRawQuery()){const t=e.meta;return delete e.meta,[e,t]}if(this.isShowIndexesQuery())return this.handleShowIndexesQuery(e);if(this.isForeignKeysQuery()||this.isShowConstraintsQuery())return e;if(this.isShowTablesQuery())return this.handleShowTablesQuery(e);if(this.isDescribeQuery()){t={};for(const r of e)t[r.Field]={type:r.Type.toLowerCase().startsWith("enum")?r.Type.replace(/^enum/i,"ENUM"):r.Type.toUpperCase(),allowNull:"YES"===r.Null,defaultValue:r.Default,primaryKey:"PRI"===r.Key,autoIncrement:Object.prototype.hasOwnProperty.call(r,"Extra")&&"auto_increment"===r.Extra.toLowerCase(),comment:r.Comment?r.Comment:null};return t}return this.isVersionQuery()?e[0].version:t}handleJsonSelectQuery(e){if(this.model&&this.model.fieldRawAttributesMap)for(const t of Object.keys(this.model.fieldRawAttributesMap)){const r=this.model.fieldRawAttributesMap[t];r.type instanceof p.JSON&&(e=e.map((e=>(e[r.fieldName]&&"string"==typeof e[r.fieldName]&&!this.connection.info.hasMinVersion(10,5,2)&&(e[r.fieldName]=JSON.parse(e[r.fieldName])),p.JSON.parse?p.JSON.parse(r,this.sequelize.options,e[r.fieldName]):e))))}}async logWarnings(e){const t=await this.run("SHOW WARNINGS"),r=`MariaDB Warnings (${this.connection.uuid||"default"}): `,n=[];for(const e of t)if(void 0!==e&&"function"==typeof e[Symbol.iterator])for(const t of e)if(Object.prototype.hasOwnProperty.call(t,"Message"))n.push(t.Message);else for(const e of t.keys())n.push([e,t[e]].join(": "));return this.sequelize.log(r+n.join("; "),this.options),e}formatError(e,t){switch(e.errno){case 1062:{const r=e.message.match(/Duplicate entry '([\s\S]*)' for key '?((.|\s)*?)'?\s.*$/);let n={},i="Validation error";const o=r?r[1].split("-"):void 0,a=r?r[2]:void 0,s=r?r[1]:void 0,c=this.model&&this.model.uniqueKeys[a];c?(c.msg&&(i=c.msg),n=l.zipObject(c.fields,o)):n[a]=s;const p=[];return l.forOwn(n,((e,t)=>{p.push(new u.ValidationErrorItem(this.getUniqueConstraintErrorMessage(t),"unique violation",t,e,this.instance,"not_unique"))})),new u.UniqueConstraintError({message:i,errors:p,parent:e,fields:n,stack:t})}case 1451:case 1452:{const r=e.message.match(/CONSTRAINT ([`"])(.*)\1 FOREIGN KEY \(\1(.*)\1\) REFERENCES \1(.*)\1 \(\1(.*)\1\)/),n=r?r[1]:"`",i=r?r[3].split(new RegExp(`${n}, *${n}`)):void 0;return new u.ForeignKeyConstraintError({reltype:1451===e.errno?"parent":"child",table:r?r[4]:void 0,fields:i,value:i&&i.length&&this.instance&&this.instance[i[0]]||void 0,index:r?r[2]:void 0,parent:e,stack:t})}default:return new u.DatabaseError(e,{stack:t})}}handleShowTablesQuery(e){return e.map((e=>({tableName:e.TABLE_NAME,schema:e.TABLE_SCHEMA})))}handleShowIndexesQuery(e){let t;const r=[];return e.forEach((e=>{t&&t.name===e.Key_name||(t={primary:"PRIMARY"===e.Key_name,fields:[],name:e.Key_name,tableName:e.Table,unique:1!==e.Non_unique,type:e.Index_type},r.push(t)),t.fields[e.Seq_in_index-1]={attribute:e.Column_name,length:e.Sub_part||void 0,order:"A"===e.Collation?"ASC":void 0}})),r}}},2112:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0}),l=e=>((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=e?n(s(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),p=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{AsyncQueueError:()=>f,default:()=>m});var d=l(r(2523)),h=l(r(7650));class f extends d.default{constructor(e){super(e),this.name="SequelizeAsyncQueueError"}}var m=class{constructor(){p(this,"previous"),p(this,"closed"),p(this,"rejectCurrent"),this.previous=Promise.resolve(),this.closed=!1,this.rejectCurrent=()=>{}}close(){this.closed=!0,this.rejectCurrent(new h.default(new f("the connection was closed before this query could finish executing")))}enqueue(e){return new Promise(((t,r)=>{this.previous=this.previous.then((()=>(this.rejectCurrent=r,this.closed?r(new h.default(new f("the connection was closed before this query could be executed"))):e().then(t,r))))}))}}},8470:(e,t,r)=>{"use strict";const n=r(1740),i=r(2112).default,{logger:o}=r(5275),a=r(6797),s=r(2869).mssql,c=r(2861)("mssql"),u=o.debugContext("connection:mssql"),l=o.debugContext("connection:mssql:tedious");class p extends n{constructor(e,t){t.config.port=t.config.port||1433,super(e,t),this.lib=this._loadDialectModule("tedious"),this.refreshTypeParser(s)}_refreshTypeParser(e){c.refresh(e)}_clearTypeParser(){c.clear()}async connect(e){const t={server:e.host,authentication:{type:"default",options:{userName:e.username||void 0,password:e.password||void 0}},options:{port:parseInt(e.port,10),database:e.database,trustServerCertificate:!0}};e.dialectOptions&&(e.dialectOptions.options&&e.dialectOptions.options.instanceName&&delete t.options.port,e.dialectOptions.authentication&&Object.assign(t.authentication,e.dialectOptions.authentication),Object.assign(t.options,e.dialectOptions.options));try{return await new Promise(((r,n)=>{const o=new this.lib.Connection(t);o.state===o.STATE.INITIALIZED&&o.connect(),o.queue=new i,o.lib=this.lib;const a=e=>{if(o.removeListener("end",s),o.removeListener("error",c),e)return n(e);u("connection acquired"),r(o)},s=()=>{o.removeListener("connect",a),o.removeListener("error",c),n(new Error("Connection was closed by remote server"))},c=e=>{o.removeListener("connect",a),o.removeListener("end",s),n(e)};o.once("error",c),o.once("end",s),o.once("connect",a),o.on("error",(e=>{switch(e.code){case"ESOCKET":case"ECONNRESET":this.pool.destroy(o)}})),e.dialectOptions&&e.dialectOptions.debug&&o.on("debug",l.log.bind(l))}))}catch(e){if(!e.code)throw new a.ConnectionError(e);switch(e.code){case"ESOCKET":if(e.message.includes("connect EHOSTUNREACH"))throw new a.HostNotReachableError(e);if(e.message.includes("connect ENETUNREACH"))throw new a.HostNotReachableError(e);if(e.message.includes("connect EADDRNOTAVAIL"))throw new a.HostNotReachableError(e);if(e.message.includes("connect EAFNOSUPPORT"))throw new a.HostNotReachableError(e);if(e.message.includes("getaddrinfo ENOTFOUND"))throw new a.HostNotFoundError(e);if(e.message.includes("connect ECONNREFUSED"))throw new a.ConnectionRefusedError(e);throw new a.ConnectionError(e);case"ER_ACCESS_DENIED_ERROR":case"ELOGIN":throw new a.AccessDeniedError(e);case"EINVAL":throw new a.InvalidConnectionError(e);default:throw new a.ConnectionError(e)}}}async disconnect(e){if(!e.closed)return e.queue.close(),new Promise((t=>{e.on("end",t),e.close(),u("connection closed")}))}validate(e){return e&&(e.loggedIn||"LoggedIn"===e.state.name)}}e.exports=p,e.exports.ConnectionManager=p,e.exports.default=p},4404:(e,t,r)=>{"use strict";const n=r(4716);e.exports=e=>{const t=e.ABSTRACT.warn.bind(void 0,"https://msdn.microsoft.com/en-us/library/ms187752%28v=sql.110%29.aspx");function r(e){(e._length||e.options.length||e._unsigned||e._zerofill)&&(t(`MSSQL does not support '${e.key}' with options. Plain '${e.key}' will be used instead.`),e._length=void 0,e.options.length=void 0,e._unsigned=void 0,e._zerofill=void 0)}e.DATE.types.mssql=[43],e.STRING.types.mssql=[231,173],e.CHAR.types.mssql=[175],e.TEXT.types.mssql=!1,e.TINYINT.types.mssql=[30],e.SMALLINT.types.mssql=[34],e.MEDIUMINT.types.mssql=!1,e.INTEGER.types.mssql=[38],e.BIGINT.types.mssql=!1,e.FLOAT.types.mssql=[109],e.TIME.types.mssql=[41],e.DATEONLY.types.mssql=[40],e.BOOLEAN.types.mssql=[104],e.BLOB.types.mssql=[165],e.DECIMAL.types.mssql=[106],e.UUID.types.mssql=!1,e.ENUM.types.mssql=!1,e.REAL.types.mssql=[109],e.DOUBLE.types.mssql=[109],e.GEOMETRY.types.mssql=!1;class i extends e.BLOB{toSql(){if(this._length){if("tiny"===this._length.toLowerCase())return t("MSSQL does not support BLOB with the `length` = `tiny` option. `VARBINARY(256)` will be used instead."),"VARBINARY(256)";t("MSSQL does not support BLOB with the `length` option. `VARBINARY(MAX)` will be used instead.")}return"VARBINARY(MAX)"}_hexify(e){return`0x${e}`}}class o extends e.STRING{toSql(){return this._binary?`BINARY(${this._length})`:`NVARCHAR(${this._length})`}_stringify(e,t){return this._binary?i.prototype._stringify(e):t.escape(e)}_bindParam(e,t){return t.bindParam(this._binary?Buffer.from(e):e)}}o.prototype.escape=!1;class a extends e.TEXT{toSql(){if(this._length){if("tiny"===this._length.toLowerCase())return t("MSSQL does not support TEXT with the `length` = `tiny` option. `NVARCHAR(256)` will be used instead."),"NVARCHAR(256)";t("MSSQL does not support TEXT with the `length` option. `NVARCHAR(MAX)` will be used instead.")}return"NVARCHAR(MAX)"}}class s extends e.BOOLEAN{toSql(){return"BIT"}}class c extends e.UUID{toSql(){return"CHAR(36)"}}class u extends e.NOW{toSql(){return"GETDATE()"}}class l extends e.DATE{toSql(){return"DATETIMEOFFSET"}}class p extends e.DATEONLY{static parse(e){return n(e).format("YYYY-MM-DD")}}class d extends e.INTEGER{constructor(e){super(e),r(this)}}class h extends e.TINYINT{constructor(e){super(e),r(this)}}class f extends e.SMALLINT{constructor(e){super(e),r(this)}}class m extends e.BIGINT{constructor(e){super(e),r(this)}}class g extends e.REAL{constructor(e,r){super(e,r),(this._length||this.options.length||this._unsigned||this._zerofill)&&(t("MSSQL does not support REAL with options. Plain `REAL` will be used instead."),this._length=void 0,this.options.length=void 0,this._unsigned=void 0,this._zerofill=void 0)}}class y extends e.FLOAT{constructor(e,r){super(e,r),this._decimals&&(t("MSSQL does not support Float with decimals. Plain `FLOAT` will be used instead."),this._length=void 0,this.options.length=void 0),this._unsigned&&(t("MSSQL does not support Float unsigned. `UNSIGNED` was removed."),this._unsigned=void 0),this._zerofill&&(t("MSSQL does not support Float zerofill. `ZEROFILL` was removed."),this._zerofill=void 0)}}class v extends e.ENUM{toSql(){return"VARCHAR(255)"}}return{BLOB:i,BOOLEAN:s,ENUM:v,STRING:o,UUID:c,DATE:l,DATEONLY:p,NOW:u,TINYINT:h,SMALLINT:f,INTEGER:d,BIGINT:m,REAL:g,FLOAT:y,TEXT:a}}},8350:(e,t,r)=>{"use strict";const n=r(7825),i=r(3476),o=r(8470),a=r(9222),s=r(8206),c=r(2869).mssql,{MSSqlQueryInterface:u}=r(7664);class l extends i{constructor(e){super(),this.sequelize=e,this.connectionManager=new o(this,e),this.queryGenerator=new s({_dialect:this,sequelize:e}),this.queryInterface=new u(e,this.queryGenerator)}}l.prototype.supports=n.merge(n.cloneDeep(i.prototype.supports),{DEFAULT:!0,"DEFAULT VALUES":!0,"LIMIT ON UPDATE":!0,"ORDER NULLS":!1,lock:!1,transactions:!0,migrations:!1,returnValues:{output:!0},schemas:!0,autoIncrement:{identityInsert:!0,defaultValue:!1,update:!1},constraints:{restrict:!1,default:!0},index:{collate:!1,length:!1,parser:!1,type:!0,using:!1,where:!0},NUMERIC:!0,tmpTableTrigger:!0}),l.prototype.defaultVersion="12.0.2000",l.prototype.Query=a,l.prototype.name="mssql",l.prototype.TICK_CHAR='"',l.prototype.TICK_CHAR_LEFT="[",l.prototype.TICK_CHAR_RIGHT="]",l.prototype.DataTypes=c,e.exports=l},8206:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const c=r(7825),u=r(3588),l=r(2869),p=r(3126),d=r(1848),h=r(6982).randomBytes,f=r(8064),m=r(4104),g=function(e){throw new Error(`The method "${e}" is not defined! Please add it to your sql dialect.`)};function y(e){return u.addTicks(u.removeTicks(e,"'"),"'")}e.exports=class extends d{createDatabaseQuery(e,t){const r=(t=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({collate:null},t)).collate?`COLLATE ${this.escape(t.collate)}`:"";return["IF NOT EXISTS (SELECT * FROM sys.databases WHERE name =",y(e),")","BEGIN","CREATE DATABASE",this.quoteIdentifier(e),`${r};`,"END;"].join(" ")}dropDatabaseQuery(e){return["IF EXISTS (SELECT * FROM sys.databases WHERE name =",y(e),")","BEGIN","DROP DATABASE",this.quoteIdentifier(e),";","END;"].join(" ")}createSchema(e){return["IF NOT EXISTS (SELECT schema_name","FROM information_schema.schemata","WHERE schema_name =",y(e),")","BEGIN","EXEC sp_executesql N'CREATE SCHEMA",this.quoteIdentifier(e),";'","END;"].join(" ")}dropSchema(e){const t=y(e);return["IF EXISTS (SELECT schema_name","FROM information_schema.schemata","WHERE schema_name =",t,")","BEGIN","DECLARE @id INT, @ms_sql NVARCHAR(2000);","DECLARE @cascade TABLE (","id INT NOT NULL IDENTITY PRIMARY KEY,","ms_sql NVARCHAR(2000) NOT NULL );","INSERT INTO @cascade ( ms_sql )","SELECT CASE WHEN o.type IN ('F','PK')","THEN N'ALTER TABLE ['+ s.name + N'].[' + p.name + N'] DROP CONSTRAINT [' + o.name + N']'","ELSE N'DROP TABLE ['+ s.name + N'].[' + o.name + N']' END","FROM sys.objects o","JOIN sys.schemas s on o.schema_id = s.schema_id","LEFT OUTER JOIN sys.objects p on o.parent_object_id = p.object_id","WHERE o.type IN ('F', 'PK', 'U') AND s.name = ",t,"ORDER BY o.type ASC;","SELECT TOP 1 @id = id, @ms_sql = ms_sql FROM @cascade ORDER BY id;","WHILE @id IS NOT NULL","BEGIN","BEGIN TRY EXEC sp_executesql @ms_sql; END TRY","BEGIN CATCH BREAK; THROW; END CATCH;","DELETE FROM @cascade WHERE id = @id;","SELECT @id = NULL, @ms_sql = NULL;","SELECT TOP 1 @id = id, @ms_sql = ms_sql FROM @cascade ORDER BY id;","END","EXEC sp_executesql N'DROP SCHEMA",this.quoteIdentifier(e),";'","END;"].join(" ")}showSchemasQuery(){return['SELECT "name" as "schema_name" FROM sys.schemas as s','WHERE "s"."name" NOT IN (',"'INFORMATION_SCHEMA', 'dbo', 'guest', 'sys', 'archive'",")","AND",'"s"."name" NOT LIKE',"'db_%'"].join(" ")}versionQuery(){return["DECLARE @ms_ver NVARCHAR(20);","SET @ms_ver = REVERSE(CONVERT(NVARCHAR(20), SERVERPROPERTY('ProductVersion')));","SELECT REVERSE(SUBSTRING(@ms_ver, CHARINDEX('.', @ms_ver)+1, 20)) AS 'version'"].join(" ")}createTableQuery(e,t,r){const n=[],i={},o=[];let a="";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){let s,c=t[r];if(c.includes("COMMENT ")){const t=c.match(/^(.+) (COMMENT.*)$/),n=t[2].replace("COMMENT","").trim();a+=this.commentTemplate(n,e,r),c=t[1]}c.includes("PRIMARY KEY")?(n.push(r),c.includes("REFERENCES")?(s=c.match(/^(.+) (REFERENCES.*)$/),o.push(`${this.quoteIdentifier(r)} ${s[1].replace("PRIMARY KEY","")}`),i[r]=s[2]):o.push(`${this.quoteIdentifier(r)} ${c.replace("PRIMARY KEY","")}`)):c.includes("REFERENCES")?(s=c.match(/^(.+) (REFERENCES.*)$/),o.push(`${this.quoteIdentifier(r)} ${s[1]}`),i[r]=s[2]):o.push(`${this.quoteIdentifier(r)} ${c}`)}const s=n.map((e=>this.quoteIdentifier(e))).join(", ");r.uniqueKeys&&c.each(r.uniqueKeys,((t,r)=>{t.customIndex&&("string"!=typeof r&&(r=`uniq_${e}_${t.fields.join("_")}`),o.push(`CONSTRAINT ${this.quoteIdentifier(r)} UNIQUE (${t.fields.map((e=>this.quoteIdentifier(e))).join(", ")})`))})),s.length>0&&o.push(`PRIMARY KEY (${s})`);for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&o.push(`FOREIGN KEY (${this.quoteIdentifier(e)}) ${i[e]}`);const l=this.quoteTable(e);return u.joinSQLFragments([`IF OBJECT_ID('${l}', 'U') IS NULL`,`CREATE TABLE ${l} (${o.join(", ")})`,";",a])}describeTableQuery(e,t){let r=["SELECT","c.COLUMN_NAME AS 'Name',","c.DATA_TYPE AS 'Type',","c.CHARACTER_MAXIMUM_LENGTH AS 'Length',","c.IS_NULLABLE as 'IsNull',","COLUMN_DEFAULT AS 'Default',","pk.CONSTRAINT_TYPE AS 'Constraint',","COLUMNPROPERTY(OBJECT_ID('[' + c.TABLE_SCHEMA + '].[' + c.TABLE_NAME + ']'), c.COLUMN_NAME, 'IsIdentity') as 'IsIdentity',","CAST(prop.value AS NVARCHAR) AS 'Comment'","FROM","INFORMATION_SCHEMA.TABLES t","INNER JOIN","INFORMATION_SCHEMA.COLUMNS c ON t.TABLE_NAME = c.TABLE_NAME AND t.TABLE_SCHEMA = c.TABLE_SCHEMA","LEFT JOIN (SELECT tc.table_schema, tc.table_name, ","cu.column_name, tc.CONSTRAINT_TYPE ","FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS tc ","JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE  cu ","ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name ","and tc.constraint_name=cu.constraint_name ","and tc.CONSTRAINT_TYPE='PRIMARY KEY') pk ","ON pk.table_schema=c.table_schema ","AND pk.table_name=c.table_name ","AND pk.column_name=c.column_name ","INNER JOIN sys.columns AS sc","ON sc.object_id = OBJECT_ID('[' + t.TABLE_SCHEMA + '].[' + t.TABLE_NAME + ']') AND sc.name = c.column_name","LEFT JOIN sys.extended_properties prop ON prop.major_id = sc.object_id","AND prop.minor_id = sc.column_id","AND prop.name = 'MS_Description'","WHERE t.TABLE_NAME =",y(e)].join(" ");return t&&(r+=`AND t.TABLE_SCHEMA =${y(t)}`),r}renameTableQuery(e,t){return`EXEC sp_rename ${this.quoteTable(e)}, ${this.quoteTable(t)};`}showTablesQuery(){return"SELECT TABLE_NAME, TABLE_SCHEMA FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE';"}tableExistsQuery(e){const t=e.tableName||e,r=e.schema||"dbo";return`SELECT TABLE_NAME, TABLE_SCHEMA FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = ${this.escape(t)} AND TABLE_SCHEMA = ${this.escape(r)}`}dropTableQuery(e){const t=this.quoteTable(e);return u.joinSQLFragments([`IF OBJECT_ID('${t}', 'U') IS NOT NULL`,"DROP TABLE",t,";"])}addColumnQuery(e,t,r){r.field=t;let n="";return r.comment&&c.isString(r.comment)&&(n=this.commentTemplate(r.comment,e,t),delete r.comment),u.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"ADD",this.quoteIdentifier(t),this.attributeToSQL(r,{context:"addColumn"}),";",n])}commentTemplate(e,t,r){return` EXEC sp_addextendedproperty @name = N'MS_Description', @value = ${this.escape(e)}, @level0type = N'Schema', @level0name = 'dbo', @level1type = N'Table', @level1name = ${this.quoteIdentifier(t)}, @level2type = N'Column', @level2name = ${this.quoteIdentifier(r)};`}removeColumnQuery(e,t){return u.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"DROP COLUMN",this.quoteIdentifier(t),";"])}changeColumnQuery(e,t){const r=[],n=[];let i="";for(const o in t){const a=this.quoteIdentifier(o);let s=t[o];if(s.includes("COMMENT ")){const t=s.match(/^(.+) (COMMENT.*)$/),r=t[2].replace("COMMENT","").trim();i+=this.commentTemplate(r,e,o),s=t[1]}s.includes("REFERENCES")?n.push(`FOREIGN KEY (${a}) ${s.replace(/.+?(?=REFERENCES)/,"")}`):r.push(`${a} ${s}`)}return u.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),r.length&&`ALTER COLUMN ${r.join(", ")}`,n.length&&`ADD ${n.join(", ")}`,";",i])}renameColumnQuery(e,t,r){const n=Object.keys(r)[0];return u.joinSQLFragments(["EXEC sp_rename",`'${this.quoteTable(e)}.${t}',`,`'${n}',`,"'COLUMN'",";"])}bulkInsertQuery(e,t,r,n){const i=this.quoteTable(e);n=n||{};const o=[],a=[],s=[];let u=!1,l="";if((r=r||{}).returning){const e=this.generateReturnValues(n,r);l=e.outputFragment}const p=`INSERT INTO ${i}${l} DEFAULT VALUES`;if(t.forEach((e=>{const t=Object.keys(e),r=n[t[0]];1===t.length&&r&&r.autoIncrement&&null===e[t[0]]?s.push(p):c.forOwn(e,((e,t)=>{if(null!==e&&n[t]&&n[t].autoIncrement&&(u=!0),!a.includes(t)){if(null===e&&n[t]&&n[t].autoIncrement)return;a.push(t)}}))})),a.length>0){t.forEach((e=>{o.push(`(${a.map((t=>this.escape(e[t]))).join(",")})`)}));const e=a.map((e=>this.quoteIdentifier(e))).join(",");s.push((t=>`INSERT INTO ${i} (${e})${l} VALUES ${t};`))}const d=[];let h=0;const f=Math.floor(250/(a.length+1))+1;for(;h<Math.max(o.length,1);){const e=o.slice(h,Math.min(o.length,h+f));let t=s.map((t=>"string"==typeof t?t:t(e))).join(";");u&&(t=`SET IDENTITY_INSERT ${i} ON; ${t}; SET IDENTITY_INSERT ${i} OFF;`),d.push(t),h+=f}return d.join(";")}updateQuery(e,t,r,n,i){const o=super.updateQuery(e,t,r,n,i);if(n.limit){const e=`UPDATE TOP(${this.escape(n.limit)})`;o.query=o.query.replace("UPDATE",e)}return o}upsertQuery(e,t,r,n,i){const o=this.quoteTable(`${e}_target`),a=this.quoteTable(`${e}_source`),s=[],c=[],u=[],l=this.quoteTable(e);let p=!1;for(const e in i.rawAttributes)i.rawAttributes[e].primaryKey&&s.push(i.rawAttributes[e].field||e),i.rawAttributes[e].unique&&u.push(i.rawAttributes[e].field||e),i.rawAttributes[e].autoIncrement&&c.push(i.rawAttributes[e].field||e);for(const e of i._indexes)if(e.unique&&e.fields)for(const t of e.fields){const e="string"==typeof t?t:t.name||t.attribute;!u.includes(e)&&i.rawAttributes[e]&&u.push(e)}const d=Object.keys(r),h=Object.keys(t),f=h.map((e=>this.quoteIdentifier(e))).join(", "),g=h.map((e=>this.escape(t[e]))).join(", "),y=`VALUES(${g})`;let v;c.forEach((e=>{t[e]&&null!==t[e]&&(p=!0)}));const b=n[m.or].filter((e=>{let t=!0;for(const r in e)if(void 0===e[r]||null==e[r]){t=!1;break}return t})),E=e=>e.map((e=>(e=this.quoteIdentifier(e),`${o}.${e} = ${a}.${e}`)));if(0===b.length)throw new Error("Primary Key or Unique key should be passed to upsert query");for(const e in b){const t=Object.keys(b[e]);if(s.includes(t[0])){v=E(s).join(" AND ");break}}v||(v=E(u).join(" AND "));const w=d.filter((e=>!c.includes(e))).map((e=>{const t=this.escape(r[e]);return e=this.quoteIdentifier(e),`${o}.${e} = ${t}`})),A=w.length>0?`WHEN MATCHED THEN UPDATE SET ${w.join(", ")}`:"";let x=`MERGE INTO ${l} WITH(HOLDLOCK) AS ${o} USING (${y}) AS ${a}(${f}) ON ${v}`;return x+=` ${A} WHEN NOT MATCHED THEN INSERT (${f}) VALUES(${g}) OUTPUT $action, INSERTED.*;`,p&&(x=`SET IDENTITY_INSERT ${l} ON; ${x} SET IDENTITY_INSERT ${l} OFF;`),x}truncateTableQuery(e){return`TRUNCATE TABLE ${this.quoteTable(e)}`}deleteQuery(e,t,r={},n){const i=this.quoteTable(e),o=this.getWhereConditions(t,null,n,r);return u.joinSQLFragments(["DELETE",r.limit&&`TOP(${this.escape(r.limit)})`,"FROM",i,o&&`WHERE ${o}`,";","SELECT @@ROWCOUNT AS AFFECTEDROWS",";"])}showIndexesQuery(e){return`EXEC sys.sp_helpindex @objname = N'${this.quoteTable(e)}';`}showConstraintsQuery(e){return`EXEC sp_helpconstraint @objname = ${this.escape(this.quoteTable(e))};`}removeIndexQuery(e,t){let r=t;return"string"!=typeof r&&(r=u.underscore(`${e}_${t.join("_")}`)),`DROP INDEX ${this.quoteIdentifiers(r)} ON ${this.quoteIdentifiers(e)}`}attributeToSQL(e,t){let r;return c.isPlainObject(e)||(e={type:e}),e.references&&e.Model&&e.Model.tableName===e.references.model&&(this.sequelize.log("MSSQL does not support self referencial constraints, we will remove it but we recommend restructuring your query"),e.onDelete="",e.onUpdate=""),e.type instanceof l.ENUM?(e.type.values&&!e.values&&(e.values=e.type.values),r=e.type.toSql(),r+=` CHECK (${this.quoteIdentifier(e.field)} IN(${e.values.map((e=>this.escape(e))).join(", ")}))`,r):(r=e.type.toString(),!1===e.allowNull?r+=" NOT NULL":e.primaryKey||u.defaultValueSchemable(e.defaultValue)||(r+=" NULL"),e.autoIncrement&&(r+=" IDENTITY(1,1)"),"TEXT"!==e.type&&!0!==e.type._binary&&u.defaultValueSchemable(e.defaultValue)&&(r+=` DEFAULT ${this.escape(e.defaultValue)}`),!0===e.unique&&(r+=" UNIQUE"),e.primaryKey&&(r+=" PRIMARY KEY"),t&&t.withoutForeignKeyConstraints||!e.references||(r+=` REFERENCES ${this.quoteTable(e.references.model)}`,e.references.key?r+=` (${this.quoteIdentifier(e.references.key)})`:r+=` (${this.quoteIdentifier("id")})`,e.onDelete&&(r+=` ON DELETE ${e.onDelete.toUpperCase()}`),e.onUpdate&&(r+=` ON UPDATE ${e.onUpdate.toUpperCase()}`)),e.comment&&"string"==typeof e.comment&&(r+=` COMMENT ${e.comment}`),r)}attributesToSQL(e,t){const r={},n=[];let i,o;for(i in e)o=e[i],o.references&&(n.includes(o.references.model.toString())?(o.onDelete="",o.onUpdate=""):(n.push(o.references.model.toString()),o.onUpdate="")),i&&!o.field&&(o.field=i),r[o.field||i]=this.attributeToSQL(o,t);return r}createTrigger(){g("createTrigger")}dropTrigger(){g("dropTrigger")}renameTrigger(){g("renameTrigger")}createFunction(){g("createFunction")}dropFunction(){g("dropFunction")}renameFunction(){g("renameFunction")}_getForeignKeysQueryPrefix(e){return`SELECT constraint_name = OBJ.NAME, constraintName = OBJ.NAME, ${e?`constraintCatalog = '${e}', `:""}constraintSchema = SCHEMA_NAME(OBJ.SCHEMA_ID), tableName = TB.NAME, tableSchema = SCHEMA_NAME(TB.SCHEMA_ID), ${e?`tableCatalog = '${e}', `:""}columnName = COL.NAME, referencedTableSchema = SCHEMA_NAME(RTB.SCHEMA_ID), ${e?`referencedCatalog = '${e}', `:""}referencedTableName = RTB.NAME, referencedColumnName = RCOL.NAME FROM sys.foreign_key_columns FKC INNER JOIN sys.objects OBJ ON OBJ.OBJECT_ID = FKC.CONSTRAINT_OBJECT_ID INNER JOIN sys.tables TB ON TB.OBJECT_ID = FKC.PARENT_OBJECT_ID INNER JOIN sys.columns COL ON COL.COLUMN_ID = PARENT_COLUMN_ID AND COL.OBJECT_ID = TB.OBJECT_ID INNER JOIN sys.tables RTB ON RTB.OBJECT_ID = FKC.REFERENCED_OBJECT_ID INNER JOIN sys.columns RCOL ON RCOL.COLUMN_ID = REFERENCED_COLUMN_ID AND RCOL.OBJECT_ID = RTB.OBJECT_ID`}getForeignKeysQuery(e,t){const r=e.tableName||e;let n=`${this._getForeignKeysQueryPrefix(t)} WHERE TB.NAME =${y(r)}`;return e.schema&&(n+=` AND SCHEMA_NAME(TB.SCHEMA_ID) =${y(e.schema)}`),n}getForeignKeyQuery(e,t){const r=e.tableName||e;return u.joinSQLFragments([this._getForeignKeysQueryPrefix(),"WHERE",`TB.NAME =${y(r)}`,"AND",`COL.NAME =${y(t)}`,e.schema&&`AND SCHEMA_NAME(TB.SCHEMA_ID) =${y(e.schema)}`])}getPrimaryKeyConstraintQuery(e,t){const r=y(e.tableName||e);return u.joinSQLFragments(["SELECT K.TABLE_NAME AS tableName,","K.COLUMN_NAME AS columnName,","K.CONSTRAINT_NAME AS constraintName","FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS AS C","JOIN INFORMATION_SCHEMA.KEY_COLUMN_USAGE AS K","ON C.TABLE_NAME = K.TABLE_NAME","AND C.CONSTRAINT_CATALOG = K.CONSTRAINT_CATALOG","AND C.CONSTRAINT_SCHEMA = K.CONSTRAINT_SCHEMA","AND C.CONSTRAINT_NAME = K.CONSTRAINT_NAME","WHERE C.CONSTRAINT_TYPE = 'PRIMARY KEY'",`AND K.COLUMN_NAME = ${y(t)}`,`AND K.TABLE_NAME = ${r}`,";"])}dropForeignKeyQuery(e,t){return u.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"DROP",this.quoteIdentifier(t)])}getDefaultConstraintQuery(e,t){const r=this.quoteTable(e);return u.joinSQLFragments(["SELECT name FROM sys.default_constraints",`WHERE PARENT_OBJECT_ID = OBJECT_ID('${r}', 'U')`,`AND PARENT_COLUMN_ID = (SELECT column_id FROM sys.columns WHERE NAME = ('${t}')`,`AND object_id = OBJECT_ID('${r}', 'U'))`,";"])}dropConstraintQuery(e,t){return u.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"DROP CONSTRAINT",this.quoteIdentifier(t),";"])}setIsolationLevelQuery(){}generateTransactionId(){return h(10).toString("hex")}startTransactionQuery(e){return e.parent?`SAVE TRANSACTION ${this.quoteIdentifier(e.name)};`:"BEGIN TRANSACTION;"}commitTransactionQuery(e){if(!e.parent)return"COMMIT TRANSACTION;"}rollbackTransactionQuery(e){return e.parent?`ROLLBACK TRANSACTION ${this.quoteIdentifier(e.name)};`:"ROLLBACK TRANSACTION;"}selectFromTableFragment(e,t,r,n,i,o){this._throwOnEmptyAttributes(r,{modelName:t&&t.name,as:i});const a=this.sequelize.options.databaseVersion,s=f.valid(a)&&f.lt(a,"11.0.0");if(s&&e.offset){const a=e.offset||0,s=e.hasIncludeWhere||e.hasIncludeRequired||e.hasMultiAssociation;let c={mainQueryOrder:[]};e.order&&(c=this.getQueryOrders(e,t,s)),0===c.mainQueryOrder.length&&c.mainQueryOrder.push(this.quoteIdentifier(t.primaryKeyField));const l=i||"OffsetTable";if(e.include){const s={names:{name:i,quotedName:null,as:null,model:t},options:e,subQuery:void 0===e.subQuery?e.limit&&e.hasMultiAssociation:e.subQuery};let p=[];for(const t of e.include){if(t.separate)continue;const e=this.generateInclude(t,{externalAs:i,internalAs:i},s);p=p.concat(e.mainQuery)}return u.joinSQLFragments(["SELECT TOP 100 PERCENT",r.join(", "),"FROM (",["SELECT",e.limit&&`TOP ${e.limit}`,"* FROM (",["SELECT ROW_NUMBER() OVER (",["ORDER BY",c.mainQueryOrder.join(", ")],`) as row_num, ${l}.* FROM (`,["SELECT DISTINCT",`${l}.* FROM ${n} AS ${l}`,p,o&&`WHERE ${o}`],`) AS ${l}`],`) AS ${l} WHERE row_num > ${a}`],`) AS ${l}`])}return u.joinSQLFragments(["SELECT TOP 100 PERCENT",r.join(", "),"FROM (",["SELECT",e.limit&&`TOP ${e.limit}`,"* FROM (",["SELECT ROW_NUMBER() OVER (",["ORDER BY",c.mainQueryOrder.join(", ")],`) as row_num, * FROM ${n} AS ${l}`,o&&`WHERE ${o}`],`) AS ${l} WHERE row_num > ${a}`],`) AS ${l}`])}return u.joinSQLFragments(["SELECT",s&&e.limit&&`TOP ${e.limit}`,r.join(", "),`FROM ${n}`,i&&`AS ${i}`,e.tableHint&&p[e.tableHint]&&`WITH (${p[e.tableHint]})`])}addLimitAndOffset(e,t){if(f.valid(this.sequelize.options.databaseVersion)&&f.lt(this.sequelize.options.databaseVersion,"11.0.0"))return"";const r=e.offset||0,n=void 0===e.subQuery?e.hasIncludeWhere||e.hasIncludeRequired||e.hasMultiAssociation:e.subQuery;let i="",o={};if(e.order&&(o=this.getQueryOrders(e,t,n)),e.limit||e.offset){if(!e.order||0===e.order.length||e.include&&0===o.subQueryOrder.length){let r=t.primaryKeyField;const o=`${this.quoteTable(e.tableAs||t.name)}.${this.quoteIdentifier(r)}`,a=(e.attributes||[]).find((e=>Array.isArray(e)&&e[1]&&(e[0]===r||e[1]===r)));if(a){const n=this.quoteIdentifier(e.tableAs||t.name),i=this._getAliasForField(n,a[1],e);r=new u.Col(i||a[1])}e.order&&e.order.length?(e.order||[]).map((e=>{const t=Array.isArray(e)?e[0]:e;return t instanceof u.Col?t.col:t instanceof u.Literal?t.val:t})).some((e=>e===(r.col||r)))||(i+=e.order&&!n?", ":" ORDER BY ",i+=o):i+=` ORDER BY ${o}`}(e.offset||e.limit)&&(i+=` OFFSET ${this.escape(r)} ROWS`),e.limit&&(i+=` FETCH NEXT ${this.escape(e.limit)} ROWS ONLY`)}return i}booleanValue(e){return e?1:0}quoteIdentifier(e,t){return`[${e.replace(/[[\]']+/g,"")}]`}}},7664:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e};const u=r(7825),l=r(3588),p=r(9209),d=r(4104),{QueryInterface:h}=r(9646);t.MSSqlQueryInterface=class extends h{async removeColumn(e,t,r){r=c({raw:!0},r||{});const n=this.queryGenerator.getDefaultConstraintQuery(e,t),[i]=await this.sequelize.query(n,r);if(i.length){const t=this.queryGenerator.dropConstraintQuery(e,i[0].name);await this.sequelize.query(t,r)}const o=this.queryGenerator.getForeignKeyQuery(e,t),[a]=await this.sequelize.query(o,r);if(a.length){const t=this.queryGenerator.dropForeignKeyQuery(e,a[0].constraint_name);await this.sequelize.query(t,r)}const s=this.queryGenerator.getPrimaryKeyConstraintQuery(e,t),[u]=await this.sequelize.query(s,r);if(u.length){const t=this.queryGenerator.dropConstraintQuery(e,u[0].constraintName);await this.sequelize.query(t,r)}const l=this.queryGenerator.removeColumnQuery(e,t);return this.sequelize.query(l,r)}async upsert(e,t,r,n,i){const o=i.model,a=[];i=c({},i),l.isWhereEmpty(n)||a.push(n);let s=Object.values(o.uniqueKeys).map((e=>e.fields));s=s.concat(Object.values(o._indexes).filter((e=>e.unique)).map((e=>e.fields)));const h=Object.keys(t);for(const e of s)if(u.intersection(h,e).length===e.length){n={};for(const r of e)n[r]=t[r];a.push(n)}n={[d.or]:a},i.type=p.UPSERT,i.raw=!0;const f=this.queryGenerator.upsertQuery(e,t,r,n,o,i);return await this.sequelize.query(f,i)}}},9222:(e,t,r)=>{"use strict";const n=r(6524),i=r(6797),o=r(2861)("mssql"),a=r(7825),{logger:s}=r(5275),c=s.debugContext("sql:mssql"),u=BigInt(Number.MIN_SAFE_INTEGER),l=BigInt(Number.MAX_SAFE_INTEGER);function p(e){if(!Number.isFinite(e))return 0;let t=1;for(;Math.round(e*t)/t!==e;)t*=10;return Math.log10(t)}class d extends n{getInsertIdField(){return"id"}getSQLTypeFromJsType(e,t){const r={type:t.NVarChar,typeOptions:{},value:e};if("number"==typeof e)Number.isInteger(e)?r.type=e>=-2147483648&&e<=2147483647?t.Int:t.BigInt:(r.type=t.Numeric,r.typeOptions={precision:30,scale:p(e)});else if("bigint"==typeof e){if(!(e<u||e>l))return this.getSQLTypeFromJsType(Number(e),t);r.type=t.VarChar,r.value=e.toString()}else"boolean"==typeof e&&(r.type=t.Bit);return Buffer.isBuffer(e)&&(r.type=t.VarBinary),r}async _run(e,t,r,n){this.sql=t;const{options:i}=this,s=this._logQuery(t,c,r),u=new Promise(((n,o)=>{if(t.startsWith("BEGIN TRANSACTION"))return e.beginTransaction((e=>e?o(e):n([])),i.transaction.name,e.lib.ISOLATION_LEVEL[i.isolationLevel]);if(t.startsWith("COMMIT TRANSACTION"))return e.commitTransaction((e=>e?o(e):n([])));if(t.startsWith("ROLLBACK TRANSACTION"))return e.rollbackTransaction((e=>e?o(e):n([])),i.transaction.name);if(t.startsWith("SAVE TRANSACTION"))return e.saveTransaction((e=>e?o(e):n([])),i.transaction.name);const s=[],c=new e.lib.Request(t,((e,t)=>e?o(e):n([s,t])));r&&a.forOwn(r,((t,r)=>{const n=this.getSQLTypeFromJsType(t,e.lib.TYPES);c.addParameter(r,n.type,t,n.typeOptions)})),c.on("row",(e=>{s.push(e)})),e.execSql(c)}));let l,p;try{[l,p]=await u}catch(e){throw e.sql=t,e.parameters=r,this.formatError(e,n)}return s(),Array.isArray(l)&&(l=l.map((e=>{const t={};for(const r of e){const e=r.metadata.type.id,n=o.get(e);let i=r.value;null!==i&!!n&&(i=n(i)),t[r.metadata.colName]=i}return t}))),this.formatResults(l,p)}run(e,t){const r=new Error;return this.connection.queue.enqueue((()=>this._run(this.connection,e,t,r.stack)))}static formatBindParameters(e,t,r){const i={};return[e=n.formatBindParameters(e,t,r,((e,t,r)=>{if(void 0!==r[t])return i[t]=r[t],`@${t}`}))[0],i]}formatResults(e,t){if(this.isInsertQuery(e))return this.handleInsertQuery(e),[this.instance||e,t];if(this.isShowTablesQuery())return this.handleShowTablesQuery(e);if(this.isDescribeQuery()){const t={};for(const r of e)r.Default&&(r.Default=r.Default.replace("('","").replace("')","").replace(/'/g,"")),t[r.Name]={type:r.Type.toUpperCase(),allowNull:"YES"===r.IsNull,defaultValue:r.Default,primaryKey:"PRIMARY KEY"===r.Constraint,autoIncrement:1===r.IsIdentity,comment:r.Comment},t[r.Name].type.includes("CHAR")&&r.Length&&(-1===r.Length?t[r.Name].type+="(MAX)":t[r.Name].type+=`(${r.Length})`);return t}return this.isSelectQuery()?this.handleSelectQuery(e):this.isShowIndexesQuery()?this.handleShowIndexesQuery(e):this.isCallQuery()?e[0]:this.isBulkUpdateQuery()?this.options.returning?this.handleSelectQuery(e):t:this.isBulkDeleteQuery()?e[0]?e[0].AFFECTEDROWS:0:this.isVersionQuery()?e[0].version:this.isForeignKeysQuery()?e:this.isUpsertQuery()?e&&0===e.length?[this.instance||e,!1]:(this.handleInsertQuery(e),[this.instance||e,"INSERT"===e[0].$action]):this.isUpdateQuery()?[this.instance||e,t]:this.isShowConstraintsQuery()?this.handleShowConstraintsQuery(e):this.isRawQuery()?[e,t]:e}handleShowTablesQuery(e){return e.map((e=>({tableName:e.TABLE_NAME,schema:e.TABLE_SCHEMA})))}handleShowConstraintsQuery(e){return e.slice(1).map((e=>{const t={};for(const r in e)t[a.camelCase(r)]=e[r];return t}))}formatError(e,t){let r;if(r=e.message.match(/Violation of (?:UNIQUE|PRIMARY) KEY constraint '([^']*)'. Cannot insert duplicate key in object '.*'.(:? The duplicate key value is \((.*)\).)?/),r=r||e.message.match(/Cannot insert duplicate key row in object .* with unique index '(.*)'/),r&&r.length>1){let n={};const o=this.model&&this.model.uniqueKeys[r[1]];let s="Validation error";if(o&&o.msg&&(s=o.msg),r[3]){const e=r[3].split(",").map((e=>e.trim()));o?n=a.zipObject(o.fields,e):n[r[1]]=r[3]}const c=[];return a.forOwn(n,((e,t)=>{c.push(new i.ValidationErrorItem(this.getUniqueConstraintErrorMessage(t),"unique violation",t,e,this.instance,"not_unique"))})),new i.UniqueConstraintError({message:s,errors:c,parent:e,fields:n,stack:t})}if(r=e.message.match(/Failed on step '(.*)'.Could not create constraint. See previous errors./)||e.message.match(/The DELETE statement conflicted with the REFERENCE constraint "(.*)". The conflict occurred in database "(.*)", table "(.*)", column '(.*)'./)||e.message.match(/The (?:INSERT|MERGE|UPDATE) statement conflicted with the FOREIGN KEY constraint "(.*)". The conflict occurred in database "(.*)", table "(.*)", column '(.*)'./),r&&r.length>0)return new i.ForeignKeyConstraintError({fields:null,index:r[1],parent:e,stack:t});if(r=e.message.match(/Could not drop constraint. See previous errors./),r&&r.length>0){let n=e.sql.match(/(?:constraint|index) \[(.+?)\]/i);n=n?n[1]:void 0;let o=e.sql.match(/table \[(.+?)\]/i);return o=o?o[1]:void 0,new i.UnknownConstraintError({message:r[1],constraint:n,table:o,parent:e,stack:t})}return new i.DatabaseError(e,{stack:t})}isShowOrDescribeQuery(){let e=!1;return e=e||this.sql.toLowerCase().startsWith("select c.column_name as 'name', c.data_type as 'type', c.is_nullable as 'isnull'"),e=e||this.sql.toLowerCase().startsWith("select tablename = t.name, name = ind.name,"),e=e||this.sql.toLowerCase().startsWith("exec sys.sp_helpindex @objname"),e}isShowIndexesQuery(){return this.sql.toLowerCase().startsWith("exec sys.sp_helpindex @objname")}handleShowIndexesQuery(e){return e=e.reduce(((e,t)=>(t.index_name in e||(e[t.index_name]=t,t.fields=[]),t.index_keys.split(",").forEach((r=>{let n=r.trim();n.includes("(-)")&&(n=n.replace("(-)","")),e[t.index_name].fields.push({attribute:n,length:void 0,order:r.includes("(-)")?"DESC":"ASC",collate:void 0})})),delete t.index_keys,e)),{}),a.map(e,(e=>({primary:e.index_name.toLowerCase().startsWith("pk"),fields:e.fields,name:e.index_name,tableName:void 0,unique:e.index_description.toLowerCase().includes("unique"),type:void 0})))}handleInsertQuery(e,t){if(this.instance){const r=this.model.autoIncrementAttribute;let n=null,i=null;if(Object.prototype.hasOwnProperty.call(this.model.rawAttributes,r)&&void 0!==this.model.rawAttributes[r].field&&(i=this.model.rawAttributes[r].field),n=n||e&&e[0][this.getInsertIdField()],n=n||t&&t[this.getInsertIdField()],n=n||e&&e[0][r],n=n||i&&e&&e[0][i],this.instance[r]=n,this.instance.dataValues)for(const t in e[0])if(Object.prototype.hasOwnProperty.call(e[0],t)){const r=e[0][t],n=a.find(this.model.rawAttributes,(e=>e.fieldName===t||e.field===t));this.instance.dataValues[n&&n.fieldName||t]=r}}}}e.exports=d,e.exports.Query=d,e.exports.default=d},9772:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const c=r(1740),u=r(6797),{logger:l}=r(5275),p=r(2869).mysql,d=r(5812),h=l.debugContext("connection:mysql"),f=r(2861)("mysql"),{promisify:m}=r(9023);class g extends c{constructor(e,t){t.config.port=t.config.port||3306,super(e,t),this.lib=this._loadDialectModule("mysql2"),this.refreshTypeParser(p)}_refreshTypeParser(e){f.refresh(e)}_clearTypeParser(){f.clear()}static _typecast(e,t){return f.get(e.type)?f.get(e.type)(e,this.sequelize.options,t):t()}async connect(e){const t=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({host:e.host,port:e.port,user:e.username,flags:"-FOUND_ROWS",password:e.password,database:e.database,timezone:this.sequelize.options.timezone,typeCast:g._typecast.bind(this),bigNumberStrings:!1,supportBigNumbers:!0},e.dialectOptions);try{const e=await new Promise(((e,r)=>{const n=this.lib.createConnection(t),i=e=>{n.removeListener("connect",o),n.removeListener("error",o),r(e)},o=()=>{n.removeListener("error",i),e(n)};n.on("error",i),n.once("connect",o)}));if(h("connection acquired"),e.on("error",(t=>{switch(t.code){case"ESOCKET":case"ECONNRESET":case"EPIPE":case"PROTOCOL_CONNECTION_LOST":this.pool.destroy(e)}})),!this.sequelize.config.keepDefaultTimezone){let t=this.sequelize.options.timezone;t=/\//.test(t)?d.tz(t).format("Z"):t,await m((r=>e.query(`SET time_zone = '${t}'`,r)))()}return e}catch(e){switch(e.code){case"ECONNREFUSED":throw new u.ConnectionRefusedError(e);case"ER_ACCESS_DENIED_ERROR":throw new u.AccessDeniedError(e);case"ENOTFOUND":throw new u.HostNotFoundError(e);case"EHOSTUNREACH":throw new u.HostNotReachableError(e);case"EINVAL":throw new u.InvalidConnectionError(e);default:throw new u.ConnectionError(e)}}}async disconnect(e){if(!e._closing)return await m((t=>e.end(t)))();h("connection tried to disconnect but was already at CLOSED state")}validate(e){return e&&!e._fatalError&&!e._protocolError&&!e._closing&&!e.stream.destroyed}}e.exports=g,e.exports.ConnectionManager=g,e.exports.default=g},7414:(e,t,r)=>{"use strict";const n=r(9158),i=r(7825),o=r(5812),a=r(4716);e.exports=e=>{e.ABSTRACT.prototype.dialectTypes="https://dev.mysql.com/doc/refman/5.7/en/data-types.html",e.DATE.types.mysql=["DATETIME"],e.STRING.types.mysql=["VAR_STRING"],e.CHAR.types.mysql=["STRING"],e.TEXT.types.mysql=["BLOB"],e.TINYINT.types.mysql=["TINY"],e.SMALLINT.types.mysql=["SHORT"],e.MEDIUMINT.types.mysql=["INT24"],e.INTEGER.types.mysql=["LONG"],e.BIGINT.types.mysql=["LONGLONG"],e.FLOAT.types.mysql=["FLOAT"],e.TIME.types.mysql=["TIME"],e.DATEONLY.types.mysql=["DATE"],e.BOOLEAN.types.mysql=["TINY"],e.BLOB.types.mysql=["TINYBLOB","BLOB","LONGBLOB"],e.DECIMAL.types.mysql=["NEWDECIMAL"],e.UUID.types.mysql=!1,e.ENUM.types.mysql=!1,e.REAL.types.mysql=["DOUBLE"],e.DOUBLE.types.mysql=["DOUBLE"],e.GEOMETRY.types.mysql=["GEOMETRY"],e.JSON.types.mysql=["JSON"];class t extends e.DECIMAL{toSql(){let e=super.toSql();return this._unsigned&&(e+=" UNSIGNED"),this._zerofill&&(e+=" ZEROFILL"),e}}class r extends e.DATE{toSql(){return this._length?`DATETIME(${this._length})`:"DATETIME"}_stringify(e,t){return a.isMoment(e)||(e=this._applyTimezone(e,t)),this._length?e.format("YYYY-MM-DD HH:mm:ss.SSS"):e.format("YYYY-MM-DD HH:mm:ss")}static parse(e,t){return null===(e=e.string())?e:e=o.tz.zone(t.timezone)?o.tz(e,t.timezone).toDate():new Date(`${e} ${t.timezone}`)}}class s extends e.DATEONLY{static parse(e){return e.string()}}class c extends e.UUID{toSql(){return"CHAR(36) BINARY"}}const u=["POINT","LINESTRING","POLYGON"];class l extends e.GEOMETRY{constructor(e,t){if(super(e,t),i.isEmpty(this.type))this.sqlType=this.key;else{if(!u.includes(this.type))throw new Error(`Supported geometry types are: ${u.join(", ")}`);this.sqlType=this.type}}static parse(e){return(e=e.buffer())&&0!==e.length?(e=e.slice(4),n.Geometry.parse(e).toGeoJSON({shortCrs:!0})):null}toSql(){return this.sqlType}}class p extends e.ENUM{toSql(e){return`ENUM(${this.values.map((t=>e.escape(t))).join(", ")})`}}class d extends e.JSON{_stringify(e,t){return"where"===t.operation&&"string"==typeof e?e:JSON.stringify(e)}}return{ENUM:p,DATE:r,DATEONLY:s,UUID:c,GEOMETRY:l,DECIMAL:t,JSON:d}}},3764:(e,t,r)=>{"use strict";const n=r(7825),i=r(3476),o=r(9772),a=r(6140),s=r(3624),c=r(2869).mysql,{MySQLQueryInterface:u}=r(494);class l extends i{constructor(e){super(),this.sequelize=e,this.connectionManager=new o(this,e),this.queryGenerator=new s({_dialect:this,sequelize:e}),this.queryInterface=new u(e,this.queryGenerator)}canBackslashEscape(){return!0}}l.prototype.supports=n.merge(n.cloneDeep(i.prototype.supports),{"VALUES ()":!0,"LIMIT ON UPDATE":!0,lock:!0,forShare:"LOCK IN SHARE MODE",settingIsolationLevelDuringTransaction:!1,inserts:{ignoreDuplicates:" IGNORE",updateOnDuplicate:" ON DUPLICATE KEY UPDATE"},index:{collate:!1,length:!0,parser:!0,type:!0,using:1},constraints:{dropConstraint:!1,check:!1},indexViaAlter:!0,indexHints:!0,NUMERIC:!0,GEOMETRY:!0,JSON:!0,REGEXP:!0}),l.prototype.defaultVersion="5.7.0",l.prototype.Query=a,l.prototype.QueryGenerator=s,l.prototype.DataTypes=c,l.prototype.name="mysql",l.prototype.TICK_CHAR="`",l.prototype.TICK_CHAR_LEFT=l.prototype.TICK_CHAR,l.prototype.TICK_CHAR_RIGHT=l.prototype.TICK_CHAR,e.exports=l},3624:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e};const p=r(7825),d=r(3588),h=r(1848),f=r(9023),m=r(4104),g=/^\s*((?:[a-z]+_){0,2}jsonb?(?:_[a-z]+){0,2})\([^)]*\)/i,y=/^\s*(->>?|@>|<@|\?[|&]?|\|{2}|#-)/i,v=/^\s*((?:([`"'])(?:(?!\2).|\2{2})*\2)|[\w\d\s]+|[().,;+-])/i,b=["CONSTRAINT_NAME as constraint_name","CONSTRAINT_NAME as constraintName","CONSTRAINT_SCHEMA as constraintSchema","CONSTRAINT_SCHEMA as constraintCatalog","TABLE_NAME as tableName","TABLE_SCHEMA as tableSchema","TABLE_SCHEMA as tableCatalog","COLUMN_NAME as columnName","REFERENCED_TABLE_SCHEMA as referencedTableSchema","REFERENCED_TABLE_SCHEMA as referencedTableCatalog","REFERENCED_TABLE_NAME as referencedTableName","REFERENCED_COLUMN_NAME as referencedColumnName"].join(","),E=new Set(["BLOB","TEXT","GEOMETRY","JSON"]);function w(e){return d.addTicks(e,"'")}e.exports=class extends h{constructor(e){var t,r;super(e),this.OperatorMap=(t=l({},this.OperatorMap),r={[m.regexp]:"REGEXP",[m.notRegexp]:"NOT REGEXP"},i(t,o(r)))}createDatabaseQuery(e,t){return t=l({charset:null,collate:null},t),d.joinSQLFragments(["CREATE DATABASE IF NOT EXISTS",this.quoteIdentifier(e),t.charset&&`DEFAULT CHARACTER SET ${this.escape(t.charset)}`,t.collate&&`DEFAULT COLLATE ${this.escape(t.collate)}`,";"])}dropDatabaseQuery(e){return`DROP DATABASE IF EXISTS ${this.quoteIdentifier(e)};`}createSchema(){return"SHOW TABLES"}showSchemasQuery(){return"SHOW TABLES"}versionQuery(){return"SELECT VERSION() as `version`"}createTableQuery(e,t,r){r=l({engine:"InnoDB",charset:null,rowFormat:null},r);const n=[],i={},o=[];for(const e in t){if(!Object.prototype.hasOwnProperty.call(t,e))continue;const r=t[e];let a;r.includes("PRIMARY KEY")?(n.push(e),r.includes("REFERENCES")?(a=r.match(/^(.+) (REFERENCES.*)$/),o.push(`${this.quoteIdentifier(e)} ${a[1].replace("PRIMARY KEY","")}`),i[e]=a[2]):o.push(`${this.quoteIdentifier(e)} ${r.replace("PRIMARY KEY","")}`)):r.includes("REFERENCES")?(a=r.match(/^(.+) (REFERENCES.*)$/),o.push(`${this.quoteIdentifier(e)} ${a[1]}`),i[e]=a[2]):o.push(`${this.quoteIdentifier(e)} ${r}`)}const a=this.quoteTable(e);let s=o.join(", ");const c=n.map((e=>this.quoteIdentifier(e))).join(", ");r.uniqueKeys&&p.each(r.uniqueKeys,((t,r)=>{t.customIndex&&("string"!=typeof r&&(r=`uniq_${e}_${t.fields.join("_")}`),s+=`, UNIQUE ${this.quoteIdentifier(r)} (${t.fields.map((e=>this.quoteIdentifier(e))).join(", ")})`)})),c.length>0&&(s+=`, PRIMARY KEY (${c})`);for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(s+=`, FOREIGN KEY (${this.quoteIdentifier(e)}) ${i[e]}`);return d.joinSQLFragments(["CREATE TABLE IF NOT EXISTS",a,`(${s})`,`ENGINE=${r.engine}`,r.comment&&"string"==typeof r.comment&&`COMMENT ${this.escape(r.comment)}`,r.charset&&`DEFAULT CHARSET=${r.charset}`,r.collate&&`COLLATE ${r.collate}`,r.initialAutoIncrement&&`AUTO_INCREMENT=${r.initialAutoIncrement}`,r.rowFormat&&`ROW_FORMAT=${r.rowFormat}`,";"])}describeTableQuery(e,t,r){return`SHOW FULL COLUMNS FROM ${this.quoteTable(this.addSchema({tableName:e,_schema:t,_schemaDelimiter:r}))};`}showTablesQuery(e){let t="SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE'";return t+=e?` AND TABLE_SCHEMA = ${this.escape(e)}`:" AND TABLE_SCHEMA NOT IN ('MYSQL', 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA', 'SYS', 'mysql', 'information_schema', 'performance_schema', 'sys')",`${t};`}tableExistsQuery(e){return`SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = ${this.escape(this.quoteTable(e).slice(1,-1))} AND TABLE_SCHEMA = ${this.escape(this.sequelize.config.database)}`}addColumnQuery(e,t,r){return d.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"ADD",this.quoteIdentifier(t),this.attributeToSQL(r,{context:"addColumn",tableName:e,foreignKey:t}),";"])}removeColumnQuery(e,t){return d.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"DROP",this.quoteIdentifier(t),";"])}changeColumnQuery(e,t){const r=[],n=[];for(const e in t){let i=t[e];if(i.includes("REFERENCES")){const t=this.quoteIdentifier(e);i=i.replace(/.+?(?=REFERENCES)/,""),n.push(`FOREIGN KEY (${t}) ${i}`)}else r.push(`\`${e}\` \`${e}\` ${i}`)}return d.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),r.length&&`CHANGE ${r.join(", ")}`,n.length&&`ADD ${n.join(", ")}`,";"])}renameColumnQuery(e,t,r){const n=[];for(const e in r){const i=r[e];n.push(`\`${t}\` \`${e}\` ${i}`)}return d.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"CHANGE",n.join(", "),";"])}handleSequelizeMethod(e,t,r,n,i){if(e instanceof d.Json){if(e.conditions)return this.parseConditionObject(e.conditions).map((e=>`${this.jsonPathExtractionQuery(e.path[0],p.tail(e.path))} = '${e.value}'`)).join(" AND ");if(e.path){let t;if(this._checkValidJsonStatement(e.path))t=e.path;else{const r=p.toPath(e.path),n=r.shift();t=this.jsonPathExtractionQuery(n,r)}return e.value&&(t+=f.format(" = %s",this.escape(e.value))),t}}else e instanceof d.Cast&&(/timestamp/i.test(e.type)?e.type="datetime":e.json&&/boolean/i.test(e.type)?e.type="char":/double precision/i.test(e.type)||/boolean/i.test(e.type)||/integer/i.test(e.type)?e.type="decimal":/text/i.test(e.type)&&(e.type="char"));return super.handleSequelizeMethod(e,t,r,n,i)}_toJSONValue(e){return"boolean"==typeof e?e.toString():null===e?"null":e}truncateTableQuery(e){return`TRUNCATE ${this.quoteTable(e)}`}deleteQuery(e,t,r={},n){let i="",o=`DELETE FROM ${this.quoteTable(e)}`;return r.limit&&(i=` LIMIT ${this.escape(r.limit)}`),(t=this.getWhereConditions(t,null,n,r))&&(o+=` WHERE ${t}`),o+i}showIndexesQuery(e,t){return d.joinSQLFragments([`SHOW INDEX FROM ${this.quoteTable(e)}`,t&&t.database&&`FROM \`${t.database}\``])}showConstraintsQuery(e,t){const r=e.tableName||e,n=e.schema;return d.joinSQLFragments(["SELECT CONSTRAINT_CATALOG AS constraintCatalog,","CONSTRAINT_NAME AS constraintName,","CONSTRAINT_SCHEMA AS constraintSchema,","CONSTRAINT_TYPE AS constraintType,","TABLE_NAME AS tableName,","TABLE_SCHEMA AS tableSchema","from INFORMATION_SCHEMA.TABLE_CONSTRAINTS",`WHERE table_name='${r}'`,t&&`AND constraint_name = '${t}'`,n&&`AND TABLE_SCHEMA = '${n}'`,";"])}removeIndexQuery(e,t){let r=t;return"string"!=typeof r&&(r=d.underscore(`${e}_${t.join("_")}`)),d.joinSQLFragments(["DROP INDEX",this.quoteIdentifier(r),"ON",this.quoteTable(e)])}attributeToSQL(e,t){p.isPlainObject(e)||(e={type:e});const r=e.type.toString({escape:this.escape.bind(this)});let n=r;if(!1===e.allowNull&&(n+=" NOT NULL"),e.autoIncrement&&(n+=" auto_increment"),!E.has(r)&&!0!==e.type._binary&&d.defaultValueSchemable(e.defaultValue)&&(n+=` DEFAULT ${this.escape(e.defaultValue)}`),!0===e.unique&&(n+=" UNIQUE"),e.primaryKey&&(n+=" PRIMARY KEY"),e.comment&&(n+=` COMMENT ${this.escape(e.comment)}`),e.first&&(n+=" FIRST"),e.after&&(n+=` AFTER ${this.quoteIdentifier(e.after)}`),(!t||!t.withoutForeignKeyConstraints)&&e.references){if(t&&"addColumn"===t.context&&t.foreignKey){const e=this.quoteIdentifier(t.foreignKey);n+=`, ADD CONSTRAINT ${this.quoteIdentifier(`${t.tableName}_${e}_foreign_idx`)} FOREIGN KEY (${e})`}n+=` REFERENCES ${this.quoteTable(e.references.model)}`,e.references.key?n+=` (${this.quoteIdentifier(e.references.key)})`:n+=` (${this.quoteIdentifier("id")})`,e.onDelete&&(n+=` ON DELETE ${e.onDelete.toUpperCase()}`),e.onUpdate&&(n+=` ON UPDATE ${e.onUpdate.toUpperCase()}`)}return n}attributesToSQL(e,t){const r={};for(const n in e){const i=e[n];r[i.field||n]=this.attributeToSQL(i,t)}return r}_checkValidJsonStatement(e){if("string"!=typeof e)return!1;let t=0,r=0,n=0,i=!1,o=!1;for(;t<e.length;){const a=e.substr(t),s=g.exec(a);if(s){t+=s[0].indexOf("("),i=!0;continue}const c=y.exec(a);if(c){t+=c[0].length,i=!0;continue}const u=v.exec(a);if(!u)break;{const e=u[1];if("("===e)r++;else if(")"===e)n++;else if(";"===e){o=!0;break}t+=u[0].length}}if(i&&(o||r!==n))throw new Error(`Invalid json statement: ${e}`);return i}getForeignKeysQuery(e,t){const r=e.tableName||e;return d.joinSQLFragments(["SELECT",b,`FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = '${r}'`,`AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='${t}'`,"AND REFERENCED_TABLE_NAME IS NOT NULL",";"])}getForeignKeyQuery(e,t){const r=e.schema?w(e.schema):"",n=w(e.tableName||e),i=w(t);return d.joinSQLFragments(["SELECT",b,"FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE","WHERE (",[`REFERENCED_TABLE_NAME = ${n}`,e.schema&&`AND REFERENCED_TABLE_SCHEMA = ${r}`,`AND REFERENCED_COLUMN_NAME = ${i}`],") OR (",[`TABLE_NAME = ${n}`,e.schema&&`AND TABLE_SCHEMA = ${r}`,`AND COLUMN_NAME = ${i}`,"AND REFERENCED_TABLE_NAME IS NOT NULL"],")"])}dropForeignKeyQuery(e,t){return d.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"DROP FOREIGN KEY",this.quoteIdentifier(t),";"])}quoteIdentifier(e,t){return d.addTicks(d.removeTicks(e,"`"),"`")}}},494:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e};const p=r(6797),{QueryInterface:d}=r(9646),h=r(9209);t.MySQLQueryInterface=class extends d{async removeColumn(e,t,r){r=r||{};const[n]=await this.sequelize.query(this.queryGenerator.getForeignKeyQuery(e.tableName?e:{tableName:e,schema:this.sequelize.config.database},t),l({raw:!0},r));return n.length&&"PRIMARY"!==n[0].constraint_name&&await Promise.all(n.map((t=>this.sequelize.query(this.queryGenerator.dropForeignKeyQuery(e,t.constraint_name),l({raw:!0},r))))),await this.sequelize.query(this.queryGenerator.removeColumnQuery(e,t),l({raw:!0},r))}async upsert(e,t,r,n,i){(i=l({},i)).type=h.UPSERT,i.updateOnDuplicate=Object.keys(r),i.upsertKeys=Object.values(i.model.primaryKeys).map((e=>e.field));const o=i.model,a=this.queryGenerator.insertQuery(e,t,o.rawAttributes,i);return await this.sequelize.query(a,i)}async removeConstraint(e,t,r){const n=this.queryGenerator.showConstraintsQuery(e.tableName?e:{tableName:e,schema:this.sequelize.config.database},t);var a,s;const c=(await this.sequelize.query(n,(a=l({},r),s={type:this.sequelize.QueryTypes.SHOWCONSTRAINTS},i(a,o(s)))))[0];let u;if(!c||!c.constraintType)throw new p.UnknownConstraintError({message:`Constraint ${t} on table ${e} does not exist`,constraint:t,table:e});return u="FOREIGN KEY"===c.constraintType?this.queryGenerator.dropForeignKeyQuery(e,t):this.queryGenerator.removeIndexQuery(c.tableName,c.constraintName),await this.sequelize.query(u,r)}}},6140:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const c=r(6524),u=r(6797),l=r(7825),{logger:p}=r(5275),d=p.debugContext("sql:mysql");class h extends c{constructor(e,t,r){super(e,t,((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({showWarnings:!1},r))}static formatBindParameters(e,t,r){const n=[];return[e=c.formatBindParameters(e,t,r,((e,t,r)=>{if(void 0!==r[t])return n.push(r[t]),"?"}))[0],n.length>0?n:void 0]}async run(e,t){this.sql=e;const{connection:r,options:n}=this,i=this.sequelize.options.showWarnings||n.showWarnings,o=this._logQuery(e,d,t);let a;t&&d("parameters(%j)",t);const s=new Error;try{a=t&&t.length?await new Promise(((n,i)=>{r.execute(e,t,((e,t)=>e?i(e):n(t))).setMaxListeners(100)})):await new Promise(((t,n)=>{r.query({sql:e},((e,r)=>e?n(e):t(r))).setMaxListeners(100)}))}catch(r){if(n.transaction&&1213===r.errno){try{await n.transaction.rollback()}catch(e){}n.transaction.finished="rollback"}throw r.sql=e,r.parameters=t,this.formatError(r,s.stack)}finally{o()}return i&&a&&a.warningStatus>0&&await this.logWarnings(a),this.formatResults(a)}formatResults(e){let t=this.instance;if(this.isInsertQuery(e)&&(this.handleInsertQuery(e),!this.instance))if("ResultSetHeader"===e.constructor.name&&this.model&&this.model.autoIncrementAttribute&&this.model.autoIncrementAttribute===this.model.primaryKeyAttribute&&this.model.rawAttributes[this.model.primaryKeyAttribute]){const r=e[this.getInsertIdField()];t=[];for(let n=r;n<r+e.affectedRows;n++)t.push({[this.model.rawAttributes[this.model.primaryKeyAttribute].field]:n})}else t=e[this.getInsertIdField()];if(this.isSelectQuery())return this.handleSelectQuery(e);if(this.isShowTablesQuery())return this.handleShowTablesQuery(e);if(this.isDescribeQuery()){t={};for(const r of e){const e=/^enum/i;t[r.Field]={type:e.test(r.Type)?r.Type.replace(e,"ENUM"):r.Type.toUpperCase(),allowNull:"YES"===r.Null,defaultValue:r.Default,primaryKey:"PRI"===r.Key,autoIncrement:Object.prototype.hasOwnProperty.call(r,"Extra")&&"auto_increment"===r.Extra.toLowerCase(),comment:r.Comment?r.Comment:null}}return t}return this.isShowIndexesQuery()?this.handleShowIndexesQuery(e):this.isCallQuery()?e[0]:this.isBulkUpdateQuery()||this.isBulkDeleteQuery()?e.affectedRows:this.isVersionQuery()?e[0].version:this.isForeignKeysQuery()?e:this.isUpsertQuery()?[t,1===e.affectedRows]:this.isInsertQuery()||this.isUpdateQuery()?[t,e.affectedRows]:this.isShowConstraintsQuery()?e:this.isRawQuery()?[e,e]:t}async logWarnings(e){const t=await this.run("SHOW WARNINGS"),r=`MySQL Warnings (${this.connection.uuid||"default"}): `,n=[];for(const e of t)if(void 0!==e&&"function"==typeof e[Symbol.iterator])for(const t of e)if(Object.prototype.hasOwnProperty.call(t,"Message"))n.push(t.Message);else for(const e of t.keys())n.push([e,t[e]].join(": "));return this.sequelize.log(r+n.join("; "),this.options),e}formatError(e,t){const r=e.errno||e.code;switch(r){case 1062:{const r=e.message.match(/Duplicate entry '([\s\S]*)' for key '?((.|\s)*?)'?$/);let n={},i="Validation error";const o=r?r[1].split("-"):void 0,a=r?r[2].split(".").pop():void 0,s=r?r[1]:void 0,c=this.model&&this.model.uniqueKeys[a];c?(c.msg&&(i=c.msg),n=l.zipObject(c.fields,o)):n[a]=s;const p=[];return l.forOwn(n,((e,t)=>{p.push(new u.ValidationErrorItem(this.getUniqueConstraintErrorMessage(t),"unique violation",t,e,this.instance,"not_unique"))})),new u.UniqueConstraintError({message:i,errors:p,parent:e,fields:n,stack:t})}case 1451:case 1452:{const n=e.message.match(/CONSTRAINT ([`"])(.*)\1 FOREIGN KEY \(\1(.*)\1\) REFERENCES \1(.*)\1 \(\1(.*)\1\)/),i=n?n[1]:"`",o=n?n[3].split(new RegExp(`${i}, *${i}`)):void 0;return new u.ForeignKeyConstraintError({reltype:String(r)===String(1451)?"parent":"child",table:n?n[4]:void 0,fields:o,value:o&&o.length&&this.instance&&this.instance[o[0]]||void 0,index:n?n[2]:void 0,parent:e,stack:t})}default:return new u.DatabaseError(e,{stack:t})}}handleShowIndexesQuery(e){return e=e.reduce(((e,t)=>(t.Key_name in e||(e[t.Key_name]=t,t.fields=[]),e[t.Key_name].fields[t.Seq_in_index-1]={attribute:t.Column_name,length:t.Sub_part||void 0,order:"A"===t.Collation?"ASC":void 0},delete t.column_name,e)),{}),l.map(e,(e=>({primary:"PRIMARY"===e.Key_name,fields:e.fields,name:e.Key_name,tableName:e.Table,unique:1!==e.Non_unique,type:e.Index_type})))}}e.exports=h,e.exports.Query=h,e.exports.default=h},8036:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;((e,t)=>{for(var r in(e=>{n(e,"__esModule",{value:!0})})(e),t)n(e,r,{get:t[r],enumerable:!0})})(t,{OracleConnectionManager:()=>g});const c=r(1740),u=r(6797),l=r(2861)("oracle"),{logger:p}=r(5275),d=r(8064),h=p.debugContext("connection:oracle"),f=r(2869).oracle,{promisify:m}=r(9023);class g extends c{constructor(e,t){super(e,t),this.sequelize=t,this.sequelize.config.port=this.sequelize.config.port||1521,this.lib=this._loadDialectModule("oracledb"),this.extendLib(),this.refreshTypeParser(f)}extendLib(){if(this.sequelize.config&&"dialectOptions"in this.sequelize.config){const e=this.sequelize.config.dialectOptions;e&&"maxRows"in e&&(this.lib.maxRows=this.sequelize.config.dialectOptions.maxRows),this.lib.fetchAsString=e&&"fetchAsString"in e?this.sequelize.config.dialectOptions.fetchAsString:[this.lib.CLOB]}this.lib.fetchAsBuffer=[this.lib.BLOB]}buildConnectString(e){if(!e.host||0===e.host.length)return e.database;let t=e.host;return e.port&&e.port>0?t+=`:${e.port}`:t+=":1521",e.database&&e.database.length>0&&(t+=`/${e.database}`),t}_refreshTypeParser(e){l.refresh(e)}_clearTypeParser(){l.clear()}async connect(e){const t=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({user:e.username,password:e.password,externalAuth:e.externalAuth,stmtCacheSize:0,connectString:this.buildConnectString(e)},e.dialectOptions);try{const e=await this.lib.getConnection(t);return this.sequelize.options.databaseVersion=d.coerce(e.oracleServerVersionString).version,h("connection acquired"),e.on("error",(t=>{switch(t.code){case"ESOCKET":case"ECONNRESET":case"EPIPE":case"PROTOCOL_CONNECTION_LOST":this.pool.destroy(e)}})),e}catch(e){let t=e.message.split(":");switch(t=t[0],t){case"ORA-12560":case"ORA-12154":case"ORA-12505":case"ORA-12514":case"NJS-511":case"NJS-516":case"NJS-517":case"NJS-520":throw new u.ConnectionRefusedError(e);case"ORA-28000":case"ORA-28040":case"ORA-01017":case"NJS-506":throw new u.AccessDeniedError(e);case"ORA-12541":case"NJS-503":case"NJS-508":case"NJS-507":throw new u.HostNotReachableError(e);case"NJS-512":case"NJS-515":case"NJS-518":case"NJS-519":throw new u.InvalidConnectionError(e);case"ORA-12170":case"NJS-510":throw new u.ConnectionTimedOutError(e);default:throw new u.ConnectionError(e)}}}async disconnect(e){if(e.isHealthy())return await m((t=>e.close(t)))();h("connection tried to disconnect but was already at CLOSED state")}validate(e){return e&&e.isHealthy()}}},9838:(e,t,r)=>{"use strict";const n=r(4716),i=r(5812);e.exports=e=>{const t=e.ABSTRACT.warn.bind(void 0,"https://www.oracle.com/pls/topic/lookup?ctx=dblatest&id=GUID-D424D23B-0933-425F-BC69-9C0E6724693C");e.DATE.types.oracle=["TIMESTAMP","TIMESTAMP WITH LOCAL TIME ZONE"],e.STRING.types.oracle=["VARCHAR2","NVARCHAR2"],e.CHAR.types.oracle=["CHAR","RAW"],e.TEXT.types.oracle=["CLOB"],e.TINYINT.types.oracle=["NUMBER"],e.SMALLINT.types.oracle=["NUMBER"],e.MEDIUMINT.types.oracle=["NUMBER"],e.INTEGER.types.oracle=["INTEGER"],e.BIGINT.types.oracle=["NUMBER"],e.FLOAT.types.oracle=["BINARY_FLOAT"],e.DATEONLY.types.oracle=["DATE"],e.BOOLEAN.types.oracle=["CHAR(1)"],e.BLOB.types.oracle=["BLOB"],e.DECIMAL.types.oracle=["NUMBER"],e.UUID.types.oracle=["VARCHAR2"],e.ENUM.types.oracle=["VARCHAR2"],e.REAL.types.oracle=["BINARY_DOUBLE"],e.DOUBLE.types.oracle=["BINARY_DOUBLE"],e.JSON.types.oracle=["BLOB"],e.GEOMETRY.types.oracle=!1;class r extends e.STRING{toSql(){return(this.length>4e3||this._binary&&this._length>2e3)&&t("Oracle supports length up to 32764 bytes or characters; Be sure that your administrator has extended the MAX_STRING_SIZE parameter. Check https://docs.oracle.com/pls/topic/lookup?ctx=dblatest&id=GUID-7B72E154-677A-4342-A1EA-C74C1EA928E6"),this._binary?`RAW(${this._length})`:`NVARCHAR2(${this._length})`}_stringify(e,t){return this._binary?t.escape(e.toString("hex")):t.escape(e)}_getBindDef(e){return this._binary?{type:e.DB_TYPE_RAW,maxSize:this._length}:{type:e.DB_TYPE_VARCHAR,maxSize:this._length}}_bindParam(e,t){return t.bindParam(e)}}r.prototype.escape=!1;class o extends e.BOOLEAN{toSql(){return"CHAR(1)"}_getBindDef(e){return{type:e.DB_TYPE_CHAR,maxSize:1}}_stringify(e){return!0===e?"1":!1===e?"0":e}_sanitize(e){return"string"==typeof e?"1"===e||"true"===e||"0"!==e&&"false"!==e&&e:super._sanitize(e)}}class a extends e.UUID{toSql(){return"VARCHAR2(36)"}_getBindDef(e){return{type:e.DB_TYPE_VARCHAR,maxSize:36}}}class s extends e.NOW{toSql(){return"SYSDATE"}_stringify(){return"SYSDATE"}}class c extends e.ENUM{toSql(){return"VARCHAR2(512)"}_getBindDef(e){return{type:e.DB_TYPE_VARCHAR,maxSize:512}}}class u extends e.TEXT{toSql(){return"CLOB"}_getBindDef(e){return{type:e.DB_TYPE_CLOB}}}class l extends e.CHAR{toSql(){return this._binary?(t("Oracle CHAR.BINARY datatype is not of Fixed Length."),`RAW(${this._length})`):super.toSql()}_getBindDef(e){return this._binary?{type:e.DB_TYPE_RAW,maxSize:this._length}:{type:e.DB_TYPE_CHAR,maxSize:this._length}}_bindParam(e,t){return t.bindParam(e)}}class p extends e.DATE{toSql(){return"TIMESTAMP WITH LOCAL TIME ZONE"}_getBindDef(e){return{type:e.DB_TYPE_TIMESTAMP_LTZ}}_stringify(e,t){return`TO_TIMESTAMP_TZ('${(e=this._applyTimezone(e,t)).format("YYYY-MM-DD HH:mm:ss.SSS Z")}','YYYY-MM-DD HH24:MI:SS.FFTZH:TZM')`}_applyTimezone(e,t){return t.timezone?i.tz.zone(t.timezone)?i(e).tz(t.timezone):n(e).utcOffset(t.timezone):i(e)}static parse(e,t){return null===e||t&&n.tz.zone(t.timezone)&&(e=n.tz(e.toString(),t.timezone).toDate()),e}_bindParam(e,t){return t.bindParam(e)}}p.prototype.escape=!1;class d extends e.DECIMAL{toSql(){let e="";return this._length&&(e+=`(${this._length}`,"number"==typeof this._decimals&&(e+=`,${this._decimals}`),e+=")"),!this._length&&this._precision&&(e+=`(${this._precision}`,"number"==typeof this._scale&&(e+=`,${this._scale}`),e+=")"),`NUMBER${e}`}_getBindDef(e){return{type:e.DB_TYPE_NUMBER}}}class h extends e.TINYINT{toSql(){return"NUMBER(3)"}_getBindDef(e){return{type:e.DB_TYPE_NUMBER}}}class f extends e.SMALLINT{toSql(){return this._length?`NUMBER(${this._length},0)`:"SMALLINT"}_getBindDef(e){return{type:e.DB_TYPE_NUMBER}}}class m extends e.MEDIUMINT{toSql(){return"NUMBER(8)"}_getBindDef(e){return{type:e.DB_TYPE_NUMBER}}}class g extends e.BIGINT{constructor(r){if(super(r),!(this instanceof g))return new g(r);e.BIGINT.apply(this,arguments),(this._length||this.options.length||this._unsigned||this._zerofill)&&(t("Oracle does not support BIGINT with options"),this._length=void 0,this.options.length=void 0,this._unsigned=void 0,this._zerofill=void 0)}toSql(){return"NUMBER(19)"}_getBindDef(e){return{type:e.DB_TYPE_NUMBER}}_sanitize(e){return"bigint"==typeof e||"number"==typeof e?e.toString():e}}class y extends e.NUMBER{_getBindDef(e){return{type:e.DB_TYPE_NUMBER}}}class v extends e.INTEGER{toSql(){return this._length?`NUMBER(${this._length},0)`:"INTEGER"}_getBindDef(e){return{type:e.DB_TYPE_NUMBER}}}class b extends e.FLOAT{toSql(){return"BINARY_FLOAT"}_getBindDef(e){return{type:e.DB_TYPE_BINARY_FLOAT}}}class E extends e.REAL{toSql(){return"BINARY_DOUBLE"}_stringify(e){return e===Number.POSITIVE_INFINITY?"inf":e===Number.NEGATIVE_INFINITY?"-inf":e}_getBindDef(e){return{type:e.DB_TYPE_BINARY_DOUBLE}}}class w extends e.BLOB{_hexify(e){return`'${e}'`}toSql(){return"BLOB"}_getBindDef(e){return{type:e.DB_TYPE_BLOB}}}class A extends e.JSON{toSql(){return"BLOB"}_getBindDef(e){return{type:e.DB_TYPE_BLOB}}_stringify(e,t){return"where"===t.operation&&"string"==typeof e?e:JSON.stringify(e)}_bindParam(e,t){return t.bindParam(Buffer.from(JSON.stringify(e)))}}class x extends e.DOUBLE{constructor(r,n){if(super(r,n),!(this instanceof x))return new e.DOUBLE(r,n);e.DOUBLE.apply(this,arguments),(this._length||this._unsigned||this._zerofill)&&(t("Oracle does not support DOUBLE with options."),this._length=void 0,this.options.length=void 0,this._unsigned=void 0,this._zerofill=void 0),this.key="DOUBLE PRECISION"}_getBindDef(e){return{type:e.DB_TYPE_BINARY_DOUBLE}}toSql(){return"BINARY_DOUBLE"}}class S extends e.DATEONLY{parse(e){return n(e).format("YYYY-MM-DD")}_sanitize(e){return e?n(e).format("YYYY-MM-DD"):e}_stringify(e,t){if(e){const r="YYYY/MM/DD";return t.escape(`TO_DATE('${e}','${r}')`)}return t.escape(e)}_getBindDef(e){return{type:e.DB_TYPE_DATE}}_bindParam(e,t){return"string"==typeof e?t.bindParam(new Date(e)):t.bindParam(e)}}return S.prototype.escape=!1,{BOOLEAN:o,"DOUBLE PRECISION":x,DOUBLE:x,STRING:r,TINYINT:h,SMALLINT:f,MEDIUMINT:m,BIGINT:g,NUMBER:y,INTEGER:v,FLOAT:b,UUID:a,DATEONLY:S,DATE:p,NOW:s,BLOB:w,ENUM:c,TEXT:u,CHAR:l,JSON:A,REAL:E,DECIMAL:d}}},7772:(e,t,r)=>{"use strict";const n=r(7825),{AbstractDialect:i}=r(3476),{OracleConnectionManager:o}=r(8036),{OracleQuery:a}=r(7188),{OracleQueryGenerator:s}=r(4304),c=r(2869).oracle,{OracleQueryInterface:u}=r(8118);class l extends i{constructor(e){super(),this.sequelize=e,this.connectionManager=new o(this,e),this.connectionManager.initPools(),this.queryGenerator=new s({_dialect:this,sequelize:e}),this.queryInterface=new u(e,this.queryGenerator)}}l.prototype.supports=n.merge(n.cloneDeep(i.prototype.supports),{"VALUES ()":!0,"LIMIT ON UPDATE":!0,IGNORE:" IGNORE",lock:!0,lockOuterJoinFailure:!0,forShare:"FOR UPDATE",skipLocked:!0,index:{collate:!1,length:!1,parser:!1,type:!1,using:!1},constraints:{restrict:!1},returnValues:!1,returnIntoValues:!0,"ORDER NULLS":!0,schemas:!0,updateOnDuplicate:!1,indexViaAlter:!1,NUMERIC:!0,JSON:!0,upserts:!0,bulkDefault:!0,topLevelOrderByRequired:!0,GEOMETRY:!1}),l.prototype.defaultVersion="18.0.0",l.prototype.Query=a,l.prototype.queryGenerator=s,l.prototype.DataTypes=c,l.prototype.name="oracle",l.prototype.TICK_CHAR='"',l.prototype.TICK_CHAR_LEFT=l.prototype.TICK_CHAR,l.prototype.TICK_CHAR_RIGHT=l.prototype.TICK_CHAR,e.exports=l},4304:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e};((e,t)=>{for(var r in(e=>{n(e,"__esModule",{value:!0})})(e),t)n(e,r,{get:t[r],enumerable:!0})})(t,{OracleQueryGenerator:()=>b});const u=r(3588),l=r(2869),p=r(1848),d=r(7825),h=r(9023),f=r(5137),m=["ACCESS","ADD","ALL","ALTER","AND","ANY","ARRAYLEN","AS","ASC","AUDIT","BETWEEN","BY","CHAR","CHECK","CLUSTER","COLUMN","COMMENT","COMPRESS","CONNECT","CREATE","CURRENT","DATE","DECIMAL","DEFAULT","DELETE","DESC","DISTINCT","DROP","ELSE","EXCLUSIVE","EXISTS","FILE","FLOAT","FOR","FROM","GRANT","GROUP","HAVING","IDENTIFIED","IMMEDIATE","IN","INCREMENT","INDEX","INITIAL","INSERT","INTEGER","INTERSECT","INTO","IS","LEVEL","LIKE","LOCK","LONG","MAXEXTENTS","MINUS","MODE","MODIFY","NOAUDIT","NOCOMPRESS","NOT","NOTFOUND","NOWAIT","NULL","NUMBER","OF","OFFLINE","ON","ONLINE","OPTION","OR","ORDER","PCTFREE","PRIOR","PRIVILEGES","PUBLIC","RAW","RENAME","RESOURCE","REVOKE","ROW","ROWID","ROWLABEL","ROWNUM","ROWS","SELECT","SESSION","SET","SHARE","SIZE","SMALLINT","SQLBUF","START","SUCCESSFUL","SYNONYM","SYSDATE","TABLE","THEN","TO","TRIGGER","UID","UNION","UNIQUE","UPDATE","USER","VALIDATE","VALUES","VARCHAR","VARCHAR2","VIEW","WHENEVER","WHERE","WITH"],g=/^\s*((?:[a-z]+_){0,2}jsonb?(?:_[a-z]+){0,2})\([^)]*\)/i,y=/^\s*(->>?|@>|<@|\?[|&]?|\|{2}|#-)/i,v=/^\s*((?:([`"'])(?:(?!\2).|\2{2})*\2)|[\w\d\s]+|[().,;+-])/i;class b extends p{constructor(e){super(e)}getCatalogName(e){return e&&!1===this.options.quoteIdentifiers&&this.quoteIdentifier(e)===e&&(e=e.toUpperCase()),e}getSchemaNameAndTableName(e){return[this.getCatalogName(e.tableName||e),this.getCatalogName(e.schema)]}createSchema(e){const t=this.quoteIdentifier(e);return["DECLARE","USER_FOUND BOOLEAN := FALSE;","BEGIN"," BEGIN","   EXECUTE IMMEDIATE ",this.escape(`CREATE USER ${t} IDENTIFIED BY 12345 DEFAULT TABLESPACE USERS`),";","   EXCEPTION WHEN OTHERS THEN","     IF SQLCODE != -1920 THEN","       RAISE;","     ELSE","       USER_FOUND := TRUE;","     END IF;"," END;"," IF NOT USER_FOUND THEN","    EXECUTE IMMEDIATE ",this.escape(`GRANT "CONNECT" TO ${t}`),";","    EXECUTE IMMEDIATE ",this.escape(`GRANT CREATE TABLE TO ${t}`),";","    EXECUTE IMMEDIATE ",this.escape(`GRANT CREATE VIEW TO ${t}`),";","    EXECUTE IMMEDIATE ",this.escape(`GRANT CREATE ANY TRIGGER TO ${t}`),";","    EXECUTE IMMEDIATE ",this.escape(`GRANT CREATE ANY PROCEDURE TO ${t}`),";","    EXECUTE IMMEDIATE ",this.escape(`GRANT CREATE SEQUENCE TO ${t}`),";","    EXECUTE IMMEDIATE ",this.escape(`GRANT CREATE SYNONYM TO ${t}`),";","    EXECUTE IMMEDIATE ",this.escape(`ALTER USER ${t} QUOTA UNLIMITED ON USERS`),";"," END IF;","END;"].join(" ")}showSchemasQuery(){return"SELECT USERNAME AS \"schema_name\" FROM ALL_USERS WHERE COMMON = ('NO') AND USERNAME != user"}dropSchema(e){return["BEGIN","EXECUTE IMMEDIATE ",this.escape(`DROP USER ${this.quoteTable(e)} CASCADE`),";","EXCEPTION WHEN OTHERS THEN","  IF SQLCODE != -1918 THEN","    RAISE;","  END IF;","END;"].join(" ")}versionQuery(){return"SELECT VERSION_FULL FROM PRODUCT_COMPONENT_VERSION WHERE PRODUCT LIKE 'Oracle%'"}createTableQuery(e,t,r){const n=[],i=Object.create(null),o=[],a=[],s={table:this.quoteTable(e)};for(let e in t){if(!Object.prototype.hasOwnProperty.call(t,e))continue;const r=t[e];if(e=this.quoteIdentifier(e),r.includes("PRIMARY KEY"))if(n.push(e),r.includes("REFERENCES")){const t=r.match(/^(.+) (REFERENCES.*)$/);o.push(`${e} ${t[1].replace(/PRIMARY KEY/,"")}`),i[e]=t[2]}else o.push(`${e} ${r.replace(/PRIMARY KEY/,"").trim()}`);else if(r.includes("REFERENCES")){const t=r.match(/^(.+) (REFERENCES.*)$/);o.push(`${e} ${t[1]}`),i[e]=t[2]}else o.push(`${e} ${r}`)}s.attributes=o.join(", ");const c=n.map((e=>this.quoteIdentifier(e))).join(", ");c.length>0&&(s.attributes+=`,PRIMARY KEY (${c})`);for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e].indexOf("ON DELETE NO ACTION")>-1&&(i[e]=i[e].replace("ON DELETE NO ACTION","")),s.attributes+=`,FOREIGN KEY (${this.quoteIdentifier(e)}) ${i[e]}`);if(a.length>0&&(s.attributes+=`, ${a.join(", ")}`),r&&r.indexes&&r.indexes.length>0){const e=[];r.indexes.forEach(((t,n)=>{if("unique"in t&&(!0===t.unique||t.unique.length>0&&!1!==t.unique)){const i=t.fields.map((e=>"string"==typeof e?e:e.attribute));let o=!0;if(r.uniqueKeys){const a=Object.keys(r.uniqueKeys);for(let e=0;e<a.length;e++){const t=r.uniqueKeys[a[e]];if(t.fields.length===i.length)for(let e=0;e<t.fields.length;e++){const r=t.fields[e];if(!d.includes(i,r)){o=!0;break}o=!1}}if(o){const o="name"in t?t.name:"",a={name:o,fields:i};"uniqueKeys"in r||(r.uniqueKeys={}),r.uniqueKeys[o]=a,e.push(n)}else e.push(n)}}})),e.forEach((e=>{r.indexes.splice(e,1)}))}r&&r.uniqueKeys&&d.each(r.uniqueKeys,((e,i)=>{let o=!1;if(n.forEach((t=>{t=t.replace(/"/g,""),d.includes(e.fields,t)||(o=!0)})),e.fields.forEach((e=>{let r="";if(r=d.isString(e)?e.replace(/[.,"\s]/g,""):e.attribute.replace(/[.,"\s]/g,""),r in t&&t[r].toUpperCase().indexOf("UNIQUE")>-1&&o){const e=t[r].replace("UNIQUE","");s.attributes=s.attributes.replace(t[r],e)}})),o){const t=r.uniqueKeys[e.name];delete r.uniqueKeys[e.name],i=i.replace(/[.,\s]/g,""),e.name=i,r.uniqueKeys[i]=t,0===i.length?s.attributes+=`,UNIQUE (${e.fields.map((e=>this.quoteIdentifier(e))).join(", ")})`:s.attributes+=`, CONSTRAINT ${this.quoteIdentifier(i)} UNIQUE (${e.fields.map((e=>this.quoteIdentifier(e))).join(", ")})`}}));const l=u.joinSQLFragments(["CREATE TABLE",s.table,`(${s.attributes})`]);return u.joinSQLFragments(["BEGIN","EXECUTE IMMEDIATE",`${this.escape(l)};`,"EXCEPTION WHEN OTHERS THEN","IF SQLCODE != -955 THEN","RAISE;","END IF;","END;"])}tableExistsQuery(e){const[t,r]=this.getSchemaNameAndTableName(e);return`SELECT TABLE_NAME FROM ALL_TABLES WHERE TABLE_NAME = ${this.escape(t)} AND OWNER = ${e.schema?this.escape(r):"USER"}`}describeTableQuery(e,t){const r=this.getCatalogName(e.tableName||e);return["SELECT atc.COLUMN_NAME, atc.DATA_TYPE, atc.DATA_LENGTH, atc.CHAR_LENGTH, atc.DEFAULT_LENGTH, atc.NULLABLE, ucc.constraint_type ","FROM all_tab_columns atc ","LEFT OUTER JOIN ","(SELECT acc.column_name, acc.table_name, ac.constraint_type FROM all_cons_columns acc INNER JOIN all_constraints ac ON acc.constraint_name = ac.constraint_name) ucc ","ON (atc.table_name = ucc.table_name AND atc.COLUMN_NAME = ucc.COLUMN_NAME) ",(t=this.getCatalogName(t))?`WHERE (atc.OWNER = ${this.escape(t)}) `:"WHERE atc.OWNER = USER ",`AND (atc.TABLE_NAME = ${this.escape(r)})`,"ORDER BY atc.COLUMN_NAME, CONSTRAINT_TYPE DESC"].join("")}renameTableQuery(e,t){return u.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"RENAME TO",this.quoteTable(t)])}showConstraintsQuery(e){const t=this.getCatalogName(e.tableName||e);return`SELECT CONSTRAINT_NAME constraint_name FROM user_cons_columns WHERE table_name = ${this.escape(t)}`}showTablesQuery(){return"SELECT owner as table_schema, table_name, 0 as lvl FROM all_tables where OWNER IN(SELECT USERNAME AS \"schema_name\" FROM ALL_USERS WHERE ORACLE_MAINTAINED = 'N')"}dropTableQuery(e){return u.joinSQLFragments(["BEGIN ","EXECUTE IMMEDIATE 'DROP TABLE",this.quoteTable(e),"CASCADE CONSTRAINTS PURGE';","EXCEPTION WHEN OTHERS THEN"," IF SQLCODE != -942 THEN","   RAISE;"," END IF;","END;"])}addIndexQuery(e,t,r,n){return"string"!=typeof e&&t.name&&(t.name=`${e.schema}.${t.name}`),super.addIndexQuery(e,t,r,n)}addConstraintQuery(e,t){(t=t||{}).onUpdate&&delete t.onUpdate,t.onDelete&&"NO ACTION"===t.onDelete.toUpperCase()&&delete t.onDelete;const r=this.getConstraintSnippet(e,t);return`ALTER TABLE ${e=this.quoteTable(e)} ADD ${r};`}addColumnQuery(e,t,r){r.field=t;const n=u.joinSQLFragments([this.quoteIdentifier(t),this.attributeToSQL(r,{attributeName:t,context:"addColumn"})]);return u.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"ADD",n])}removeColumnQuery(e,t){return u.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"DROP COLUMN",this.quoteIdentifier(t),";"])}_alterForeignKeyConstraint(e,t,r){const[n,i]=this.getSchemaNameAndTableName(t),o=this.escape(this.getCatalogName(r)),a=["SELECT constraint_name INTO cons_name","FROM (","  SELECT DISTINCT cc.owner, cc.table_name, cc.constraint_name, cc.column_name AS cons_columns","  FROM all_cons_columns cc, all_constraints c","  WHERE cc.owner = c.owner","  AND cc.table_name = c.table_name","  AND cc.constraint_name = c.constraint_name","  AND c.constraint_type = 'R'","  GROUP BY cc.owner, cc.table_name, cc.constraint_name, cc.column_name",")","WHERE owner =",t.schema?this.escape(this.getCatalogName(i)):"USER","AND table_name =",this.escape(this.getCatalogName(n)),"AND cons_columns =",o,";"].join(" "),s=u.joinSQLFragments([`ALTER TABLE ${this.quoteIdentifier(n)}`,"ADD FOREIGN KEY",`(${this.quoteIdentifier(r)})`,e.replace(/.+?(?=REFERENCES)/,"")]);return["BEGIN",a,"EXCEPTION","WHEN NO_DATA_FOUND THEN"," CONS_NAME := NULL;","END;","IF CONS_NAME IS NOT NULL THEN",` EXECUTE IMMEDIATE 'ALTER TABLE ${this.quoteTable(t)} DROP CONSTRAINT "'||CONS_NAME||'"';`,"END IF;",`EXECUTE IMMEDIATE ${this.escape(s)};`].join(" ")}_modifyQuery(e,t,r){const n=u.joinSQLFragments(["ALTER TABLE",this.quoteTable(t),"MODIFY",this.quoteIdentifier(r),e]),i=n.replace("NOT NULL","").replace("NULL","");return["BEGIN",`EXECUTE IMMEDIATE ${this.escape(n)};`,"EXCEPTION","WHEN OTHERS THEN"," IF SQLCODE = -1442 OR SQLCODE = -1451 THEN",`   EXECUTE IMMEDIATE ${this.escape(i)};`," ELSE","   RAISE;"," END IF;","END;"].join(" ")}changeColumnQuery(e,t){const r=["DECLARE","CONS_NAME VARCHAR2(200);","BEGIN"];for(const n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;const i=t[n];i.match(/REFERENCES/)?r.push(this._alterForeignKeyConstraint(i,e,n)):r.push(this._modifyQuery(i,e,n))}return r.push("END;"),r.join(" ")}renameColumnQuery(e,t,r){const n=Object.keys(r)[0];return`ALTER TABLE ${this.quoteTable(e)} RENAME COLUMN ${this.quoteIdentifier(t)} TO ${this.quoteIdentifier(n)}`}populateInsertQueryReturnIntoBinds(e,t,r,n,i){const o=this.sequelize.connectionManager.lib,a=Object.create(null),s=this.bindParam([],r);e.forEach(((e,r)=>{e.startsWith('"')&&(e=e.substring(1,e.length-1)),a[e]=Object.assign(t[r]._getBindDef(o),{dir:o.BIND_OUT});const i=`${this.format(void 0,void 0,{context:"INSERT"},s)}`;n.push(i)})),i.outBindAttributes=a}upsertQuery(e,t,r,n,i,o){const a=i.rawAttributes,s=this.updateQuery(e,r,n,o,a);o.bind=s.bind;const c=this.insertQuery(e,t,a,o),u={query:["DECLARE ","BEGIN ",s.query?[s.query,"; "," IF ( SQL%ROWCOUNT = 0 ) THEN ",c.query," :isUpdate := 0; ","ELSE "," :isUpdate := 1; "," END IF; "].join(""):[c.query," :isUpdate := 0; ","EXCEPTION WHEN OTHERS THEN"," IF SQLCODE != -1 THEN","   RAISE;"," END IF;"].join(""),"END;"].join("")};return!1!==o.bindParam&&(u.bind=s.bind||c.bind),u}bulkInsertQuery(e,t,r,n){(r=r||{}).executeMany=!0,n=n||{};const i=[],o={},a={},s={},c=this.sequelize.connectionManager.lib;for(const e of t)d.forOwn(e,((e,t)=>{o[t]=n[t]&&!0===n[t].autoIncrement&&null===e}));let l;for(const e of t){const t=[],a=void 0===r.bindParam?this.bindParam(t):r.bindParam,s=Object.keys(o).map((t=>{if(!0===o[t]){if(null!==e[t])throw Error("For an auto-increment column either all row must be null or non-null, a mix of null and non-null is not allowed!");return"DEFAULT"}return this.format(e[t],n[t],{context:"INSERT"},a)}));l||(l=s),i.push(t)}const p=[],h=[],f=[];for(const e of Object.keys(o)){if(n[e]){const t=n[e].type._getBindDef(c);o[e]?(t.dir=c.BIND_OUT,s[e]=t,p.push(this.quoteIdentifier(e)),h.push(`:${i[0].length+p.length}`)):(t.dir=c.BIND_IN,a[e]=t)}f.push(this.quoteIdentifier(e))}let m=u.joinSQLFragments(["INSERT","INTO",this.quoteTable(e),`(${f.join(",")})`,"VALUES",`(${l})`]);p.length>0&&(r.outBindAttributes=s,m=u.joinSQLFragments([m,"RETURNING",`${p.join(",")}`,"INTO",`${h}`]));const g={query:m};return g.bind=i,r.inbindAttributes=a,g}truncateTableQuery(e){return`TRUNCATE TABLE ${this.quoteTable(e)}`}deleteQuery(e,t,r,n){r=r||{};const i=e;let o;if(t=this.getWhereConditions(t,null,n,r),r.limit){const e=t?` AND ${t}`:"";o=`DELETE FROM ${this.quoteTable(i)} WHERE rowid IN (SELECT rowid FROM ${this.quoteTable(i)} WHERE rownum <= ${this.escape(r.limit)}${e})`}else{const e=t?` WHERE ${t}`:"";o=`DELETE FROM ${this.quoteTable(i)}${e}`}return o}showIndexesQuery(e){const[t,r]=this.getSchemaNameAndTableName(e);return["SELECT i.index_name,i.table_name, i.column_name, u.uniqueness, i.descend, c.constraint_type ","FROM all_ind_columns i ","INNER JOIN all_indexes u ","ON (u.table_name = i.table_name AND u.index_name = i.index_name) ","LEFT OUTER JOIN all_constraints c ","ON (c.table_name = i.table_name AND c.index_name = i.index_name) ",`WHERE i.table_name = ${this.escape(t)}`," AND u.table_owner = ",r?this.escape(r):"USER"," ORDER BY index_name, column_position"].join("")}removeIndexQuery(e,t){let r=t;return"string"!=typeof r&&(r=u.underscore(`${e}_${t.join("_")}`)),`DROP INDEX ${this.quoteIdentifier(r)}`}attributeToSQL(e,t){let r;if(d.isPlainObject(e)||(e={type:e}),e.onUpdate="",e.references&&e.Model&&e.Model.tableName===e.references.model&&(this.sequelize.log("Oracle does not support self referencial constraints, we will remove it but we recommend restructuring your query"),e.onDelete=""),r=e.type.toSql?e.type.toSql():"",e.type instanceof l.JSON)return r+=` CHECK (${this.quoteIdentifier(t.attributeName)} IS JSON)`,r;if(u.defaultValueSchemable(e.defaultValue)&&(r+=` DEFAULT ${this.escape(e.defaultValue)}`),!1===e.allowNull&&(r+=" NOT NULL"),e.type instanceof l.ENUM)return e.type.values&&!e.values&&(e.values=e.type.values),r+=` CHECK (${this.quoteIdentifier(t.attributeName)} IN(${d.map(e.values,(e=>this.escape(e))).join(", ")}))`,r;if(e.type instanceof l.BOOLEAN)return r+=` CHECK (${this.quoteIdentifier(t.attributeName)} IN('1', '0'))`,r;if(e.autoIncrement)r=" NUMBER(*,0) GENERATED BY DEFAULT ON NULL AS IDENTITY";else if(e.type&&e.type.key===l.DOUBLE.key)r=e.type.toSql();else if(e.type){let n="";e.type._unsigned&&(e.type._unsigned=!1,n+=` check(${this.quoteIdentifier(t.attributeName)} >= 0)`),r=e.type.toString(),e.type&&"TEXT"!==e.type&&!0!==e.type._binary&&u.defaultValueSchemable(e.defaultValue)&&(r+=` DEFAULT ${this.escape(e.defaultValue)}`),e.autoIncrement||(!1===e.allowNull?r+=" NOT NULL":e.primaryKey||u.defaultValueSchemable(e.defaultValue)||(r+=" NULL")),r+=n}else r="";return!0!==e.unique||e.primaryKey||(r+=" UNIQUE"),e.primaryKey&&(r+=" PRIMARY KEY"),t&&t.withoutForeignKeyConstraints||!e.references||(r+=` REFERENCES ${this.quoteTable(e.references.model)}`,e.references.key?r+=` (${this.quoteIdentifier(e.references.key)})`:r+=` (${this.quoteIdentifier("id")})`,e.onDelete&&"NO ACTION"!==e.onDelete.toUpperCase()&&(r+=` ON DELETE ${e.onDelete.toUpperCase()}`)),r}attributesToSQL(e,t){const r={};for(const n in e){const i=e[n],o=i.field||n;r[o]=this.attributeToSQL(i,c({attributeName:o},t))}return r}createTrigger(){E("createTrigger")}dropTrigger(){E("dropTrigger")}renameTrigger(){E("renameTrigger")}createFunction(){E("createFunction")}dropFunction(){E("dropFunction")}renameFunction(){E("renameFunction")}getConstraintsOnColumn(e,t){const[r,n]=this.getSchemaNameAndTableName(e);return t=this.getCatalogName(t),["SELECT CONSTRAINT_NAME FROM user_cons_columns WHERE TABLE_NAME = ",this.escape(r)," and OWNER = ",e.schema?this.escape(n):"USER"," and COLUMN_NAME = ",this.escape(t)," AND POSITION IS NOT NULL ORDER BY POSITION"].join("")}getForeignKeysQuery(e){const[t,r]=this.getSchemaNameAndTableName(e);return['SELECT DISTINCT  a.table_name "tableName", a.constraint_name "constraintName", a.owner "owner",  a.column_name "columnName",',' b.table_name "referencedTableName", b.column_name "referencedColumnName"'," FROM all_cons_columns a"," JOIN all_constraints c ON a.owner = c.owner AND a.constraint_name = c.constraint_name"," JOIN all_cons_columns b ON c.owner = b.owner AND c.r_constraint_name = b.constraint_name"," WHERE c.constraint_type  = 'R'"," AND a.table_name = ",this.escape(t)," AND a.owner = ",e.schema?this.escape(r):"USER"," ORDER BY a.table_name, a.constraint_name"].join("")}dropForeignKeyQuery(e,t){return this.dropConstraintQuery(e,t)}getPrimaryKeyConstraintQuery(e){const[t,r]=this.getSchemaNameAndTableName(e);return["SELECT cols.column_name, atc.identity_column ","FROM all_constraints cons, all_cons_columns cols ","INNER JOIN all_tab_columns atc ON(atc.table_name = cols.table_name AND atc.COLUMN_NAME = cols.COLUMN_NAME )","WHERE cols.table_name = ",this.escape(t),"AND cols.owner = ",e.schema?this.escape(r):"USER ","AND cons.constraint_type = 'P' ","AND cons.constraint_name = cols.constraint_name ","AND cons.owner = cols.owner ","ORDER BY cols.table_name, cols.position"].join("")}dropConstraintQuery(e,t){return`ALTER TABLE ${this.quoteTable(e)} DROP CONSTRAINT ${t}`}setIsolationLevelQuery(e,t){if(!t.parent)switch(e){case f.ISOLATION_LEVELS.READ_UNCOMMITTED:case f.ISOLATION_LEVELS.READ_COMMITTED:return"SET TRANSACTION ISOLATION LEVEL READ COMMITTED;";case f.ISOLATION_LEVELS.REPEATABLE_READ:return"SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;";default:throw new Error(`isolation level "${e}" is not supported`)}}getAliasToken(){return""}startTransactionQuery(e){return e.parent?`SAVEPOINT ${this.quoteIdentifier(e.name)}`:"BEGIN TRANSACTION"}commitTransactionQuery(e){if(!e.parent)return"COMMIT TRANSACTION"}rollbackTransactionQuery(e){return e.parent?`ROLLBACK TO SAVEPOINT ${this.quoteIdentifier(e.name)}`:"ROLLBACK TRANSACTION"}handleSequelizeMethod(e,t,r,n,i){let o;if(e instanceof u.Json){if(e.conditions)return this.parseConditionObject(e.conditions).map((e=>`${this.jsonPathExtractionQuery(e.path[0],d.tail(e.path))} = '${e.value}'`)).join(" AND ");if(e.path){if(this._checkValidJsonStatement(e.path))o=e.path;else{const t=d.toPath(e.path),r=t.shift();o=this.jsonPathExtractionQuery(r,t)}return e.value&&(o+=h.format(" = %s",this.escape(e.value))),o}}if(e instanceof u.Cast&&e.val instanceof u.SequelizeMethod){if(o=this.handleSequelizeMethod(e.val,t,r,n,i),"boolean"===e.type)return o=`(CASE WHEN ${o}='true' THEN 1 ELSE 0 END)`,`CAST(${o} AS NUMBER)`;if("timestamptz"===e.type&&/json_value\(/.test(o))return o=o.slice(0,-1),`${o} RETURNING TIMESTAMP WITH TIME ZONE)`}return super.handleSequelizeMethod(e,t,r,n,i)}_checkValidJsonStatement(e){if("string"!=typeof e)return!1;let t=0,r=0,n=0,i=!1,o=!1;for(;t<e.length;){const a=e.substr(t),s=g.exec(a);if(s){t+=s[0].indexOf("("),i=!0;continue}const c=y.exec(a);if(c){t+=c[0].length,i=!0;continue}const u=v.exec(a);if(!u)break;{const e=u[1];if("("===e)r++;else if(")"===e)n++;else if(";"===e){o=!0;break}t+=u[0].length}}if(i&&(o||r!==n))throw new Error(`Invalid json statement: ${e}`);return i}jsonPathExtractionQuery(e,t){let r=d.toPath(t);const n=this.isIdentifierQuoted(e)?e:this.quoteIdentifier(e);return r=r.map((e=>/\D/.test(e)?u.addTicks(e,'"'):e)),`json_value(${n},${this.escape(["$"].concat(r).join(".").replace(/\.(\d+)(?:(?=\.)|$)/g,((e,t)=>`[${t}]`)))})`}addLimitAndOffset(e,t){let r="";const n=e.offset||0,i=e.hasIncludeWhere||e.hasIncludeRequired||e.hasMultiAssociation;let o={};return e.order&&(o=this.getQueryOrders(e,t,i)),(e.limit||e.offset)&&(o.mainQueryOrder&&o.mainQueryOrder.length&&(!i||o.subQueryOrder&&o.subQueryOrder.length)||(r+=` ORDER BY ${this.quoteTable(e.tableAs||t.name)}.${this.quoteIdentifier(t.primaryKeyField)}`),(e.offset||e.limit)&&(r+=` OFFSET ${this.escape(n)} ROWS`),e.limit&&(r+=` FETCH NEXT ${this.escape(e.limit)} ROWS ONLY`)),r}booleanValue(e){return e?1:0}quoteIdentifier(e,t=!1){const r=t,n=!1!==this.options.quoteIdentifiers,i=u.removeTicks(e,'"');return!0!==r&&!1===n&&/^(([\w][\w\d_]*))$/g.test(i)&&!m.includes(i.toUpperCase())?i:u.addTicks(i,'"')}bindParam(e,t=0){return r=>(e.push(r),`:${e.length+t}`)}authTestQuery(){return"SELECT 1+1 AS result FROM DUAL"}}function E(e){throw new Error(`The method "${e}" is not defined! Please add it to your sql dialect.`)}},8118:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;((e,t)=>{for(var r in(e=>{n(e,"__esModule",{value:!0})})(e),t)n(e,r,{get:t[r],enumerable:!0})})(t,{OracleQueryInterface:()=>p});const{QueryInterface:c}=r(9646),u=r(9209),l=r(7825);class p extends c{async upsert(e,t,r,n,c){const p=(c=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({},c)).model,d=Object.values(p.primaryKeys).map((e=>e.field)),h=Object.values(p.uniqueKeys).filter((e=>e.fields.length>0)).map((e=>e.fields)),f=Object.values(p._indexes).filter((e=>e.unique&&e.fields.length>0)).map((e=>e.fields));c.type=u.UPSERT,c.updateOnDuplicate=Object.keys(r),c.upsertKeys=[];for(const e of c.updateOnDuplicate){const t=h.find((t=>t.includes(e)));if(t){c.upsertKeys=t;break}const r=f.find((t=>t.includes(e)));if(r){c.upsertKeys=r;break}}(0===c.upsertKeys.length||l.intersection(c.updateOnDuplicate,d).length)&&(c.upsertKeys=d),c.upsertKeys=l.uniq(c.upsertKeys);let m=!1;d.forEach((e=>{null===n[e]&&(m=!0)})),!0===m&&(n=c.upsertKeys.reduce(((e,r)=>(e[r]=t[r],e)),{}));const g=this.queryGenerator.upsertQuery(e,t,r,n,p,c);return g.bind&&(c.bind=void 0),await this.sequelize.query(g,c)}}},7188:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e};((e,t)=>{for(var r in(e=>{n(e,"__esModule",{value:!0})})(e),t)n(e,r,{get:t[r],enumerable:!0})})(t,{OracleQuery:()=>v});const p=r(6524),d=r(6797),h=r(2861)("oracle"),f=r(7825),m=r(3588),{logger:g}=r(5275),y=g.debugContext("sql:oracle");class v extends p{constructor(e,t,r){super(e,t,r),this.options=f.extend({logging:console.log,plain:!1,raw:!1},r||{}),this.checkLoggingOption(),this.outFormat=r.outFormat||this.sequelize.connectionManager.lib.OBJECT}getInsertIdField(){return"id"}getExecOptions(){const e={outFormat:this.outFormat,autoCommit:this.autoCommit},t=this.sequelize.connectionManager.lib;if(this.model&&this.isSelectQuery()){const r={},n=Object.keys(this.model.tableAttributes);for(const e of n){const n=this.model.tableAttributes[e];"DECIMAL"===n.type.key&&(r[e]={type:t.STRING}),"BIGINT"===n.type.key&&(r[e]={type:t.STRING})}r&&(e.fetchInfo=r)}return e}_convertBindAttributes(e,t){if(this.model&&this.options[e]){const a=Object.keys(this.model.tableAttributes);for(const s of a)if("BIGINT"===this.model.tableAttributes[s].type.key){const a=this.options[e][s];a&&(this.options[e][s]=(r=l({},a),n={type:t.STRING,maxSize:1e7},i(r,o(n))))}}var r,n}async run(e,t){const r=this.sequelize.connectionManager.lib,n=this._logQuery(e,y,t),i=[],o=[],a=[];if(e.match(/END;$/)?this.sql=e:this.sql=e.replace(/; *$/,""),this.options.outBindAttributes&&(Array.isArray(t)||f.isPlainObject(t))&&(this._convertBindAttributes("outBindAttributes",r),i.push(...Object.values(this.options.outBindAttributes)),this.isUpsertQuery()&&i.push({dir:r.BIND_OUT})),this.bindParameters=i,(Array.isArray(t)||f.isPlainObject(t))&&(this.options.executeMany?(this._convertBindAttributes("inbindAttributes",r),a.push(...Object.values(this.options.inbindAttributes)),a.push(...i),this.bindParameters=t):this.isRawQuery()?this.bindParameters=t:(Object.values(t).forEach((e=>{o.push(e)})),o.push(...i),Object.assign(this.bindParameters,o))),this.sql.startsWith("BEGIN TRANSACTION"))return this.autocommit=!1,Promise.resolve();if(this.sql.startsWith("SET AUTOCOMMIT ON"))return this.autocommit=!0,Promise.resolve();if(this.sql.startsWith("SET AUTOCOMMIT OFF"))return this.autocommit=!1,Promise.resolve();if(this.sql.startsWith("DECLARE x NUMBER")){void 0===this.autoCommit&&(this.connection.uuid?this.autoCommit=!1:this.autoCommit=!0);try{return await this.connection.execute(this.sql,this.bindParameters,{autoCommit:this.autoCommit}),Object.create(null)}catch(e){throw this.formatError(e)}finally{n()}}if(this.sql.startsWith("BEGIN")){void 0===this.autoCommit&&(this.connection.uuid?this.autoCommit=!1:this.autoCommit=!0);try{const e=await this.connection.execute(this.sql,this.bindParameters,{outFormat:this.outFormat,autoCommit:this.autoCommit});return Array.isArray(e.outBinds)?e.outBinds:[e.outBinds]}catch(e){throw this.formatError(e)}finally{n()}}if(this.sql.startsWith("COMMIT TRANSACTION"))try{return await this.connection.commit(),Object.create(null)}catch(e){throw this.formatError(e)}finally{n()}if(this.sql.startsWith("ROLLBACK TRANSACTION"))try{return await this.connection.rollback(),Object.create(null)}catch(e){throw this.formatError(e)}finally{n()}if(this.sql.startsWith("SET TRANSACTION"))try{return await this.connection.execute(this.sql,[],{autoCommit:!1}),Object.create(null)}catch(e){throw this.formatError(e)}finally{n()}void 0===this.autoCommit&&(this.connection.uuid?this.autoCommit=!1:this.autoCommit=!0),"inputParameters"in this.options&&null!==this.options.inputParameters&&Object.assign(this.bindParameters,this.options.inputParameters);const s=this.getExecOptions();this.options.executeMany&&a.length>0&&(s.bindDefs=a);const c=this.options.executeMany?this.connection.executeMany(this.sql,this.bindParameters,s):this.connection.execute(this.sql,this.bindParameters,s);try{const e=await c;return this.formatResults(e)}catch(e){throw this.formatError(e)}finally{n()}}static formatBindParameters(e,t,r){return[e=p.formatBindParameters(e,t,r,((e,t,r)=>{if(void 0!==r[t])return`:${t}`}))[0],t]}_getAttributeMap(e,t){e=Object.assign(e,f.reduce(t,((e,t,r)=>(e[this.sequelize.queryInterface.queryGenerator.getCatalogName(r)]=r,e)),{}))}_processRows(e){let t=e,r={};if(!1===this.sequelize.options.quoteIdentifiers){if(r=f.reduce(this.options.attributes,((e,t)=>("object"==typeof t&&(t=t[1]),e[this.sequelize.queryInterface.queryGenerator.getCatalogName(t)]=t,e)),{}),this.model&&this._getAttributeMap(r,this.model.rawAttributes),this.options.aliasesMapping){const t=Object.fromEntries(this.options.aliasesMapping);e=e.map((e=>f.toPairs(e).reduce(((e,[r,n])=>{const i=Object.values(t).find((e=>this.sequelize.queryInterface.queryGenerator.getCatalogName(e)===r));return i&&(e[i||r]=n),e}),{})))}t=e.map((e=>f.mapKeys(e,((e,t)=>{const n=r[t];return"string"==typeof n&&n!==t?n:t}))))}return this.model&&(t=t.map((e=>f.mapValues(e,((e,t)=>{if(this.model.rawAttributes[t]&&this.model.rawAttributes[t].type){let r=this.model.rawAttributes[t].type.toLocaleString();"JSON"===this.model.rawAttributes[t].type.key&&(e=JSON.parse(e)),r.indexOf("(")>-1&&"BOOLEAN"!==this.model.rawAttributes[t].type.key&&(r=r.substr(0,r.indexOf("(")));const n=h.get(r);null!==e&!!n&&(e=n(e))}return e}))))),t}formatResults(e){let t=this.instance;if(this.isInsertQuery(e)){let r;if(e.outBinds){const n=Object.keys(this.options.outBindAttributes);r=e.outBinds,this.instance&&(r=[r]);const i=r.map((e=>{const t={};return e.forEach(((e,r)=>{t[n[r]]=e[0]})),t}));r=i,this.instance||(t=i)}return this.handleInsertQuery(r),[t,e.rowsAffected]}if(this.isShowTablesQuery())t=this.handleShowTablesQuery(e.rows);else if(this.isDescribeQuery()){t={};const r=Object.keys(this.sequelize.models),n={};this.sequelize.models&&r.length>0&&this._getAttributeMap(n,this.sequelize.models[r[0]].rawAttributes),e.rows.forEach((e=>{if(e.Default&&(e.Default=e.Default.replace("('","").replace("')","").replace(/'/g,"")),!(n[e.COLUMN_NAME]in t)){let r=n[e.COLUMN_NAME];r||(r=e.COLUMN_NAME),t[r]={type:e.DATA_TYPE.toUpperCase(),allowNull:"N"!==e.NULLABLE,defaultValue:void 0,primaryKey:"P"===e.CONSTRAINT_TYPE}}}))}else if(this.isShowIndexesQuery())t=this.handleShowIndexesQuery(e.rows);else{if(this.isSelectQuery()){const t=e.rows,r=this._processRows(t);return this.handleSelectQuery(r)}if(this.isCallQuery())t=e.rows[0];else if(this.isUpdateQuery())t=[t,e.rowsAffected];else if(this.isBulkUpdateQuery())t=e.rowsAffected;else if(this.isBulkDeleteQuery())t=e.rowsAffected;else if(this.isVersionQuery()){const r=e.rows[0].VERSION_FULL;if(r){const e=r.split(".");t=`${e[0]}.${e[1]}.${e[2]}`}else t="0.0.0"}else if(this.isForeignKeysQuery())t=e.rows;else if(this.isUpsertQuery()){e=e.outBinds;const r=Object.keys(this.options.outBindAttributes),n={};for(const t in r)n[r[t]]=e[t];n.isUpdate=e[e.length-1],t=[{isNewRecord:(e=n).isUpdate,value:e},0==e.isUpdate]}else if(this.isShowConstraintsQuery())t=this.handleShowConstraintsQuery(e);else if(this.isRawQuery())return e&&e.rows?[e.rows,e.metaData]:[e,e]}return t}handleShowConstraintsQuery(e){return e.rows.map((e=>{const t={};for(const r in e)t[f.camelCase(r)]=e[r].toLowerCase();return t}))}handleShowTablesQuery(e){return e.map((e=>({tableName:e.TABLE_NAME,schema:e.TABLE_SCHEMA})))}formatError(e){let t;if(t=e.message.match(/unique constraint ([\s\S]*) violated/),t&&t.length>1){t[1]=t[1].replace("(","").replace(")","").split(".")[1];const r=[];let n=[],i="Validation error",o=null;if(this.model){const e=Object.keys(this.model.uniqueKeys).find((e=>e.toUpperCase()===t[1].toUpperCase()||e.toUpperCase()===`"${t[1].toUpperCase()}"`));e&&(o=this.model.uniqueKeys[e],n=o.fields),o&&o.msg&&(i=o.msg),n.forEach((e=>{r.push(new d.ValidationErrorItem(this.getUniqueConstraintErrorMessage(e),"unique violation",e,null))}))}return new d.UniqueConstraintError({message:i,errors:r,err:e,fields:n})}return t=e.message.match(/ORA-02291/)||e.message.match(/ORA-02292/),t&&t.length>0?new d.ForeignKeyConstraintError({fields:null,index:t[1],parent:e}):(t=e.message.match(/ORA-02443/),t&&t.length>0?new d.UnknownConstraintError(t[1]):new d.DatabaseError(e))}isShowIndexesQuery(){return this.sql.indexOf("SELECT i.index_name,i.table_name, i.column_name, u.uniqueness")>-1}isSelectCountQuery(){return this.sql.toUpperCase().indexOf("SELECT COUNT(")>-1}handleShowIndexesQuery(e){const t=[];e.forEach((e=>{t[e.INDEX_NAME]||(t[e.INDEX_NAME]={unique:"UNIQUE"===e.UNIQUENESS,primary:"P"===e.CONSTRAINT_TYPE,name:e.INDEX_NAME.toLowerCase(),tableName:e.TABLE_NAME.toLowerCase(),type:void 0},t[e.INDEX_NAME].fields=[]),t[e.INDEX_NAME].fields.push({attribute:e.COLUMN_NAME,length:void 0,order:e.DESCEND,collate:void 0})}));const r=[],n=Object.keys(t);for(const e of n){const n={};n.fields=t[e].fields,t[e].name.match(/sys_c[0-9]*/)&&(t[e].name=m.nameIndex(n,t[e].tableName).name),r.push(t[e])}return r}handleInsertQuery(e,t){if(this.instance&&e.length>0){"pkReturnVal"in e[0]&&(e[0][this.model.primaryKeyAttribute]=e[0].pkReturnVal,delete e[0].pkReturnVal);const r=this.model.autoIncrementAttribute;let n=null,i=null;Object.prototype.hasOwnProperty.call(this.model.rawAttributes,r)&&void 0!==this.model.rawAttributes[r].field&&(n=this.model.rawAttributes[r].field),i=i||e&&e[0][this.getInsertIdField()],i=i||t&&t[this.getInsertIdField()],i=i||e&&e[0][r],i=i||n&&e&&e[0][n],this.instance[r]=i}}}},2861:e=>{"use strict";const t=new Map;e.exports=e=>(t.has(e)||t.set(e,new Map),{clear(){t.get(e).clear()},refresh(r){for(const n of r.types[e])t.get(e).set(n,r.parse)},get:r=>t.get(e).get(r)})},7311:(e,t,r)=>{"use strict";const n=r(7825),i=r(1740),{logger:o}=r(5275),a=o.debugContext("connection:pg"),s=r(6797),c=r(8064),u=r(2869),l=r(5812),{promisify:p}=r(9023);class d extends i{constructor(e,t){t.config.port=t.config.port||5432,super(e,t);const r=this._loadDialectModule("pg");this.lib=this.sequelize.config.native?r.native:r,this._clearDynamicOIDs(),this._clearTypeParser(),this.refreshTypeParser(u.postgres)}_refreshTypeParser(e){const t=e=>t=>this.lib.types.arrayParser.create(t,e).parse(),r=t=>r=>e.parse(r,{parser:t});if("range"===e.key.toLowerCase()){for(const e in this.nameOidMap){const n=this.nameOidMap[e];if(!n.rangeOid)continue;const i=r(this.getTypeParser(n.oid)),o=t(i);this.oidParserMap.set(n.rangeOid,i),n.arrayRangeOid&&this.oidParserMap.set(n.arrayRangeOid,o)}return}const n=t=>e.parse(t),i=t(n);if("enum"===e.key.toLowerCase())return this.enumOids.oids.forEach((e=>{this.oidParserMap.set(e,n)})),void this.enumOids.arrayOids.forEach((e=>{this.oidParserMap.set(e,i)}));e.types.postgres.forEach((e=>{this.nameOidMap[e]&&(this.oidParserMap.set(this.nameOidMap[e].oid,n),this.nameOidMap[e].arrayOid&&this.oidParserMap.set(this.nameOidMap[e].arrayOid,i))}))}_clearTypeParser(){this.oidParserMap=new Map}getTypeParser(e,...t){return this.oidParserMap.get(e)?this.oidParserMap.get(e):this.lib.types.getTypeParser(e,...t)}async connect(e){e.user=e.username;const t=n.pick(e,["user","password","host","database","port"]);t.types={getTypeParser:d.prototype.getTypeParser.bind(this)},e.dialectOptions&&n.merge(t,n.pick(e.dialectOptions,["application_name","ssl","client_encoding","binary","keepAlive","statement_timeout","query_timeout","connectionTimeoutMillis","idle_in_transaction_session_timeout","lock_timeout","options","stream"]));const r=await new Promise(((e,r)=>{let n=!1;const i=new this.lib.Client(t),o=e=>{switch(e.parameterName){case"server_version":if(0===this.sequelize.options.databaseVersion){const t=c.coerce(e.parameterValue).version;this.sequelize.options.databaseVersion=c.valid(t)?t:this.dialect.defaultVersion}break;case"standard_conforming_strings":i.standard_conforming_strings=e.parameterValue}},u=()=>{a("connection timeout"),n||r(new s.ConnectionTimedOutError(new Error("Connection timed out")))};i.once("end",u),this.sequelize.config.native||i.connection.on("parameterStatus",o),i.connect((t=>{if(n=!0,this.sequelize.config.native||i.connection.removeListener("parameterStatus",o),t)if(t.code)switch(t.code){case"ECONNREFUSED":r(new s.ConnectionRefusedError(t));break;case"ENOTFOUND":r(new s.HostNotFoundError(t));break;case"EHOSTUNREACH":r(new s.HostNotReachableError(t));break;case"EINVAL":r(new s.InvalidConnectionError(t));break;default:r(new s.ConnectionError(t))}else r(new s.ConnectionError(t));else a("connection acquired"),i.removeListener("end",u),e(i)}))}));r.on("error",(e=>{r._invalid=!0,a(`connection error ${e.code||e.message}`),this.pool.destroy(r)}));let i="";return!1!==this.sequelize.options.standardConformingStrings&&"on"!==r.standard_conforming_strings&&(i+="SET standard_conforming_strings=on;"),void 0!==this.sequelize.options.clientMinMessages&&(console.warn('Usage of "options.clientMinMessages" is deprecated and will be removed in v7.'),console.warn('Please use the sequelize option "dialectOptions.clientMinMessages" instead.')),e.dialectOptions&&e.dialectOptions.clientMinMessages&&"ignore"===e.dialectOptions.clientMinMessages.toLowerCase()||!1===this.sequelize.options.clientMinMessages||(i+=`SET client_min_messages TO ${e.dialectOptions&&e.dialectOptions.clientMinMessages||this.sequelize.options.clientMinMessages||"warning"};`),this.sequelize.config.keepDefaultTimezone||(i+=l.tz.zone(this.sequelize.options.timezone)?`SET TIME ZONE '${this.sequelize.options.timezone}';`:`SET TIME ZONE INTERVAL '${this.sequelize.options.timezone}' HOUR TO MINUTE;`),i&&await r.query(i),0===Object.keys(this.nameOidMap).length&&0===this.enumOids.oids.length&&0===this.enumOids.arrayOids.length&&await this._refreshDynamicOIDs(r),r}async disconnect(e){if(!e._ending)return await p((t=>e.end(t)))();a("connection tried to disconnect but was already at ENDING state")}validate(e){return!e._invalid&&!e._ending}async _refreshDynamicOIDs(e){const t=this.sequelize.options.databaseVersion;if(!1===(t&&c.gte(t,"8.3.0")))return;const r=await(e||this.sequelize).query("WITH ranges AS (  SELECT pg_range.rngtypid, pg_type.typname AS rngtypname,         pg_type.typarray AS rngtyparray, pg_range.rngsubtype    FROM pg_range LEFT OUTER JOIN pg_type ON pg_type.oid = pg_range.rngtypid)SELECT pg_type.typname, pg_type.typtype, pg_type.oid, pg_type.typarray,       ranges.rngtypname, ranges.rngtypid, ranges.rngtyparray  FROM pg_type LEFT OUTER JOIN ranges ON pg_type.oid = ranges.rngsubtype WHERE (pg_type.typtype IN('b', 'e'));");let n=Array.isArray(r)?r.pop():r;Array.isArray(n)&&"SET"===n[0].command&&(n=n.pop());const i={},o={oids:[],arrayOids:[]};for(const e of n.rows)"e"!==e.typtype?(i[e.typname]={oid:e.oid},e.typarray&&(i[e.typname].arrayOid=e.typarray),e.rngtypid&&(i[e.typname].rangeOid=e.rngtypid,e.rngtyparray&&(i[e.typname].arrayRangeOid=e.rngtyparray))):(o.oids.push(e.oid),e.typarray&&o.arrayOids.push(e.typarray));this.nameOidMap=i,this.enumOids=o,this.refreshTypeParser(u.postgres)}_clearDynamicOIDs(){this.nameOidMap={},this.enumOids={oids:[],arrayOids:[]}}}e.exports=d,e.exports.ConnectionManager=d,e.exports.default=d},5293:(e,t,r)=>{"use strict";const n=r(7825),i=r(9158);e.exports=e=>{const t=e.ABSTRACT.warn.bind(void 0,"http://www.postgresql.org/docs/9.4/static/datatype.html");function o(e){(e._length||e.options.length||e._unsigned||e._zerofill)&&(t(`PostgresSQL does not support '${e.key}' with LENGTH, UNSIGNED or ZEROFILL. Plain '${e.key}' will be used instead.`),e._length=void 0,e.options.length=void 0,e._unsigned=void 0,e._zerofill=void 0)}e.UUID.types.postgres=["uuid"],e.CIDR.types.postgres=["cidr"],e.INET.types.postgres=["inet"],e.MACADDR.types.postgres=["macaddr"],e.TSVECTOR.types.postgres=["tsvector"],e.JSON.types.postgres=["json"],e.JSONB.types.postgres=["jsonb"],e.TIME.types.postgres=["time"];class a extends e.DATEONLY{_stringify(e,t){return e===1/0?"Infinity":e===-1/0?"-Infinity":super._stringify(e,t)}_sanitize(e,t){if((!t||t&&!t.raw)&&e!==1/0&&e!==-1/0){if("string"==typeof e){const t=e.toLowerCase();if("infinity"===t)return 1/0;if("-infinity"===t)return-1/0}return super._sanitize(e)}return e}static parse(e){return"infinity"===e?1/0:"-infinity"===e?-1/0:e}}e.DATEONLY.types.postgres=["date"];class s extends e.DECIMAL{static parse(e){return e}}e.DECIMAL.types.postgres=["numeric"];class c extends e.STRING{toSql(){return this._binary?"BYTEA":super.toSql()}}e.STRING.types.postgres=["varchar"];class u extends e.TEXT{toSql(){return this._length&&(t("PostgreSQL does not support TEXT with options. Plain `TEXT` will be used instead."),this._length=void 0),"TEXT"}}e.TEXT.types.postgres=["text"];class l extends e.CITEXT{static parse(e){return e}}e.CITEXT.types.postgres=["citext"];class p extends e.CHAR{toSql(){return this._binary?"BYTEA":super.toSql()}}e.CHAR.types.postgres=["char","bpchar"];class d extends e.BOOLEAN{toSql(){return"BOOLEAN"}_sanitize(e){if(null!=e){if(Buffer.isBuffer(e)&&1===e.length&&(e=e[0]),"string"==typeof e)return!!["true","t"].includes(e)||!["false","f"].includes(e)&&e;if("number"==typeof e)return 1===e||0!==e&&e}return e}}d.parse=d.prototype._sanitize,e.BOOLEAN.types.postgres=["bool"];class h extends e.DATE{toSql(){return"TIMESTAMP WITH TIME ZONE"}validate(e){return e===1/0||e===-1/0||super.validate(e)}_stringify(e,t){return e===1/0?"Infinity":e===-1/0?"-Infinity":super._stringify(e,t)}_sanitize(e,t){if((!t||t&&!t.raw)&&!(e instanceof Date)&&e&&e!==1/0&&e!==-1/0){if("string"==typeof e){const t=e.toLowerCase();if("infinity"===t)return 1/0;if("-infinity"===t)return-1/0}return new Date(e)}return e}}e.DATE.types.postgres=["timestamptz"];class f extends e.TINYINT{constructor(e){super(e),o(this)}}e.TINYINT.types.postgres=["int2"];class m extends e.SMALLINT{constructor(e){super(e),o(this)}}e.SMALLINT.types.postgres=["int2"];class g extends e.INTEGER{constructor(e){super(e),o(this)}}g.parse=function(e){return parseInt(e,10)},e.INTEGER.types.postgres=["int4"];class y extends e.BIGINT{constructor(e){super(e),o(this)}}e.BIGINT.types.postgres=["int8"];class v extends e.REAL{constructor(e){super(e),o(this)}}e.REAL.types.postgres=["float4"];class b extends e.DOUBLE{constructor(e){super(e),o(this)}}e.DOUBLE.types.postgres=["float8"];class E extends e.FLOAT{constructor(e,r){super(e,r),this._decimals&&(t("PostgreSQL does not support FLOAT with decimals. Plain `FLOAT` will be used instead."),this._length=void 0,this.options.length=void 0,this._decimals=void 0),this._unsigned&&(t("PostgreSQL does not support FLOAT unsigned. `UNSIGNED` was removed."),this._unsigned=void 0),this._zerofill&&(t("PostgreSQL does not support FLOAT zerofill. `ZEROFILL` was removed."),this._zerofill=void 0)}}delete E.parse;class w extends e.BLOB{toSql(){return this._length&&(t("PostgreSQL does not support BLOB (BYTEA) with options. Plain `BYTEA` will be used instead."),this._length=void 0),"BYTEA"}_hexify(e){return`E'\\\\x${e}'`}}e.BLOB.types.postgres=["bytea"];class A extends e.GEOMETRY{toSql(){let e=this.key;return this.type&&(e+=`(${this.type}`,this.srid&&(e+=`,${this.srid}`),e+=")"),e}static parse(e){const t=Buffer.from(e,"hex");return i.Geometry.parse(t).toGeoJSON({shortCrs:!0})}_stringify(e,t){return`ST_GeomFromGeoJSON(${t.escape(JSON.stringify(e))})`}_bindParam(e,t){return`ST_GeomFromGeoJSON(${t.bindParam(e)})`}}e.GEOMETRY.types.postgres=["geometry"];class x extends e.GEOGRAPHY{toSql(){let e="GEOGRAPHY";return this.type&&(e+=`(${this.type}`,this.srid&&(e+=`,${this.srid}`),e+=")"),e}static parse(e){const t=Buffer.from(e,"hex");return i.Geometry.parse(t).toGeoJSON({shortCrs:!0})}_stringify(e,t){return`ST_GeomFromGeoJSON(${t.escape(JSON.stringify(e))})`}bindParam(e,t){return`ST_GeomFromGeoJSON(${t.bindParam(e)})`}}let S;e.GEOGRAPHY.types.postgres=["geography"];class _ extends e.HSTORE{constructor(){super(),S||(S=r(8148))}_value(e){return S||(S=r(8148)),S.stringify(e)}_stringify(e){return`'${this._value(e)}'`}_bindParam(e,t){return t.bindParam(this._value(e))}static parse(e){return S||(S=r(8148)),S.parse(e)}}_.prototype.escape=!1,e.HSTORE.types.postgres=["hstore"];class k extends e.RANGE{_value(e,t){if(!Array.isArray(e))return this.options.subtype.stringify(e,t);const r=[!0,!1],i=e.map(((e,i)=>(n.isObject(e)&&Object.prototype.hasOwnProperty.call(e,"value")&&(Object.prototype.hasOwnProperty.call(e,"inclusive")&&(r[i]=e.inclusive),e=e.value),null===e||e===-1/0||e===1/0?e:this.options.subtype.stringify?this.options.subtype.stringify(e,t):t.escape(e))));return i.inclusive=r,I.stringify(i)}_stringify(e,t){const r=this._value(e,t);return Array.isArray(e)?`'${r}'`:`'${r}'::${this.toCastType()}`}_bindParam(e,t){const r=this._value(e,t);return Array.isArray(e)?t.bindParam(r):`${t.bindParam(r)}::${this.toCastType()}`}toSql(){return e.RANGE.types.postgres.subtypes[this._subtype.toLowerCase()]}toCastType(){return e.RANGE.types.postgres.castTypes[this._subtype.toLowerCase()]}static parse(e,t={parser:e=>e}){return I.parse(e,t.parser)}}const I=r(8652);k.prototype.escape=!1,e.RANGE.types.postgres={subtypes:{integer:"int4range",decimal:"numrange",date:"tstzrange",dateonly:"daterange",bigint:"int8range"},castTypes:{integer:"int4",decimal:"numeric",date:"timestamptz",dateonly:"date",bigint:"int8"}},e.ARRAY.prototype.escape=!1,e.ARRAY.prototype._value=function(e,t){return e.map((e=>t&&t.bindParam&&this.type&&this.type._value?this.type._value(e,t):this.type&&this.type.stringify&&(e=this.type.stringify(e,t),!1===this.type.escape)?e:t.escape(e)),this)},e.ARRAY.prototype._stringify=function(t,n){let i=`ARRAY[${this._value(t,n).join(",")}]`;if(this.type){const t=r(3588);let o=this.toSql();if(this.type instanceof e.ENUM){const e=n.field.Model.getTableName(),r=void 0!==e.schema,a=r?`${t.addTicks(e.schema,'"')}${e.delimiter}`:"";o=`${t.addTicks(t.generateEnumName(r?e.tableName:e,n.field.field),'"')}[]`,i+=`::${a}${o}`}else i+=`::${o}`}return i},e.ARRAY.prototype._bindParam=function(e,t){return t.bindParam(this._value(e,t))};class T extends e.ENUM{static parse(e){return e}}return e.ENUM.types.postgres=[null],{DECIMAL:s,BLOB:w,STRING:c,CHAR:p,TEXT:u,CITEXT:l,TINYINT:f,SMALLINT:m,INTEGER:g,BIGINT:y,BOOLEAN:d,DATE:h,DATEONLY:a,REAL:v,"DOUBLE PRECISION":b,FLOAT:E,GEOMETRY:A,GEOGRAPHY:x,HSTORE:_,RANGE:k,ENUM:T}}},8148:(e,t,r)=>{"use strict";const n=r(8821)({sanitize:!0});t.stringify=function(e){return null===e?null:n.stringify(e)},t.parse=function(e){return null===e?null:n.parse(e)}},2065:(e,t,r)=>{"use strict";const n=r(7825),i=r(3476),o=r(7311),a=r(9713),s=r(5481),c=r(2869).postgres,{PostgresQueryInterface:u}=r(9283);class l extends i{constructor(e){super(),this.sequelize=e,this.connectionManager=new o(this,e),this.queryGenerator=new s({_dialect:this,sequelize:e}),this.queryInterface=new u(e,this.queryGenerator)}canBackslashEscape(){return!this.sequelize.options.standardConformingStrings}}l.prototype.supports=n.merge(n.cloneDeep(i.prototype.supports),{"DEFAULT VALUES":!0,EXCEPTION:!0,"ON DUPLICATE KEY":!1,"ORDER NULLS":!0,returnValues:{returning:!0},bulkDefault:!0,schemas:!0,lock:!0,lockOf:!0,lockKey:!0,lockOuterJoinFailure:!0,skipLocked:!0,forShare:"FOR SHARE",index:{concurrently:!0,using:2,where:!0,functionBased:!0,operator:!0},inserts:{onConflictDoNothing:" ON CONFLICT DO NOTHING",updateOnDuplicate:" ON CONFLICT DO UPDATE SET",conflictFields:!0,onConflictWhere:!0},NUMERIC:!0,ARRAY:!0,RANGE:!0,GEOMETRY:!0,REGEXP:!0,GEOGRAPHY:!0,JSON:!0,JSONB:!0,HSTORE:!0,TSVECTOR:!0,deferrableConstraints:!0,searchPath:!0,escapeStringConstants:!0}),l.prototype.defaultVersion="9.5.0",l.prototype.Query=a,l.prototype.DataTypes=c,l.prototype.name="postgres",l.prototype.TICK_CHAR='"',l.prototype.TICK_CHAR_LEFT=l.prototype.TICK_CHAR,l.prototype.TICK_CHAR_RIGHT=l.prototype.TICK_CHAR,e.exports=l,e.exports.default=l,e.exports.PostgresDialect=l},5481:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e};const u=r(3588),l=r(9023),p=r(2869),d=r(1848),h=r(8064),f=r(7825),m="all,analyse,analyze,and,any,array,as,asc,asymmetric,authorization,binary,both,case,cast,check,collate,collation,column,concurrently,constraint,create,cross,current_catalog,current_date,current_role,current_schema,current_time,current_timestamp,current_user,default,deferrable,desc,distinct,do,else,end,except,false,fetch,for,foreign,freeze,from,full,grant,group,having,ilike,in,initially,inner,intersect,into,is,isnull,join,lateral,leading,left,like,limit,localtime,localtimestamp,natural,not,notnull,null,offset,on,only,or,order,outer,overlaps,placing,primary,references,returning,right,select,session_user,similar,some,symmetric,table,tablesample,then,to,trailing,true,union,unique,user,using,variadic,verbose,when,where,window,with".split(",");e.exports=class extends d{setSearchPath(e){return`SET search_path to ${e};`}createDatabaseQuery(e,t){return t=c({encoding:null,collate:null},t),`CREATE DATABASE ${this.quoteTable(e)}${t.encoding?` ENCODING = ${this.escape(t.encoding)}`:""}${t.collate?` LC_COLLATE = ${this.escape(t.collate)}`:""}${t.ctype?` LC_CTYPE = ${this.escape(t.ctype)}`:""}${t.template?` TEMPLATE = ${this.escape(t.template)}`:""};`}dropDatabaseQuery(e){return`DROP DATABASE IF EXISTS ${this.quoteTable(e)};`}createSchema(e){const t=f.get(this,"sequelize.options.databaseVersion",0);return t&&h.gte(t,"9.2.0")?`CREATE SCHEMA IF NOT EXISTS ${this.quoteIdentifier(e)};`:`CREATE SCHEMA ${this.quoteIdentifier(e)};`}dropSchema(e){return`DROP SCHEMA IF EXISTS ${this.quoteIdentifier(e)} CASCADE;`}showSchemasQuery(){return"SELECT schema_name FROM information_schema.schemata WHERE schema_name <> 'information_schema' AND schema_name != 'public' AND schema_name !~ E'^pg_';"}versionQuery(){return"SHOW SERVER_VERSION"}createTableQuery(e,t,r){r=c({},r);const n=f.get(this,"sequelize.options.databaseVersion",0),i=[];let o="",a="";const s=this.quoteTable(e);r.comment&&"string"==typeof r.comment&&(o+=`; COMMENT ON TABLE ${s} IS ${this.escape(r.comment)}`);for(const r in t){const n=this.quoteIdentifier(r),o=t[r].indexOf("COMMENT ");-1!==o&&(a+=`; COMMENT ON COLUMN ${s}.${n} IS ${this.escape(t[r].substring(o+8))}`,t[r]=t[r].substring(0,o));const c=this.dataTypeMapping(e,r,t[r]);i.push(`${n} ${c}`)}let u=i.join(", ");r.uniqueKeys&&f.each(r.uniqueKeys,(e=>{e.customIndex&&(u+=`, UNIQUE (${e.fields.map((e=>this.quoteIdentifier(e))).join(", ")})`)}));const l=f.reduce(t,((e,t,r)=>(t.includes("PRIMARY KEY")&&e.push(this.quoteIdentifier(r)),e)),[]).join(",");return l.length>0&&(u+=`, PRIMARY KEY (${l})`),`CREATE TABLE ${0===n||h.gte(n,"9.1.0")?"IF NOT EXISTS ":""}${s} (${u})${o}${a};`}dropTableQuery(e,t){return t=t||{},`DROP TABLE IF EXISTS ${this.quoteTable(e)}${t.cascade?" CASCADE":""};`}showTablesQuery(){const e=this.options.schema||"public";return`SELECT table_name FROM information_schema.tables WHERE table_schema = ${this.escape(e)} AND table_type LIKE '%TABLE' AND table_name != 'spatial_ref_sys';`}tableExistsQuery(e){const t=e.tableName||e,r=e.schema||"public";return`SELECT table_name FROM information_schema.tables WHERE table_schema = ${this.escape(r)} AND table_name = ${this.escape(t)}`}describeTableQuery(e,t){return t=t||this.options.schema||"public",`SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = ${this.escape(e)} AND c.table_schema = ${this.escape(t)}`}_checkValidJsonStatement(e){if("string"!=typeof e)return!1;const t=/^\s*((?:[a-z]+_){0,2}jsonb?(?:_[a-z]+){0,2})\([^)]*\)/i,r=/^\s*(->>?|#>>?|@>|<@|\?[|&]?|\|{2}|#-)/i,n=/^\s*((?:([`"'])(?:(?!\2).|\2{2})*\2)|[\w\d\s]+|[().,;+-])/i;let i=0,o=0,a=0,s=!1,c=!1;for(;i<e.length;){const u=e.substr(i),l=t.exec(u);if(l){i+=l[0].indexOf("("),s=!0;continue}const p=r.exec(u);if(p){i+=p[0].length,s=!0;continue}const d=n.exec(u);if(!d)break;{const e=d[1];if("("===e)o++;else if(")"===e)a++;else if(";"===e){c=!0;break}i+=d[0].length}}if(c|=o!==a,s&&c)throw new Error(`Invalid json statement: ${e}`);return s}handleSequelizeMethod(e,t,r,n,i){if(e instanceof u.Json){if(e.conditions)return this.parseConditionObject(e.conditions).map((e=>`${this.jsonPathExtractionQuery(e.path[0],f.tail(e.path))} = '${e.value}'`)).join(" AND ");if(e.path){let t;if(this._checkValidJsonStatement(e.path))t=e.path;else{const r=f.toPath(e.path),n=r.shift();t=this.jsonPathExtractionQuery(n,r)}return e.value&&(t+=l.format(" = %s",this.escape(e.value))),t}}return super.handleSequelizeMethod.call(this,e,t,r,n,i)}addColumnQuery(e,t,r){const n=this.attributeToSQL(r,{context:"addColumn",table:e,key:t}),i=r.type||r,o=this.dataTypeMapping(e,t,n),a=this.quoteIdentifier(t);let s=`ALTER TABLE ${this.quoteTable(this.extractTableDetails(e))} ADD COLUMN ${a} ${o};`;return i instanceof p.ENUM?s=this.pgEnum(e,t,i)+s:i.type&&i.type instanceof p.ENUM&&(s=this.pgEnum(e,t,i.type)+s),s}removeColumnQuery(e,t){return`ALTER TABLE ${this.quoteTable(this.extractTableDetails(e))} DROP COLUMN ${this.quoteIdentifier(t)};`}changeColumnQuery(e,t){const r=t=>`ALTER TABLE ${this.quoteTable(e)} ALTER COLUMN ${t};`,n=[];for(const i in t){let o=this.dataTypeMapping(e,i,t[i]),a="";o.includes("NOT NULL")?(a+=r(`${this.quoteIdentifier(i)} SET NOT NULL`),o=o.replace("NOT NULL","").trim()):o.includes("REFERENCES")||(a+=r(`${this.quoteIdentifier(i)} DROP NOT NULL`)),o.includes("DEFAULT")?(a+=r(`${this.quoteIdentifier(i)} SET DEFAULT ${o.match(/DEFAULT ([^;]+)/)[1]}`),o=o.replace(/(DEFAULT[^;]+)/,"").trim()):o.includes("REFERENCES")||(a+=r(`${this.quoteIdentifier(i)} DROP DEFAULT`)),t[i].startsWith("ENUM(")&&(a+=this.pgEnum(e,i,t[i]),o=o.replace(/^ENUM\(.+\)/,this.pgEnumName(e,i,{schema:!1})),o+=` USING (${this.quoteIdentifier(i)}::${this.pgEnumName(e,i)})`),o.match(/UNIQUE;*$/)&&(o=o.replace(/UNIQUE;*$/,""),a+=r(`ADD UNIQUE (${this.quoteIdentifier(i)})`).replace("ALTER COLUMN","")),o.includes("REFERENCES")?(o=o.replace(/.+?(?=REFERENCES)/,""),a+=r(`ADD FOREIGN KEY (${this.quoteIdentifier(i)}) ${o}`).replace("ALTER COLUMN","")):a+=r(`${this.quoteIdentifier(i)} TYPE ${o}`),n.push(a)}return n.join("")}renameColumnQuery(e,t,r){const n=[];for(const e in r)n.push(`${this.quoteIdentifier(t)} TO ${this.quoteIdentifier(e)}`);return`ALTER TABLE ${this.quoteTable(e)} RENAME COLUMN ${n.join(", ")};`}fn(e,t,r,n,i,o){return`CREATE OR REPLACE FUNCTION pg_temp.${e=e||"testfunc"}(${r=r||""}) ${i=i?`RETURNS ${i}`:""} AS $func$ BEGIN ${n} END; $func$ LANGUAGE ${o=o||"plpgsql"}; SELECT * FROM pg_temp.${e}();`}truncateTableQuery(e,t={}){return[`TRUNCATE ${this.quoteTable(e)}`,t.restartIdentity?" RESTART IDENTITY":"",t.cascade?" CASCADE":""].join("")}deleteQuery(e,t,r={},n){const i=this.quoteTable(e);let o=this.getWhereConditions(t,null,n,r);const a=r.limit?` LIMIT ${this.escape(r.limit)}`:"";let s="",c="";if(o&&(o=` WHERE ${o}`),r.limit){if(!n)throw new Error("Cannot LIMIT delete without a model.");const e=Object.values(n.primaryKeys).map((e=>this.quoteIdentifier(e.field))).join(",");return s=n.primaryKeyAttributes.length>1?`(${e})`:e,c=e,`DELETE FROM ${i} WHERE ${s} IN (SELECT ${c} FROM ${i}${o}${a})`}return`DELETE FROM ${i}${o}`}showIndexesQuery(e){let t="",r="";return"string"!=typeof e&&(t=", pg_namespace s",r=` AND s.oid = t.relnamespace AND s.nspname = '${e.schema}'`,e=e.tableName),`SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a${t} WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = '${e}'${r} GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;`}showConstraintsQuery(e){return['SELECT constraint_catalog AS "constraintCatalog",','constraint_schema AS "constraintSchema",','constraint_name AS "constraintName",','table_catalog AS "tableCatalog",','table_schema AS "tableSchema",','table_name AS "tableName",','constraint_type AS "constraintType",','is_deferrable AS "isDeferrable",','initially_deferred AS "initiallyDeferred"',"from INFORMATION_SCHEMA.table_constraints",`WHERE table_name='${e}';`].join(" ")}removeIndexQuery(e,t,r){let n=t;return"string"!=typeof n&&(n=u.underscore(`${e}_${t.join("_")}`)),["DROP INDEX",r&&r.concurrently&&"CONCURRENTLY",`IF EXISTS ${this.quoteIdentifiers(n)}`].filter(Boolean).join(" ")}addLimitAndOffset(e){let t="";return null!=e.limit&&(t+=" LIMIT "+this.escape(e.limit)),null!=e.offset&&(t+=" OFFSET "+this.escape(e.offset)),t}attributeToSQL(e,t){let r;if(f.isPlainObject(e)||(e={type:e}),e.type instanceof p.ENUM||e.type instanceof p.ARRAY&&e.type.type instanceof p.ENUM){const t=e.type.type||e.type;let n=e.values;if(t.values&&!e.values&&(n=t.values),!(Array.isArray(n)&&n.length>0))throw new Error("Values for ENUM haven't been defined.");r=`ENUM(${n.map((e=>this.escape(e))).join(", ")})`,e.type instanceof p.ARRAY&&(r+="[]")}r||(r=e.type);let n=r.toString();if(Object.prototype.hasOwnProperty.call(e,"allowNull")&&!e.allowNull&&(n+=" NOT NULL"),e.autoIncrement&&(e.autoIncrementIdentity?n+=" GENERATED BY DEFAULT AS IDENTITY":n+=" SERIAL"),u.defaultValueSchemable(e.defaultValue)&&(n+=` DEFAULT ${this.escape(e.defaultValue,e)}`),!0===e.unique&&(n+=" UNIQUE"),e.primaryKey&&(n+=" PRIMARY KEY"),e.references){let r,i,o=this.quoteTable(e.references.model);t.schema?r=t.schema:e.references.model&&"string"!=typeof e.references.model||!t.table||!t.table.schema||(r=t.table.schema),r&&(o=this.quoteTable(this.addSchema({tableName:o,_schema:r}))),t.withoutForeignKeyConstraints||(i=e.references.key?this.quoteIdentifiers(e.references.key):this.quoteIdentifier("id"),n+=` REFERENCES ${o} (${i})`,e.onDelete&&(n+=` ON DELETE ${e.onDelete.toUpperCase()}`),e.onUpdate&&(n+=` ON UPDATE ${e.onUpdate.toUpperCase()}`),e.references.deferrable&&(n+=` ${e.references.deferrable.toString(this)}`))}if(e.comment&&"string"==typeof e.comment)if(t&&["addColumn","changeColumn"].includes(t.context)){const r=this.quoteIdentifier(t.key),i=this.escape(e.comment);n+=`; COMMENT ON COLUMN ${this.quoteTable(t.table)}.${r} IS ${i}`}else n+=` COMMENT ${e.comment}`;return n}deferConstraintsQuery(e){return e.deferrable.toString(this)}setConstraintQuery(e,t){let r="ALL";return e&&(r=e.map((e=>this.quoteIdentifier(e))).join(", ")),`SET CONSTRAINTS ${r} ${t}`}setDeferredQuery(e){return this.setConstraintQuery(e,"DEFERRED")}setImmediateQuery(e){return this.setConstraintQuery(e,"IMMEDIATE")}attributesToSQL(e,t){const r={};for(const n in e){const i=e[n];r[i.field||n]=this.attributeToSQL(i,c({key:n},t))}return r}createTrigger(e,t,r,n,i,o,a){const s=this.decodeTriggerEventType(r),c=this.expandTriggerEventSpec(n),u=this.expandOptions(a),l=this._expandFunctionParamList(o);return`CREATE ${this.triggerEventTypeIsConstraint(r)}TRIGGER ${this.quoteIdentifier(t)} ${s} ${c} ON ${this.quoteTable(e)}${u?` ${u}`:""} EXECUTE PROCEDURE ${i}(${l});`}dropTrigger(e,t){return`DROP TRIGGER ${this.quoteIdentifier(t)} ON ${this.quoteTable(e)} RESTRICT;`}renameTrigger(e,t,r){return`ALTER TRIGGER ${this.quoteIdentifier(t)} ON ${this.quoteTable(e)} RENAME TO ${this.quoteIdentifier(r)};`}createFunction(e,t,r,n,i,o,a){if(!(e&&r&&n&&i))throw new Error("createFunction missing some parameters. Did you pass functionName, returnType, language and body?");const s=this._expandFunctionParamList(t),c=a&&a.variables?this._expandFunctionVariableList(a.variables):"",u=this.expandOptions(o);return`${a&&a.force?"CREATE OR REPLACE FUNCTION":"CREATE FUNCTION"} ${e}(${s}) RETURNS ${r} AS $func$ ${c} BEGIN ${i} END; $func$ language '${n}'${u};`}dropFunction(e,t){if(!e)throw new Error("requires functionName");return`DROP FUNCTION ${e}(${this._expandFunctionParamList(t)}) RESTRICT;`}renameFunction(e,t,r){return`ALTER FUNCTION ${e}(${this._expandFunctionParamList(t)}) RENAME TO ${r};`}pgEscapeAndQuote(e){return this.quoteIdentifier(u.removeTicks(this.escape(e),"'"))}_expandFunctionParamList(e){if(void 0===e||!Array.isArray(e))throw new Error("_expandFunctionParamList: function parameters array required, including an empty one for no arguments");const t=[];return e.forEach((e=>{const r=[];if(!e.type)throw new Error("function or trigger used with a parameter without any type");e.direction&&r.push(e.direction),e.name&&r.push(e.name),r.push(e.type);const n=r.join(" ");n&&t.push(n)})),t.join(", ")}_expandFunctionVariableList(e){if(!Array.isArray(e))throw new Error("_expandFunctionVariableList: function variables must be an array");const t=[];return e.forEach((e=>{if(!e.name||!e.type)throw new Error("function variable must have a name and type");let r=`DECLARE ${e.name} ${e.type}`;e.default&&(r+=` := ${e.default}`),r+=";",t.push(r)})),t.join(" ")}expandOptions(e){return void 0===e||f.isEmpty(e)?"":e.join(" ")}decodeTriggerEventType(e){const t={after:"AFTER",before:"BEFORE",instead_of:"INSTEAD OF",after_constraint:"AFTER"};if(!t[e])throw new Error(`Invalid trigger event specified: ${e}`);return t[e]}triggerEventTypeIsConstraint(e){return"after_constraint"===e?"CONSTRAINT ":""}expandTriggerEventSpec(e){if(f.isEmpty(e))throw new Error("no table change events specified to trigger on");return f.map(e,((e,t)=>{const r={insert:"INSERT",update:"UPDATE",delete:"DELETE",truncate:"TRUNCATE"};if(!r[e])throw new Error(`parseTriggerEventSpec: undefined trigger event ${t}`);let n=r[e];return"UPDATE"===n&&Array.isArray(e)&&e.length>0&&(n+=` OF ${e.join(", ")}`),n})).join(" OR ")}pgEnumName(e,t,r){r=r||{};const n=this.extractTableDetails(e,r);let i=u.addTicks(u.generateEnumName(n.tableName,t),'"');return!1!==r.schema&&n.schema&&(i=this.quoteIdentifier(n.schema)+n.delimiter+i),i}pgListEnums(e,t,r){let n="";const i=this.extractTableDetails(e,r);return i.tableName&&t&&(n=` AND t.typname=${this.pgEnumName(i.tableName,t,{schema:!1}).replace(/"/g,"'")}`),`SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = '${i.schema}'${n} GROUP BY 1`}pgEnum(e,t,r,n){const i=this.pgEnumName(e,t,n);let o;o=r.values?`ENUM(${r.values.map((e=>this.escape(e))).join(", ")})`:r.toString().match(/^ENUM\(.+\)/)[0];let a=`DO ${this.escape(`BEGIN CREATE TYPE ${i} AS ${o}; EXCEPTION WHEN duplicate_object THEN null; END`)};`;return n&&!0===n.force&&(a=this.pgEnumDrop(e,t)+a),a}pgEnumAdd(e,t,r,n){let i=`ALTER TYPE ${this.pgEnumName(e,t)} ADD VALUE `;return h.gte(this.sequelize.options.databaseVersion,"9.3.0")&&(i+="IF NOT EXISTS "),i+=this.escape(r),n.before?i+=` BEFORE ${this.escape(n.before)}`:n.after&&(i+=` AFTER ${this.escape(n.after)}`),i}pgEnumDrop(e,t,r){return`DROP TYPE IF EXISTS ${r=r||this.pgEnumName(e,t)}; `}fromArray(e){let t=(e=e.replace(/^{/,"").replace(/}$/,"")).match(/("(?:\\.|[^"\\\\])*"|[^,]*)(?:\s*,\s*|\s*$)/gi);return t.length<1?[]:(t=t.map((e=>e.replace(/",$/,"").replace(/,$/,"").replace(/(^"|"$)/g,""))),t.slice(0,-1))}dataTypeMapping(e,t,r){return r.includes("PRIMARY KEY")&&(r=r.replace("PRIMARY KEY","")),r.includes("SERIAL")&&(r=(r=r.includes("BIGINT")?(r=r.replace("SERIAL","BIGSERIAL")).replace("BIGINT",""):r.includes("SMALLINT")?(r=r.replace("SERIAL","SMALLSERIAL")).replace("SMALLINT",""):r.replace("INTEGER","")).replace("NOT NULL","")),r.startsWith("ENUM(")&&(r=r.replace(/^ENUM\(.+\)/,this.pgEnumName(e,t))),r}getForeignKeysQuery(e){return`SELECT conname as constraint_name, pg_catalog.pg_get_constraintdef(r.oid, true) as condef FROM pg_catalog.pg_constraint r WHERE r.conrelid = (SELECT oid FROM pg_class WHERE relname = '${e}' LIMIT 1) AND r.contype = 'f' ORDER BY 1;`}_getForeignKeyReferencesQueryPrefix(){return"SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name "}getForeignKeyReferencesQuery(e,t,r){return`${this._getForeignKeyReferencesQueryPrefix()}WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = '${e}'${t?` AND tc.table_catalog = '${t}'`:""}${r?` AND tc.table_schema = '${r}'`:""}`}getForeignKeyReferenceQuery(e,t){const r=e.tableName||e,n=e.schema;return`${this._getForeignKeyReferencesQueryPrefix()}WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name='${r}' AND  kcu.column_name = '${t}'${n?` AND tc.table_schema = '${n}'`:""}`}dropForeignKeyQuery(e,t){return`ALTER TABLE ${this.quoteTable(e)} DROP CONSTRAINT ${this.quoteIdentifier(t)};`}quoteIdentifier(e,t){const r=t||!1,n=!1!==this.options.quoteIdentifiers,i=u.removeTicks(e,'"');return!0===r||!1!==n||e.includes(".")||e.includes("->")||m.includes(i.toLowerCase())?u.addTicks(i,'"'):i}}},9283:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e},p=(e,t)=>i(e,o(t));const d=r(2869),h=r(9209),{QueryInterface:f}=r(9646),m=r(3588),g=r(2623);t.PostgresQueryInterface=class extends f{async ensureEnums(e,t,r,n){const i=Object.keys(t),o=i.length;let a="",s=[],c=0;for(c=0;c<o;c++){const n=t[i[c]],o=n.type;(o instanceof d.ENUM||o instanceof d.ARRAY&&o.type instanceof d.ENUM)&&(a=this.queryGenerator.pgListEnums(e,n.field||i[c],r),s.push(this.sequelize.query(a,p(l({},r),{plain:!0,raw:!0,type:h.SELECT}))))}const u=await Promise.all(s);s=[];let f=0;const m=(t,n,i,o="before",a=s.length)=>{const c=l({},r);c.before=null,c.after=null,"after"===o?c.after=i:c.before=i,s.splice(a,0,(()=>this.sequelize.query(this.queryGenerator.pgEnumAdd(e,t,n,c),c)))};for(c=0;c<o;c++){const o=t[i[c]],a=o.type,h=a.type||a,g=o.field||i[c];if(a instanceof d.ENUM||a instanceof d.ARRAY&&h instanceof d.ENUM)if(u[f]){if(u[f]&&n){const e=this.queryGenerator.fromArray(u[f].enum_value),t=h.values;let r,n=-1;for(let i=0;i<e.length;i++){const o=e[i],a=t.indexOf(o);if(r=o,-1===a)continue;const c=t.slice(0,a),u=s.length;for(let t=c.length-1;t>=0&&!~e.indexOf(c[t]);t--)m(g,c[t],r,"before",u);a>n&&(n=a)}if(r&&n<t.length-1){const e=t.slice(n+1);for(let t=e.length-1;t>=0;t--)m(g,e[t],r,"after")}f++}}else s.push((()=>this.sequelize.query(this.queryGenerator.pgEnum(e,g,h,r),p(l({},r),{raw:!0}))))}const g=await s.reduce((async(e,t)=>await t(await e)),Promise.resolve());return s.length&&await this.sequelize.dialect.connectionManager._refreshDynamicOIDs(),g}async getForeignKeyReferencesForTable(e,t){const r=p(l({},t),{type:h.FOREIGNKEYS}),n=this.queryGenerator.getForeignKeyReferencesQuery(e.tableName||e,this.sequelize.config.database,e.schema);return(await this.sequelize.query(n,r)).map((e=>{const t=m.camelizeObjectKeys(e),{initiallyDeferred:r,isDeferrable:n}=t,i=((e,t)=>{var r={};for(var n in e)s.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&a)for(var n of a(e))t.indexOf(n)<0&&c.call(e,n)&&(r[n]=e[n]);return r})(t,["initiallyDeferred","isDeferrable"]);return p(l({},i),{deferrable:"NO"===n?g.NOT:"NO"===r?g.INITIALLY_IMMEDIATE:g.INITIALLY_DEFERRED})}))}async dropEnum(e,t){return t=t||{},this.sequelize.query(this.queryGenerator.pgEnumDrop(null,null,this.queryGenerator.pgEscapeAndQuote(e)),p(l({},t),{raw:!0}))}async dropAllEnums(e){e=e||{};const t=await this.pgListEnums(null,e);return await Promise.all(t.map((t=>this.sequelize.query(this.queryGenerator.pgEnumDrop(null,null,this.queryGenerator.pgEscapeAndQuote(t.enum_name)),p(l({},e),{raw:!0})))))}async pgListEnums(e,t){t=t||{};const r=this.queryGenerator.pgListEnums(e);return this.sequelize.query(r,p(l({},t),{plain:!1,raw:!0,type:h.SELECT}))}async dropTable(e,t){await super.dropTable(e,t);const r=[],n=this.sequelize.modelManager.getModel(e,{attribute:"tableName"});if(!n)return;const i=(t&&t.schema&&"public"!==t.schema?`${t.schema}_`:"")+e,o=Object.keys(n.rawAttributes),a=o.length;for(let e=0;e<a;e++)if(n.rawAttributes[o[e]].type instanceof d.ENUM){const n=this.queryGenerator.pgEnumDrop(i,o[e]);t.supportsSearchPath=!1,r.push(this.sequelize.query(n,p(l({},t),{raw:!0})))}await Promise.all(r)}}},9713:(e,t,r)=>{"use strict";const n=r(6524),i=r(9209),o=r(6797),a=r(7825),{logger:s}=r(5275),c=s.debugContext("sql:pg");class u extends n{static formatBindParameters(e,t,r){const i=e=>"string"==typeof e?e.replace(/\0/g,"\\0"):e;let o;if(Array.isArray(t))o=t.map(i),e=n.formatBindParameters(e,t,r,{skipValueReplace:!0})[0];else{o=[];let a=0;const s={},c=(e,t,r)=>void 0!==s[t]?s[t]:void 0!==r[t]?(a+=1,o.push(i(r[t])),s[t]=`$${a}`,`$${a}`):void 0;e=n.formatBindParameters(e,t,r,c)[0]}return[e,o]}async run(e,t){const{connection:r}=this;a.isEmpty(this.options.searchPath)||(e=this.sequelize.getQueryInterface().queryGenerator.setSearchPath(this.options.searchPath)+e),this.sequelize.options.minifyAliases&&this.options.includeAliases&&a.toPairs(this.options.includeAliases).sort(((e,t)=>t[1].length-e[1].length)).forEach((([t,r])=>{const n=new RegExp(a.escapeRegExp(r),"g");e=e.replace(n,t)})),this.sql=e;const n=t&&t.length?new Promise(((n,i)=>r.query(e,t,((e,t)=>e?i(e):n(t))))):new Promise(((t,n)=>r.query(e,((e,r)=>e?n(e):t(r))))),s=this._logQuery(e,c,t);let u;const l=new Error;try{u=await n}catch(n){throw("ECONNRESET"===n.code||/Unable to set non-blocking to true/i.test(n)||/SSL SYSCALL error: EOF detected/i.test(n)||/Local: Authentication failure/i.test(n)||"Query read timeout"===n.message)&&(r._invalid=!0),n.sql=e,n.parameters=t,this.formatError(n,l.stack)}s();let p=Array.isArray(u)?u.reduce(((e,t)=>e.concat(t.rows||[])),[]):u.rows;const d=Array.isArray(u)?u.reduce(((e,t)=>Number.isFinite(t.rowCount)?e+t.rowCount:e),0):u.rowCount||0;this.sequelize.options.minifyAliases&&this.options.aliasesMapping&&(p=p.map((e=>a.toPairs(e).reduce(((e,[t,r])=>(e[this.options.aliasesMapping.get(t)||t]=r,e)),{}))));const h=e.startsWith("SELECT table_name FROM information_schema.tables");if(e.startsWith("SELECT relname FROM pg_class WHERE oid IN"))return p.map((e=>({name:e.relname,tableName:e.relname.split("_")[0]})));if(h)return p.map((e=>Object.values(e)));if(p[0]&&void 0!==p[0].sequelize_caught_exception){if(null!==p[0].sequelize_caught_exception)throw this.formatError({sql:e,parameters:t,code:"23505",detail:p[0].sequelize_caught_exception});for(const e of p)delete e.sequelize_caught_exception}if(this.isShowIndexesQuery()){for(const e of p){const t=/ON .*? (?:USING .*?\s)?\(([^]*)\)/gi.exec(e.definition)[1].split(","),r=a.zipObject(e.column_indexes,this.sequelize.getQueryInterface().queryGenerator.fromArray(e.column_names));let n,i;delete e.column_indexes,delete e.column_names,e.fields=e.indkey.split(" ").map(((e,o)=>(n=r[e],n?(i=t[o],{attribute:n,collate:i.match(/COLLATE "(.*?)"/)?/COLLATE "(.*?)"/.exec(i)[1]:void 0,order:i.includes("DESC")?"DESC":i.includes("ASC")?"ASC":void 0,length:void 0}):null))).filter((e=>null!==e)),delete e.columns}return p}if(this.isForeignKeysQuery()){const e=[];for(const t of p){let r;if(void 0!==t.condef&&(r=t.condef.match(/FOREIGN KEY \((.+)\) REFERENCES (.+)\((.+)\)( ON (UPDATE|DELETE) (CASCADE|RESTRICT))?( ON (UPDATE|DELETE) (CASCADE|RESTRICT))?/))){let e;for(t.id=t.constraint_name,t.table=r[2],t.from=r[1],t.to=r[3],e=5;e<=8;e+=3)/(UPDATE|DELETE)/.test(r[e])&&(t[`on_${r[e].toLowerCase()}`]=r[e+1])}e.push(t)}return e}if(this.isSelectQuery()){let e=p;if(!1===this.options.raw&&!1===this.sequelize.options.quoteIdentifiers){const t=a.reduce(this.model.rawAttributes,((e,t,r)=>(e[r.toLowerCase()]=r,e)),{});e=p.map((e=>a.mapKeys(e,((e,r)=>{const n=t[r];return"string"==typeof n&&n!==r?n:r}))))}return this.handleSelectQuery(e)}if(i.DESCRIBE===this.options.type){const e={};for(const t of p)if(e[t.Field]={type:t.Type.toUpperCase(),allowNull:"YES"===t.Null,defaultValue:t.Default,comment:t.Comment,special:t.special?this.sequelize.getQueryInterface().queryGenerator.fromArray(t.special):[],primaryKey:"PRIMARY KEY"===t.Constraint},"BOOLEAN"===e[t.Field].type&&(e[t.Field].defaultValue={false:!1,true:!0}[e[t.Field].defaultValue],void 0===e[t.Field].defaultValue&&(e[t.Field].defaultValue=null)),"string"==typeof e[t.Field].defaultValue&&(e[t.Field].defaultValue=e[t.Field].defaultValue.replace(/'/g,""),e[t.Field].defaultValue.includes("::"))){const r=e[t.Field].defaultValue.split("::");"regclass)"!==r[1].toLowerCase()&&(e[t.Field].defaultValue=r[0])}return e}if(this.isVersionQuery())return p[0].server_version;if(this.isShowOrDescribeQuery())return p;if(i.BULKUPDATE===this.options.type)return this.options.returning?this.handleSelectQuery(p):parseInt(d,10);if(i.BULKDELETE===this.options.type)return parseInt(d,10);if(this.isInsertQuery()||this.isUpdateQuery()||this.isUpsertQuery()){if(this.instance&&this.instance.dataValues){if(this.isInsertQuery()&&!this.isUpsertQuery()&&0===d)throw new o.EmptyResultError;for(const e in p[0])if(Object.prototype.hasOwnProperty.call(p[0],e)){const t=p[0][e],r=a.find(this.model.rawAttributes,(t=>t.fieldName===e||t.field===e));this.instance.dataValues[r&&r.fieldName||e]=t}}return this.isUpsertQuery()?[this.instance,null]:[this.instance||p&&(this.options.plain&&p[0]||p)||void 0,d]}return this.isRawQuery()?[p,u]:p}formatError(e,t){let r,n,i,s,c,u;const l=e.code||e.sqlState,p=e.message||e.messagePrimary,d=e.detail||e.messageDetail;switch(l){case"23503":return i=p.match(/violates foreign key constraint "(.+?)"/),i=i?i[1]:void 0,n=p.match(/on table "(.+?)"/),n=n?n[1]:void 0,new o.ForeignKeyConstraintError({message:p,fields:null,index:i,table:n,parent:e,stack:t});case"23505":return d&&(r=d.replace(/"/g,"").match(/Key \((.*?)\)=\((.*?)\)/))?(s=a.zipObject(r[1].split(", "),r[2].split(", ")),c=[],u="Validation error",a.forOwn(s,((e,t)=>{c.push(new o.ValidationErrorItem(this.getUniqueConstraintErrorMessage(t),"unique violation",t,e,this.instance,"not_unique"))})),this.model&&this.model.uniqueKeys&&a.forOwn(this.model.uniqueKeys,(e=>{if(a.isEqual(e.fields,Object.keys(s))&&e.msg)return u=e.msg,!1})),new o.UniqueConstraintError({message:u,errors:c,parent:e,fields:s,stack:t})):new o.UniqueConstraintError({message:p,parent:e,stack:t});case"23P01":return r=d.match(/Key \((.*?)\)=\((.*?)\)/),r&&(s=a.zipObject(r[1].split(", "),r[2].split(", "))),u="Exclusion constraint error",new o.ExclusionConstraintError({message:u,constraint:e.constraint,fields:s,table:e.table,parent:e,stack:t});case"42704":if(e.sql&&/(CONSTRAINT|INDEX)/gi.test(e.sql))throw u="Unknown constraint error",i=p.match(/(?:constraint|index) "(.+?)"/i),i=i?i[1]:void 0,n=p.match(/relation "(.+?)"/i),n=n?n[1]:void 0,new o.UnknownConstraintError({message:u,constraint:i,fields:s,table:n,parent:e,stack:t});default:return new o.DatabaseError(e,{stack:t})}}isForeignKeysQuery(){return/SELECT conname as constraint_name, pg_catalog\.pg_get_constraintdef\(r\.oid, true\) as condef FROM pg_catalog\.pg_constraint r WHERE r\.conrelid = \(SELECT oid FROM pg_class WHERE relname = '.*' LIMIT 1\) AND r\.contype = 'f' ORDER BY 1;/.test(this.sql)}getInsertIdField(){return"id"}}e.exports=u,e.exports.Query=u,e.exports.default=u},8652:(e,t,r)=>{"use strict";const n=r(7825);function i(e){return null===e?"":e===1/0||e===-1/0?e.toString().toLowerCase():JSON.stringify(e)}t.stringify=function(e){if(null===e)return null;if(!Array.isArray(e))throw new Error("range must be an array");if(!e.length)return"empty";if(2!==e.length)throw new Error("range array length must be 0 (empty) or 2 (lower and upper bounds)");Object.prototype.hasOwnProperty.call(e,"inclusive")?!1===e.inclusive?e.inclusive=[!1,!1]:e.inclusive?!0===e.inclusive&&(e.inclusive=[!0,!0]):e.inclusive=[!0,!1]:e.inclusive=[!0,!1],n.each(e,((t,r)=>{n.isObject(t)&&(Object.prototype.hasOwnProperty.call(t,"inclusive")&&(e.inclusive[r]=!!t.inclusive),Object.prototype.hasOwnProperty.call(t,"value")&&(e[r]=t.value))}));const t=i(e[0]),r=i(e[1]);return`${(e.inclusive[0]?"[":"(")+t},${r}${e.inclusive[1]?"]":")"}`},t.parse=function(e,t){if(null===e)return null;if("empty"===e)return[];let r=e.substring(1,e.length-1).split(",",2);return 2!==r.length?e:(r=r.map(((r,n)=>{return{value:(i=r,o=t,i?"infinity"===i?1/0:"-infinity"===i?-1/0:o(i):null),inclusive:0===n?"["===e[0]:"]"===e[e.length-1]};var i,o})),r)}},2706:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const c=r(1740),u=r(6797),{logger:l}=r(5275),p=r(2869).snowflake,d=l.debugContext("connection:snowflake"),h=r(2861)("snowflake");class f extends c{constructor(e,t){t.config.port=t.config.port||3306,super(e,t),this.lib=this._loadDialectModule("snowflake-sdk"),this.refreshTypeParser(p)}_refreshTypeParser(e){h.refresh(e)}_clearTypeParser(){h.clear()}static _typecast(e,t){return h.get(e.type)?h.get(e.type)(e,this.sequelize.options,t):t()}async connect(e){const t=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({account:e.host,username:e.username,password:e.password,database:e.database,warehouse:e.warehouse,role:e.role},e.dialectOptions);try{const e=await new Promise(((e,r)=>{this.lib.createConnection(t).connect(((t,n)=>{t?(console.log(t),r(t)):e(n)}))}));if(d("connection acquired"),!this.sequelize.config.keepDefaultTimezone){const t="+00:00"===this.sequelize.options.timezone?"Etc/UTC":this.sequelize.options.timezone;if(!/\//.test(t))throw Error("only support time zone name for snowflake!");await new Promise(((r,n)=>{e.execute({sqlText:`ALTER SESSION SET timezone = '${t}'`,complete(e){e?(console.log(e),n(e)):r()}})}))}return e}catch(e){switch(e.code){case"ECONNREFUSED":throw new u.ConnectionRefusedError(e);case"ER_ACCESS_DENIED_ERROR":throw new u.AccessDeniedError(e);case"ENOTFOUND":throw new u.HostNotFoundError(e);case"EHOSTUNREACH":throw new u.HostNotReachableError(e);case"EINVAL":throw new u.InvalidConnectionError(e);default:throw new u.ConnectionError(e)}}}async disconnect(e){if(e.isUp())return new Promise(((t,r)=>{e.destroy((n=>{n?(console.error(`Unable to disconnect: ${n.message}`),r(n)):(console.log(`Disconnected connection with id: ${e.getId()}`),t(e.getId()))}))}));d("connection tried to disconnect but was already at CLOSED state")}validate(e){return e.isUp()}}e.exports=f,e.exports.ConnectionManager=f,e.exports.default=f},8568:(e,t,r)=>{"use strict";const n=r(5812),i=r(4716);e.exports=e=>{e.ABSTRACT.prototype.dialectTypes="https://dev.snowflake.com/doc/refman/5.7/en/data-types.html",e.DATE.types.snowflake=["DATETIME"],e.STRING.types.snowflake=["VAR_STRING"],e.CHAR.types.snowflake=["STRING"],e.TEXT.types.snowflake=["BLOB"],e.TINYINT.types.snowflake=["TINY"],e.SMALLINT.types.snowflake=["SHORT"],e.MEDIUMINT.types.snowflake=["INT24"],e.INTEGER.types.snowflake=["LONG"],e.BIGINT.types.snowflake=["LONGLONG"],e.FLOAT.types.snowflake=["FLOAT"],e.TIME.types.snowflake=["TIME"],e.DATEONLY.types.snowflake=["DATE"],e.BOOLEAN.types.snowflake=["TINY"],e.BLOB.types.snowflake=["TINYBLOB","BLOB","LONGBLOB"],e.DECIMAL.types.snowflake=["NEWDECIMAL"],e.UUID.types.snowflake=!1,e.ENUM.types.snowflake=!1,e.REAL.types.snowflake=["DOUBLE"],e.DOUBLE.types.snowflake=["DOUBLE"],e.GEOMETRY.types.snowflake=["GEOMETRY"],e.JSON.types.snowflake=["JSON"];class t extends e.DATE{toSql(){return"TIMESTAMP"}_stringify(e,t){return i.isMoment(e)||(e=this._applyTimezone(e,t)),this._length?e.format("YYYY-MM-DD HH:mm:ss.SSS"):e.format("YYYY-MM-DD HH:mm:ss")}static parse(e,t){return null===(e=e.string())?e:e=n.tz.zone(t.timezone)?n.tz(e,t.timezone).toDate():new Date(`${e} ${t.timezone}`)}}class r extends e.DATEONLY{static parse(e){return e.string()}}class o extends e.UUID{toSql(){return"VARCHAR(36)"}}class a extends e.TEXT{toSql(){return"TEXT"}}class s extends e.BOOLEAN{toSql(){return"BOOLEAN"}}class c extends e.JSON{_stringify(e,t){return"where"===t.operation&&"string"==typeof e?e:JSON.stringify(e)}}return{TEXT:a,DATE:t,BOOLEAN:s,DATEONLY:r,UUID:o,JSON:c}}},9162:(e,t,r)=>{"use strict";const n=r(7825),i=r(3476),o=r(2706),a=r(9434),s=r(4202),c=r(2869).snowflake,{SnowflakeQueryInterface:u}=r(84);class l extends i{constructor(e){super(),this.sequelize=e,this.connectionManager=new o(this,e),this.queryGenerator=new s({_dialect:this,sequelize:e}),this.queryInterface=new u(e,this.queryGenerator)}}l.prototype.supports=n.merge(n.cloneDeep(i.prototype.supports),{"VALUES ()":!0,"LIMIT ON UPDATE":!0,lock:!0,forShare:"LOCK IN SHARE MODE",settingIsolationLevelDuringTransaction:!1,inserts:{ignoreDuplicates:" IGNORE",updateOnDuplicate:!1},index:{collate:!1,length:!0,parser:!0,type:!0,using:1},constraints:{dropConstraint:!1,check:!1},indexViaAlter:!0,indexHints:!0,NUMERIC:!0,GEOMETRY:!1,JSON:!1,REGEXP:!0,schemas:!0}),l.prototype.defaultVersion="5.7.0",l.prototype.Query=a,l.prototype.QueryGenerator=s,l.prototype.DataTypes=c,l.prototype.name="snowflake",l.prototype.TICK_CHAR='"',l.prototype.TICK_CHAR_LEFT=l.prototype.TICK_CHAR,l.prototype.TICK_CHAR_RIGHT=l.prototype.TICK_CHAR,e.exports=l},4202:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e};const p=r(7825),d=r(3588),h=r(1848),f=r(9023),m=r(4104),g=/^\s*((?:[a-z]+_){0,2}jsonb?(?:_[a-z]+){0,2})\([^)]*\)/i,y=/^\s*(->>?|@>|<@|\?[|&]?|\|{2}|#-)/i,v=/^\s*((?:([`"'])(?:(?!\2).|\2{2})*\2)|[\w\d\s]+|[().,;+-])/i,b=["CONSTRAINT_NAME as constraint_name","CONSTRAINT_NAME as constraintName","CONSTRAINT_SCHEMA as constraintSchema","CONSTRAINT_SCHEMA as constraintCatalog","TABLE_NAME as tableName","TABLE_SCHEMA as tableSchema","TABLE_SCHEMA as tableCatalog","COLUMN_NAME as columnName","REFERENCED_TABLE_SCHEMA as referencedTableSchema","REFERENCED_TABLE_SCHEMA as referencedTableCatalog","REFERENCED_TABLE_NAME as referencedTableName","REFERENCED_COLUMN_NAME as referencedColumnName"].join(","),E="account,all,alter,and,any,as,between,by,case,cast,check,column,connect,connections,constraint,create,cross,current,current_date,current_time,current_timestamp,current_user,database,delete,distinct,drop,else,exists,false,following,for,from,full,grant,group,gscluster,having,ilike,in,increment,inner,insert,intersect,into,is,issue,join,lateral,left,like,localtime,localtimestamp,minus,natural,not,null,of,on,or,order,organization,qualify,regexp,revoke,right,rlike,row,rows,sample,schema,select,set,some,start,table,tablesample,then,to,trigger,true,try_cast,union,unique,update,using,values,view,when,whenever,where,with".split(","),w=new Set(["BLOB","TEXT","GEOMETRY","JSON"]);function A(e){return d.addTicks(e,"'")}e.exports=class extends h{constructor(e){var t,r;super(e),this.OperatorMap=(t=l({},this.OperatorMap),r={[m.regexp]:"REGEXP",[m.notRegexp]:"NOT REGEXP"},i(t,o(r)))}createDatabaseQuery(e,t){return t=l({charset:null,collate:null},t),d.joinSQLFragments(["CREATE DATABASE IF NOT EXISTS",this.quoteIdentifier(e),t.charset&&`DEFAULT CHARACTER SET ${this.escape(t.charset)}`,t.collate&&`DEFAULT COLLATE ${this.escape(t.collate)}`,";"])}dropDatabaseQuery(e){return`DROP DATABASE IF EXISTS ${this.quoteIdentifier(e)};`}createSchema(){return"SHOW TABLES"}showSchemasQuery(){return"SHOW TABLES"}versionQuery(){return"SELECT CURRENT_VERSION()"}createTableQuery(e,t,r){r=l({charset:null,rowFormat:null},r);const n=[],i={},o=[];for(const e in t){if(!Object.prototype.hasOwnProperty.call(t,e))continue;const r=t[e];let a;r.includes("PRIMARY KEY")?(n.push(e),r.includes("REFERENCES")?(a=r.match(/^(.+) (REFERENCES.*)$/),o.push(`${this.quoteIdentifier(e)} ${a[1].replace("PRIMARY KEY","")}`),i[e]=a[2]):o.push(`${this.quoteIdentifier(e)} ${r.replace("PRIMARY KEY","")}`)):r.includes("REFERENCES")?(a=r.match(/^(.+) (REFERENCES.*)$/),o.push(`${this.quoteIdentifier(e)} ${a[1]}`),i[e]=a[2]):o.push(`${this.quoteIdentifier(e)} ${r}`)}const a=this.quoteTable(e);let s=o.join(", ");const c=n.map((e=>this.quoteIdentifier(e))).join(", ");r.uniqueKeys&&p.each(r.uniqueKeys,((t,r)=>{t.customIndex&&("string"!=typeof r&&(r=`uniq_${e}_${t.fields.join("_")}`),s+=`, UNIQUE ${this.quoteIdentifier(r)} (${t.fields.map((e=>this.quoteIdentifier(e))).join(", ")})`)})),c.length>0&&(s+=`, PRIMARY KEY (${c})`);for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(s+=`, FOREIGN KEY (${this.quoteIdentifier(e)}) ${i[e]}`);return d.joinSQLFragments(["CREATE TABLE IF NOT EXISTS",a,`(${s})`,r.comment&&"string"==typeof r.comment&&`COMMENT ${this.escape(r.comment)}`,r.charset&&`DEFAULT CHARSET=${r.charset}`,r.collate&&`COLLATE ${r.collate}`,r.rowFormat&&`ROW_FORMAT=${r.rowFormat}`,";"])}describeTableQuery(e,t,r){return`SHOW FULL COLUMNS FROM ${this.quoteTable(this.addSchema({tableName:e,_schema:t,_schemaDelimiter:r}))};`}showTablesQuery(e){return d.joinSQLFragments(["SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE'",e?`AND TABLE_SCHEMA = ${this.escape(e)}`:"AND TABLE_SCHEMA NOT IN ( 'INFORMATION_SCHEMA', 'PERFORMANCE_SCHEMA', 'SYS')",";"])}tableExistsQuery(e){const t=e.tableName||e,r=e.schema;return d.joinSQLFragments(["SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE'",`AND TABLE_SCHEMA = ${void 0!==r?this.escape(r):"CURRENT_SCHEMA()"}`,`AND TABLE_NAME = ${this.escape(t)}`,";"])}addColumnQuery(e,t,r){return d.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"ADD",this.quoteIdentifier(t),this.attributeToSQL(r,{context:"addColumn",tableName:e,foreignKey:t}),";"])}removeColumnQuery(e,t){return d.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"DROP",this.quoteIdentifier(t),";"])}changeColumnQuery(e,t){const r=(...t)=>d.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"ALTER COLUMN",...t,";"]),n=[];for(const i in t){let o=this.dataTypeMapping(e,i,t[i]);const a=[];o.includes("NOT NULL")?(a.push(r(this.quoteIdentifier(i),"SET NOT NULL")),o=o.replace("NOT NULL","").trim()):o.includes("REFERENCES")||a.push(r(this.quoteIdentifier(i),"DROP NOT NULL")),o.includes("DEFAULT")?(a.push(r(this.quoteIdentifier(i),"SET DEFAULT",o.match(/DEFAULT ([^;]+)/)[1])),o=o.replace(/(DEFAULT[^;]+)/,"").trim()):o.includes("REFERENCES")||a.push(r(this.quoteIdentifier(i),"DROP DEFAULT")),o.match(/UNIQUE;*$/)&&(o=o.replace(/UNIQUE;*$/,""),a.push(r("ADD UNIQUE (",this.quoteIdentifier(i),")").replace("ALTER COLUMN",""))),o.includes("REFERENCES")?(o=o.replace(/.+?(?=REFERENCES)/,""),a.push(r("ADD FOREIGN KEY (",this.quoteIdentifier(i),")",o).replace("ALTER COLUMN",""))):a.push(r(this.quoteIdentifier(i),"TYPE",o)),n.push(a.join(""))}return n.join("")}renameColumnQuery(e,t,r){const n=[];for(const e in r){const i=r[e];n.push(`'${t}' '${e}' ${i}`)}return d.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"RENAME COLUMN",n.join(" to "),";"])}handleSequelizeMethod(e,t,r,n,i){if(e instanceof d.Json){if(e.conditions)return this.parseConditionObject(e.conditions).map((e=>`${this.jsonPathExtractionQuery(e.path[0],p.tail(e.path))} = '${e.value}'`)).join(" AND ");if(e.path){let t;if(this._checkValidJsonStatement(e.path))t=e.path;else{const r=p.toPath(e.path),n=r.shift();t=this.jsonPathExtractionQuery(n,r)}return e.value&&(t+=f.format(" = %s",this.escape(e.value))),t}}else e instanceof d.Cast&&(/timestamp/i.test(e.type)?e.type="datetime":e.json&&/boolean/i.test(e.type)?e.type="char":/double precision/i.test(e.type)||/boolean/i.test(e.type)||/integer/i.test(e.type)?e.type="decimal":/text/i.test(e.type)&&(e.type="char"));return super.handleSequelizeMethod(e,t,r,n,i)}truncateTableQuery(e){return d.joinSQLFragments(["TRUNCATE",this.quoteTable(e)])}deleteQuery(e,t,r={},n){const i=this.quoteTable(e);let o=this.getWhereConditions(t,null,n,r);const a=r.limit&&` LIMIT ${this.escape(r.limit)}`;let s="",c="";if(o&&(o=`WHERE ${o}`),a){if(!n)throw new Error("Cannot LIMIT delete without a model.");const e=Object.values(n.primaryKeys).map((e=>this.quoteIdentifier(e.field))).join(",");return s=n.primaryKeyAttributes.length>1?`(${e})`:e,c=e,d.joinSQLFragments(["DELETE FROM",i,"WHERE",s,"IN (SELECT",c,"FROM",i,o,a,")",";"])}return d.joinSQLFragments(["DELETE FROM",i,o,";"])}showIndexesQuery(){return"SELECT '' FROM DUAL"}showConstraintsQuery(e,t){const r=e.tableName||e,n=e.schema;return d.joinSQLFragments(["SELECT CONSTRAINT_CATALOG AS constraintCatalog,","CONSTRAINT_NAME AS constraintName,","CONSTRAINT_SCHEMA AS constraintSchema,","CONSTRAINT_TYPE AS constraintType,","TABLE_NAME AS tableName,","TABLE_SCHEMA AS tableSchema","from INFORMATION_SCHEMA.TABLE_CONSTRAINTS",`WHERE table_name='${r}'`,t&&`AND constraint_name = '${t}'`,n&&`AND TABLE_SCHEMA = '${n}'`,";"])}removeIndexQuery(e,t){let r=t;return"string"!=typeof r&&(r=d.underscore(`${e}_${t.join("_")}`)),d.joinSQLFragments(["DROP INDEX",this.quoteIdentifier(r),"ON",this.quoteTable(e),";"])}attributeToSQL(e,t){p.isPlainObject(e)||(e={type:e});const r=e.type.toString({escape:this.escape.bind(this)});let n=r;if(!1===e.allowNull&&(n+=" NOT NULL"),e.autoIncrement&&(n+=" AUTOINCREMENT"),!w.has(r)&&!0!==e.type._binary&&d.defaultValueSchemable(e.defaultValue)&&(n+=` DEFAULT ${this.escape(e.defaultValue)}`),!0===e.unique&&(n+=" UNIQUE"),e.primaryKey&&(n+=" PRIMARY KEY"),e.comment&&(n+=` COMMENT ${this.escape(e.comment)}`),e.first&&(n+=" FIRST"),e.after&&(n+=` AFTER ${this.quoteIdentifier(e.after)}`),e.references){if(t&&"addColumn"===t.context&&t.foreignKey){const e=this.quoteIdentifier(t.foreignKey);n+=`, ADD CONSTRAINT ${this.quoteIdentifier(`${t.tableName}_${e}_foreign_idx`)} FOREIGN KEY (${e})`}n+=` REFERENCES ${this.quoteTable(e.references.model)}`,e.references.key?n+=` (${this.quoteIdentifier(e.references.key)})`:n+=` (${this.quoteIdentifier("id")})`,e.onDelete&&(n+=` ON DELETE ${e.onDelete.toUpperCase()}`),e.onUpdate&&(n+=` ON UPDATE ${e.onUpdate.toUpperCase()}`)}return n}attributesToSQL(e,t){const r={};for(const n in e){const i=e[n];r[i.field||n]=this.attributeToSQL(i,t)}return r}_checkValidJsonStatement(e){if("string"!=typeof e)return!1;let t=0,r=0,n=0,i=!1,o=!1;for(;t<e.length;){const a=e.substr(t),s=g.exec(a);if(s){t+=s[0].indexOf("("),i=!0;continue}const c=y.exec(a);if(c){t+=c[0].length,i=!0;continue}const u=v.exec(a);if(!u)break;{const e=u[1];if("("===e)r++;else if(")"===e)n++;else if(";"===e){o=!0;break}t+=u[0].length}}if(i&&(o||r!==n))throw new Error(`Invalid json statement: ${e}`);return i}dataTypeMapping(e,t,r){return r.includes("PRIMARY KEY")&&(r=r.replace("PRIMARY KEY","")),r.includes("SERIAL")&&(r=(r=r.includes("BIGINT")?(r=r.replace("SERIAL","BIGSERIAL")).replace("BIGINT",""):r.includes("SMALLINT")?(r=r.replace("SERIAL","SMALLSERIAL")).replace("SMALLINT",""):r.replace("INTEGER","")).replace("NOT NULL","")),r}getForeignKeysQuery(e,t){const r=e.tableName||e;return d.joinSQLFragments(["SELECT",b,`FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = '${r}'`,`AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='${t}'`,"AND REFERENCED_TABLE_NAME IS NOT NULL",";"])}getForeignKeyQuery(e,t){const r=e.schema?A(e.schema):"",n=A(e.tableName||e),i=A(t);return d.joinSQLFragments(["SELECT",b,"FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE","WHERE (",[`REFERENCED_TABLE_NAME = ${n}`,e.schema&&`AND REFERENCED_TABLE_SCHEMA = ${r}`,`AND REFERENCED_COLUMN_NAME = ${i}`],") OR (",[`TABLE_NAME = ${n}`,e.schema&&`AND TABLE_SCHEMA = ${r}`,`AND COLUMN_NAME = ${i}`,"AND REFERENCED_TABLE_NAME IS NOT NULL"],")"])}dropForeignKeyQuery(e,t){return d.joinSQLFragments(["ALTER TABLE",this.quoteTable(e),"DROP FOREIGN KEY",this.quoteIdentifier(t),";"])}addLimitAndOffset(e){let t=[];return null!==e.offset&&void 0!==e.offset&&0!==e.offset?t=t.concat([" LIMIT ",this.escape(e.limit)," OFFSET ",this.escape(e.offset)]):null!==e.limit&&void 0!==e.limit&&(t=[" LIMIT ",this.escape(e.limit)]),t.join("")}quoteIdentifier(e,t){const r=t||!1,n=!1!==this.options.quoteIdentifiers,i=d.removeTicks(e,'"');return!0===r||!1!==n||e.includes(".")||e.includes("->")||E.includes(i.toLowerCase())?d.addTicks(i,'"'):i}}},84:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e};const p=r(6797),{QueryInterface:d}=r(9646),h=r(9209);t.SnowflakeQueryInterface=class extends d{async removeColumn(e,t,r){r=r||{};const[n]=await this.sequelize.query(this.queryGenerator.getForeignKeyQuery(e.tableName?e:{tableName:e,schema:this.sequelize.config.database},t),l({raw:!0},r));return n.length&&"PRIMARY"!==n[0].constraint_name&&await Promise.all(n.map((t=>this.sequelize.query(this.queryGenerator.dropForeignKeyQuery(e,t.constraint_name),l({raw:!0},r))))),await this.sequelize.query(this.queryGenerator.removeColumnQuery(e,t),l({raw:!0},r))}async upsert(e,t,r,n,i){(i=l({},i)).type=h.UPSERT,i.updateOnDuplicate=Object.keys(r);const o=i.model,a=this.queryGenerator.insertQuery(e,t,o.rawAttributes,i);return await this.sequelize.query(a,i)}async removeConstraint(e,t,r){const n=this.queryGenerator.showConstraintsQuery(e.tableName?e:{tableName:e,schema:this.sequelize.config.database},t);var a,s;const c=(await this.sequelize.query(n,(a=l({},r),s={type:this.sequelize.QueryTypes.SHOWCONSTRAINTS},i(a,o(s)))))[0];let u;if(!c||!c.constraintType)throw new p.UnknownConstraintError({message:`Constraint ${t} on table ${e} does not exist`,constraint:t,table:e});return u="FOREIGN KEY"===c.constraintType?this.queryGenerator.dropForeignKeyQuery(e,t):this.queryGenerator.removeIndexQuery(c.tableName,c.constraintName),await this.sequelize.query(u,r)}}},9434:(e,t,r)=>{"use strict";const n=r(6524),i=r(6797),o=r(7825),{logger:a}=r(5275),s=a.debugContext("sql:snowflake");class c extends n{static formatBindParameters(e,t,r){const i=[];return[e=n.formatBindParameters(e,t,r,((e,t,r)=>{if(void 0!==r[t])return i.push(r[t]),"?"}))[0],i.length>0?i:void 0]}async run(e,t){this.sql=e;const{connection:r,options:n}=this,i=this.sequelize.options.showWarnings||n.showWarnings,o=this._logQuery(e,s,t);let a;t&&s("parameters(%j)",t);try{a=await new Promise(((n,i)=>{r.execute({sqlText:e,binds:t,complete(e,t,r){e?i(e):n(r)}})}))}catch(r){if(n.transaction&&1213===r.errno){try{await n.transaction.rollback()}catch(e){}n.transaction.finished="rollback"}throw r.sql=e,r.parameters=t,this.formatError(r)}finally{o()}return i&&a&&a.warningStatus>0&&await this.logWarnings(a),this.formatResults(a)}formatResults(e){let t=this.instance;if(this.isInsertQuery(e)&&(this.handleInsertQuery(e),!this.instance))if("ResultSetHeader"===e.constructor.name&&this.model&&this.model.autoIncrementAttribute&&this.model.autoIncrementAttribute===this.model.primaryKeyAttribute&&this.model.rawAttributes[this.model.primaryKeyAttribute]){const r=e[this.getInsertIdField()];t=[];for(let n=r;n<r+e.affectedRows;n++)t.push({[this.model.rawAttributes[this.model.primaryKeyAttribute].field]:n})}else t=e[this.getInsertIdField()];if(this.isSelectQuery()){if(!1===this.options.raw&&!1===this.sequelize.options.quoteIdentifiers){const t=o.reduce(this.model.rawAttributes,((e,t,r)=>(e[r.toUpperCase()]=r,e)),{});e=e.map((e=>o.reduce(e,((e,r,n)=>(void 0!==r&&t[n]&&(e[t[n]]=r,delete e[n]),e)),e)))}return this.options.fieldMap=o.mapKeys(this.options.fieldMap,((e,t)=>t.toUpperCase())),this.handleSelectQuery(e)}if(this.isShowTablesQuery())return this.handleShowTablesQuery(e);if(this.isDescribeQuery()){t={};for(const r of e)t[r.Field]={type:r.Type.toUpperCase(),allowNull:"YES"===r.Null,defaultValue:r.Default,primaryKey:"PRI"===r.Key,autoIncrement:Object.prototype.hasOwnProperty.call(r,"Extra")&&"auto_increment"===r.Extra.toLowerCase(),comment:r.Comment?r.Comment:null};return t}return this.isShowIndexesQuery()?this.handleShowIndexesQuery(e):this.isCallQuery()?e[0]:this.isBulkUpdateQuery()||this.isBulkDeleteQuery()?e[0]["number of rows updated"]:this.isVersionQuery()?e[0].version:this.isForeignKeysQuery()?e:this.isUpsertQuery()?[t,1===e.affectedRows]:this.isInsertQuery()||this.isUpdateQuery()?[t,e.affectedRows]:this.isShowConstraintsQuery()?e:this.isRawQuery()?[e,e]:t}async logWarnings(e){const t=await this.run("SHOW WARNINGS"),r=`Snowflake Warnings (${this.connection.uuid||"default"}): `,n=[];for(const e of t)if(void 0!==e&&"function"==typeof e[Symbol.iterator])for(const t of e)if(Object.prototype.hasOwnProperty.call(t,"Message"))n.push(t.Message);else for(const e of t.keys())n.push([e,t[e]].join(": "));return this.sequelize.log(r+n.join("; "),this.options),e}formatError(e){const t=e.errno||e.code;switch(t){case 1062:{const t=e.message.match(/Duplicate entry '([\s\S]*)' for key '?((.|\s)*?)'?$/);let r={},n="Validation error";const a=t?t[1].split("-"):void 0,s=t?t[2]:void 0,c=t?t[1]:void 0,u=this.model&&this.model.uniqueKeys[s];u?(u.msg&&(n=u.msg),r=o.zipObject(u.fields,a)):r[s]=c;const l=[];return o.forOwn(r,((e,t)=>{l.push(new i.ValidationErrorItem(this.getUniqueConstraintErrorMessage(t),"unique violation",t,e,this.instance,"not_unique"))})),new i.UniqueConstraintError({message:n,errors:l,parent:e,fields:r})}case 1451:case 1452:{const r=e.message.match(/CONSTRAINT ([`"])(.*)\1 FOREIGN KEY \(\1(.*)\1\) REFERENCES \1(.*)\1 \(\1(.*)\1\)/),n=r?r[1]:"`",o=r?r[3].split(new RegExp(`${n}, *${n}`)):void 0;return new i.ForeignKeyConstraintError({reltype:String(t)===String(1451)?"parent":"child",table:r?r[4]:void 0,fields:o,value:o&&o.length&&this.instance&&this.instance[o[0]]||void 0,index:r?r[2]:void 0,parent:e})}default:return new i.DatabaseError(e)}}handleShowIndexesQuery(e){return e=e.reduce(((e,t)=>(t.Key_name in e||(e[t.Key_name]=t,t.fields=[]),e[t.Key_name].fields[t.Seq_in_index-1]={attribute:t.Column_name,length:t.Sub_part||void 0,order:"A"===t.Collation?"ASC":void 0},delete t.column_name,e)),{}),o.map(e,(e=>({primary:"PRIMARY"===e.Key_name,fields:e.fields,name:e.Key_name,tableName:e.Table,unique:1!==e.Non_unique,type:e.Index_type})))}}e.exports=c,e.exports.Query=c,e.exports.default=c},4362:(e,t,r)=>{"use strict";const n=r(9896),i=r(6928),o=r(1740),{logger:a}=r(5275),s=a.debugContext("connection:sqlite"),c=r(2869).sqlite,u=r(6797),l=r(2861)("sqlite"),{promisify:p}=r(9023);class d extends o{constructor(e,t){super(e,t),"localhost"===this.sequelize.options.host&&delete this.sequelize.options.host,this.connections={},this.lib=this._loadDialectModule("sqlite3"),this.refreshTypeParser(c)}async _onProcessExit(){return await Promise.all(Object.getOwnPropertyNames(this.connections).map((e=>p((t=>this.connections[e].close(t)))()))),super._onProcessExit.call(this)}_refreshTypeParser(e){l.refresh(e)}_clearTypeParser(){l.clear()}async getConnection(e){(e=e||{}).uuid=e.uuid||"default",null!==!!this.sequelize.options.storage&&void 0!==this.sequelize.options.storage?e.storage=this.sequelize.options.storage:e.storage=this.sequelize.options.host||":memory:",e.inMemory=":memory:"===e.storage?1:0;const t=this.sequelize.options.dialectOptions,r=this.lib.OPEN_READWRITE|this.lib.OPEN_CREATE;if(e.readWriteMode=t&&t.mode||r,this.connections[e.inMemory||e.uuid])return this.connections[e.inMemory||e.uuid];!e.inMemory&&e.readWriteMode&this.lib.OPEN_CREATE&&n.mkdirSync(i.dirname(e.storage),{recursive:!0});const o=await new Promise(((t,r)=>{this.connections[e.inMemory||e.uuid]=new this.lib.Database(e.storage,e.readWriteMode,(n=>{if(n)return r(new u.ConnectionError(n));s(`connection acquired ${e.uuid}`),t(this.connections[e.inMemory||e.uuid])}))}));return this.sequelize.config.password&&o.run(`PRAGMA KEY=${this.sequelize.escape(this.sequelize.config.password)}`),!1!==this.sequelize.options.foreignKeys&&o.run("PRAGMA FOREIGN_KEYS=ON"),o}releaseConnection(e,t){":memory:"===e.filename&&!0!==t||e.uuid&&(e.close(),s(`connection released ${e.uuid}`),delete this.connections[e.uuid])}}e.exports=d,e.exports.ConnectionManager=d,e.exports.default=d},7872:e=>{"use strict";e.exports=e=>{const t=e.ABSTRACT.warn.bind(void 0,"https://www.sqlite.org/datatype3.html");function r(e){(e._zerofill||e._unsigned)&&(t(`SQLite does not support '${e.key}' with UNSIGNED or ZEROFILL. Plain '${e.key}' will be used instead.`),e._unsigned=void 0,e._zerofill=void 0)}e.DATE.types.sqlite=["DATETIME"],e.STRING.types.sqlite=["VARCHAR","VARCHAR BINARY"],e.CHAR.types.sqlite=["CHAR","CHAR BINARY"],e.TEXT.types.sqlite=["TEXT"],e.TINYINT.types.sqlite=["TINYINT"],e.SMALLINT.types.sqlite=["SMALLINT"],e.MEDIUMINT.types.sqlite=["MEDIUMINT"],e.INTEGER.types.sqlite=["INTEGER"],e.BIGINT.types.sqlite=["BIGINT"],e.FLOAT.types.sqlite=["FLOAT"],e.TIME.types.sqlite=["TIME"],e.DATEONLY.types.sqlite=["DATE"],e.BOOLEAN.types.sqlite=["TINYINT"],e.BLOB.types.sqlite=["TINYBLOB","BLOB","LONGBLOB"],e.DECIMAL.types.sqlite=["DECIMAL"],e.UUID.types.sqlite=["UUID"],e.ENUM.types.sqlite=!1,e.REAL.types.sqlite=["REAL"],e.DOUBLE.types.sqlite=["DOUBLE PRECISION"],e.GEOMETRY.types.sqlite=!1,e.JSON.types.sqlite=["JSON","JSONB"];class n extends e.JSON{static parse(e){return JSON.parse(e)}}class i extends e.DATE{static parse(e,t){return e.includes("+")?new Date(e):new Date(e+t.timezone)}}class o extends e.DATEONLY{static parse(e){return e}}class a extends e.STRING{toSql(){return this._binary?`VARCHAR BINARY(${this._length})`:super.toSql(this)}}class s extends e.TEXT{toSql(){return this._length&&(t("SQLite does not support TEXT with options. Plain `TEXT` will be used instead."),this._length=void 0),"TEXT"}}class c extends e.CITEXT{toSql(){return"TEXT COLLATE NOCASE"}}class u extends e.CHAR{toSql(){return this._binary?`CHAR BINARY(${this._length})`:super.toSql()}}class l extends e.NUMBER{toSql(){let e=this.key;return this._unsigned&&(e+=" UNSIGNED"),this._zerofill&&(e+=" ZEROFILL"),this._length&&(e+=`(${this._length}`,"number"==typeof this._decimals&&(e+=`,${this._decimals}`),e+=")"),e}}class p extends e.TINYINT{constructor(e){super(e),r(this)}}class d extends e.SMALLINT{constructor(e){super(e),r(this)}}class h extends e.MEDIUMINT{constructor(e){super(e),r(this)}}class f extends e.INTEGER{constructor(e){super(e),r(this)}}class m extends e.BIGINT{constructor(e){super(e),r(this)}}class g extends e.FLOAT{}class y extends e.DOUBLE{}class v extends e.REAL{}function b(e){return"string"!=typeof e?e:"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:void 0}for(const e of[g,y,v])e.parse=b;for(const e of[g,y,v,p,d,h,f,m])e.prototype.toSql=l.prototype.toSql;class E extends e.ENUM{toSql(){return"TEXT"}}return{DATE:i,DATEONLY:o,STRING:a,CHAR:u,NUMBER:l,FLOAT:g,REAL:v,"DOUBLE PRECISION":y,TINYINT:p,SMALLINT:d,MEDIUMINT:h,INTEGER:f,BIGINT:m,TEXT:s,ENUM:E,JSON:n,CITEXT:c}}},2530:(e,t,r)=>{"use strict";const n=r(7825),i=r(3476),o=r(4362),a=r(7330),s=r(7858),c=r(2869).sqlite,{SQLiteQueryInterface:u}=r(2236);class l extends i{constructor(e){super(),this.sequelize=e,this.connectionManager=new o(this,e),this.queryGenerator=new s({_dialect:this,sequelize:e}),this.queryInterface=new u(e,this.queryGenerator)}}l.prototype.supports=n.merge(n.cloneDeep(i.prototype.supports),{DEFAULT:!1,"DEFAULT VALUES":!0,"UNION ALL":!1,"RIGHT JOIN":!1,inserts:{ignoreDuplicates:" OR IGNORE",updateOnDuplicate:" ON CONFLICT DO UPDATE SET",conflictFields:!0,onConflictWhere:!0},index:{using:!1,where:!0,functionBased:!0},transactionOptions:{type:!0},constraints:{addConstraint:!1,dropConstraint:!1},groupedLimit:!1,JSON:!0}),l.prototype.defaultVersion="3.8.0",l.prototype.Query=a,l.prototype.DataTypes=c,l.prototype.name="sqlite",l.prototype.TICK_CHAR="`",l.prototype.TICK_CHAR_LEFT=l.prototype.TICK_CHAR,l.prototype.TICK_CHAR_RIGHT=l.prototype.TICK_CHAR,e.exports=l,e.exports.SqliteDialect=l,e.exports.default=l},7858:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const l=r(3588),p=r(5137),d=r(7825),h=r(3624),f=r(1848);e.exports=class extends h{createSchema(){return"SELECT name FROM `sqlite_master` WHERE type='table' and name!='sqlite_sequence';"}showSchemasQuery(){return"SELECT name FROM `sqlite_master` WHERE type='table' and name!='sqlite_sequence';"}versionQuery(){return"SELECT sqlite_version() as `version`"}createTableQuery(e,t,r){r=r||{};const n=[],i=Object.values(t).filter((e=>e.includes("PRIMARY KEY"))).length>1,o=[];for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const r=t[e],a=r.includes("AUTOINCREMENT");let s=r;r.includes("PRIMARY KEY")&&(r.includes("INT")&&(s=a?"INTEGER PRIMARY KEY AUTOINCREMENT":"INTEGER PRIMARY KEY",r.includes(" REFERENCES")&&(s+=r.substr(r.indexOf(" REFERENCES")))),i&&(n.push(e),s=r.includes("NOT NULL")?r.replace(" PRIMARY KEY",""):r.replace("PRIMARY KEY","NOT NULL"))),o.push(`${this.quoteIdentifier(e)} ${s}`)}const a=this.quoteTable(e);let s=o.join(", ");const c=n.map((e=>this.quoteIdentifier(e))).join(", ");r.uniqueKeys&&d.each(r.uniqueKeys,(e=>{e.customIndex&&(s+=`, UNIQUE (${e.fields.map((e=>this.quoteIdentifier(e))).join(", ")})`)})),c.length>0&&(s+=`, PRIMARY KEY (${c})`);const u=`CREATE TABLE IF NOT EXISTS ${a} (${s});`;return this.replaceBooleanDefaults(u)}booleanValue(e){return e?1:0}_checkValidJsonStatement(e){if("string"!=typeof e)return!1;const t=/^\s*(json(?:_[a-z]+){0,2})\([^)]*\)/i,r=/^\s*((?:([`"'])(?:(?!\2).|\2{2})*\2)|[\w\d\s]+|[().,;+-])/i;let n=0,i=0,o=0,a=!1,s=!1;for(;n<e.length;){const c=e.substr(n),u=t.exec(c);if(u){n+=u[0].indexOf("("),a=!0;continue}const l=r.exec(c);if(!l)break;{const e=l[1];if("("===e)i++;else if(")"===e)o++;else if(";"===e){s=!0;break}n+=l[0].length}}if(s|=i!==o,a&&s)throw new Error(`Invalid json statement: ${e}`);return a}_toJSONValue(e){return e instanceof Date?e.toISOString():Array.isArray(e)&&e[0]instanceof Date?e.map((e=>e.toISOString())):e}handleSequelizeMethod(e,t,r,n,i){return e instanceof l.Json?super.handleSequelizeMethod(e,t,r,n,i):(e instanceof l.Cast&&/timestamp/i.test(e.type)&&(e.type="datetime"),f.prototype.handleSequelizeMethod.call(this,e,t,r,n,i))}addColumnQuery(e,t,r){const n={};n[t]=r;const i=this.attributesToSQL(n,{context:"addColumn"}),o=`${this.quoteIdentifier(t)} ${i[t]}`,a=`ALTER TABLE ${this.quoteTable(e)} ADD ${o};`;return this.replaceBooleanDefaults(a)}showTablesQuery(){return"SELECT name FROM `sqlite_master` WHERE type='table' and name!='sqlite_sequence';"}updateQuery(e,t,r,n,p){n=n||{},d.defaults(n,this.options),t=l.removeNullValuesFromHash(t,n.omitNull,n);const h={},f=[],m=[],g=n.bindParam||this.bindParam(m);p&&d.each(p,((e,t)=>{h[t]=e,e.field&&(h[e.field]=e)}));for(const e in t){const r=t[e];r instanceof l.SequelizeMethod||!1===n.bindParam?f.push(`${this.quoteIdentifier(e)}=${this.escape(r,h&&h[e]||void 0,{context:"UPDATE"})}`):f.push(`${this.quoteIdentifier(e)}=${this.format(r,h&&h[e]||void 0,{context:"UPDATE"},g)}`)}let y;const v=(b=((e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e})({},n),i(b,o({bindParam:g})));var b;return y=n.limit?`UPDATE ${this.quoteTable(e)} SET ${f.join(",")} WHERE rowid IN (SELECT rowid FROM ${this.quoteTable(e)} ${this.whereQuery(r,v)} LIMIT ${this.escape(n.limit)})`:`UPDATE ${this.quoteTable(e)} SET ${f.join(",")} ${this.whereQuery(r,v)}`,{query:y,bind:m}}truncateTableQuery(e,t={}){return[`DELETE FROM ${this.quoteTable(e)}`,t.restartIdentity?`; DELETE FROM ${this.quoteTable("sqlite_sequence")} WHERE ${this.quoteIdentifier("name")} = ${l.addTicks(l.removeTicks(this.quoteTable(e),"`"),"'")};`:""].join("")}deleteQuery(e,t,r={},n){d.defaults(r,this.options);let i=this.getWhereConditions(t,null,n,r);return i&&(i=`WHERE ${i}`),r.limit&&(i=`WHERE rowid IN (SELECT rowid FROM ${this.quoteTable(e)} ${i} LIMIT ${this.escape(r.limit)})`),`DELETE FROM ${this.quoteTable(e)} ${i}`}attributesToSQL(e){const t={};for(const r in e){const n=e[r],i=n.field||r;if(d.isObject(n)){let e=n.type.toString();if(Object.prototype.hasOwnProperty.call(n,"allowNull")&&!n.allowNull&&(e+=" NOT NULL"),l.defaultValueSchemable(n.defaultValue)&&(e+=` DEFAULT ${this.escape(n.defaultValue,n)}`),!0===n.unique&&(e+=" UNIQUE"),n.primaryKey&&(e+=" PRIMARY KEY",n.autoIncrement&&(e+=" AUTOINCREMENT")),n.references){const t=this.quoteTable(n.references.model);let r;r=n.references.key?this.quoteIdentifier(n.references.key):this.quoteIdentifier("id"),e+=` REFERENCES ${t} (${r})`,n.onDelete&&(e+=` ON DELETE ${n.onDelete.toUpperCase()}`),n.onUpdate&&(e+=` ON UPDATE ${n.onUpdate.toUpperCase()}`)}t[i]=e}else t[i]=n}return t}showIndexesQuery(e){return`PRAGMA INDEX_LIST(${this.quoteTable(e)})`}showConstraintsQuery(e,t){let r=`SELECT sql FROM sqlite_master WHERE tbl_name='${e}'`;return t&&(r+=` AND sql LIKE '%${t}%'`),`${r};`}removeIndexQuery(e,t){let r=t;return"string"!=typeof r&&(r=l.underscore(`${e}_${t.join("_")}`)),`DROP INDEX IF EXISTS ${this.quoteIdentifier(r)}`}describeTableQuery(e,t,r){const n={_schema:t,_schemaDelimiter:r,tableName:e};return`PRAGMA TABLE_INFO(${this.quoteTable(this.addSchema(n))});`}describeCreateTableQuery(e){return`SELECT sql FROM sqlite_master WHERE tbl_name='${e}';`}removeColumnQuery(e,t){let r;t=this.attributesToSQL(t),r="object"==typeof e?{tableName:`${e.tableName}_backup`,schema:e.schema}:`${e}_backup`;const n=this.quoteTable(e),i=this.quoteTable(r),o=Object.keys(t).map((e=>this.quoteIdentifier(e))).join(", ");return`${this.createTableQuery(r,t)}INSERT INTO ${i} SELECT ${o} FROM ${n};DROP TABLE ${n};${this.createTableQuery(e,t)}INSERT INTO ${n} SELECT ${o} FROM ${i};DROP TABLE ${i};`}_alterConstraintQuery(e,t,r){let n;t=this.attributesToSQL(t),n="object"==typeof e?{tableName:`${e.tableName}_backup`,schema:e.schema}:`${e}_backup`;const i=this.quoteTable(e),o=this.quoteTable(n),a=Object.keys(t).map((e=>this.quoteIdentifier(e))).join(", ");return`${r.replace(`CREATE TABLE ${i}`,`CREATE TABLE ${o}`).replace(`CREATE TABLE ${i.replace(/`/g,'"')}`,`CREATE TABLE ${o}`)}INSERT INTO ${o} SELECT ${a} FROM ${i};DROP TABLE ${i};ALTER TABLE ${o} RENAME TO ${i};`}renameColumnQuery(e,t,r,n){let i;n=this.attributesToSQL(n),i="object"==typeof e?{tableName:`${e.tableName}_backup`,schema:e.schema}:`${e}_backup`;const o=this.quoteTable(e),a=this.quoteTable(i),s=Object.keys(n).map((e=>r===e?`${this.quoteIdentifier(t)} AS ${this.quoteIdentifier(e)}`:this.quoteIdentifier(e))).join(", "),c=Object.keys(n).map((e=>this.quoteIdentifier(e))).join(", ");return`${this.createTableQuery(i,n)}INSERT INTO ${a} SELECT ${s} FROM ${o};DROP TABLE ${o};${this.createTableQuery(e,n)}INSERT INTO ${o} SELECT ${c} FROM ${a};DROP TABLE ${a};`}startTransactionQuery(e){return e.parent?`SAVEPOINT ${this.quoteIdentifier(e.name)};`:`BEGIN ${e.options.type} TRANSACTION;`}setIsolationLevelQuery(e){switch(e){case p.ISOLATION_LEVELS.REPEATABLE_READ:return"-- SQLite is not able to choose the isolation level REPEATABLE READ.";case p.ISOLATION_LEVELS.READ_UNCOMMITTED:return"PRAGMA read_uncommitted = ON;";case p.ISOLATION_LEVELS.READ_COMMITTED:return"PRAGMA read_uncommitted = OFF;";case p.ISOLATION_LEVELS.SERIALIZABLE:return"-- SQLite's default isolation level is SERIALIZABLE. Nothing to do.";default:throw new Error(`Unknown isolation level: ${e}`)}}replaceBooleanDefaults(e){return e.replace(/DEFAULT '?false'?/g,"DEFAULT 0").replace(/DEFAULT '?true'?/g,"DEFAULT 1")}getForeignKeysQuery(e){return`PRAGMA foreign_key_list(${this.quoteTable(this.addSchema(e))})`}tableExistsQuery(e){return`SELECT name FROM sqlite_master WHERE type='table' AND name=${this.escape(this.addSchema(e))};`}quoteIdentifier(e,t){return l.addTicks(l.removeTicks(e,"`"),"`")}}},2236:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e},p=(e,t)=>i(e,o(t));const d=r(6797),h=r(9209),{QueryInterface:f}=r(9646),{cloneDeep:m}=r(3588),g=r(7825);t.SQLiteQueryInterface=class extends f{async removeColumn(e,t,r){r=r||{};const n=await this.describeTable(e,r);delete n[t];const i=this.queryGenerator.removeColumnQuery(e,n).split(";").filter((e=>""!==e));for(const e of i)await this.sequelize.query(`${e};`,l({raw:!0},r))}async changeColumn(e,t,r,n){n=n||{};const i=await this.describeTable(e,n);Object.assign(i[t],this.normalizeAttribute(r));const o=this.queryGenerator.removeColumnQuery(e,i).split(";").filter((e=>""!==e));for(const e of o)await this.sequelize.query(`${e};`,l({raw:!0},n))}async renameColumn(e,t,r,n){n=n||{};const i=await this.assertTableHasColumn(e,t,n);i[r]=l({},i[t]),delete i[t];const o=this.queryGenerator.renameColumnQuery(e,t,r,i).split(";").filter((e=>""!==e));for(const e of o)await this.sequelize.query(`${e};`,l({raw:!0},n))}async removeConstraint(e,t,r){let n;const i=(await this.showConstraint(e,t)).find((e=>e.constraintName===t));if(!i)throw new d.UnknownConstraintError({message:`Constraint ${t} on table ${e} does not exist`,constraint:t,table:e});n=i.sql,i.constraintName=this.queryGenerator.quoteIdentifier(i.constraintName);let o=`, CONSTRAINT ${i.constraintName} ${i.constraintType} ${i.constraintCondition}`;if("FOREIGN KEY"===i.constraintType){const e=this.queryGenerator.quoteTable(i.referenceTableName);i.referenceTableKeys=i.referenceTableKeys.map((e=>this.queryGenerator.quoteIdentifier(e))),o+=` REFERENCES ${e} (${i.referenceTableKeys.join(", ")})`,o+=` ON UPDATE ${i.updateAction}`,o+=` ON DELETE ${i.deleteAction}`}n=n.replace(o,""),n+=";";const a=await this.describeTable(e,r),s=this.queryGenerator._alterConstraintQuery(e,a,n).split(";").filter((e=>""!==e));for(const e of s)await this.sequelize.query(`${e};`,l({raw:!0},r))}async addConstraint(e,t){if(!t.fields)throw new Error("Fields must be specified through options.fields");if(!t.type)throw new Error("Constraint type must be specified through options.type");t=m(t);const r=this.queryGenerator.getConstraintSnippet(e,t),n=this.queryGenerator.describeCreateTableQuery(e);let i=(await this.sequelize.query(n,p(l({},t),{type:h.SELECT,raw:!0})))[0].sql;const o=i.length-1,a=`${i.substr(0,o)}, ${r})${i.substr(o+1)};`,s=await this.describeTable(e,t);i=this.queryGenerator._alterConstraintQuery(e,s,a);const c=i.split(";").filter((e=>""!==e));for(const e of c)await this.sequelize.query(`${e};`,l({raw:!0},t))}async getForeignKeyReferencesForTable(e,t){const r=this.sequelize.config.database,n=this.queryGenerator.getForeignKeysQuery(e,r);return(await this.sequelize.query(n,t)).map((t=>({tableName:e,columnName:t.from,referencedTableName:t.table,referencedColumnName:t.to,tableCatalog:r,referencedTableCatalog:r})))}async dropAllTables(e){const t=(e=e||{}).skip||[],r=await this.showAllTables(e);await this.sequelize.query("PRAGMA foreign_keys = OFF",e),await this._dropAllTables(r,t,e),await this.sequelize.query("PRAGMA foreign_keys = ON",e)}async describeTable(e,t){let r=null,n=null;"string"==typeof t?r=t:"object"==typeof t&&null!==t&&(r=t.schema||null,n=t.schemaDelimiter||null),"object"==typeof e&&null!==e&&(r=e.schema,e=e.tableName);const i=this.queryGenerator.describeTableQuery(e,r,n);t=p(l({},t),{type:h.DESCRIBE});const o=this.queryGenerator.showIndexesQuery(e);try{const r=await this.sequelize.query(i,t);if(g.isEmpty(r))throw new Error(`No description found for "${e}" table. Check the table name and schema; remember, they _are_ case sensitive.`);const n=await this.sequelize.query(o,t);for(const e in r)r[e].unique=!1;for(const e of n)for(const t of e.fields)void 0!==e.unique&&(r[t.attribute].unique=e.unique);const a=await this.getForeignKeyReferencesForTable(e,t);for(const e of a)r[e.columnName].references={model:e.referencedTableName,key:e.referencedColumnName};return r}catch(t){if(t.original&&"ER_NO_SUCH_TABLE"===t.original.code)throw new Error(`No description found for "${e}" table. Check the table name and schema; remember, they _are_ case sensitive.`);throw t}}}},7330:(e,t,r)=>{"use strict";const n=r(7825),i=r(3588),o=r(6524),a=r(9209),s=r(6797),c=r(2861)("sqlite"),{logger:u}=r(5275),l=u.debugContext("sql:sqlite");function p(e){return"bigint"==typeof e?e.toString():e}class d extends o{getInsertIdField(){return"lastID"}static formatBindParameters(e,t,r){let n;if(Array.isArray(t))n={},t.forEach(((e,t)=>{n[`$${t+1}`]=e})),e=o.formatBindParameters(e,t,r,{skipValueReplace:!0})[0];else{if(n={},"object"==typeof t)for(const e of Object.keys(t))n[`$${e}`]=t[e];e=o.formatBindParameters(e,t,r,{skipValueReplace:!0})[0]}return[e,n]}_collectModels(e,t){const r={};if(e)for(const i of e){let e;e=t?`${t}.${i.as}`:i.as,r[e]=i.model,i.include&&n.merge(r,this._collectModels(i.include,e))}return r}_handleQueryResponse(e,t,r,i,o){if(r)throw r.sql=this.sql,this.formatError(r,o);let s=this.instance;if((this.isInsertQuery(i,e)||this.isUpsertQuery())&&(this.handleInsertQuery(i,e),!this.instance))if("Statement"===e.constructor.name&&this.model&&this.model.autoIncrementAttribute&&this.model.autoIncrementAttribute===this.model.primaryKeyAttribute&&this.model.rawAttributes[this.model.primaryKeyAttribute]){const t=e[this.getInsertIdField()]-e.changes+1;s=[];for(let r=t;r<t+e.changes;r++)s.push({[this.model.rawAttributes[this.model.primaryKeyAttribute].field]:r})}else s=e[this.getInsertIdField()];if(this.isShowTablesQuery())return i.map((e=>e.name));if(this.isShowConstraintsQuery())return s=i,i&&i[0]&&i[0].sql&&(s=this.parseConstraintsFromSql(i[0].sql)),s;if(this.isSelectQuery()){if(this.options.raw)return this.handleSelectQuery(i);const e=this._collectModels(this.options.include);return i=i.map((r=>n.mapValues(r,((r,i)=>{let o;if(i.includes(".")){const t=i.lastIndexOf(".");o=e[i.substr(0,t)],i=i.substr(t+1)}else o=this.options.model;const a=o.getTableName().toString().replace(/`/g,""),s=t[a]||{};return s&&!(i in s)&&n.forOwn(o.rawAttributes,((e,t)=>{if(i===t&&e.field)return i=e.field,!1})),Object.prototype.hasOwnProperty.call(s,i)?this.applyParsers(s[i],r):r})))),this.handleSelectQuery(i)}if(this.isShowOrDescribeQuery())return i;if(this.sql.includes("PRAGMA INDEX_LIST"))return this.handleShowIndexesQuery(i);if(this.sql.includes("PRAGMA INDEX_INFO"))return i;if(this.sql.includes("PRAGMA TABLE_INFO")){let e;s={};for(const t of i)e=null===t.dflt_value?void 0:"NULL"===t.dflt_value?null:t.dflt_value,s[t.name]={type:t.type,allowNull:0===t.notnull,defaultValue:e,primaryKey:0!==t.pk},"TINYINT(1)"===s[t.name].type&&(s[t.name].defaultValue={0:!1,1:!0}[s[t.name].defaultValue]),"string"==typeof s[t.name].defaultValue&&(s[t.name].defaultValue=s[t.name].defaultValue.replace(/'/g,""));return s}return this.sql.includes("PRAGMA foreign_keys;")?i[0]:this.sql.includes("PRAGMA foreign_keys")||this.sql.includes("PRAGMA foreign_key_list")?i:[a.BULKUPDATE,a.BULKDELETE].includes(this.options.type)?e.changes:this.options.type===a.VERSION?i[0].version:this.options.type===a.RAW?[i,e]:this.isUpsertQuery()?[s,null]:this.isUpdateQuery()||this.isInsertQuery()?[s,e.changes]:s}async run(e,t){const r=this.connection;this.sql=e;const i=this.getDatabaseMethod(),o=this._logQuery(e,l,t);return new Promise(((a,s)=>r.serialize((async()=>{const c={},u=new Error,l=()=>{if(e.startsWith("-- "))return a();const l=this;if(t||(t=[]),n.isPlainObject(t)){const e=Object.create(null);for(const r of Object.keys(t))e[`${r}`]=p(t[r]);t=e}else t=t.map(p);return r[i](e,t,(function(e,t){try{return o(),void a(l._handleQueryResponse(this,c,e,t,u.stack))}catch(e){s(e)}})),null};if("all"===this.getDatabaseMethod()){let e=[];if(this.options&&this.options.tableNames?e=this.options.tableNames:/FROM `(.*?)`/i.exec(this.sql)&&e.push(/FROM `(.*?)`/i.exec(this.sql)[1]),e=e.filter((e=>!(e in c)&&"sqlite_master"!==e)),!e.length)return l();await Promise.all(e.map((e=>new Promise((t=>{e=e.replace(/`/g,""),c[e]={},r.all(`PRAGMA table_info(\`${e}\`)`,((r,n)=>{if(!r)for(const t of n)c[e][t.name]=t.type;t()}))})))))}return l()}))))}parseConstraintsFromSql(e){let t,r,n,o,a=e.split("CONSTRAINT ");return a.splice(0,1),a=a.map((a=>{if(a.includes("REFERENCES")){n=a.match(/ON UPDATE (CASCADE|SET NULL|RESTRICT|NO ACTION|SET DEFAULT){1}/),o=a.match(/ON DELETE (CASCADE|SET NULL|RESTRICT|NO ACTION|SET DEFAULT){1}/),n&&(n=n[1]),o&&(o=o[1]);const e=/REFERENCES.+\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\)/,s=a.match(e)[0].split(" ");t=i.removeTicks(s[1]);let c=s[2];c=c.replace(/\(|\)/g,"").split(", "),r=c.map((e=>i.removeTicks(e)))}const s=a.match(/\((?:[^)(]+|\((?:[^)(]+|\([^)(]*\))*\))*\)/)[0],c=(a=a.replace(/\(.+\)/,"")).split(" ");return["PRIMARY","FOREIGN"].includes(c[1])&&(c[1]+=" KEY"),{constraintName:i.removeTicks(c[0]),constraintType:c[1],updateAction:n,deleteAction:o,sql:e.replace(/"/g,"`"),constraintCondition:s,referenceTableName:t,referenceTableKeys:r}})),a}applyParsers(e,t){e.includes("(")&&(e=e.substr(0,e.indexOf("("))),e=(e=e.replace("UNSIGNED","").replace("ZEROFILL","")).trim().toUpperCase();const r=c.get(e);return null!==t&&r?r(t,{timezone:this.sequelize.options.timezone}):t}formatError(e,t){switch(e.code){case"SQLITE_CONSTRAINT_UNIQUE":case"SQLITE_CONSTRAINT_PRIMARYKEY":case"SQLITE_CONSTRAINT_TRIGGER":case"SQLITE_CONSTRAINT_FOREIGNKEY":case"SQLITE_CONSTRAINT":{if(e.message.includes("FOREIGN KEY constraint failed"))return new s.ForeignKeyConstraintError({parent:e,stack:t});let r=[],i=e.message.match(/columns (.*?) are/);null!==i&&i.length>=2?r=i[1].split(", "):(i=e.message.match(/UNIQUE constraint failed: (.*)/),null!==i&&i.length>=2&&(r=i[1].split(", ").map((e=>e.split(".")[1]))));const o=[];let a="Validation error";for(const e of r)o.push(new s.ValidationErrorItem(this.getUniqueConstraintErrorMessage(e),"unique violation",e,this.instance&&this.instance[e],this.instance,"not_unique"));return this.model&&n.forOwn(this.model.uniqueKeys,(e=>{if(n.isEqual(e.fields,r)&&e.msg)return a=e.msg,!1})),new s.UniqueConstraintError({message:a,errors:o,parent:e,fields:r,stack:t})}case"SQLITE_BUSY":return new s.TimeoutError(e,{stack:t});default:return new s.DatabaseError(e,{stack:t})}}async handleShowIndexesQuery(e){return Promise.all(e.reverse().map((async e=>{e.fields=[],e.primary=!1,e.unique=!!e.unique,e.constraintName=e.name;const t=await this.run(`PRAGMA INDEX_INFO(\`${e.name}\`)`);for(const r of t)e.fields[r.seqno]={attribute:r.name,length:void 0,order:void 0};return e})))}getDatabaseMethod(){return this.isInsertQuery()||this.isUpdateQuery()||this.isUpsertQuery()||this.isBulkUpdateQuery()||this.sql.toLowerCase().includes("CREATE TEMPORARY TABLE".toLowerCase())||this.options.type===a.BULKDELETE?"run":"all"}}e.exports=d,e.exports.Query=d,e.exports.default=d},2216:(e,t)=>{var r=Object.defineProperty;async function n(e,t,r){try{return await e.query("PRAGMA foreign_keys = OFF",t),await r()}finally{await e.query("PRAGMA foreign_keys = ON",t)}}((e,t)=>{for(var n in(e=>{r(e,"__esModule",{value:!0})})(e),t)r(e,n,{get:t[n],enumerable:!0})})(t,{withSqliteForeignKeysOff:()=>n})},3201:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(2523),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){var t,r;super(),((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(this,"symbol"!=typeof(t="errors")?t+"":t,r),this.errors=e,this.name="AggregateError"}toString(){return`AggregateError of:\n${this.errors.map((e=>e===this?"[Circular AggregateError]":e instanceof d?String(e).replace(/\n$/,"").replace(/^/gm,"  "):String(e).replace(/^/gm,"    ").substring(2))).join("\n")}\n`}}var h=d},7429:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(2523),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeAssociationError"}}var h=d},2523:(e,t)=>{var r=Object.defineProperty;((e,t)=>{for(var n in(e=>{r(e,"__esModule",{value:!0})})(e),t)r(e,n,{get:t[n],enumerable:!0})})(t,{default:()=>i});class n extends Error{constructor(e){super(e),this.name="SequelizeBaseError"}}var i=n},9232:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0}),l=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>f});var p,d=(p=r(2523),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=p?n(s(p)):{},"default",p&&p.__esModule&&"default"in p?{get:()=>p.default,enumerable:!0}:{value:p,enumerable:!0})),p));class h extends d.default{constructor(e,t){super(e.message),l(this,"errors"),l(this,"record"),this.name="SequelizeBulkRecordError",this.errors=e,this.record=t}}var f=h},7650:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0}),l=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>f});var p,d=(p=r(2523),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=p?n(s(p)):{},"default",p&&p.__esModule&&"default"in p?{get:()=>p.default,enumerable:!0}:{value:p,enumerable:!0})),p));class h extends d.default{constructor(e){super(e?e.message:""),l(this,"parent"),l(this,"original"),this.name="SequelizeConnectionError",this.parent=e,this.original=e}}var f=h},3227:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(7650),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeAccessDeniedError"}}var h=d},2224:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(7650),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeConnectionAcquireTimeoutError"}}var h=d},5190:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(7650),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeConnectionRefusedError"}}var h=d},9564:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(7650),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeConnectionTimedOutError"}}var h=d},1616:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(7650),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeHostNotFoundError"}}var h=d},2815:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(7650),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeHostNotReachableError"}}var h=d},9241:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(7650),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeInvalidConnectionError"}}var h=d},5051:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0}),l=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>f});var p,d=(p=r(2523),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=p?n(s(p)):{},"default",p&&p.__esModule&&"default"in p?{get:()=>p.default,enumerable:!0}:{value:p,enumerable:!0})),p));class h extends d.default{constructor(e,t={}){var r;super(e.message),l(this,"parent"),l(this,"original"),l(this,"sql"),l(this,"parameters"),this.name="SequelizeDatabaseError",this.parent=e,this.original=e,this.sql=e.sql,this.parameters=null!=(r=e.parameters)?r:{},t.stack&&(this.stack=t.stack)}}var f=h},1640:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0}),l=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>f});var p,d=(p=r(5051),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=p?n(s(p)):{},"default",p&&p.__esModule&&"default"in p?{get:()=>p.default,enumerable:!0}:{value:p,enumerable:!0})),p));class h extends d.default{constructor(e){(e=e||{}).parent=e.parent||{sql:"",name:"",message:""},super(e.parent,{stack:e.stack}),l(this,"constraint"),l(this,"fields"),l(this,"table"),this.name="SequelizeExclusionConstraintError",this.message=e.message||e.parent.message||"",this.constraint=e.constraint,this.fields=e.fields,this.table=e.table}}var f=h},730:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0}),l=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{RelationshipType:()=>h,default:()=>m});var p,d=(p=r(5051),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=p?n(s(p)):{},"default",p&&p.__esModule&&"default"in p?{get:()=>p.default,enumerable:!0}:{value:p,enumerable:!0})),p)),h=(e=>(e.parent="parent",e.child="child",e))(h||{});class f extends d.default{constructor(e){(e=e||{}).parent=e.parent||{sql:"",name:"",message:""},super(e.parent,{stack:e.stack}),l(this,"table"),l(this,"fields"),l(this,"value"),l(this,"index"),l(this,"reltype"),this.name="SequelizeForeignKeyConstraintError",this.message=e.message||e.parent.message||"Database Error",this.fields=e.fields,this.table=e.table,this.value=e.value,this.index=e.index,this.reltype=e.reltype}}var m=f},767:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(5051),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e,t={}){super(e,t),this.name="SequelizeTimeoutError"}}var h=d},3062:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0}),l=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>f});var p,d=(p=r(5051),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=p?n(s(p)):{},"default",p&&p.__esModule&&"default"in p?{get:()=>p.default,enumerable:!0}:{value:p,enumerable:!0})),p));class h extends d.default{constructor(e){(e=e||{}).parent=e.parent||{sql:"",name:"",message:""},super(e.parent,{stack:e.stack}),l(this,"constraint"),l(this,"fields"),l(this,"table"),this.name="SequelizeUnknownConstraintError",this.message=e.message||"The specified constraint does not exist",this.constraint=e.constraint,this.fields=e.fields,this.table=e.table}}var f=h},4339:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(2523),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeEagerLoadingError"}}var h=d},3555:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(2523),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeEmptyResultError"}}var h=d},6797:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0}),l=e=>((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=e?n(s(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{AccessDeniedError:()=>S.default,AggregateError:()=>h.default,AssociationError:()=>f.default,AsyncQueueError:()=>q.AsyncQueueError,BaseError:()=>p.default,BulkRecordError:()=>m.default,ConnectionAcquireTimeoutError:()=>_.default,ConnectionError:()=>g.default,ConnectionRefusedError:()=>k.default,ConnectionTimedOutError:()=>I.default,DatabaseError:()=>d.default,EagerLoadingError:()=>y.default,EmptyResultError:()=>v.default,ExclusionConstraintError:()=>N.default,ForeignKeyConstraintError:()=>R.default,HostNotFoundError:()=>T.default,HostNotReachableError:()=>C.default,InstanceError:()=>b.default,InvalidConnectionError:()=>O.default,OptimisticLockError:()=>E.default,QueryError:()=>w.default,SequelizeScopeError:()=>A.default,TimeoutError:()=>P.default,UniqueConstraintError:()=>M.default,UnknownConstraintError:()=>L.default,ValidationError:()=>x.default,ValidationErrorItem:()=>x.ValidationErrorItem,ValidationErrorItemOrigin:()=>x.ValidationErrorItemOrigin,ValidationErrorItemType:()=>x.ValidationErrorItemType});var p=l(r(2523)),d=l(r(5051)),h=l(r(3201)),f=l(r(7429)),m=l(r(9232)),g=l(r(7650)),y=l(r(4339)),v=l(r(3555)),b=l(r(8285)),E=l(r(5181)),w=l(r(3002)),A=l(r(3068)),x=l(r(8129)),S=l(r(3227)),_=l(r(2224)),k=l(r(5190)),I=l(r(9564)),T=l(r(1616)),C=l(r(2815)),O=l(r(9241)),N=l(r(1640)),R=l(r(730)),P=l(r(767)),L=l(r(3062)),M=l(r(1371)),q=l(r(2112))},8285:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(2523),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeInstanceError"}}var h=d},5181:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0}),l=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>f});var p,d=(p=r(2523),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=p?n(s(p)):{},"default",p&&p.__esModule&&"default"in p?{get:()=>p.default,enumerable:!0}:{value:p,enumerable:!0})),p));class h extends d.default{constructor(e){(e=e||{}).message=e.message||`Attempting to update a stale model instance: ${e.modelName}`,super(e.message),l(this,"modelName"),l(this,"values"),l(this,"where"),this.name="SequelizeOptimisticLockError",this.modelName=e.modelName,this.values=e.values,this.where=e.where}}var f=h},3002:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(2523),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeQueryError"}}var h=d},3068:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>h});var l,p=(l=r(2523),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));class d extends p.default{constructor(e){super(e),this.name="SequelizeScopeError"}}var h=d},8129:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0}),l=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{ValidationErrorItem:()=>m,ValidationErrorItemOrigin:()=>f,ValidationErrorItemType:()=>h,default:()=>y});var p,d=(p=r(2523),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=p?n(s(p)):{},"default",p&&p.__esModule&&"default"in p?{get:()=>p.default,enumerable:!0}:{value:p,enumerable:!0})),p)),h=(e=>(e["notnull violation"]="CORE",e["string violation"]="CORE",e["unique violation"]="DB",e["validation error"]="FUNCTION",e))(h||{}),f=(e=>(e.CORE="CORE",e.DB="DB",e.FUNCTION="FUNCTION",e))(f||{});class m{constructor(e,t,r,n,i,o,a,s){if(l(this,"message"),l(this,"type"),l(this,"path"),l(this,"value"),l(this,"origin"),l(this,"instance"),l(this,"validatorKey"),l(this,"validatorName"),l(this,"validatorArgs"),this.message=e||"",this.type=null,this.path=r||null,this.value=void 0!==n?n:null,this.origin=null,this.instance=i||null,this.validatorKey=o||null,this.validatorName=a||null,this.validatorArgs=s||[],t)if(this.isValidationErrorItemOrigin(t))this.origin=t;else{const e=this.normalizeString(t),r=h[e];r&&f[r]&&(this.origin=r,this.type=t)}}isValidationErrorItemOrigin(e){return void 0!==f[e]}normalizeString(e){return e.toLowerCase().trim()}getValidatorKey(e,t){const r=void 0===e||!!e,n=void 0===t?".":t,i=this.origin,o=this.validatorKey||this.validatorName,a=r&&i&&f[i];if(a&&("string"!=typeof n||!n.length))throw new Error("Invalid namespace separator given, must be a non-empty string");return"string"==typeof o&&o.length?(a?[this.origin,o].join(n):o).toLowerCase().trim():""}}l(m,"TypeStringMap",h),l(m,"Origins",f);class g extends d.default{constructor(e,t,r={}){super(e),l(this,"errors"),this.name="SequelizeValidationError",this.message="Validation Error",this.errors=t||[],e?this.message=e:this.errors.length>0&&this.errors[0].message&&(this.message=this.errors.map((e=>`${e.type||e.origin}: ${e.message}`)).join(",\n")),r.stack&&(this.stack=r.stack)}get(e){return this.errors.reduce(((t,r)=>(r.path===e&&t.push(r),t)),[])}}var y=g},1371:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0}),l=(e,t,r)=>(((e,t,r)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{default:()=>f});var p,d=(p=r(8129),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=p?n(s(p)):{},"default",p&&p.__esModule&&"default"in p?{get:()=>p.default,enumerable:!0}:{value:p,enumerable:!0})),p));class h extends d.default{constructor(e){var t,r,n;(e=null!=e?e:{}).parent=null!=(t=e.parent)?t:{sql:"",name:"",message:""},e.message=e.message||e.parent.message||"Validation Error",e.errors=null!=(r=e.errors)?r:[],super(e.message,e.errors,{stack:e.stack}),l(this,"parent"),l(this,"original"),l(this,"fields"),l(this,"sql"),this.name="SequelizeUniqueConstraintError",this.fields=null!=(n=e.fields)?n:{},this.parent=e.parent,this.original=e.parent,this.sql=e.parent.sql}}var f=h},7037:(e,t,r)=>{"use strict";const n=r(7825),{logger:i}=r(5275),o=i.debugContext("hooks"),a={beforeValidate:{params:2},afterValidate:{params:2},validationFailed:{params:3},beforeCreate:{params:2},afterCreate:{params:2},beforeDestroy:{params:2},afterDestroy:{params:2},beforeRestore:{params:2},afterRestore:{params:2},beforeUpdate:{params:2},afterUpdate:{params:2},beforeSave:{params:2,proxies:["beforeUpdate","beforeCreate"]},afterSave:{params:2,proxies:["afterUpdate","afterCreate"]},beforeUpsert:{params:2},afterUpsert:{params:2},beforeBulkCreate:{params:2},afterBulkCreate:{params:2},beforeBulkDestroy:{params:1},afterBulkDestroy:{params:1},beforeBulkRestore:{params:1},afterBulkRestore:{params:1},beforeBulkUpdate:{params:1},afterBulkUpdate:{params:1},beforeFind:{params:1},beforeFindAfterExpandIncludeAll:{params:1},beforeFindAfterOptions:{params:1},afterFind:{params:2},beforeCount:{params:1},beforeDefine:{params:2,sync:!0,noModel:!0},afterDefine:{params:1,sync:!0,noModel:!0},beforeInit:{params:2,sync:!0,noModel:!0},afterInit:{params:1,sync:!0,noModel:!0},beforeAssociate:{params:2,sync:!0},afterAssociate:{params:2,sync:!0},beforeConnect:{params:1,noModel:!0},afterConnect:{params:2,noModel:!0},beforeDisconnect:{params:1,noModel:!0},afterDisconnect:{params:1,noModel:!0},beforePoolAcquire:{params:1,noModel:!0},afterPoolAcquire:{params:2,noModel:!0},beforeSync:{params:1},afterSync:{params:1},beforeBulkSync:{params:1},afterBulkSync:{params:1},beforeQuery:{params:2},afterQuery:{params:2}};t.hooks=a;const s=e=>a[e].proxies?a[e].proxies.concat(e):[e];function c(e,t){return(e.options.hooks||{})[t]||[]}const u={_setupHooks(e){this.options.hooks={},n.map(e||{},((e,t)=>{Array.isArray(e)||(e=[e]),e.forEach((e=>this.addHook(t,e)))}))},async runHooks(e,...t){if(!e)throw new Error("runHooks requires at least 1 argument");let r;if("string"==typeof e&&(r=e,e=c(this,r),this.sequelize&&(e=e.concat(c(this.sequelize,r)))),Array.isArray(e)||(e=[e]),a[r]&&a[r].sync)for(let n of e)"object"==typeof n&&(n=n.fn),o(`running hook(sync) ${r}`),n.apply(this,t);else for(let n of e)"object"==typeof n&&(n=n.fn),o(`running hook ${r}`),await n.apply(this,t)},addHook(e,t,r){return"function"==typeof t&&(r=t,t=null),o(`adding hook ${e}`),(e=s(e)).forEach((e=>{const n=c(this,e);n.push(t?{name:t,fn:r}:r),this.options.hooks[e]=n})),this},removeHook(e,t){const r="function"==typeof t;if(!this.hasHook(e))return this;o(`removing hook ${e}`),e=s(e);for(const n of e)this.options.hooks[n]=this.options.hooks[n].filter((e=>r&&"function"==typeof e?e!==t:!(!r&&"object"==typeof e)||e.name!==t));return this},hasHook(e){return this.options.hooks[e]&&!!this.options.hooks[e].length}};u.hasHooks=u.hasHook,t.applyTo=function(e,t=!1){n.mixin(e,u);for(const r of Object.keys(a))t&&a[r].noModel||(e[r]=function(e,t){return this.addHook(r,e,t)})}},9670:e=>{"use strict";e.exports={USE:"USE",FORCE:"FORCE",IGNORE:"IGNORE"}},5225:(e,t,r)=>{"use strict";e.exports=r(5150)},9697:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const c=r(7825),u=r(3588),l=r(6797),p=r(2869),d=r(1878),h=r(8893).N,{promisify:f}=r(9023);class m{constructor(e,t){(t=((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({hooks:!0},t)).fields&&!t.skip?t.skip=c.difference(Object.keys(e.constructor.rawAttributes),t.fields):t.skip=t.skip||[],this.options=t,this.modelInstance=e,this.validator=h,this.errors=[],this.inProgress=!1}async _validate(){if(this.inProgress)throw new Error("Validations already in progress.");if(this.inProgress=!0,await Promise.all([this._perAttributeValidators(),this._customValidators()]),this.errors.length)throw new l.ValidationError(null,this.errors)}async validate(){return await(this.options.hooks?this._validateAndRunHooks():this._validate())}async _validateAndRunHooks(){const e=this.modelInstance.constructor.runHooks.bind(this.modelInstance.constructor);await e("beforeValidate",this.modelInstance,this.options);try{await this._validate()}catch(t){throw await e("validationFailed",this.modelInstance,this.options,t)||t}return await e("afterValidate",this.modelInstance,this.options),this.modelInstance}async _perAttributeValidators(){const e=[];return c.forIn(this.modelInstance.rawAttributes,((t,r)=>{if(this.options.skip.includes(r))return;const n=this.modelInstance.dataValues[r];n instanceof u.SequelizeMethod||(t._autoGenerated||t.autoIncrement||this._validateSchema(t,r,n),Object.prototype.hasOwnProperty.call(this.modelInstance.validators,r)&&e.push(this._singleAttrValidate(n,r,t.allowNull)))})),await Promise.all(e)}async _customValidators(){const e=[];return c.each(this.modelInstance.constructor.options.validate,((t,r)=>{if(this.options.skip.includes(r))return;const n=this._invokeCustomValidator(t,r).catch((()=>{}));e.push(n)})),await Promise.all(e)}async _singleAttrValidate(e,t,r){if(null==e&&!r)return;const n=[];return c.forIn(this.modelInstance.validators[t],((r,i)=>{if(["isUrl","isURL","isEmail"].includes(i)&&("object"==typeof r&&null!==r&&r.msg?r={msg:r.msg}:!0===r&&(r={})),"function"==typeof r)return void n.push(this._invokeCustomValidator(r,i,!0,e,t));if(null==e)return;const o=this._invokeBuiltinValidator(e,r,i,t);o.catch((()=>{})),n.push(o)})),Promise.all(n.map((r=>r.catch((r=>{const n=!!r.validatorName;this._pushError(n,t,r,e,r.validatorName,r.validatorArgs)})))))}async _invokeCustomValidator(e,t,r,n,i){let o,a=!1,s=1,c=t;if(r&&(s=2,o=n,c=i),e.length===s&&(a=!0),a)try{return r?await f(e.bind(this.modelInstance,o))():await f(e.bind(this.modelInstance))()}catch(e){return this._pushError(!1,c,e,n,t)}try{return await e.call(this.modelInstance,o)}catch(e){return this._pushError(!1,c,e,n,t)}}async _invokeBuiltinValidator(e,t,r,n){const i=String(e);if("function"!=typeof h[r])throw new Error(`Invalid validator function: ${r}`);const o=this._extractValidatorArgs(t,r,n);if(!h[r](i,...o))throw Object.assign(new Error(t.msg||`Validation ${r} on ${n} failed`),{validatorName:r,validatorArgs:o})}_extractValidatorArgs(e,t,r){let n=e.args||e;const i="string"!=typeof n&&["isAlpha","isAlphanumeric","isMobilePhone"].includes(t);return n=Array.isArray(n)?n.slice(0):"isImmutable"===t?[n,r,this.modelInstance]:i||"isIP"===t?[]:[n],n}_validateSchema(e,t,r){if(!1===e.allowNull&&null==r){const n=Object.values(this.modelInstance.constructor.associations).find((t=>t instanceof d&&t.foreignKey===e.fieldName));if(!n||!this.modelInstance.get(n.associationAccessor)){const e=this.modelInstance.validators[t],n=c.get(e,"notNull.msg",`${this.modelInstance.constructor.name}.${t} cannot be null`);this.errors.push(new l.ValidationErrorItem(n,"notNull Violation",t,r,this.modelInstance,"is_null"))}}(e.type instanceof p.STRING||e.type instanceof p.TEXT||e.type instanceof p.CITEXT)&&(!Array.isArray(r)&&(!c.isObject(r)||r instanceof u.SequelizeMethod||Buffer.isBuffer(r))||this.errors.push(new l.ValidationErrorItem(`${t} cannot be an array or an object`,"string violation",t,r,this.modelInstance,"not_a_string")))}_pushError(e,t,r,n,i,o){const a=r.message||r||"Validation error",s=new l.ValidationErrorItem(a,"Validation error",t,n,this.modelInstance,i,e?i:void 0,e?o:void 0);s[m.RAW_KEY_NAME]=r,this.errors.push(s)}}m.RAW_KEY_NAME="original",e.exports=m,e.exports.InstanceValidator=m,e.exports.default=m},2790:(e,t,r)=>{"use strict";const n=r(5985),i=r(7825);class o{constructor(e){this.models=[],this.sequelize=e}addModel(e){return this.models.push(e),this.sequelize.models[e.name]=e,e}removeModel(e){this.models=this.models.filter((t=>t.name!==e.name)),delete this.sequelize.models[e.name]}getModel(e,t){return t=i.defaults(t||{},{attribute:"name"}),this.models.find((r=>r[t.attribute]===e))}findModel(e){return this.models.find(e)}get all(){return this.models}getModelsTopoSortedByForeignKey(){const e=new Map,t=new n;for(const r of this.models){let n=[],o=r.getTableName();i.isObject(o)&&(o=`${o.schema}.${o.tableName}`),e.set(o,r);for(const e in r.rawAttributes)if(Object.prototype.hasOwnProperty.call(r.rawAttributes,e)){const t=r.rawAttributes[e];if(t.references){let e=t.references.model;i.isObject(e)&&(e=`${e.schema}.${e.tableName}`),n.push(e)}}n=n.filter((e=>o!==e)),t.add(o,n)}let r;try{r=t.sort()}catch(e){if(!e.message.startsWith("Cyclic dependency found."))throw e;return null}return r.map((t=>e.get(t))).filter(Boolean)}forEachModel(e,t){const r=this.getModelsTopoSortedByForeignKey();if(null==r)throw new Error("Cyclic dependency found.");(t=i.defaults(t||{},{reverse:!0})).reverse&&r.reverse();for(const t of r)e(t)}}e.exports=o,e.exports.ModelManager=o,e.exports.default=o},7684:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e},p=(e,t)=>i(e,o(t));const d=r(2613),h=r(7825),f=r(4767),m=r(3588),{logger:g}=r(5275),y=r(1878),v=r(1020),b=r(9697),E=r(9209),w=r(6797),A=r(7309),x=r(9244),S=r(2869),_=r(7037),k=r(8867),I=r(4104),{noDoubleNestedGroup:T}=r(6892),C=new Set(["where","attributes","paranoid","include","order","limit","offset","transaction","lock","raw","logging","benchmark","having","searchPath","rejectOnEmpty","plain","scope","group","through","defaults","distinct","primary","exception","type","hooks","force","name"]),O=["include","attributes","originalAttributes","order","where","limit","offset","plain","group","having"];class N{static get queryInterface(){return this.sequelize.getQueryInterface()}static get queryGenerator(){return this.queryInterface.queryGenerator}get sequelize(){return this.constructor.sequelize}constructor(e={},t={}){this.constructor._overwrittenAttributesChecked||(this.constructor._overwrittenAttributesChecked=!0,setTimeout((()=>{const e=[];for(const t of Object.keys(this.constructor._attributeManipulation))Object.prototype.hasOwnProperty.call(this,t)&&e.push(t);e.length>0&&g.warn(`Model ${JSON.stringify(this.constructor.name)} is declaring public class fields for attribute(s): ${e.map((e=>JSON.stringify(e))).join(", ")}.\nThese class fields are shadowing Sequelize's attribute getters & setters.\nSee https://sequelize.org/main/manual/model-basics.html#caveat-with-public-class-fields`)}),0)),(t=l({isNewRecord:!0,_schema:this.constructor._schema,_schemaDelimiter:this.constructor._schemaDelimiter},t)).attributes&&(t.attributes=t.attributes.map((e=>Array.isArray(e)?e[1]:e))),t.includeValidated||(this.constructor._conformIncludes(t,this.constructor),t.include&&(this.constructor._expandIncludeAll(t),this.constructor._validateIncludedElements(t))),this.dataValues={},this._previousDataValues={},this.uniqno=1,this._changed=new Set,this._options=t,this.isNewRecord=t.isNewRecord,this._initValues(e,t)}_initValues(e,t){let r,n;if(e=l({},e),t.isNewRecord)for(n in r={},this.constructor._hasDefaultValues&&(r=h.mapValues(this.constructor._defaultValues,(e=>{const t=e();return t&&t instanceof m.SequelizeMethod?t:h.cloneDeep(t)}))),this.constructor.primaryKeyAttributes.length&&this.constructor.primaryKeyAttributes.forEach((e=>{Object.prototype.hasOwnProperty.call(r,e)||(r[e]=null)})),this.constructor._timestampAttributes.createdAt&&r[this.constructor._timestampAttributes.createdAt]&&(this.dataValues[this.constructor._timestampAttributes.createdAt]=m.toDefaultValue(r[this.constructor._timestampAttributes.createdAt],this.sequelize.options.dialect),delete r[this.constructor._timestampAttributes.createdAt]),this.constructor._timestampAttributes.updatedAt&&r[this.constructor._timestampAttributes.updatedAt]&&(this.dataValues[this.constructor._timestampAttributes.updatedAt]=m.toDefaultValue(r[this.constructor._timestampAttributes.updatedAt],this.sequelize.options.dialect),delete r[this.constructor._timestampAttributes.updatedAt]),this.constructor._timestampAttributes.deletedAt&&r[this.constructor._timestampAttributes.deletedAt]&&(this.dataValues[this.constructor._timestampAttributes.deletedAt]=m.toDefaultValue(r[this.constructor._timestampAttributes.deletedAt],this.sequelize.options.dialect),delete r[this.constructor._timestampAttributes.deletedAt]),r)void 0===e[n]&&(this.set(n,m.toDefaultValue(r[n],this.sequelize.options.dialect),{raw:!0}),delete e[n]);this.set(e,t)}static _paranoidClause(e,t={}){if(t.include)for(const e of t.include)this._paranoidClause(e.model,e);if(h.get(t,"groupedLimit.on.options.paranoid")){const e=h.get(t,"groupedLimit.on.through.model");e&&(t.groupedLimit.through=this._paranoidClause(e,t.groupedLimit.through))}if(!e.options.timestamps||!e.options.paranoid||!1===t.paranoid)return t;const r=e._timestampAttributes.deletedAt,n=e.rawAttributes[r],i={};let o=Object.prototype.hasOwnProperty.call(n,"defaultValue")?n.defaultValue:null;return o=o||{[I.eq]:null},i[n.field||r]=o,m.isWhereEmpty(t.where)?t.where=i:t.where={[I.and]:[i,t.where]},t}static _addDefaultAttributes(){const e={};let t={};if(!h.some(this.rawAttributes,"primaryKey")){if("id"in this.rawAttributes)throw new Error(`A column called 'id' was added to the attributes of '${this.tableName}' but not marked with 'primaryKey: true'`);t={id:{type:new S.INTEGER,allowNull:!1,primaryKey:!0,autoIncrement:!0,_autoGenerated:!0}}}this._timestampAttributes.createdAt&&(e[this._timestampAttributes.createdAt]={type:S.DATE,allowNull:!1,_autoGenerated:!0}),this._timestampAttributes.updatedAt&&(e[this._timestampAttributes.updatedAt]={type:S.DATE,allowNull:!1,_autoGenerated:!0}),this._timestampAttributes.deletedAt&&(e[this._timestampAttributes.deletedAt]={type:S.DATE,_autoGenerated:!0}),this._versionAttribute&&(e[this._versionAttribute]={type:S.INTEGER,allowNull:!1,defaultValue:0,_autoGenerated:!0});const r=l(l({},t),this.rawAttributes);h.each(e,((e,t)=>{void 0===r[t]&&(r[t]=e)})),this.rawAttributes=r,Object.keys(this.primaryKeys).length||(this.primaryKeys.id=this.rawAttributes.id)}static getAttributes(){return this.rawAttributes}static _findAutoIncrementAttribute(){this.autoIncrementAttribute=null;for(const e in this.rawAttributes)if(Object.prototype.hasOwnProperty.call(this.rawAttributes,e)){const t=this.rawAttributes[e];if(t&&t.autoIncrement){if(this.autoIncrementAttribute)throw new Error("Invalid Instance definition. Only one autoincrement field allowed.");this.autoIncrementAttribute=e}}}static _conformIncludes(e,t){if(e.include){if(Array.isArray(e.include)){if(!e.include.length)return void delete e.include}else e.include=[e.include];e.include=e.include.map((e=>this._conformInclude(e,t)))}}static _transformStringAssociation(e,t){if(t&&"string"==typeof e){if(!Object.prototype.hasOwnProperty.call(t.associations,e))throw new Error(`Association with alias "${e}" does not exist on ${t.name}`);return t.associations[e]}return e}static _conformInclude(e,t){if(e){let r;if(e._pseudo)return e;if((e=this._transformStringAssociation(e,t))instanceof A)return r=t&&e.target.name===t.name?e.source:e.target,{model:r,association:e,as:e.as};if(e.prototype&&e.prototype instanceof N)return{model:e};if(h.isPlainObject(e)){if(e.association)return e.association=this._transformStringAssociation(e.association,t),r=t&&e.association.target.name===t.name?e.association.source:e.association.target,e.model||(e.model=r),e.as||(e.as=e.association.as),this._conformIncludes(e,r),e;if(e.model)return this._conformIncludes(e,e.model),e;if(e.all)return this._conformIncludes(e),e}}throw new Error("Include unexpected. Element has to be either a Model, an Association or an object.")}static _expandIncludeAllElement(e,t){let r=t.all;if(delete t.all,!0!==r){Array.isArray(r)||(r=[r]);const e={BelongsTo:!0,HasOne:!0,HasMany:!0,One:["BelongsTo","HasOne"],Has:["HasOne","HasMany"],Many:["HasMany"]};for(let t=0;t<r.length;t++){const n=r[t];if("All"===n){r=!0;break}const i=e[n];if(!i)throw new w.EagerLoadingError(`include all '${n}' is not valid - must be BelongsTo, HasOne, HasMany, One, Has, Many or All`);if(!0!==i){r.splice(t,1),t--;for(let e=0;e<i.length;e++)r.includes(i[e])||(r.unshift(i[e]),t++)}}}const n=t.nested;n&&(delete t.nested,t.include?Array.isArray(t.include)||(t.include=[t.include]):t.include=[]);const i=[];!function e(o,a){h.forEach(o.associations,(s=>{if(!0!==r&&!r.includes(s.associationType))return;const c=s.target,u=s.options.as,l={model:c};if(u&&(l.as=u),h.some(a,l))return;if(n&&i.includes(c))return;i.push(o);const p=m.cloneDeep(t);p.model=c,u&&(p.as=u),a.push(p),n&&(e(c,p.include),0===p.include.length&&delete p.include)})),i.pop()}(this,e)}static _validateIncludedElements(e,t){e.model||(e.model=this),t=t||{},e.includeNames=[],e.includeMap={},e.hasSingleAssociation=!1,e.hasMultiAssociation=!1,e.parent||(e.topModel=e.model,e.topLimit=e.limit),e.include=e.include.map((r=>((r=this._conformInclude(r)).parent=e,r.topLimit=e.topLimit,this._validateIncludedElement.call(e.model,r,t,e),void 0===r.duplicating&&(r.duplicating=r.association.isMultiAssociation),r.hasDuplicating=r.hasDuplicating||r.duplicating,r.hasRequired=r.hasRequired||r.required,e.hasDuplicating=e.hasDuplicating||r.hasDuplicating,e.hasRequired=e.hasRequired||r.required,e.hasWhere=e.hasWhere||r.hasWhere||!!r.where,r)));for(const t of e.include)t.hasParentWhere=e.hasParentWhere||!!e.where,t.hasParentRequired=e.hasParentRequired||!!e.required,!1!==t.subQuery&&e.hasDuplicating&&e.topLimit?t.duplicating?(t.subQuery=t.subQuery||!1,t.subQueryFilter=t.hasRequired):(t.subQuery=t.hasRequired,t.subQueryFilter=!1):(t.subQuery=t.subQuery||!1,t.duplicating?t.subQueryFilter=t.subQuery:(t.subQueryFilter=!1,t.subQuery=t.subQuery||t.hasParentRequired&&t.hasRequired&&!t.separate)),e.includeMap[t.as]=t,e.includeNames.push(t.as),e.topModel===e.model&&void 0===e.subQuery&&e.topLimit&&(t.subQuery?e.subQuery=t.subQuery:t.hasDuplicating&&(e.subQuery=!0)),e.hasIncludeWhere=e.hasIncludeWhere||t.hasIncludeWhere||!!t.where,e.hasIncludeRequired=e.hasIncludeRequired||t.hasIncludeRequired||!!t.required,(t.association.isMultiAssociation||t.hasMultiAssociation)&&(e.hasMultiAssociation=!0),(t.association.isSingleAssociation||t.hasSingleAssociation)&&(e.hasSingleAssociation=!0);return e.topModel===e.model&&void 0===e.subQuery&&(e.subQuery=!1),e}static _validateIncludedElement(e,t,r){if(t[e.model.getTableName()]=!0,e.attributes&&!r.raw?(e.model._expandAttributes(e),e.originalAttributes=e.model._injectDependentVirtualAttributes(e.attributes),(e=m.mapFinderOptions(e,e.model)).attributes.length&&h.each(e.model.primaryKeys,((t,r)=>{e.attributes.some((e=>t.field!==r?Array.isArray(e)&&e[0]===t.field&&e[1]===r:e===r))||e.attributes.unshift(r)}))):e=m.mapFinderOptions(e,e.model),e._pseudo)return e.attributes||(e.attributes=Object.keys(e.model.tableAttributes)),m.mapFinderOptions(e,e.model);const n=e.association||this._getIncludedAssociation(e.model,e.as);if(e.association=n,e.as=n.as,e.association.through&&Object(e.association.through.model)===e.association.through.model){e.include||(e.include=[]);const r=e.association.through;e.through=h.defaults(e.through||{},{model:r.model,as:r.model.name,association:{isSingleAssociation:!0},_pseudo:!0,parent:e}),r.scope&&(e.through.where=e.through.where?{[I.and]:[e.through.where,r.scope]}:r.scope),e.include.push(e.through),t[r.tableName]=!0}let i;if(i=!0===e.model.scoped?e.model:e.association.target.name===e.model.name?e.association.target:e.association.source,i._injectScope(e),e.attributes||(e.attributes=Object.keys(e.model.tableAttributes)),void 0===(e=m.mapFinderOptions(e,e.model)).required&&(e.required=!!e.where),e.association.scope&&(e.where=e.where?{[I.and]:[e.where,e.association.scope]}:e.association.scope),e.limit&&void 0===e.separate&&(e.separate=!0),!0===e.separate){if(!(e.association instanceof x))throw new Error("Only HasMany associations support include.separate");e.duplicating=!1,r.attributes&&r.attributes.length&&!h.flattenDepth(r.attributes,2).includes(n.sourceKey)&&r.attributes.push(n.sourceKey),e.attributes&&e.attributes.length&&!h.flattenDepth(e.attributes,2).includes(n.foreignKey)&&e.attributes.push(n.foreignKey)}return Object.prototype.hasOwnProperty.call(e,"include")&&this._validateIncludedElements.call(e.model,e,t),e}static _getIncludedAssociation(e,t){const r=this.getAssociations(e);let n=null;if(0===r.length)throw new w.EagerLoadingError(`${e.name} is not associated to ${this.name}!`);if(1===r.length){if(n=this.getAssociationForAlias(e,t),n)return n;if(t){const r=this.getAssociations(e).map((e=>e.as));throw new w.EagerLoadingError(`${e.name} is associated to ${this.name} using an alias. You've included an alias (${t}), but it does not match the alias(es) defined in your association (${r.join(", ")}).`)}throw new w.EagerLoadingError(`${e.name} is associated to ${this.name} using an alias. You must use the 'as' keyword to specify the alias within your include statement.`)}if(n=this.getAssociationForAlias(e,t),!n)throw new w.EagerLoadingError(`${e.name} is associated to ${this.name} multiple times. To identify the correct association, you must use the 'as' keyword to specify the alias of the association you want to include.`);return n}static _expandIncludeAll(e){const t=e.include;if(t){for(let e=0;e<t.length;e++){const r=t[e];r.all&&(t.splice(e,1),e--,this._expandIncludeAllElement(t,r))}t.forEach((e=>{this._expandIncludeAll.call(e.model,e)}))}}static _conformIndex(e){if(!e.fields)throw new Error('Missing "fields" property for index definition');return(e=h.defaults(e,{type:"",parser:null})).type&&"unique"===e.type.toLowerCase()&&(e.unique=!0,delete e.type),e}static _uniqIncludes(e){e.include&&(e.include=h(e.include).groupBy((e=>`${e.model&&e.model.name}-${e.as}`)).map((e=>this._assignOptions(...e))).value())}static _baseMerge(...e){return h.assignWith(...e),this._conformIncludes(e[0],this),this._uniqIncludes(e[0]),e[0]}static _mergeFunction(e,t,r){if(Array.isArray(e)&&Array.isArray(t))return h.union(e,t);if(["where","having"].includes(r)){if(this.options&&"and"===this.options.whereMergeStrategy)return function(e,t){const r=R(e);if(void 0===r)return t;const n=R(t);return void 0===n?e:{[I.and]:h.flatten([r,n])}}(e,t);if(t instanceof m.SequelizeMethod&&(t={[I.and]:t}),h.isPlainObject(e)&&h.isPlainObject(t))return Object.assign(e,t)}else if("attributes"===r&&h.isPlainObject(e)&&h.isPlainObject(t))return h.assignWith(e,t,((e,t)=>{if(Array.isArray(e)&&Array.isArray(t))return h.union(e,t)}));return t?m.cloneDeep(t,!0):void 0===t?e:t}static _assignOptions(...e){return this._baseMerge(...e,this._mergeFunction.bind(this))}static _defaultsOptions(e,t){return this._baseMerge(e,t,((e,t,r)=>this._mergeFunction(t,e,r)))}static init(e,t={}){if(!t.sequelize)throw new Error("No Sequelize instance passed");this.sequelize=t.sequelize;const r=this.sequelize.options;if((t=m.merge(h.cloneDeep(r.define),t)).modelName||(t.modelName=this.name),t=m.merge({name:{plural:m.pluralize(t.modelName),singular:m.singularize(t.modelName)},indexes:[],omitNull:r.omitNull,schema:r.schema},t),this.sequelize.runHooks("beforeDefine",e,t),t.modelName!==this.name&&Object.defineProperty(this,"name",{value:t.modelName}),delete t.modelName,this.options=l({timestamps:!0,validate:{},freezeTableName:!1,underscored:!1,paranoid:!1,rejectOnEmpty:!1,whereCollection:null,schema:null,schemaDelimiter:"",defaultScope:{},scopes:{},indexes:[],whereMergeStrategy:"overwrite"},t),this.sequelize.isDefined(this.name)&&this.sequelize.modelManager.removeModel(this.sequelize.modelManager.getModel(this.name)),this.associations={},this._setupHooks(t.hooks),this.underscored=this.options.underscored,this.options.tableName?this.tableName=this.options.tableName:this.tableName=this.options.freezeTableName?this.name:m.underscoredIf(m.pluralize(this.name),this.underscored),this._schema=this.options.schema,this._schemaDelimiter=this.options.schemaDelimiter,h.each(t.validate,((t,r)=>{if(Object.prototype.hasOwnProperty.call(e,r))throw new Error(`A model validator function must not have the same name as a field. Model: ${this.name}, field/validation name: ${r}`);if("function"!=typeof t)throw new Error(`Members of the validate option must be functions. Model: ${this.name}, error with validate member ${r}`)})),!h.includes(["and","overwrite"],this.options&&this.options.whereMergeStrategy))throw new Error(`Invalid value ${this.options&&this.options.whereMergeStrategy} for whereMergeStrategy. Allowed values are 'and' and 'overwrite'.`);this.rawAttributes=h.mapValues(e,((e,t)=>{if(void 0===(e=this.sequelize.normalizeAttribute(e)).type)throw new Error(`Unrecognized datatype for attribute "${this.name}.${t}"`);if(!1!==e.allowNull&&h.get(e,"validate.notNull"))throw new Error(`Invalid definition for "${this.name}.${t}", "notNull" validator is only allowed with "allowNull:false"`);return h.get(e,"references.model.prototype")instanceof N&&(e.references.model=e.references.model.getTableName()),e}));const n=this.getTableName();if(this._indexes=this.options.indexes.map((e=>m.nameIndex(this._conformIndex(e),n))),this.primaryKeys={},this._readOnlyAttributes=new Set,this._timestampAttributes={},this.options.timestamps){for(const e of["createdAt","updatedAt","deletedAt"]){if(!["undefined","string","boolean"].includes(typeof this.options[e]))throw new Error(`Value for "${e}" option must be a string or a boolean, got ${typeof this.options[e]}`);if(""===this.options[e])throw new Error(`Value for "${e}" option cannot be an empty string`)}!1!==this.options.createdAt&&(this._timestampAttributes.createdAt="string"==typeof this.options.createdAt?this.options.createdAt:"createdAt",this._readOnlyAttributes.add(this._timestampAttributes.createdAt)),!1!==this.options.updatedAt&&(this._timestampAttributes.updatedAt="string"==typeof this.options.updatedAt?this.options.updatedAt:"updatedAt",this._readOnlyAttributes.add(this._timestampAttributes.updatedAt)),this.options.paranoid&&!1!==this.options.deletedAt&&(this._timestampAttributes.deletedAt="string"==typeof this.options.deletedAt?this.options.deletedAt:"deletedAt",this._readOnlyAttributes.add(this._timestampAttributes.deletedAt))}return this.options.version&&(this._versionAttribute="string"==typeof this.options.version?this.options.version:"version",this._readOnlyAttributes.add(this._versionAttribute)),this._hasReadOnlyAttributes=this._readOnlyAttributes.size>0,this._addDefaultAttributes(),this.refreshAttributes(),this._findAutoIncrementAttribute(),this._scope=this.options.defaultScope,this._scopeNames=["defaultScope"],this.sequelize.modelManager.addModel(this),this.sequelize.runHooks("afterDefine",this),this}static refreshAttributes(){const e={};this.prototype._customGetters={},this.prototype._customSetters={},["get","set"].forEach((t=>{const r=`${t}terMethods`,n=l({},this.options[r]),i="get"===t?this.prototype._customGetters:this.prototype._customSetters;h.each(n,((e,r)=>{i[r]=e,"get"===t&&(n[r]=function(){return this.get(r)}),"set"===t&&(n[r]=function(e){return this.set(r,e)})})),h.each(this.rawAttributes,((e,r)=>{Object.prototype.hasOwnProperty.call(e,t)&&(i[r]=e[t]),"get"===t&&(n[r]=function(){return this.get(r)}),"set"===t&&(n[r]=function(e){return this.set(r,e)})})),h.each(n,((r,n)=>{e[n]||(e[n]={configurable:!0}),e[n][t]=r}))})),this._dataTypeChanges={},this._dataTypeSanitizers={},this._hasBooleanAttributes=!1,this._hasDateAttributes=!1,this._jsonAttributes=new Set,this._virtualAttributes=new Set,this._defaultValues={},this.prototype.validators={},this.fieldRawAttributesMap={},this.primaryKeys={},this.uniqueKeys={},h.each(this.rawAttributes,((e,t)=>{if(e.type=this.sequelize.normalizeDataType(e.type),e.Model=this,e.fieldName=t,e._modelAttribute=!0,void 0===e.field&&(e.field=m.underscoredIf(t,this.underscored)),!0===e.primaryKey&&(this.primaryKeys[t]=e),this.fieldRawAttributesMap[e.field]=e,e.type._sanitize&&(this._dataTypeSanitizers[t]=e.type._sanitize),e.type._isChanged&&(this._dataTypeChanges[t]=e.type._isChanged),e.type instanceof S.BOOLEAN?this._hasBooleanAttributes=!0:e.type instanceof S.DATE||e.type instanceof S.DATEONLY?this._hasDateAttributes=!0:e.type instanceof S.JSON?this._jsonAttributes.add(t):e.type instanceof S.VIRTUAL&&this._virtualAttributes.add(t),Object.prototype.hasOwnProperty.call(e,"defaultValue")&&(this._defaultValues[t]=()=>m.toDefaultValue(e.defaultValue,this.sequelize.options.dialect)),Object.prototype.hasOwnProperty.call(e,"unique")&&e.unique){let r;r="object"==typeof e.unique&&Object.prototype.hasOwnProperty.call(e.unique,"name")?e.unique.name:"string"==typeof e.unique?e.unique:`${this.tableName}_${t}_unique`;const n=this.uniqueKeys[r]||{fields:[]};n.fields.push(e.field),n.msg=n.msg||e.unique.msg||null,n.name=r||!1,n.column=t,n.customIndex=!0!==e.unique,this.uniqueKeys[r]=n}Object.prototype.hasOwnProperty.call(e,"validate")&&(this.prototype.validators[t]=e.validate),!0===e.index&&e.type instanceof S.JSONB&&(this._indexes.push(m.nameIndex(this._conformIndex({fields:[e.field||t],using:"gin"}),this.getTableName())),delete e.index)})),this.fieldAttributeMap=h.reduce(this.fieldRawAttributesMap,((e,t,r)=>(r!==t.fieldName&&(e[r]=t.fieldName),e)),{}),this._hasJsonAttributes=!!this._jsonAttributes.size,this._hasVirtualAttributes=!!this._virtualAttributes.size,this._hasDefaultValues=!h.isEmpty(this._defaultValues),this.tableAttributes=h.omitBy(this.rawAttributes,((e,t)=>this._virtualAttributes.has(t))),this.prototype._hasCustomGetters=Object.keys(this.prototype._customGetters).length,this.prototype._hasCustomSetters=Object.keys(this.prototype._customSetters).length;for(const t of Object.keys(e))Object.prototype.hasOwnProperty.call(N.prototype,t)?this.sequelize.log(`Not overriding built-in method from model attribute: ${t}`):Object.defineProperty(this.prototype,t,e[t]);this.prototype.rawAttributes=this.rawAttributes,this.prototype._isAttribute=e=>Object.prototype.hasOwnProperty.call(this.prototype.rawAttributes,e),this.primaryKeyAttributes=Object.keys(this.primaryKeys),this.primaryKeyAttribute=this.primaryKeyAttributes[0],this.primaryKeyAttribute&&(this.primaryKeyField=this.rawAttributes[this.primaryKeyAttribute].field||this.primaryKeyAttribute),this._hasPrimaryKeys=this.primaryKeyAttributes.length>0,this._isPrimaryKey=e=>this.primaryKeyAttributes.includes(e),this._attributeManipulation=e}static removeAttribute(e){delete this.rawAttributes[e],this.refreshAttributes()}static async sync(e){(e=l(l({},this.options),e)).hooks=void 0===e.hooks||!!e.hooks;const t=this.tableAttributes,r=this.fieldRawAttributesMap;e.hooks&&await this.runHooks("beforeSync",e);const n=this.getTableName(e);let i;if(e.force?(await this.drop(e),i=!1):i=await this.queryInterface.tableExists(n,e),i?await this.queryInterface.ensureEnums(n,t,e,this):await this.queryInterface.createTable(n,t,e,this),i&&e.alter){const i=await Promise.all([this.queryInterface.describeTable(n,e),this.queryInterface.getForeignKeyReferencesForTable(n,e)]),o=i[0],a=i[1],s={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(o[r]||o[t[r].field]||await this.queryInterface.addColumn(n,t[r].field||r,t[r],e));if(!0===e.alter||"object"==typeof e.alter&&!1!==e.alter.drop)for(const t in o){if(!Object.prototype.hasOwnProperty.call(o,t))continue;const i=r[t];if(!i){await this.queryInterface.removeColumn(n,t,e);continue}if(i.primaryKey)continue;const c=i.references;if(i.references){const t=this.sequelize.config.database,r=this.sequelize.config.schema;for(const i of a){const o=i.constraintName;!o||i.tableCatalog!==t||r&&i.tableSchema!==r||i.referencedTableName!==c.model||i.referencedColumnName!==c.key||r&&i.referencedTableSchema!==r||s[o]||(await this.queryInterface.removeConstraint(n,o,e),s[o]=!0)}}await this.queryInterface.changeColumn(n,t,i,e)}}const o=await this.queryInterface.showIndex(n,e),a=this._indexes.filter((e=>!o.some((t=>e.name===t.name)))).sort(((e,t)=>{if("postgres"===this.sequelize.options.dialect){if(!0===e.concurrently)return 1;if(!0===t.concurrently)return-1}return 0}));for(const t of a)await this.queryInterface.addIndex(n,l(l({},e),t));return e.hooks&&await this.runHooks("afterSync",e),this}static async drop(e){return await this.queryInterface.dropTable(this.getTableName(e),e)}static async dropSchema(e){return await this.queryInterface.dropSchema(e)}static schema(e,t){const r=class extends(this){};return Object.defineProperty(r,"name",{value:this.name}),r._schema=e,t&&("string"==typeof t?r._schemaDelimiter=t:t.schemaDelimiter&&(r._schemaDelimiter=t.schemaDelimiter)),r}static getTableName(){return this.queryGenerator.addSchema(this)}static unscoped(){return this.scope()}static addScope(e,t,r){if(r=l({override:!1},r),("defaultScope"===e&&Object.keys(this.options.defaultScope).length>0||e in this.options.scopes)&&!1===r.override)throw new Error(`The scope ${e} already exists. Pass { override: true } as options to silence this error`);"defaultScope"===e?this.options.defaultScope=this._scope=t:this.options.scopes[e]=t}static scope(e){const t=class extends(this){};let r,n;if(Object.defineProperty(t,"name",{value:this.name}),t._scope={},t._scopeNames=[],t.scoped=!0,!e)return t;const i=h.flatten(arguments);for(const e of i){if(r=null,n=null,h.isPlainObject(e)?e.method?Array.isArray(e.method)&&t.options.scopes[e.method[0]]?(n=e.method[0],r=t.options.scopes[n].apply(t,e.method.slice(1))):t.options.scopes[e.method]&&(n=e.method,r=t.options.scopes[n].apply(t)):r=e:"defaultScope"===e&&h.isPlainObject(t.options.defaultScope)?r=t.options.defaultScope:(n=e,r=t.options.scopes[n],"function"==typeof r&&(r=r())),!r)throw new w.SequelizeScopeError(`Invalid scope ${n} called.`);this._conformIncludes(r,this),this._assignOptions(t._scope,m.cloneDeep(r)),t._scopeNames.push(n||"defaultScope")}return t}static async findAll(e){if(void 0!==e&&!h.isPlainObject(e))throw new w.QueryError("The argument passed to findAll must be an options object, use findByPk if you wish to pass a single primary key value");if(void 0!==e&&e.attributes&&!Array.isArray(e.attributes)&&!h.isPlainObject(e.attributes))throw new w.QueryError("The attributes option must be an array of column names or an object");this.warnOnInvalidOptions(e,Object.keys(this.rawAttributes));const t={};if(t[this.getTableName(e)]=!0,void 0===(e=m.cloneDeep(e)).transaction&&this.sequelize.constructor._cls){const t=this.sequelize.constructor._cls.get("transaction");t&&(e.transaction=t)}h.defaults(e,{hooks:!0}),e.rejectOnEmpty=Object.prototype.hasOwnProperty.call(e,"rejectOnEmpty")?e.rejectOnEmpty:this.options.rejectOnEmpty,this._injectScope(e),e.hooks&&await this.runHooks("beforeFind",e),this._conformIncludes(e,this),this._expandAttributes(e),this._expandIncludeAll(e),e.hooks&&await this.runHooks("beforeFindAfterExpandIncludeAll",e),e.originalAttributes=this._injectDependentVirtualAttributes(e.attributes),e.include&&(e.hasJoin=!0,this._validateIncludedElements(e,t),!e.attributes||e.raw||!this.primaryKeyAttribute||e.attributes.includes(this.primaryKeyAttribute)||e.group&&e.hasSingleAssociation&&!e.hasMultiAssociation||(e.attributes=[this.primaryKeyAttribute].concat(e.attributes))),e.attributes||(e.attributes=Object.keys(this.rawAttributes),e.originalAttributes=this._injectDependentVirtualAttributes(e.attributes)),this.options.whereCollection=e.where||null,m.mapFinderOptions(e,this),(e=this._paranoidClause(this,e)).hooks&&await this.runHooks("beforeFindAfterOptions",e);const r=p(l({},e),{tableNames:Object.keys(t)}),n=await this.queryInterface.select(this,this.getTableName(r),r);if(e.hooks&&await this.runHooks("afterFind",n,e),h.isEmpty(n)&&e.rejectOnEmpty){if("function"==typeof e.rejectOnEmpty)throw new e.rejectOnEmpty;if("object"==typeof e.rejectOnEmpty)throw e.rejectOnEmpty;throw new w.EmptyResultError}return await N._findSeparate(n,e)}static warnOnInvalidOptions(e,t){if(!h.isPlainObject(e))return;const r=Object.keys(e).filter((e=>!C.has(e))),n=h.intersection(r,t);!e.where&&n.length>0&&g.warn(`Model attributes (${n.join(", ")}) passed into finder method options of model ${this.name}, but the options.where object is empty. Did you forget to use options.where?`)}static _injectDependentVirtualAttributes(e){if(!this._hasVirtualAttributes)return e;if(!e||!Array.isArray(e))return e;for(const t of e)this._virtualAttributes.has(t)&&this.rawAttributes[t].type.fields&&(e=e.concat(this.rawAttributes[t].type.fields));return h.uniq(e)}static async _findSeparate(e,t){if(!t.include||t.raw||!e)return e;const r=e;return t.plain&&(e=[e]),e.length?(await Promise.all(t.include.map((async r=>{if(!r.separate)return await N._findSeparate(e.reduce(((e,t)=>{let n=t.get(r.association.as);if(!n)return e;Array.isArray(n)||(n=[n]);for(let t=0,r=n.length;t!==r;++t)e.push(n[t]);return e}),[]),p(l({},h.omit(t,"include","attributes","order","where","limit","offset","plain","scope")),{include:r.include||[]}));const n=await r.association.get(e,l(l({},h.omit(t,O)),h.omit(r,["parent","association","as","originalAttributes"])));for(const t of e)t.set(r.association.as,n[t.get(r.association.sourceKey)],{raw:!0})}))),r):r}static async findByPk(e,t){if([null,void 0].includes(e))return null;if(t=m.cloneDeep(t)||{},"number"!=typeof e&&"bigint"!=typeof e&&"string"!=typeof e&&!Buffer.isBuffer(e))throw new Error(`Argument passed to findByPk is invalid: ${e}`);return t.where={[this.primaryKeyAttribute]:e},await this.findOne(t)}static async findOne(e){if(void 0!==e&&!h.isPlainObject(e))throw new Error("The argument passed to findOne must be an options object, use findByPk if you wish to pass a single primary key value");if(void 0===(e=m.cloneDeep(e)).transaction&&this.sequelize.constructor._cls){const t=this.sequelize.constructor._cls.get("transaction");t&&(e.transaction=t)}if(void 0===e.limit){const t=h.chain(this.uniqueKeys).values().filter((e=>1===e.fields.length)).map("column").value();e.where&&h.some(e.where,((e,r)=>(r===this.primaryKeyAttribute||t.includes(r))&&(m.isPrimitive(e)||Buffer.isBuffer(e))))||(e.limit=1)}return await this.findAll(h.defaults(e,{plain:!0}))}static async aggregate(e,t,r){const n=(r=m.cloneDeep(r)).attributes;this._injectScope(r),r.attributes=n,this._conformIncludes(r,this),r.include&&(this._expandIncludeAll(r),this._validateIncludedElements(r));const i=this.rawAttributes[e],o=i&&i.field||e;let a=this.sequelize.col(o);r.distinct&&(a=this.sequelize.fn("DISTINCT",a));let{group:s}=r;return Array.isArray(s)&&Array.isArray(s[0])&&(T(),s=h.flatten(s)),r.attributes=h.unionBy(r.attributes,s,[[this.sequelize.fn(t,a),t]],(e=>Array.isArray(e)?e[1]:e)),r.dataType?r.dataType=this.sequelize.normalizeDataType(r.dataType):r.dataType=i?i.type:new S.FLOAT,m.mapOptionFieldNames(r,this),r=this._paranoidClause(this,r),await this.queryInterface.rawSelect(this.getTableName(r),r,t,this)}static async count(e){if(e=m.cloneDeep(e),void 0===(e=h.defaults(e,{hooks:!0})).transaction&&this.sequelize.constructor._cls){const t=this.sequelize.constructor._cls.get("transaction");t&&(e.transaction=t)}e.raw=!0,e.hooks&&await this.runHooks("beforeCount",e);let t=e.col||"*";e.include&&(t=`${this.name}.${e.col||this.primaryKeyField}`),e.distinct&&"*"===t&&(t=this.primaryKeyField),e.plain=!e.group,e.dataType=new S.INTEGER,e.includeIgnoreAttributes=!1,e.limit=null,e.offset=null,e.order=null;const r=await this.aggregate(t,"count",e);return Array.isArray(r)?r.map((e=>p(l({},e),{count:Number(e.count)}))):r}static async findAndCountAll(e){if(void 0!==e&&!h.isPlainObject(e))throw new Error("The argument passed to findAndCountAll must be an options object, use findByPk if you wish to pass a single primary key value");const t=m.cloneDeep(e);t.attributes&&(t.attributes=void 0);const[r,n]=await Promise.all([this.count(t),this.findAll(e)]);return{count:r,rows:0===r?[]:n}}static async max(e,t){return await this.aggregate(e,"max",t)}static async min(e,t){return await this.aggregate(e,"min",t)}static async sum(e,t){return await this.aggregate(e,"sum",t)}static build(e,t){return Array.isArray(e)?this.bulkBuild(e,t):new this(e,t)}static bulkBuild(e,t){return(t=l({isNewRecord:!0},t)).includeValidated||(this._conformIncludes(t,this),t.include&&(this._expandIncludeAll(t),this._validateIncludedElements(t))),t.attributes&&(t.attributes=t.attributes.map((e=>Array.isArray(e)?e[1]:e))),e.map((e=>this.build(e,t)))}static async create(e,t){return t=m.cloneDeep(t||{}),await this.build(e,{isNewRecord:!0,attributes:t.fields,include:t.include,raw:t.raw,silent:t.silent}).save(t)}static async findOrBuild(e){if(!e||!e.where||arguments.length>1)throw new Error("Missing where attribute in the options parameter passed to findOrBuild. Please note that the API has changed, and is now options only (an object with where, defaults keys, transaction etc.)");let t,r=await this.findOne(e);return null===r?(t=l({},e.defaults),h.isPlainObject(e.where)&&(t=m.defaults(t,e.where)),r=this.build(t,e),[r,!0]):[r,!1]}static async findOrCreate(e){if(!e||!e.where||arguments.length>1)throw new Error("Missing where attribute in the options parameter passed to findOrCreate. Please note that the API has changed, and is now options only (an object with where, defaults keys, transaction etc.)");if((e=l({},e)).defaults){const t=Object.keys(e.defaults).filter((e=>!this.rawAttributes[e]));t.length&&g.warn(`Unknown attributes (${t}) passed to defaults option of findOrCreate`)}if(void 0===e.transaction&&this.sequelize.constructor._cls){const t=this.sequelize.constructor._cls.get("transaction");t&&(e.transaction=t)}const t=!e.transaction;let r,n;try{const i=await this.sequelize.transaction(e);n=i,e.transaction=i;const o=await this.findOne(m.defaults({transaction:n},e));if(null!==o)return[o,!1];r=l({},e.defaults),h.isPlainObject(e.where)&&(r=m.defaults(r,e.where)),e.exception=!0,e.returning=!0;try{const t=await this.create(r,e);if(null===t.get(this.primaryKeyAttribute,{raw:!0}))throw new w.UniqueConstraintError;return[t,!0]}catch(r){if(!(r instanceof w.UniqueConstraintError))throw r;const i=m.flattenObjectDeep(e.where),o=Object.keys(i).map((e=>h.last(e.split(".")))).map((e=>h.get(this.rawAttributes,`${e}.field`,e))),a=e.defaults&&Object.keys(e.defaults).filter((e=>this.rawAttributes[e])).map((e=>this.rawAttributes[e].field||e)),s=Object.keys(r.fields),c=m.intersects(s,o);if(a&&!c&&m.intersects(s,a))throw r;c&&h.each(r.fields,((t,r)=>{const n=this.fieldRawAttributesMap[r].fieldName;if(t.toString()!==e.where[n].toString())throw new Error(`${this.name}#findOrCreate: value used for ${n} was not equal for both the find and the create calls, '${e.where[n]}' vs '${t}'`)}));const u=await this.findOne(m.defaults({transaction:t?null:n},e));if(null===u)throw r;return[u,!1]}}finally{t&&n&&await n.commit()}}static async findCreateFind(e){if(!e||!e.where)throw new Error("Missing where attribute in the options parameter passed to findCreateFind.");let t=l({},e.defaults);h.isPlainObject(e.where)&&(t=m.defaults(t,e.where));const r=await this.findOne(e);if(r)return[r,!1];try{const r=l({},e);return"postgres"===this.sequelize.options.dialect&&e.transaction&&(r.ignoreDuplicates=!0),[await this.create(t,r),!0]}catch(t){if(!(t instanceof w.UniqueConstraintError||t instanceof w.EmptyResultError))throw t;return[await this.findOne(e),!1]}}static async upsert(e,t){if(void 0===(t=l({hooks:!0,returning:!0,validate:!0},m.cloneDeep(t))).transaction&&this.sequelize.constructor._cls){const e=this.sequelize.constructor._cls.get("transaction");e&&(t.transaction=e)}const r=this._timestampAttributes.createdAt,n=this._timestampAttributes.updatedAt,i=this.primaryKeyField in e||this.primaryKeyAttribute in e,o=this.build(e);t.model=this,t.instance=o;const a=Array.from(o._changed);t.fields||(t.fields=a),t.validate&&await o.validate(t);const s=h.pick(o.dataValues,a),c=m.mapValueFieldNames(o.dataValues,Object.keys(o.rawAttributes),this),u=m.mapValueFieldNames(s,t.fields,this),p=m.now(this.sequelize.options.dialect);if(r&&!c[r]&&(c[this.rawAttributes[r].field||r]=this._getDefaultTimestamp(r)||p),n&&!c[n]){const e=this.rawAttributes[n].field||n;c[e]=u[e]=this._getDefaultTimestamp(n)||p}"db2"===this.sequelize.options.dialect&&(this.uniqno=this.sequelize.dialect.queryGenerator.addUniqueFields(c,this.rawAttributes,this.uniqno)),i||!this.primaryKeyAttribute||this.rawAttributes[this.primaryKeyAttribute].defaultValue||(delete c[this.primaryKeyField],delete u[this.primaryKeyField]),t.hooks&&await this.runHooks("beforeUpsert",e,t);const d=await this.queryInterface.upsert(this.getTableName(t),c,u,o.where(),t),[f]=d;return f.isNewRecord=!1,t.hooks?(await this.runHooks("afterUpsert",d,t),d):d}static async bulkCreate(e,t={}){if(!e.length)return[];const r=this.sequelize.options.dialect,n=m.now(this.sequelize.options.dialect);if(void 0===(t=m.cloneDeep(t)).transaction&&this.sequelize.constructor._cls){const e=this.sequelize.constructor._cls.get("transaction");e&&(t.transaction=e)}t.model=this,t.includeValidated||(this._conformIncludes(t,this),t.include&&(this._expandIncludeAll(t),this._validateIncludedElements(t)));const i=e.map((e=>this.build(e,{isNewRecord:!0,include:t.include}))),o=async(t,i)=>{if(void 0===(i=l({validate:!1,hooks:!0,individualHooks:!1,ignoreDuplicates:!1},i)).returning&&(i.association?i.returning=!1:i.returning=!0),i.ignoreDuplicates&&!this.sequelize.dialect.supports.inserts.ignoreDuplicates&&!this.sequelize.dialect.supports.inserts.onConflictDoNothing)throw new Error(`${r} does not support the ignoreDuplicates option.`);if(i.updateOnDuplicate&&"mysql"!==r&&"mariadb"!==r&&"sqlite"!==r&&"postgres"!==r)throw new Error(`${r} does not support the updateOnDuplicate option.`);const a=i.model;i.fields=i.fields||Object.keys(a.rawAttributes);const s=a._timestampAttributes.createdAt,c=a._timestampAttributes.updatedAt;if(void 0!==i.updateOnDuplicate){if(!Array.isArray(i.updateOnDuplicate)||!i.updateOnDuplicate.length)throw new Error("updateOnDuplicate option only supports non-empty array.");i.updateOnDuplicate=h.intersection(h.without(Object.keys(a.tableAttributes),s),i.updateOnDuplicate)}if(i.hooks&&await a.runHooks("beforeBulkCreate",t,i),i.validate){const e=[],r=l({},i);if(r.hooks=i.individualHooks,await Promise.all(t.map((async t=>{try{await t.validate(r)}catch(r){e.push(new w.BulkRecordError(r,t))}}))),delete i.skip,e.length)throw new w.AggregateError(e)}if(i.individualHooks)await Promise.all(t.map((async e=>{const t=p(l({},i),{validate:!1,hooks:!0});delete t.fields,delete t.individualHooks,delete t.ignoreDuplicates,await e.save(t)})));else{i.include&&i.include.length&&await Promise.all(i.include.filter((e=>e.association instanceof y)).map((async e=>{const r=[],n=[];for(const i of t){const t=i.get(e.as);t&&(r.push(t),n.push(i))}if(!r.length)return;const a=h(m.cloneDeep(e)).omit(["association"]).defaults({transaction:i.transaction,logging:i.logging}).value(),s=await o(r,a);for(const t in s){const r=s[t],o=n[t];await e.association.set(o,r,{save:!1,logging:i.logging})}}))),e=t.map((e=>{const t=e.dataValues;s&&!t[s]&&(t[s]=n,i.fields.includes(s)||i.fields.push(s)),c&&!t[c]&&(t[c]=n,i.fields.includes(c)||i.fields.push(c));const r=m.mapValueFieldNames(t,i.fields,a);for(const e of a._virtualAttributes)delete r[e];return r}));const u={};for(const e in a.tableAttributes)u[a.rawAttributes[e].field||e]=a.rawAttributes[e];if(i.updateOnDuplicate)if(i.updateOnDuplicate=i.updateOnDuplicate.map((e=>a.rawAttributes[e].field||e)),i.conflictAttributes)i.upsertKeys=i.conflictAttributes.map((e=>a.rawAttributes[e].field||e));else{const e=[];for(const t of a._indexes)t.unique&&!t.where&&e.push(...t.fields);const t=Object.values(a.uniqueKeys).find((e=>e.fields.length>0));t&&t.fields&&e.push(...t.fields),i.upsertKeys=e.length>0?e:Object.values(a.primaryKeys).map((e=>e.field))}i.returning&&Array.isArray(i.returning)&&(i.returning=i.returning.map((e=>h.get(a.rawAttributes[e],"field",e))));const l=await a.queryInterface.bulkInsert(a.getTableName(i),e,i,u);Array.isArray(l)&&l.forEach(((e,n)=>{const i=t[n];for(const t in e)if(!(!i||t===a.primaryKeyAttribute&&i.get(a.primaryKeyAttribute)&&["mysql","mariadb","sqlite"].includes(r))&&Object.prototype.hasOwnProperty.call(e,t)){const r=e[t],n=h.find(a.rawAttributes,(e=>e.fieldName===t||e.field===t));i.dataValues[n&&n.fieldName||t]=r}}))}return i.include&&i.include.length&&await Promise.all(i.include.filter((e=>!(e.association instanceof y||e.parent&&e.parent.association instanceof v))).map((async e=>{const r=[],n=[];for(const i of t){let t=i.get(e.as);Array.isArray(t)||(t=[t]);for(const o of t)o&&(e.association instanceof v||(o.set(e.association.foreignKey,i.get(e.association.sourceKey||i.constructor.primaryKeyAttribute,{raw:!0}),{raw:!0}),Object.assign(o,e.association.scope)),r.push(o),n.push(i))}if(!r.length)return;const a=h(m.cloneDeep(e)).omit(["association"]).defaults({transaction:i.transaction,logging:i.logging}).value(),s=await o(r,a);if(e.association instanceof v){const t=[];for(const r in s){const i=s[r],o=n[r],a=l({[e.association.foreignKey]:o.get(o.constructor.primaryKeyAttribute,{raw:!0}),[e.association.otherKey]:i.get(i.constructor.primaryKeyAttribute,{raw:!0})},e.association.through.scope);if(i[e.association.through.model.name])for(const t of Object.keys(e.association.through.model.rawAttributes))e.association.through.model.rawAttributes[t]._autoGenerated||t===e.association.foreignKey||t===e.association.otherKey||void 0===i[e.association.through.model.name][t]||(a[t]=i[e.association.through.model.name][t]);t.push(a)}const r=h(m.cloneDeep(e)).omit(["association","attributes"]).defaults({transaction:i.transaction,logging:i.logging}).value();r.model=e.association.throughModel;const a=e.association.throughModel.bulkBuild(t,r);await o(a,r)}}))),t.forEach((e=>{for(const t in a.rawAttributes)a.rawAttributes[t].field&&void 0!==e.dataValues[a.rawAttributes[t].field]&&a.rawAttributes[t].field!==t&&(e.dataValues[t]=e.dataValues[a.rawAttributes[t].field],delete e.dataValues[a.rawAttributes[t].field]),e._previousDataValues[t]=e.dataValues[t],e.changed(t,!1);e.isNewRecord=!1})),i.hooks&&await a.runHooks("afterBulkCreate",t,i),t};return await o(i,t)}static async truncate(e){return(e=m.cloneDeep(e)||{}).truncate=!0,await this.destroy(e)}static async destroy(e){if(void 0===(e=m.cloneDeep(e)).transaction&&this.sequelize.constructor._cls){const t=this.sequelize.constructor._cls.get("transaction");t&&(e.transaction=t)}if(this._injectScope(e),!e||!e.where&&!e.truncate)throw new Error("Missing where or truncate attribute in the options parameter of model.destroy.");if(!(e.truncate||h.isPlainObject(e.where)||Array.isArray(e.where)||e.where instanceof m.SequelizeMethod))throw new Error("Expected plain object, array or sequelize method in the options.where parameter of model.destroy.");let t,r;if((e=h.defaults(e,{hooks:!0,individualHooks:!1,force:!1,cascade:!1,restartIdentity:!1})).type=E.BULKDELETE,m.mapOptionFieldNames(e,this),e.model=this,e.hooks&&await this.runHooks("beforeBulkDestroy",e),e.individualHooks&&(t=await this.findAll({where:e.where,transaction:e.transaction,logging:e.logging,benchmark:e.benchmark}),await Promise.all(t.map((t=>this.runHooks("beforeDestroy",t,e))))),this._timestampAttributes.deletedAt&&!e.force){e.type=E.BULKUPDATE;const t={},n=this.rawAttributes[this._timestampAttributes.deletedAt],i=this.rawAttributes[this._timestampAttributes.deletedAt].field,o={[i]:Object.prototype.hasOwnProperty.call(n,"defaultValue")?n.defaultValue:null};t[i]=m.now(this.sequelize.options.dialect),r=await this.queryInterface.bulkUpdate(this.getTableName(e),t,Object.assign(o,e.where),e,this.rawAttributes)}else r=await this.queryInterface.bulkDelete(this.getTableName(e),e.where,e,this);return e.individualHooks&&await Promise.all(t.map((t=>this.runHooks("afterDestroy",t,e)))),e.hooks&&await this.runHooks("afterBulkDestroy",e),r}static async restore(e){if(!this._timestampAttributes.deletedAt)throw new Error("Model is not paranoid");if(void 0===(e=l({hooks:!0,individualHooks:!1},e)).transaction&&this.sequelize.constructor._cls){const t=this.sequelize.constructor._cls.get("transaction");t&&(e.transaction=t)}let t;e.type=E.RAW,e.model=this,m.mapOptionFieldNames(e,this),e.hooks&&await this.runHooks("beforeBulkRestore",e),e.individualHooks&&(t=await this.findAll({where:e.where,transaction:e.transaction,logging:e.logging,benchmark:e.benchmark,paranoid:!1}),await Promise.all(t.map((t=>this.runHooks("beforeRestore",t,e)))));const r={},n=this._timestampAttributes.deletedAt,i=this.rawAttributes[n],o=Object.prototype.hasOwnProperty.call(i,"defaultValue")?i.defaultValue:null;r[i.field||n]=o,e.omitNull=!1;const a=await this.queryInterface.bulkUpdate(this.getTableName(e),r,e.where,e,this.rawAttributes);return e.individualHooks&&await Promise.all(t.map((t=>this.runHooks("afterRestore",t,e)))),e.hooks&&await this.runHooks("afterBulkRestore",e),a}static async update(e,t){if(void 0===(t=m.cloneDeep(t)).transaction&&this.sequelize.constructor._cls){const e=this.sequelize.constructor._cls.get("transaction");e&&(t.transaction=e)}if(this._injectScope(t),this._optionsMustContainWhere(t),(t=this._paranoidClause(this,h.defaults(t,{validate:!0,hooks:!0,individualHooks:!1,returning:!1,force:!1,sideEffects:!0}))).type=E.BULKUPDATE,e=h.omitBy(e,(e=>void 0===e)),t.fields&&t.fields instanceof Array)for(const r of Object.keys(e))t.fields.includes(r)||delete e[r];else{const r=this._timestampAttributes.updatedAt;t.fields=h.intersection(Object.keys(e),Object.keys(this.tableAttributes)),r&&!t.fields.includes(r)&&t.fields.push(r)}let r,n;if(this._timestampAttributes.updatedAt&&!t.silent&&(e[this._timestampAttributes.updatedAt]=this._getDefaultTimestamp(this._timestampAttributes.updatedAt)||m.now(this.sequelize.options.dialect)),t.model=this,t.validate){const r=this.build(e);r.set(this._timestampAttributes.updatedAt,e[this._timestampAttributes.updatedAt],{raw:!0}),t.sideEffects&&(Object.assign(e,h.pick(r.get(),r.changed())),t.fields=h.union(t.fields,Object.keys(e))),t.skip=h.difference(Object.keys(this.rawAttributes),Object.keys(e));const n=await r.validate(t);t.skip=void 0,n&&n.dataValues&&(e=h.pick(n.dataValues,Object.keys(e)))}t.hooks&&(t.attributes=e,await this.runHooks("beforeBulkUpdate",t),e=t.attributes,delete t.attributes),r=e;let i,o=!1;if(t.individualHooks&&(n=await this.findAll({where:t.where,transaction:t.transaction,logging:t.logging,benchmark:t.benchmark,paranoid:t.paranoid}),n.length)){let i,a=!1;if(n=await Promise.all(n.map((async n=>{if(Object.assign(n.dataValues,e),h.forIn(r,((e,t)=>{e!==n._previousDataValues[t]&&n.setDataValue(t,e)})),await this.runHooks("beforeUpdate",n,t),!a){const e={};h.forIn(n.dataValues,((t,r)=>{t!==n._previousDataValues[r]&&(e[r]=t)})),i?a=!h.isEqual(i,e):i=e}return n}))),a)n=await Promise.all(n.map((async e=>{const r=p(l({},t),{hooks:!1,validate:!1});return delete r.individualHooks,e.save(r)}))),o=!0;else{const e=Object.keys(i);e.length&&(r=i,t.fields=h.union(t.fields,e))}}if(o)i=[n.length,n];else if(h.isEmpty(r)||1===Object.keys(r).length&&r[this._timestampAttributes.updatedAt])i=[0];else{r=m.mapValueFieldNames(r,t.fields,this),(t=m.mapOptionFieldNames(t,this)).hasTrigger=!!this.options&&this.options.hasTrigger;const e=await this.queryInterface.bulkUpdate(this.getTableName(t),r,t.where,t,this.tableAttributes);t.returning?(i=[e.length,e],n=e):i=[e]}return t.individualHooks&&(await Promise.all(n.map((e=>this.runHooks("afterUpdate",e,t)))),i[1]=n),t.hooks&&(t.attributes=e,await this.runHooks("afterBulkUpdate",t),delete t.attributes),i}static async describe(e,t){return await this.queryInterface.describeTable(this.tableName,l({schema:e||this._schema||void 0},t))}static _getDefaultTimestamp(e){if(this.rawAttributes[e]&&this.rawAttributes[e].defaultValue)return m.toDefaultValue(this.rawAttributes[e].defaultValue,this.sequelize.options.dialect)}static _expandAttributes(e){if(!h.isPlainObject(e.attributes))return;let t=Object.keys(this.rawAttributes);e.attributes.exclude&&(t=t.filter((t=>!e.attributes.exclude.includes(t)))),e.attributes.include&&(t=t.concat(e.attributes.include)),e.attributes=t}static _injectScope(e){const t=m.cloneDeep(this._scope);this._defaultsOptions(e,t)}static[Symbol.for("nodejs.util.inspect.custom")](){return this.name}static hasAlias(e){return Object.prototype.hasOwnProperty.call(this.associations,e)}static async increment(e,t){t=t||{},"string"==typeof e&&(e=[e]),Array.isArray(e)?e=e.map((e=>this.rawAttributes[e]&&this.rawAttributes[e].field&&this.rawAttributes[e].field!==e?this.rawAttributes[e].field:e)):e&&"object"==typeof e&&(e=Object.keys(e).reduce(((t,r)=>(this.rawAttributes[r]&&this.rawAttributes[r].field&&this.rawAttributes[r].field!==r?t[this.rawAttributes[r].field]=e[r]:t[r]=e[r],t)),{})),this._injectScope(t),this._optionsMustContainWhere(t);const r=!(t=m.defaults({},t,{by:1,where:{},increment:!0})).increment;m.mapOptionFieldNames(t,this);const n=l({},t.where);let i={};if(Array.isArray(e)){i={};for(const r of e)i[r]=t.by}else i=e;this._versionAttribute&&(i[this._versionAttribute]=r?-1:1);const o={},a=this._timestampAttributes.updatedAt;t.silent||!a||i[a]||(o[this.rawAttributes[a].field||a]=this._getDefaultTimestamp(a)||m.now(this.sequelize.options.dialect));const s=this.getTableName(t);let c;return c=r?await this.queryInterface.decrement(this,s,n,i,o,t):await this.queryInterface.increment(this,s,n,i,o,t),t.returning?[c,c.length]:[c]}static async decrement(e,t){return this.increment(e,p(l({by:1},t),{increment:!1}))}static _optionsMustContainWhere(e){d(e&&e.where,"Missing where attribute in the options parameter"),d(h.isPlainObject(e.where)||Array.isArray(e.where)||e.where instanceof m.SequelizeMethod,"Expected plain object, array or sequelize method in the options.where parameter")}where(e){const t=this.constructor.primaryKeyAttributes.reduce(((e,t)=>(e[t]=this.get(t,{raw:!0}),e)),{});if(0===h.size(t))return this.constructor.options.whereCollection;const r=this.constructor._versionAttribute;return e&&r&&(t[r]=this.get(r,{raw:!0})),m.mapWhereFieldNames(t,this.constructor)}toString(){return`[object SequelizeInstance:${this.constructor.name}]`}getDataValue(e){return this.dataValues[e]}setDataValue(e,t){const r=this._previousDataValues[e];h.isEqual(t,r)||this.changed(e,!0),this.dataValues[e]=t}get(e,t){if(void 0===t&&"object"==typeof e&&(t=e,e=void 0),t=t||{},e)return Object.prototype.hasOwnProperty.call(this._customGetters,e)&&!t.raw?this._customGetters[e].call(this,e,t):t.plain&&this._options.include&&this._options.includeNames.includes(e)?Array.isArray(this.dataValues[e])?this.dataValues[e].map((e=>e.get(t))):this.dataValues[e]instanceof N?this.dataValues[e].get(t):this.dataValues[e]:this.dataValues[e];if(this._hasCustomGetters||t.plain&&this._options.include||t.clone){const e={};let r;if(this._hasCustomGetters)for(r in this._customGetters)this._options.attributes&&!this._options.attributes.includes(r)||Object.prototype.hasOwnProperty.call(this._customGetters,r)&&(e[r]=this.get(r,t));for(r in this.dataValues)!Object.prototype.hasOwnProperty.call(e,r)&&Object.prototype.hasOwnProperty.call(this.dataValues,r)&&(e[r]=this.get(r,t));return e}return this.dataValues}set(e,t,r){let n,i;if("object"==typeof e&&null!==e){if(n=e,(r=t||{}).reset){this.dataValues={};for(const e in n)this.changed(e,!1)}if(!r.raw||this._options&&this._options.include||r&&r.attributes||this.constructor._hasDateAttributes||this.constructor._hasBooleanAttributes){if(r.attributes){const e=e=>{for(const t of e)void 0!==n[t]&&this.set(t,n[t],r)};e(r.attributes),this.constructor._hasVirtualAttributes&&e(this.constructor._virtualAttributes),this._options.includeNames&&e(this._options.includeNames)}else for(const e in n)this.set(e,n[e],r);r.raw&&(this._previousDataValues=l({},this.dataValues))}else Object.keys(this.dataValues).length?Object.assign(this.dataValues,n):this.dataValues=n,this._previousDataValues=l({},this.dataValues);return this}if(r||(r={}),r.raw||(i=this.dataValues[e]),!r.raw&&this._customSetters[e]){this._customSetters[e].call(this,t,e);const r=this.dataValues[e];h.isEqual(r,i)||(this._previousDataValues[e]=i,this.changed(e,!0))}else{if(this._options&&this._options.include&&this._options.includeNames.includes(e))return this._setInclude(e,t,r),this;if(!r.raw){if(!this._isAttribute(e)){if(e.includes(".")&&this.constructor._jsonAttributes.has(e.split(".")[0])){const r=f.get(this.dataValues,e);h.isEqual(r,t)||(f.set(this.dataValues,e,t),this.changed(e.split(".")[0],!0))}return this}if(this.constructor._hasPrimaryKeys&&i&&this.constructor._isPrimaryKey(e))return this;if(!this.isNewRecord&&this.constructor._hasReadOnlyAttributes&&this.constructor._readOnlyAttributes.has(e))return this}t instanceof m.SequelizeMethod||!Object.prototype.hasOwnProperty.call(this.constructor._dataTypeSanitizers,e)||(t=this.constructor._dataTypeSanitizers[e].call(this,t,r)),!r.raw&&(t instanceof m.SequelizeMethod||!(t instanceof m.SequelizeMethod)&&this.constructor._dataTypeChanges[e]&&this.constructor._dataTypeChanges[e].call(this,t,i,r)||!this.constructor._dataTypeChanges[e]&&!h.isEqual(t,i))&&(this._previousDataValues[e]=i,this.changed(e,!0)),this.dataValues[e]=t}return this}setAttributes(e){return this.set(e)}changed(e,t){return void 0===e?this._changed.size>0&&Array.from(this._changed):!0===t?(this._changed.add(e),this):!1===t?(this._changed.delete(e),this):this._changed.has(e)}previous(e){return e?this._previousDataValues[e]:h.pickBy(this._previousDataValues,((e,t)=>this.changed(t)))}_setInclude(e,t,r){Array.isArray(t)||(t=[t]),t[0]instanceof N&&(t=t.map((e=>e.dataValues)));const n=this._options.includeMap[e],i=n.association,o=e,a=n.model.primaryKeyAttribute,s={isNewRecord:this.isNewRecord,include:n.include,includeNames:n.includeNames,includeMap:n.includeMap,includeValidated:!0,raw:r.raw,attributes:n.originalAttributes};let c;(void 0===n.originalAttributes||n.originalAttributes.length)&&(i.isSingleAssociation?(Array.isArray(t)&&(t=t[0]),c=t&&null===t[a]||null===t,this[o]=this.dataValues[o]=c?null:n.model.build(t,s)):(c=t[0]&&null===t[0][a],this[o]=this.dataValues[o]=c?[]:n.model.bulkBuild(t,s)))}async save(e){if(arguments.length>1)throw new Error("The second argument was removed in favor of the options object.");if(void 0===(e=m.cloneDeep(e)).transaction&&this.sequelize.constructor._cls){const t=this.sequelize.constructor._cls.get("transaction");t&&(e.transaction=t)}(e=h.defaults(e,{hooks:!0,validate:!0})).fields||(this.isNewRecord?e.fields=Object.keys(this.constructor.rawAttributes):e.fields=h.intersection(this.changed(),Object.keys(this.constructor.rawAttributes)),e.defaultFields=e.fields),void 0===e.returning&&(e.association?e.returning=!1:this.isNewRecord&&(e.returning=!0));const t=this.constructor.primaryKeyAttribute,r=t&&this.constructor.rawAttributes[t],n=this.constructor._timestampAttributes.createdAt,i=this.constructor._versionAttribute,o=this.isNewRecord?"Create":"Update",a=this.isNewRecord,s=m.now(this.sequelize.options.dialect);let c=this.constructor._timestampAttributes.updatedAt;if(c&&e.fields.length>0&&!e.fields.includes(c)&&e.fields.push(c),i&&e.fields.length>0&&!e.fields.includes(i)&&e.fields.push(i),!0!==e.silent||this.isNewRecord&&this.get(c,{raw:!0})||(h.remove(e.fields,(e=>e===c)),c=!1),!0===this.isNewRecord&&(n&&!e.fields.includes(n)&&e.fields.push(n),r&&r.defaultValue&&!e.fields.includes(t)&&e.fields.unshift(t)),!1===this.isNewRecord&&t&&void 0===this.get(t,{raw:!0}))throw new Error("You attempted to save an instance with no primary key, this is not allowed since it would result in a global update");if(c&&!e.silent&&e.fields.includes(c)&&(this.dataValues[c]=this.constructor._getDefaultTimestamp(c)||s),this.isNewRecord&&n&&!this.dataValues[n]&&(this.dataValues[n]=this.constructor._getDefaultTimestamp(n)||s),"db2"===this.sequelize.options.dialect&&this.isNewRecord&&(this.uniqno=this.sequelize.dialect.queryGenerator.addUniqueFields(this.dataValues,this.constructor.rawAttributes,this.uniqno)),e.validate&&await this.validate(e),e.hooks){const t=h.pick(this.dataValues,e.fields);let r,n,i=h.difference(this.changed(),e.fields);if(c&&e.fields.includes(c)&&(i=h.without(i,c)),await this.constructor.runHooks(`before${o}`,this,e),e.defaultFields&&!this.isNewRecord){n=h.pick(this.dataValues,h.difference(this.changed(),i)),r=[];for(const e of Object.keys(n))n[e]!==t[e]&&r.push(e);e.fields=h.uniq(e.fields.concat(r))}r&&e.validate&&(e.skip=h.difference(Object.keys(this.constructor.rawAttributes),r),await this.validate(e),delete e.skip)}if(e.fields.length&&this.isNewRecord&&this._options.include&&this._options.include.length&&await Promise.all(this._options.include.filter((e=>e.association instanceof y)).map((async t=>{const r=this.get(t.as);if(!r)return;const n=h(m.cloneDeep(t)).omit(["association"]).defaults({transaction:e.transaction,logging:e.logging,parentRecord:this}).value();await r.save(n),await this[t.association.accessors.set](r,{save:!1,logging:e.logging})}))),!e.fields.filter((e=>!this.constructor._virtualAttributes.has(e))).length)return this;if(!this.changed()&&!this.isNewRecord)return this;const u=h.get(this.constructor.rawAttributes[i],"field")||i,p=m.mapValueFieldNames(this.dataValues,e.fields,this.constructor);let d,f=null,g=[];this.isNewRecord?(f="insert",g=[this,this.constructor.getTableName(e),p,e]):(d=this.where(!0),i&&(p[u]=parseInt(p[u],10)+1),f="update",g=[this,this.constructor.getTableName(e),p,d,e]);const[b,E]=await this.constructor.queryInterface[f](...g);if(i){if(E<1)throw new w.OptimisticLockError({modelName:this.constructor.name,values:p,where:d});b.dataValues[i]=p[u]}for(const e of Object.keys(this.constructor.rawAttributes))this.constructor.rawAttributes[e].field&&void 0!==p[this.constructor.rawAttributes[e].field]&&this.constructor.rawAttributes[e].field!==e&&(p[e]=p[this.constructor.rawAttributes[e].field],delete p[this.constructor.rawAttributes[e].field]);Object.assign(p,b.dataValues),Object.assign(b.dataValues,p),a&&this._options.include&&this._options.include.length&&await Promise.all(this._options.include.filter((e=>!(e.association instanceof y||e.parent&&e.parent.association instanceof v))).map((async t=>{let r=this.get(t.as);if(!r)return;Array.isArray(r)||(r=[r]);const n=h(m.cloneDeep(t)).omit(["association"]).defaults({transaction:e.transaction,logging:e.logging,parentRecord:this}).value();await Promise.all(r.map((async e=>{if(t.association instanceof v){await e.save(n);const r=l({[t.association.foreignKey]:this.get(this.constructor.primaryKeyAttribute,{raw:!0}),[t.association.otherKey]:e.get(e.constructor.primaryKeyAttribute,{raw:!0})},t.association.through.scope);if(e[t.association.through.model.name])for(const n of Object.keys(t.association.through.model.rawAttributes))t.association.through.model.rawAttributes[n]._autoGenerated||n===t.association.foreignKey||n===t.association.otherKey||void 0===e[t.association.through.model.name][n]||(r[n]=e[t.association.through.model.name][n]);await t.association.throughModel.create(r,n)}else e.set(t.association.foreignKey,this.get(t.association.sourceKey||this.constructor.primaryKeyAttribute,{raw:!0}),{raw:!0}),Object.assign(e,t.association.scope),await e.save(n)})))}))),e.hooks&&await this.constructor.runHooks(`after${o}`,b,e);for(const t of e.fields)b._previousDataValues[t]=b.dataValues[t],this.changed(t,!1);return this.isNewRecord=!1,b}async reload(e){e=m.defaults({where:this.where()},e,{include:this._options.include||void 0});const t=await this.constructor.findOne(e);if(!t)throw new w.InstanceError("Instance could not be reloaded because it does not exist anymore (find call returned null)");return this._options=t._options,this.set(t.dataValues,{raw:!0,reset:!e.attributes}),this}async validate(e){return new b(this,e).validate()}async update(e,t){e=h.omitBy(e,(e=>void 0===e));const r=this.changed()||[];if(t=t||{},Array.isArray(t)&&(t={fields:t}),void 0===(t=m.cloneDeep(t)).transaction&&this.sequelize.constructor._cls){const e=this.sequelize.constructor._cls.get("transaction");e&&(t.transaction=e)}const n=m.cloneDeep(t);n.attributes=t.fields,this.set(e,n);const i=h.without(this.changed(),...r),o=h.union(Object.keys(e),i);return t.fields||(t.fields=h.intersection(o,this.changed()),t.defaultFields=t.fields),await this.save(t)}async destroy(e){if(void 0===(e=l({hooks:!0,force:!1},e)).transaction&&this.sequelize.constructor._cls){const t=this.sequelize.constructor._cls.get("transaction");t&&(e.transaction=t)}e.hooks&&await this.constructor.runHooks("beforeDestroy",this,e);const t=this.where(!0);let r;if(this.constructor._timestampAttributes.deletedAt&&!1===e.force){const t=this.constructor._timestampAttributes.deletedAt,n=this.constructor.rawAttributes[t],i=Object.prototype.hasOwnProperty.call(n,"defaultValue")?n.defaultValue:null,o=this.getDataValue(t);(null==o&&null==i||h.isEqual(o,i))&&this.setDataValue(t,new Date),r=await this.save(p(l({},e),{hooks:!1}))}else r=await this.constructor.queryInterface.delete(this,this.constructor.getTableName(e),t,l({type:E.DELETE,limit:null},e));return e.hooks&&await this.constructor.runHooks("afterDestroy",this,e),r}isSoftDeleted(){if(!this.constructor._timestampAttributes.deletedAt)throw new Error("Model is not paranoid");const e=this.constructor.rawAttributes[this.constructor._timestampAttributes.deletedAt],t=Object.prototype.hasOwnProperty.call(e,"defaultValue")?e.defaultValue:null;return(this.get(this.constructor._timestampAttributes.deletedAt)||null)!==t}async restore(e){if(!this.constructor._timestampAttributes.deletedAt)throw new Error("Model is not paranoid");if(void 0===(e=l({hooks:!0,force:!1},e)).transaction&&this.sequelize.constructor._cls){const t=this.sequelize.constructor._cls.get("transaction");t&&(e.transaction=t)}e.hooks&&await this.constructor.runHooks("beforeRestore",this,e);const t=this.constructor._timestampAttributes.deletedAt,r=this.constructor.rawAttributes[t],n=Object.prototype.hasOwnProperty.call(r,"defaultValue")?r.defaultValue:null;this.setDataValue(t,n);const i=await this.save(p(l({},e),{hooks:!1,omitNull:!1}));return e.hooks?(await this.constructor.runHooks("afterRestore",this,e),i):i}async increment(e,t){const r=this.where();return(t=m.cloneDeep(t)).where=l(l({},t.where),r),t.instance=this,await this.constructor.increment(e,t),this}async decrement(e,t){return this.increment(e,p(l({by:1},t),{increment:!1}))}equals(e){return!(!e||!e.constructor)&&e instanceof this.constructor&&this.constructor.primaryKeyAttributes.every((t=>this.get(t,{raw:!0})===e.get(t,{raw:!0})))}equalsOneOf(e){return e.some((e=>this.equals(e)))}setValidators(e,t){this.validators[e]=t}toJSON(){return h.cloneDeep(this.get({plain:!0}))}static hasMany(e,t){}static belongsToMany(e,t){}static hasOne(e,t){}static belongsTo(e,t){}}function R(e){if(!h.isObject(e))return e;const t=m.getComplexKeys(e);return 0!==t.length?1!==t.length||t[0]!==I.and?e:e[I.and]:void 0}Object.assign(N,k),_.applyTo(N,!0),e.exports=N},4104:(e,t)=>{var r=Object.defineProperty;((e,t)=>{for(var n in(e=>{r(e,"__esModule",{value:!0})})(e),t)r(e,n,{get:t[n],enumerable:!0})})(t,{Op:()=>n,default:()=>i});const n={eq:Symbol.for("eq"),ne:Symbol.for("ne"),gte:Symbol.for("gte"),gt:Symbol.for("gt"),lte:Symbol.for("lte"),lt:Symbol.for("lt"),not:Symbol.for("not"),is:Symbol.for("is"),in:Symbol.for("in"),notIn:Symbol.for("notIn"),like:Symbol.for("like"),notLike:Symbol.for("notLike"),iLike:Symbol.for("iLike"),notILike:Symbol.for("notILike"),startsWith:Symbol.for("startsWith"),endsWith:Symbol.for("endsWith"),substring:Symbol.for("substring"),regexp:Symbol.for("regexp"),notRegexp:Symbol.for("notRegexp"),iRegexp:Symbol.for("iRegexp"),notIRegexp:Symbol.for("notIRegexp"),between:Symbol.for("between"),notBetween:Symbol.for("notBetween"),overlap:Symbol.for("overlap"),contains:Symbol.for("contains"),contained:Symbol.for("contained"),adjacent:Symbol.for("adjacent"),strictLeft:Symbol.for("strictLeft"),strictRight:Symbol.for("strictRight"),noExtendRight:Symbol.for("noExtendRight"),noExtendLeft:Symbol.for("noExtendLeft"),and:Symbol.for("and"),or:Symbol.for("or"),any:Symbol.for("any"),all:Symbol.for("all"),values:Symbol.for("values"),col:Symbol.for("col"),placeholder:Symbol.for("placeholder"),join:Symbol.for("join"),match:Symbol.for("match")};var i=n;e.exports=n},9209:e=>{"use strict";e.exports={SELECT:"SELECT",INSERT:"INSERT",UPDATE:"UPDATE",BULKUPDATE:"BULKUPDATE",BULKDELETE:"BULKDELETE",DELETE:"DELETE",UPSERT:"UPSERT",VERSION:"VERSION",SHOWTABLES:"SHOWTABLES",SHOWINDEXES:"SHOWINDEXES",DESCRIBE:"DESCRIBE",RAW:"RAW",FOREIGNKEYS:"FOREIGNKEYS",SHOWCONSTRAINTS:"SHOWCONSTRAINTS"}},5150:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))c.call(t,r)&&u(e,r,t[r]);return e},p=(e,t)=>i(e,o(t));const d=r(7016),h=r(6928),f=r(7214),m=r(3519).default,g=r(7825),y=r(3588),v=r(7684),b=r(2869),E=r(2623),w=r(2790),A=r(5137),x=r(9209),S=r(3126),_=r(9670),k=r(6797),I=r(7037),T=r(8502),C=r(8893).N,O=r(4104),N=r(6892),{QueryInterface:R}=r(9646),{BelongsTo:P}=r(1878),L=r(7219),{BelongsToMany:M}=r(1020),{HasMany:q}=r(9244),{withSqliteForeignKeysOff:D}=r(2216),{injectReplacements:B}=r(1563);class j{constructor(e,t,n,i){let o,a;if(1===arguments.length&&"object"==typeof e)i=e,o=g.pick(i,"host","port","database","username","password");else if(1===arguments.length&&"string"==typeof e||2===arguments.length&&"object"==typeof t){o={},i=t||{};const e=d.parse(arguments[0],!0);if(i.dialect=e.protocol.replace(/:$/,""),i.host=e.hostname,"sqlite"===i.dialect&&e.pathname&&!e.pathname.startsWith("/:memory")){const t=h.join(i.host,e.pathname);i.storage=h.resolve(i.storage||t)}if(e.pathname&&(o.database=e.pathname.replace(/^\//,"")),e.port&&(i.port=e.port),e.auth){const t=e.auth.split(":");o.username=t[0],t.length>1&&(o.password=t.slice(1).join(":"))}if(e.query)if(e.query.host&&(i.host=e.query.host),i.dialectOptions)Object.assign(i.dialectOptions,e.query);else if(i.dialectOptions=e.query,e.query.options)try{const t=JSON.parse(e.query.options);i.dialectOptions.options=t}catch(e){}["postgres","postgresql"].includes(i.dialect)&&Object.assign(i.dialectOptions,f.parse(arguments[0]))}else i=i||{},o={database:e,username:t,password:n};if(j.runHooks("beforeInit",o,i),this.options=l({dialect:null,dialectModule:null,dialectModulePath:null,host:"localhost",protocol:"tcp",define:{},query:{},sync:{},timezone:"+00:00",standardConformingStrings:!0,logging:console.log,omitNull:!1,native:!1,replication:!1,ssl:void 0,pool:{},quoteIdentifiers:!0,hooks:{},retry:{max:5,match:["SQLITE_BUSY: database is locked"]},transactionType:A.TYPES.DEFERRED,isolationLevel:null,databaseVersion:0,typeValidation:!1,benchmark:!1,minifyAliases:!1,logQueryParameters:!1,attributeBehavior:"throw"},i),!this.options.dialect)throw new Error("Dialect needs to be explicitly supplied as of v4.0.0");if("postgresql"===this.options.dialect&&(this.options.dialect="postgres"),"sqlite"===this.options.dialect&&"+00:00"!==this.options.timezone)throw new Error("Setting a custom timezone is not supported by SQLite, dates are always returned as UTC. Please remove the custom timezone parameter.");switch(!0===this.options.logging&&(N.noTrueLogging(),this.options.logging=console.log),this._setupHooks(i.hooks),this.config={database:o.database||this.options.database,username:o.username||this.options.username,password:o.password||this.options.password||null,host:o.host||this.options.host,port:o.port||this.options.port,pool:this.options.pool,protocol:this.options.protocol,native:this.options.native,ssl:this.options.ssl,replication:this.options.replication,dialectModule:this.options.dialectModule,dialectModulePath:this.options.dialectModulePath,keepDefaultTimezone:this.options.keepDefaultTimezone,dialectOptions:this.options.dialectOptions},this.getDialect()){case"mariadb":a=r(1514);break;case"mssql":a=r(8350);break;case"mysql":a=r(3764);break;case"oracle":a=r(7772);break;case"postgres":a=r(2065);break;case"sqlite":a=r(2530);break;case"db2":a=r(7582);break;case"snowflake":a=r(9162);break;default:throw new Error(`The dialect ${this.getDialect()} is not supported. Supported dialects: mssql, mariadb, mysql, oracle, postgres, db2 and sqlite.`)}this.dialect=new a(this),this.dialect.queryGenerator.typeValidation=i.typeValidation,g.isPlainObject(this.options.operatorsAliases)?(N.noStringOperators(),this.dialect.queryGenerator.setOperatorsAliases(this.options.operatorsAliases)):"boolean"==typeof this.options.operatorsAliases&&N.noBoolOperatorAliases(),this.queryInterface=this.dialect.queryInterface,this.models={},this.modelManager=new w(this),this.connectionManager=this.dialect.connectionManager,j.runHooks("afterInit",this)}refreshTypes(){this.connectionManager.refreshTypeParser(b)}getDialect(){return this.options.dialect}getDatabaseName(){return this.config.database}getQueryInterface(){return this.queryInterface}define(e,t,r={}){r.modelName=e,r.sequelize=this;const n=class extends v{};return n.init(t,r),n}model(e){if(!this.isDefined(e))throw new Error(`${e} has not been defined`);return this.modelManager.getModel(e)}isDefined(e){return!!this.modelManager.models.find((t=>t.name===e))}async query(e,t){if((t=l(l({},this.options.query),t)).instance&&!t.model&&(t.model=t.instance.constructor),t.instance||t.model||(t.raw=!0),t.mapToModel&&(t.fieldMap=g.get(t,"model.fieldAttributeMap",{})),(t=g.defaults(t,{logging:Object.prototype.hasOwnProperty.call(this.options,"logging")?this.options.logging:console.log,searchPath:Object.prototype.hasOwnProperty.call(this.options,"searchPath")?this.options.searchPath:"DEFAULT"})).type||(t.model||t.nest||t.plain?t.type=x.SELECT:t.type=x.RAW),this.dialect.supports.searchPath&&this.options.dialectOptions&&this.options.dialectOptions.prependSearchPath&&!1!==t.supportsSearchPath?t.searchPath||(t.searchPath="DEFAULT"):delete t.searchPath,"object"==typeof e){if(void 0!==e.values){if(void 0!==t.replacements)throw new Error("Both `sql.values` and `options.replacements` cannot be set at the same time");t.replacements=e.values}if(void 0!==e.bind){if(void 0!==t.bind)throw new Error("Both `sql.bind` and `options.bind` cannot be set at the same time");t.bind=e.bind}void 0!==e.query&&(e=e.query)}if(e=e.trim(),t.replacements&&t.bind)throw new Error("Both `replacements` and `bind` cannot be set at the same time");let r;t.replacements&&(e=B(e,this.dialect,t.replacements)),t.bind&&([e,r]=this.dialect.Query.formatBindParameters(e,t.bind,this.options.dialect));const n=()=>{if(t.transaction&&t.transaction.finished&&!t.completesTransaction){const r=new Error(`${t.transaction.finished} has been called on this transaction(${t.transaction.id}), you can no longer use it. (The rejected query is attached as the 'sql' property of this error)`);throw r.sql=e,r}},i=l(l({},this.options.retry),t.retry);return m((async()=>{void 0===t.transaction&&j._cls&&(t.transaction=j._cls.get("transaction")),n();const i=await(t.transaction?t.transaction.connection:this.connectionManager.getConnection(t));"db2"===this.options.dialect&&t.alter&&!1===t.alter.drop&&(i.dropTable=!1);const o=new this.dialect.Query(i,this,t);try{return await this.runHooks("beforeQuery",t,o),n(),await o.run(e,r)}finally{await this.runHooks("afterQuery",t,o),t.transaction||this.connectionManager.releaseConnection(i)}}),i)}async set(e,t){if(t=l(l({},this.options.set),"object"==typeof t&&t),!["mysql","mariadb"].includes(this.options.dialect))throw new Error("sequelize.set is only supported for mysql or mariadb");if(!(t.transaction&&t.transaction instanceof A))throw new TypeError("options.transaction is required");t.raw=!0,t.plain=!0,t.type="SET";const r=`SET ${g.map(e,((e,t)=>`@${t} := ${"string"==typeof e?`"${e}"`:e}`)).join(", ")}`;return await this.query(r,t)}escape(e){return this.dialect.queryGenerator.escape(e)}async createSchema(e,t){return await this.getQueryInterface().createSchema(e,t)}async showAllSchemas(e){return await this.getQueryInterface().showAllSchemas(e)}async dropSchema(e,t){return await this.getQueryInterface().dropSchema(e,t)}async dropAllSchemas(e){return await this.getQueryInterface().dropAllSchemas(e)}async sync(e){if((e=p(l(l(l({},this.options),this.options.sync),e),{hooks:!e||!1!==e.hooks})).match&&!e.match.test(this.config.database))throw new Error(`Database "${this.config.database}" does not match sync match parameter "${e.match}"`);if(e.hooks&&await this.runHooks("beforeBulkSync",e),e.force&&await this.drop(e),0===this.modelManager.models.length)await this.authenticate(e);else{const t=this.modelManager.getModelsTopoSortedByForeignKey();if(null==t)return this._syncModelsWithCyclicReferences(e);t.reverse();for(const r of t)await r.sync(e)}return e.hooks&&await this.runHooks("afterBulkSync",e),this}async _syncModelsWithCyclicReferences(e){if("sqlite"!==this.dialect.name){for(const t of this.modelManager.models)await t.sync(p(l({},e),{withoutForeignKeyConstraints:!0}));for(const t of this.modelManager.models)await t.sync(p(l({},e),{force:!1,alter:!0}))}else await D(this,e,(async()=>{for(const t of this.modelManager.models)await t.sync(e)}))}async truncate(e){const t=this.modelManager.getModelsTopoSortedByForeignKey(),r=t||this.modelManager.models,n=null==t;if(n&&(!e||!e.cascade))throw new Error('Sequelize#truncate: Some of your models have cyclic references (foreign keys). You need to use the "cascade" option to be able to delete rows from models that have cyclic references.');if(n&&"sqlite"===this.dialect.name)return D(this,e,(async()=>{await Promise.all(r.map((t=>t.truncate(e))))}));if(e&&e.cascade)for(const t of r)await t.truncate(e);else await Promise.all(r.map((t=>t.truncate(e))))}async drop(e){if(e&&e.cascade)for(const t of this.modelManager.models)await t.drop(e);const t=this.modelManager.getModelsTopoSortedByForeignKey();if(t)for(const r of t)await r.drop(e);if("sqlite"!==this.dialect.name){for(const t of this.modelManager.models){const r=t.getTableName(),n=await this.queryInterface.getForeignKeyReferencesForTable(r,e);await Promise.all(n.map((t=>this.queryInterface.removeConstraint(r,t.constraintName,e))))}for(const t of this.modelManager.models)await t.drop(e)}else await D(this,e,(async()=>{for(const t of this.modelManager.models)await t.drop(e)}))}async authenticate(e){e=l({raw:!0,plain:!0,type:x.SELECT},e),await this.query(this.dialect.queryGenerator.authTestQuery(),e)}async databaseVersion(e){return await this.getQueryInterface().databaseVersion(e)}random(){return["postgres","sqlite","snowflake"].includes(this.getDialect())?this.fn("RANDOM"):this.fn("RAND")}static fn(e,...t){return new y.Fn(e,t)}static col(e){return new y.Col(e)}static cast(e,t){return new y.Cast(e,t)}static literal(e){return new y.Literal(e)}static and(...e){return{[O.and]:e}}static or(...e){return{[O.or]:e}}static json(e,t){return new y.Json(e,t)}static where(e,t,r){return new y.Where(e,t,r)}async transaction(e,t){"function"==typeof e&&(t=e,e=void 0);const r=new A(this,e);return t?j._clsRun((async()=>{let e;await r.prepareEnvironment(!0);try{e=await t(r)}catch(e){try{await r.rollback()}catch(e){}throw e}return await r.commit(),e})):(await r.prepareEnvironment(!1),r)}static useCLS(e){if(!e||"object"!=typeof e||"function"!=typeof e.bind||"function"!=typeof e.run)throw new Error("Must provide CLS namespace");return j._cls=e,this}static _clsRun(e){const t=j._cls;if(!t)return e();let r;return t.run((t=>r=e(t))),r}log(...e){let t;const r=g.last(e);r&&g.isPlainObject(r)&&Object.prototype.hasOwnProperty.call(r,"logging")?(t=r,t.logging===console.log&&e.splice(e.length-1,1)):t=this.options,t.logging&&(!0===t.logging&&(N.noTrueLogging(),t.logging=console.log),(this.options.benchmark||t.benchmark)&&t.logging===console.log&&(e=[`${e[0]} Elapsed time: ${e[1]}ms`]),t.logging(...e))}close(){return this.connectionManager.close()}normalizeDataType(e){let t="function"==typeof e?new e:e;const r=this.dialect.DataTypes||{};if(r[t.key]&&(t=r[t.key].extend(t)),t instanceof b.ARRAY){if(!t.type)throw new Error("ARRAY is missing type definition for its values.");r[t.type.key]&&(t.type=r[t.type.key].extend(t.type))}return t}normalizeAttribute(e){if(g.isPlainObject(e)||(e={type:e}),!e.type)return e;if(e.type=this.normalizeDataType(e.type),Object.prototype.hasOwnProperty.call(e,"defaultValue")&&"function"==typeof e.defaultValue&&[b.NOW,b.UUIDV1,b.UUIDV4].includes(e.defaultValue)&&(e.defaultValue=new e.defaultValue),e.type instanceof b.ENUM&&(e.values?e.type.values=e.type.options.values=e.values:e.values=e.type.values,!e.values.length))throw new Error("Values for ENUM have not been defined.");return e}}j.prototype.fn=j.fn,j.prototype.col=j.col,j.prototype.cast=j.cast,j.prototype.literal=j.literal,j.prototype.and=j.and,j.prototype.or=j.or,j.prototype.json=j.json,j.prototype.where=j.where,j.prototype.validate=j.prototype.authenticate,Object.defineProperty(j,"version",{enumerable:!0,get:()=>r(1287).rE}),j.options={hooks:{}},j.Utils=y,j.Op=O,j.TableHints=S,j.IndexHints=_,j.Transaction=A,j.prototype.Sequelize=j,j.prototype.QueryTypes=j.QueryTypes=x,j.prototype.Validator=j.Validator=C,j.Model=v,j.QueryInterface=R,j.BelongsTo=P,j.HasOne=L,j.HasMany=q,j.BelongsToMany=M,j.DataTypes=b;for(const e in b)j[e]=b[e];j.Deferrable=E,j.prototype.Association=j.Association=T,j.useInflection=y.useInflection,I.applyTo(j),I.applyTo(j.prototype),j.Error=k.BaseError;for(const e of Object.keys(k))j[e]=k[e];e.exports=j,e.exports.Sequelize=j,e.exports.default=j},4667:(e,t,r)=>{"use strict";const n=r(2869),{logger:i}=r(5275);function o(e,t,r,n){return e.reduce(((e,i,s)=>(0!==s&&(e+=", "),Array.isArray(i)?e+=`(${o(i,t,r,n)})`:e+=a(i,t,r,n),e)),"")}function a(e,t,r,s){let c=!1;if(null==e)return"NULL";switch(typeof e){case"boolean":return["sqlite","mssql","oracle"].includes(r)?+!!e:(!!e).toString();case"number":case"bigint":return e.toString();case"string":c="mssql"===r}if(e instanceof Date&&(e=n[r].DATE.prototype.stringify(e,{timezone:t})),Buffer.isBuffer(e))return n[r].BLOB?n[r].BLOB.prototype.stringify(e):n.BLOB.prototype.stringify(e);if(Array.isArray(e)){const i=e=>a(e,t,r,s);return"postgres"!==r||s?o(e,t,r,s):n.ARRAY.prototype.stringify(e,{escape:i})}if(!e.replace)throw new Error(`Invalid value ${i.inspect(e)}`);if(["postgres","sqlite","mssql","snowflake","db2"].includes(r))e=e.replace(/'/g,"''"),"postgres"===r&&(e=e.replace(/\0/g,"\\0"));else if("oracle"===r&&"string"==typeof e){if(e.startsWith("TO_TIMESTAMP")||e.startsWith("TO_DATE"))return e;e=e.replace(/'/g,"''")}else e=e.replace(/[\0\n\r\b\t\\'"\x1a]/g,(e=>{switch(e){case"\0":return"\\0";case"\n":return"\\n";case"\r":return"\\r";case"\b":return"\\b";case"\t":return"\\t";case"":return"\\Z";default:return`\\${e}`}}));return(c?"N'":"'")+e+"'"}t.arrayToList=o,t.escape=a,t.format=function(e,t,r,n){if(t=[].concat(t),"string"!=typeof e)throw new Error(`Invalid SQL string provided: ${e}`);return e.replace(/\?/g,(e=>t.length?a(t.shift(),r,n,!0):e))},t.formatNamedParameters=function(e,t,r,n){return e.replace(/:+(?!\d)(\w+)/g,((e,i)=>{if("postgres"===n&&"::"===e.slice(0,2))return e;if(void 0!==t[i])return a(t[i],r,n,!0);throw new Error(`Named parameter "${e}" has no value in the given object.`)}))}},3126:e=>{"use strict";e.exports={NOLOCK:"NOLOCK",READUNCOMMITTED:"READUNCOMMITTED",UPDLOCK:"UPDLOCK",REPEATABLEREAD:"REPEATABLEREAD",SERIALIZABLE:"SERIALIZABLE",READCOMMITTED:"READCOMMITTED",TABLOCK:"TABLOCK",TABLOCKX:"TABLOCKX",PAGLOCK:"PAGLOCK",ROWLOCK:"ROWLOCK",NOWAIT:"NOWAIT",READPAST:"READPAST",XLOCK:"XLOCK",SNAPSHOT:"SNAPSHOT",NOEXPAND:"NOEXPAND"}},5137:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(e,r,n)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;class a{constructor(e,t){this.sequelize=e,this.savepoints=[],this._afterCommitHooks=[];const a=this.sequelize.dialect.queryGenerator.generateTransactionId;this.options=((e,t)=>{for(var a in t||(t={}))n.call(t,a)&&o(e,a,t[a]);if(r)for(var a of r(t))i.call(t,a)&&o(e,a,t[a]);return e})({type:e.options.transactionType,isolationLevel:e.options.isolationLevel,readOnly:!1},t),this.parent=this.options.transaction,this.parent?(this.id=this.parent.id,this.parent.savepoints.push(this),this.name=`${this.id}-sp-${this.parent.savepoints.length}`):this.id=this.name=a(),delete this.options.transaction}async commit(){if(this.finished)throw new Error(`Transaction cannot be committed because it has been finished with state: ${this.finished}`);try{await this.sequelize.getQueryInterface().commitTransaction(this,this.options),this.cleanup()}catch(e){throw console.warn(`Committing transaction ${this.id} failed with error ${JSON.stringify(e.message)}. We are killing its connection as it is now in an undetermined state.`),await this.forceCleanup(),e}finally{this.finished="commit";for(const e of this._afterCommitHooks)await e.apply(this,[this])}}async rollback(){if(this.finished)throw new Error(`Transaction cannot be rolled back because it has been finished with state: ${this.finished}`);if(!this.connection)throw new Error("Transaction cannot be rolled back because it never started");try{await this.sequelize.getQueryInterface().rollbackTransaction(this,this.options),this.cleanup()}catch(e){throw console.warn(`Rolling back transaction ${this.id} failed with error ${JSON.stringify(e.message)}. We are killing its connection as it is now in an undetermined state.`),await this.forceCleanup(),e}}async prepareEnvironment(e=!0){let t,r;if(this.parent)t=Promise.resolve(this.parent.connection);else{const e={uuid:this.id};this.options.readOnly&&(e.type="SELECT"),t=this.sequelize.connectionManager.getConnection(e)}const n=await t;this.connection=n,this.connection.uuid=this.id;try{await this.begin(),r=await this.setDeferrable()}catch(e){try{r=await this.rollback()}finally{throw e}}return e&&this.sequelize.constructor._cls&&this.sequelize.constructor._cls.set("transaction",this),r}async setDeferrable(){if(this.options.deferrable)return await this.sequelize.getQueryInterface().deferConstraints(this,this.options)}async begin(){const e=this.sequelize.getQueryInterface();return this.sequelize.dialect.supports.settingIsolationLevelDuringTransaction?(await e.startTransaction(this,this.options),e.setIsolationLevel(this,this.options.isolationLevel,this.options)):(await e.setIsolationLevel(this,this.options.isolationLevel,this.options),e.startTransaction(this,this.options))}cleanup(){this.parent||void 0===this.connection.uuid||(this._clearCls(),this.sequelize.connectionManager.releaseConnection(this.connection),this.connection.uuid=void 0)}async forceCleanup(){this.parent||void 0===this.connection.uuid||(this._clearCls(),await this.sequelize.connectionManager.destroyConnection(this.connection),this.connection.uuid=void 0)}_clearCls(){const e=this.sequelize.constructor._cls;e&&e.get("transaction")===this&&e.set("transaction",null)}afterCommit(e){if(!e||"function"!=typeof e)throw new Error('"fn" must be a function');this._afterCommitHooks.push(e)}static get TYPES(){return{DEFERRED:"DEFERRED",IMMEDIATE:"IMMEDIATE",EXCLUSIVE:"EXCLUSIVE"}}static get ISOLATION_LEVELS(){return{READ_UNCOMMITTED:"READ UNCOMMITTED",READ_COMMITTED:"READ COMMITTED",REPEATABLE_READ:"REPEATABLE READ",SERIALIZABLE:"SERIALIZABLE"}}static get LOCK(){return{UPDATE:"UPDATE",SHARE:"SHARE",KEY_SHARE:"KEY SHARE",NO_KEY_UPDATE:"NO KEY UPDATE"}}get LOCK(){return a.LOCK}}e.exports=a,e.exports.Transaction=a,e.exports.default=a},3588:(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const c=r(2869),u=r(4667),l=r(7825),p=r(2525),d=r(3903).v1,h=r(3903).v4,f=r(4104),m=new Set(Object.values(f));let g=r(6403);function y(e){return e.trim().replace(/[-_\s]+(.)?/g,((e,t)=>t.toUpperCase()))}function v(e){return g.underscore(e)}function b(e,t){return e=e||{},l.cloneDeepWith(e,(e=>{if(!Array.isArray(e)&&!l.isPlainObject(e))return t||"object"==typeof e?e:e&&"function"==typeof e.clone?e.clone():void 0}))}function E(e,t){return Array.isArray(e.attributes)&&(e.attributes=e.attributes.map((e=>"string"!=typeof e?e:t.rawAttributes[e]&&e!==t.rawAttributes[e].field?[t.rawAttributes[e].field,e]:e))),e.where&&l.isPlainObject(e.where)&&(e.where=w(e.where,t)),e}function w(e,t){return e&&C(e=b(e)).forEach((r=>{const n=t.rawAttributes[r];n&&n.field!==n.fieldName&&(e[n.field]=e[r],delete e[r]),!l.isPlainObject(e[r])||n&&(n.type instanceof c.HSTORE||n.type instanceof c.JSON)||(e[r]=E({where:e[r]},t).where),Array.isArray(e[r])&&e[r].forEach(((n,i)=>{l.isPlainObject(n)&&(e[r][i]=w(n,t))}))})),e}t.classToInvokable=r(753).classToInvokable,t.joinSQLFragments=r(9446).joinSQLFragments,t.useInflection=function(e){g=e},t.camelizeIf=function(e,t){let r=e;return t&&(r=y(e)),r},t.underscoredIf=function(e,t){let r=e;return t&&(r=v(e)),r},t.isPrimitive=function(e){return["string","number","boolean"].includes(typeof e)},t.mergeDefaults=function(e,t){return l.mergeWith(e,t,((e,t)=>{if(!l.isPlainObject(e)&&void 0!==e)return l.isFunction(e)&&p(e)&&t||e}))},t.merge=function e(){const t={};for(const r of arguments)l.forOwn(r,((r,n)=>{void 0!==r&&(t[n]?l.isPlainObject(r)&&l.isPlainObject(t[n])?t[n]=e(t[n],r):Array.isArray(r)&&Array.isArray(t[n])?t[n]=r.concat(t[n]):t[n]=r:t[n]=r)}));return t},t.spliceStr=function(e,t,r,n){return e.slice(0,t)+n+e.slice(t+r)},t.camelize=y,t.underscore=v,t.singularize=function(e){return g.singularize(e)},t.pluralize=function(e){return g.pluralize(e)},t.format=function(e,t){return u.format(e[0],e.slice(1),null,t)},t.formatNamedParameters=function(e,t,r){return u.formatNamedParameters(e,t,null,r)},t.cloneDeep=b,t.mapFinderOptions=function(e,t){return e.attributes&&Array.isArray(e.attributes)&&(e.attributes=t._injectDependentVirtualAttributes(e.attributes),e.attributes=e.attributes.filter((e=>!t._virtualAttributes.has(e)))),E(e,t),e},t.mapOptionFieldNames=E,t.mapWhereFieldNames=w,t.mapValueFieldNames=function(e,t,r){const n={};for(const i of t)void 0===e[i]||r._virtualAttributes.has(i)||(r.rawAttributes[i]&&r.rawAttributes[i].field&&r.rawAttributes[i].field!==i?n[r.rawAttributes[i].field]=e[i]:n[i]=e[i]);return n},t.isColString=function(e){return"string"==typeof e&&"$"===e[0]&&"$"===e[e.length-1]},t.canTreatArrayAsAnd=function(e){return e.some((e=>l.isPlainObject(e)||e instanceof I))},t.combineTableNames=function(e,t){return e.toLowerCase()<t.toLowerCase()?e+t:t+e},t.toDefaultValue=function(e,t){if("function"==typeof e){const t=e();return t instanceof c.ABSTRACT?t.toSql():t}return e instanceof c.UUIDV1?d():e instanceof c.UUIDV4?h():e instanceof c.NOW?x(t):Array.isArray(e)?e.slice():l.isPlainObject(e)?((e,t)=>{for(var r in t||(t={}))o.call(t,r)&&s(e,r,t[r]);if(i)for(var r of i(t))a.call(t,r)&&s(e,r,t[r]);return e})({},e):e},t.defaultValueSchemable=function(e){return!(void 0===e||e instanceof c.NOW||e instanceof c.UUIDV1||e instanceof c.UUIDV4||"function"==typeof e)},t.removeNullValuesFromHash=function(e,t,r){let n=e;if((r=r||{}).allowNull=r.allowNull||[],t){const t={};l.forIn(e,((e,n)=>{(r.allowNull.includes(n)||n.endsWith("Id")||null!=e)&&(t[n]=e)})),n=t}return n};const A=new Set(["mariadb","mysql","postgres","sqlite","mssql","db2","oracle"]);function x(e){const t=new Date;return A.has(e)||t.setMilliseconds(0),t}t.now=x;function S(e,t){return t=t||"`",e.replace(new RegExp(t,"g"),"")}t.TICK_CHAR="`",t.addTicks=function(e,t){return(t=t||"`")+S(e,t)+t},t.removeTicks=S,t.flattenObjectDeep=function(e){if(!l.isPlainObject(e))return e;const t={};return function e(r,n){return Object.keys(r).forEach((i=>{const o=n?`${n}.${i}`:i;"object"==typeof r[i]&&null!==r[i]?e(r[i],o):t[o]=l.get(r,i)})),t}(e,void 0)};class _{}t.SequelizeMethod=_;class k extends _{constructor(e,t){super(),this.fn=e,this.args=t}clone(){return new k(this.fn,this.args)}}t.Fn=k,t.Col=class extends _{constructor(e,...t){super(),t.length>0&&(e=t),this.col=e}},t.Cast=class extends _{constructor(e,t,r){super(),this.val=e,this.type=(t||"").trim(),this.json=r||!1}},t.Literal=class extends _{constructor(e){super(),this.val=e}},t.Json=class extends _{constructor(e,t){super(),l.isObject(e)?this.conditions=e:(this.path=e,t&&(this.value=t))}};class I extends _{constructor(e,t,r){super(),void 0===r&&(r=t,t="="),this.attribute=e,this.comparator=t,this.logic=r}}function T(e){return Object.getOwnPropertySymbols(e).filter((e=>m.has(e)))}function C(e){return T(e).concat(Object.keys(e))}t.Where=I,t.getOperators=T,t.getComplexKeys=C,t.getComplexSize=function(e){return Array.isArray(e)?e.length:C(e).length},t.isWhereEmpty=function(e){return!!e&&l.isEmpty(e)&&0===T(e).length},t.generateEnumName=function(e,t){return`enum_${e}_${t}`},t.camelizeObjectKeys=function(e){const t=new Object;return Object.keys(e).forEach((r=>{t[y(r)]=e[r]})),t},t.defaults=function(e,...t){return e=Object(e),t.forEach((t=>{t&&C(t=Object(t)).forEach((r=>{const n=e[r];(void 0===n||l.eq(n,Object.prototype[r])&&!Object.prototype.hasOwnProperty.call(e,r))&&(e[r]=t[r])}))})),e},t.nameIndex=function(e,t){if(t.tableName&&(t=t.tableName),!Object.prototype.hasOwnProperty.call(e,"name")){const r=e.fields.map((e=>"string"==typeof e?e:e.name||e.attribute));e.name=v(`${t}_${r.join("_")}`)}return e},t.intersects=function(e,t){return e.some((e=>t.includes(e)))},t.safeStringifyJson=function(e){return JSON.stringify(e,((e,t)=>"bigint"==typeof t?String(t):t))}},753:(e,t)=>{var r=Object.defineProperty;function n(e){return new Proxy(e,{apply:(t,r,n)=>new e(...n),construct:(t,r)=>new e(...r)})}((e,t)=>{for(var n in(e=>{r(e,"__esModule",{value:!0})})(e),t)r(e,n,{get:t[n],enumerable:!0})})(t,{classToInvokable:()=>n})},6892:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0});((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{noBoolOperatorAliases:()=>m,noDoubleNestedGroup:()=>g,noStringOperators:()=>f,noTrueLogging:()=>h,unsupportedEngine:()=>y});var l,p=(l=r(9023),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=l?n(s(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));const d=()=>{},h=(0,p.deprecate)(d,"The logging-option should be either a function or false. Default: console.log","SEQUELIZE0002"),f=(0,p.deprecate)(d,"String based operators are deprecated. Please use Symbol based operators for better security, read more at https://sequelize.org/master/manual/querying.html#operators","SEQUELIZE0003"),m=(0,p.deprecate)(d,"A boolean value was passed to options.operatorsAliases. This is a no-op with v5 and should be removed.","SEQUELIZE0004"),g=(0,p.deprecate)(d,"Passing a double nested nested array to `group` is unsupported and will be removed in v6.","SEQUELIZE0005"),y=(0,p.deprecate)(d,"This database engine version is not supported, please update your database server. More information https://github.com/sequelize/sequelize/blob/main/ENGINE.md","SEQUELIZE0006")},9446:(e,t)=>{var r=Object.defineProperty,n=(e,t,n)=>(((e,t,n)=>{t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function i(e){if(0===e.length)return"";const t=e.filter((e=>!!e)).map((e=>Array.isArray(e)?i(e):e));for(const e of t)if(e&&"string"!=typeof e)throw new o(t,e,`Tried to construct a SQL string with a non-string, non-falsy fragment (${e}).`);return t.map((e=>e.trim())).filter((e=>""!==e)).reduce((({skipNextLeadingSpace:e,result:t},r)=>{return e||/^[;,)]/.test(r)?t+=r.trim():t+=` ${r.trim()}`,{skipNextLeadingSpace:(n=r,/\($/.test(n)),result:t};var n}),{skipNextLeadingSpace:!0,result:""}).result}((e,t)=>{for(var n in(e=>{r(e,"__esModule",{value:!0})})(e),t)r(e,n,{get:t[n],enumerable:!0})})(t,{JoinSQLFragmentsError:()=>o,joinSQLFragments:()=>i});class o extends TypeError{constructor(e,t,r){super(r),n(this,"args"),n(this,"fragment"),this.args=e,this.fragment=t,this.name="JoinSQLFragmentsError"}}},5275:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,p=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=e=>i(e,"__esModule",{value:!0}),h=e=>((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))u.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(d(i(null!=e?n(c(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);((e,t)=>{for(var r in d(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{Logger:()=>g,logger:()=>y});var f=h(r(263)),m=h(r(9023));class g{constructor(e={}){var t;p(this,"symbol"!=typeof(t="config")?t+"":t,undefined);var r=e,{context:n="sequelize"}=r,i=((e,t)=>{var r={};for(var n in e)u.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&s)for(var n of s(e))t.indexOf(n)<0&&l.call(e,n)&&(r[n]=e[n]);return r})(r,["context"]);this.config=((e,t)=>{for(var r in t||(t={}))u.call(t,r)&&p(e,r,t[r]);if(s)for(var r of s(t))l.call(t,r)&&p(e,r,t[r]);return e})({context:n},i)}warn(e){console.warn(`(${this.config.context}) Warning: ${e}`)}inspect(e){return m.default.inspect(e,{showHidden:!1,depth:1})}debugContext(e){return(0,f.default)(`${this.config.context}:${e}`)}}const y=new g},1563:(e,t,r)=>{var n=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=e=>i(e,"__esModule",{value:!0}),l=e=>((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of a(t))c.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=o(t,n))||r.enumerable});return e})(u(i(null!=e?n(s(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);((e,t)=>{for(var r in u(e),t)i(e,r,{get:t[r],enumerable:!0})})(t,{injectReplacements:()=>h});var p=l(r(4813)),d=l(r(4667));function h(e,t,r){var n,i,o,a;if(null==r)return e;if(!Array.isArray(r)&&!(0,p.default)(r))throw new TypeError(`"replacements" must be an array or a plain object, but received ${JSON.stringify(r)} instead.`);const s=(0,p.default)(r),c=Array.isArray(r);let u=-1,l="",h=null,g=!1,y=!1,v=0,b=!1,E=!1,w=!1;for(let p=0;p<e.length;p++){const A=e[p];if(y)A===t.TICK_CHAR_RIGHT&&(y=!1);else if(g)"'"!==A||w&&m(e,p-1)||(g=!1,w=!1);else if(null===h)if(b)"\n"===A&&(b=!1);else if(E)"*"===A&&"/"===e[p+1]&&(E=!1);else if(A!==t.TICK_CHAR_LEFT)if("'"!==A)if("-"!==A||"-- "!==e.slice(p,p+3))if("/"!==A||"/*"!==e.slice(p,p+2))if("$"!==A){if(s&&":"===A){const n=e[p-1];if(!f(n)&&"["!==n)continue;const i=e.slice(p,e.length).match(/^:(?<name>[a-z_][0-9a-z_]*)(?:\)|,|$|\s|::|;|])/i),o=null==(a=null==i?void 0:i.groups)?void 0:a.name;if(!o)continue;const s=r[o];if(!Object.prototype.hasOwnProperty.call(r,o)||void 0===s)throw new Error(`Named replacement ":${o}" has no entry in the replacement map.`);const c=(0,d.escape)(s,void 0,t.name,!0);l+=e.slice(v,p),v=p+o.length+1,l+=c}else if(c&&"?"===A){const n=e[p-1];if(!f(n)&&"["!==n)continue;const i=e[p+1];if("|"===i||"&"===i)continue;const o=++u,a=r[u];if(void 0===a)throw new Error(`Positional replacement (?) ${o} has no entry in the replacement map (replacements[${o}] is undefined).`);const s=(0,d.escape)(a,void 0,t.name,!0);l+=e.slice(v,p),v=p+1,l+=s}}else{const t=e[p-1];if(/[0-9a-z_]/i.test(t))continue;const r=e.slice(p,e.length).match(/^\$(?<name>[a-z_][0-9a-z_]*)?(\$)/i);if(r){h=null!=(o=null==(i=r.groups)?void 0:i.name)?o:"",p+=r[0].length-1;continue}}else E=!0;else b=!0;else g=!0,w=t.canBackslashEscape()||t.supports.escapeStringConstants&&("E"===e[p-1]||"e"===e[p-1])&&f(e[p-2]);else y=!0;else{if("$"!==A)continue;const t=e.slice(p,e.length).match(/^\$(?<name>[a-z_][0-9a-z_]*)?(\$)/i);h===((null==(n=null==t?void 0:t.groups)?void 0:n.name)||"")&&(h=null)}}if(g)throw new Error(`The following SQL query includes an unterminated string literal:\n${e}`);return l+=e.slice(v,e.length),l}function f(e){return void 0===e||/[\s(>,=]/.test(e)}function m(e,t){let r=!1;for(let n=t;n>=0&&"\\"===e[n];n--)r=!r;return r}},8893:(e,t,r)=>{"use strict";const n=r(7825),i=n.cloneDeep(r(7906)),o=r(4716),a={extend(e,t){return this[e]=t,this},notEmpty:e=>!e.match(/^[\s\t\r\n]*$/),len(e,t,r){return this.isLength(e,t,r)},isUrl(e){return this.isURL(e)},isIPv6(e){return this.isIP(e,6)},isIPv4(e){return this.isIP(e,4)},notIn(e,t){return!this.isIn(e,t)},regex:(e,t,r)=>(e+="","RegExp"!==Object.prototype.toString.call(t).slice(8,-1)&&(t=new RegExp(t,r)),e.match(t)),notRegex(e,t,r){return!this.regex(e,t,r)},isDecimal:e=>""!==e&&!!e.match(/^(?:-?(?:[0-9]+))?(?:\.[0-9]*)?(?:[eE][+-]?(?:[0-9]+))?$/),min(e,t){const r=parseFloat(e);return isNaN(r)||r>=t},max(e,t){const r=parseFloat(e);return isNaN(r)||r<=t},not(e,t,r){return this.notRegex(e,t,r)},contains:(e,t)=>!!t&&e.includes(t),notContains(e,t){return!this.contains(e,t)},is(e,t,r){return this.regex(e,t,r)}};i.isImmutable=function(e,t,r,n){return n.isNewRecord||n.dataValues[r]===n._previousDataValues[r]},i.notNull=function(e){return null!=e},n.forEach(a,((e,t)=>{i[t]=e})),i.isNull=i.isEmpty,i.isDate=function(e){const t=Date.parse(e);if(isNaN(t))return!1;const r=new Date(t);return o(r.toISOString()).isValid()},t.N=i},2268:(e,t,r)=>{"use strict";function n(e,...t){return(...r)=>e(...t,...r)}function i(e){return function(...t){var r=t.pop();return e.call(this,t,r)}}r.r(t),r.d(t,{all:()=>fe,allLimit:()=>me,allSeries:()=>ge,any:()=>tt,anyLimit:()=>rt,anySeries:()=>nt,apply:()=>n,applyEach:()=>O,applyEachSeries:()=>P,asyncify:()=>p,auto:()=>q,autoInject:()=>F,cargo:()=>G,cargoQueue:()=>K,compose:()=>V,concat:()=>J,concatLimit:()=>X,concatSeries:()=>Z,constant:()=>ee,default:()=>mt,detect:()=>re,detectLimit:()=>ne,detectSeries:()=>ie,dir:()=>ae,doDuring:()=>se,doUntil:()=>ce,doWhilst:()=>se,during:()=>dt,each:()=>le,eachLimit:()=>pe,eachOf:()=>T,eachOfLimit:()=>_,eachOfSeries:()=>N,eachSeries:()=>de,ensureAsync:()=>he,every:()=>fe,everyLimit:()=>me,everySeries:()=>ge,filter:()=>Ee,filterLimit:()=>we,filterSeries:()=>Ae,find:()=>re,findLimit:()=>ne,findSeries:()=>ie,flatMap:()=>J,flatMapLimit:()=>X,flatMapSeries:()=>Z,foldl:()=>$,foldr:()=>ze,forEach:()=>le,forEachLimit:()=>pe,forEachOf:()=>T,forEachOfLimit:()=>_,forEachOfSeries:()=>N,forEachSeries:()=>de,forever:()=>xe,groupBy:()=>_e,groupByLimit:()=>Se,groupBySeries:()=>ke,inject:()=>$,log:()=>Ie,map:()=>C,mapLimit:()=>Y,mapSeries:()=>R,mapValues:()=>Ce,mapValuesLimit:()=>Te,mapValuesSeries:()=>Oe,memoize:()=>Ne,nextTick:()=>Re,parallel:()=>Le,parallelLimit:()=>Me,priorityQueue:()=>Ue,queue:()=>qe,race:()=>Fe,reduce:()=>$,reduceRight:()=>ze,reflect:()=>He,reflectAll:()=>Qe,reject:()=>Ke,rejectLimit:()=>$e,rejectSeries:()=>We,retry:()=>Je,retryable:()=>Ze,select:()=>Ee,selectLimit:()=>we,selectSeries:()=>Ae,seq:()=>W,series:()=>et,setImmediate:()=>l,some:()=>tt,someLimit:()=>rt,someSeries:()=>nt,sortBy:()=>it,timeout:()=>ot,times:()=>st,timesLimit:()=>at,timesSeries:()=>ct,transform:()=>ut,tryEach:()=>lt,unmemoize:()=>pt,until:()=>ht,waterfall:()=>ft,whilst:()=>dt,wrapSync:()=>p});var o="function"==typeof queueMicrotask&&queueMicrotask,a="function"==typeof setImmediate&&setImmediate,s="object"==typeof process&&"function"==typeof process.nextTick;function c(e){setTimeout(e,0)}function u(e){return(t,...r)=>e((()=>t(...r)))}var l=u(o?queueMicrotask:a?setImmediate:s?process.nextTick:c);function p(e){return f(e)?function(...t){const r=t.pop();return d(e.apply(this,t),r)}:i((function(t,r){var n;try{n=e.apply(this,t)}catch(e){return r(e)}if(n&&"function"==typeof n.then)return d(n,r);r(null,n)}))}function d(e,t){return e.then((e=>{h(t,null,e)}),(e=>{h(t,e&&(e instanceof Error||e.message)?e:new Error(e))}))}function h(e,t,r){try{e(t,r)}catch(e){l((e=>{throw e}),e)}}function f(e){return"AsyncFunction"===e[Symbol.toStringTag]}function m(e){if("function"!=typeof e)throw new Error("expected a function");return f(e)?p(e):e}function g(e,t){if(t||(t=e.length),!t)throw new Error("arity is undefined");return function(...r){return"function"==typeof r[t-1]?e.apply(this,r):new Promise(((n,i)=>{r[t-1]=(e,...t)=>{if(e)return i(e);n(t.length>1?t:t[0])},e.apply(this,r)}))}}function y(e){return function(t,...r){return g((function(n){var i=this;return e(t,((e,t)=>{m(e).apply(i,r.concat(t))}),n)}))}}function v(e,t,r,n){t=t||[];var i=[],o=0,a=m(r);return e(t,((e,t,r)=>{var n=o++;a(e,((e,t)=>{i[n]=t,r(e)}))}),(e=>{n(e,i)}))}function b(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}var E={};function w(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}function A(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}function x(e,t,r,n){let i=!1,o=!1,a=!1,s=0,c=0;function u(){s>=t||a||i||(a=!0,e.next().then((({value:e,done:t})=>{if(!o&&!i){if(a=!1,t)return i=!0,void(s<=0&&n(null));s++,r(e,c,l),c++,u()}})).catch(p))}function l(e,t){if(s-=1,!o)return e?p(e):!1===e?(i=!0,void(o=!0)):t===E||i&&s<=0?(i=!0,n(null)):void u()}function p(e){o||(a=!1,i=!0,n(e))}u()}var S=e=>(t,r,n)=>{if(n=w(n),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return n(null);if("AsyncGenerator"===t[Symbol.toStringTag])return x(t,e,r,n);if(function(e){return"function"==typeof e[Symbol.asyncIterator]}(t))return x(t[Symbol.asyncIterator](),e,r,n);var i=function(e){if(b(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t,r,n,i,o=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return o?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(o):(r=(t=e)?Object.keys(t):[],n=-1,i=r.length,function e(){var o=r[++n];return"__proto__"===o?e():n<i?{value:t[o],key:o}:null})}(t),o=!1,a=!1,s=0,c=!1;function u(e,t){if(!a)if(s-=1,e)o=!0,n(e);else if(!1===e)o=!0,a=!0;else{if(t===E||o&&s<=0)return o=!0,n(null);c||l()}}function l(){for(c=!0;s<e&&!o;){var t=i();if(null===t)return o=!0,void(s<=0&&n(null));s+=1,r(t.value,t.key,A(u))}c=!1}l()},_=g((function(e,t,r,n){return S(t)(e,m(r),n)}),4);function k(e,t,r){r=w(r);var n=0,i=0,{length:o}=e,a=!1;function s(e,t){!1===e&&(a=!0),!0!==a&&(e?r(e):++i!==o&&t!==E||r(null))}for(0===o&&r(null);n<o;n++)t(e[n],n,A(s))}function I(e,t,r){return _(e,1/0,t,r)}var T=g((function(e,t,r){return(b(e)?k:I)(e,m(t),r)}),3),C=g((function(e,t,r){return v(T,e,t,r)}),3),O=y(C),N=g((function(e,t,r){return _(e,1,t,r)}),3),R=g((function(e,t,r){return v(N,e,t,r)}),3),P=y(R);const L=Symbol("promiseCallback");function M(){let e,t;function r(r,...n){if(r)return t(r);e(n.length>1?n:n[0])}return r[L]=new Promise(((r,n)=>{e=r,t=n})),r}function q(e,t,r){"number"!=typeof t&&(r=t,t=null),r=w(r||M());var n=Object.keys(e).length;if(!n)return r(null);t||(t=n);var i={},o=0,a=!1,s=!1,c=Object.create(null),u=[],l=[],p={};function d(e,t){u.push((()=>function(e,t){if(!s){var n=A(((t,...n)=>{if(o--,!1!==t)if(n.length<2&&([n]=n),t){var u={};if(Object.keys(i).forEach((e=>{u[e]=i[e]})),u[e]=n,s=!0,c=Object.create(null),a)return;r(t,u)}else i[e]=n,(c[e]||[]).forEach((e=>e())),h();else a=!0}));o++;var u=m(t[t.length-1]);t.length>1?u(i,n):u(n)}}(e,t)))}function h(){if(!a){if(0===u.length&&0===o)return r(null,i);for(;u.length&&o<t;)u.shift()()}}function f(t){var r=[];return Object.keys(e).forEach((n=>{const i=e[n];Array.isArray(i)&&i.indexOf(t)>=0&&r.push(n)})),r}return Object.keys(e).forEach((t=>{var r=e[t];if(!Array.isArray(r))return d(t,[r]),void l.push(t);var n=r.slice(0,r.length-1),i=n.length;if(0===i)return d(t,r),void l.push(t);p[t]=i,n.forEach((o=>{if(!e[o])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+o+"` in "+n.join(", "));var a,s;(s=c[a=o])||(s=c[a]=[]),s.push((()=>{0==--i&&d(t,r)}))}))})),function(){for(var e=0;l.length;)e++,f(l.pop()).forEach((e=>{0==--p[e]&&l.push(e)}));if(e!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),h(),r[L]}var D=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,B=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,j=/,/,U=/(=.+)?(\s*)$/;function F(e,t){var r={};return Object.keys(e).forEach((t=>{var n,i=e[t],o=f(i),a=!o&&1===i.length||o&&0===i.length;if(Array.isArray(i))n=[...i],i=n.pop(),r[t]=n.concat(n.length>0?s:i);else if(a)r[t]=i;else{if(n=function(e){const t=function(e){let t="",r=0,n=e.indexOf("*/");for(;r<e.length;)if("/"===e[r]&&"/"===e[r+1]){let t=e.indexOf("\n",r);r=-1===t?e.length:t}else if(-1!==n&&"/"===e[r]&&"*"===e[r+1]){let i=e.indexOf("*/",r);-1!==i?(r=i+2,n=e.indexOf("*/",r)):(t+=e[r],r++)}else t+=e[r],r++;return t}(e.toString());let r=t.match(D);if(r||(r=t.match(B)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,n]=r;return n.replace(/\s/g,"").split(j).map((e=>e.replace(U,"").trim()))}(i),0===i.length&&!o&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");o||n.pop(),r[t]=n.concat(s)}function s(e,t){var r=n.map((t=>e[t]));r.push(t),m(i)(...r)}})),q(r,t)}class z{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):H(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):H(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:r}=t;e(t)&&this.removeLink(t),t=r}return this}}function H(e,t){e.length=1,e.head=e.tail=t}function Q(e,t,r){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var n=m(e),i=0,o=[];const a={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function s(e,t){return e?t?void(a[e]=a[e].filter((e=>e!==t))):a[e]=[]:Object.keys(a).forEach((e=>a[e]=[]))}function c(e,...t){a[e].forEach((e=>e(...t)))}var u=!1;function p(e,t,r,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");var i,o;function a(e,...t){return e?r?o(e):i():t.length<=1?i(t[0]):void i(t)}y.started=!0;var s=y._createTaskItem(e,r?a:n||a);if(t?y._tasks.unshift(s):y._tasks.push(s),u||(u=!0,l((()=>{u=!1,y.process()}))),r||!n)return new Promise(((e,t)=>{i=e,o=t}))}function d(e){return function(t,...r){i-=1;for(var n=0,a=e.length;n<a;n++){var s=e[n],u=o.indexOf(s);0===u?o.shift():u>0&&o.splice(u,1),s.callback(t,...r),null!=t&&c("error",t,s.data)}i<=y.concurrency-y.buffer&&c("unsaturated"),y.idle()&&c("drain"),y.process()}}function h(e){return!(0!==e.length||!y.idle()||(l((()=>c("drain"))),0))}const f=e=>t=>{if(!t)return new Promise(((t,r)=>{!function(e){const n=(...i)=>{s(e,n),((e,n)=>{if(e)return r(e);t(n)})(...i)};a[e].push(n)}(e)}));s(e),function(e,t){a[e].push(t)}(e,t)};var g=!1,y={_tasks:new z,_createTaskItem:(e,t)=>({data:e,callback:t}),*[Symbol.iterator](){yield*y._tasks[Symbol.iterator]()},concurrency:t,payload:r,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(h(e))return;return e.map((e=>p(e,!1,!1,t)))}return p(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(h(e))return;return e.map((e=>p(e,!1,!0,t)))}return p(e,!1,!0,t)},kill(){s(),y._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(h(e))return;return e.map((e=>p(e,!0,!1,t)))}return p(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(h(e))return;return e.map((e=>p(e,!0,!0,t)))}return p(e,!0,!0,t)},remove(e){y._tasks.remove(e)},process(){if(!g){for(g=!0;!y.paused&&i<y.concurrency&&y._tasks.length;){var e=[],t=[],r=y._tasks.length;y.payload&&(r=Math.min(r,y.payload));for(var a=0;a<r;a++){var s=y._tasks.shift();e.push(s),o.push(s),t.push(s.data)}i+=1,0===y._tasks.length&&c("empty"),i===y.concurrency&&c("saturated");var u=A(d(e));n(t,u)}g=!1}},length:()=>y._tasks.length,running:()=>i,workersList:()=>o,idle:()=>y._tasks.length+i===0,pause(){y.paused=!0},resume(){!1!==y.paused&&(y.paused=!1,l(y.process))}};return Object.defineProperties(y,{saturated:{writable:!1,value:f("saturated")},unsaturated:{writable:!1,value:f("unsaturated")},empty:{writable:!1,value:f("empty")},drain:{writable:!1,value:f("drain")},error:{writable:!1,value:f("error")}}),y}function G(e,t){return Q(e,1,t)}function K(e,t,r){return Q(e,t,r)}var $=g((function(e,t,r,n){n=w(n);var i=m(r);return N(e,((e,r,n)=>{i(t,e,((e,r)=>{t=r,n(e)}))}),(e=>n(e,t)))}),4);function W(...e){var t=e.map(m);return function(...e){var r=this,n=e[e.length-1];return"function"==typeof n?e.pop():n=M(),$(t,e,((e,t,n)=>{t.apply(r,e.concat(((e,...t)=>{n(e,t)})))}),((e,t)=>n(e,...t))),n[L]}}function V(...e){return W(...e.reverse())}var Y=g((function(e,t,r,n){return v(S(t),e,r,n)}),4),X=g((function(e,t,r,n){var i=m(r);return Y(e,t,((e,t)=>{i(e,((e,...r)=>e?t(e):t(e,r)))}),((e,t)=>{for(var r=[],i=0;i<t.length;i++)t[i]&&(r=r.concat(...t[i]));return n(e,r)}))}),4),J=g((function(e,t,r){return X(e,1/0,t,r)}),3),Z=g((function(e,t,r){return X(e,1,t,r)}),3);function ee(...e){return function(...t){return t.pop()(null,...e)}}function te(e,t){return(r,n,i,o)=>{var a,s=!1;const c=m(i);r(n,((r,n,i)=>{c(r,((n,o)=>n||!1===n?i(n):e(o)&&!a?(s=!0,a=t(!0,r),i(null,E)):void i()))}),(e=>{if(e)return o(e);o(null,s?a:t(!1))}))}}var re=g((function(e,t,r){return te((e=>e),((e,t)=>t))(T,e,t,r)}),3),ne=g((function(e,t,r,n){return te((e=>e),((e,t)=>t))(S(t),e,r,n)}),4),ie=g((function(e,t,r){return te((e=>e),((e,t)=>t))(S(1),e,t,r)}),3);function oe(e){return(t,...r)=>m(t)(...r,((t,...r)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&r.forEach((t=>console[e](t))))}))}var ae=oe("dir"),se=g((function(e,t,r){r=A(r);var n,i=m(e),o=m(t);function a(e,...t){if(e)return r(e);!1!==e&&(n=t,o(...t,s))}function s(e,t){return e?r(e):!1!==e?t?void i(a):r(null,...n):void 0}return s(null,!0)}),3);function ce(e,t,r){const n=m(t);return se(e,((...e)=>{const t=e.pop();n(...e,((e,r)=>t(e,!r)))}),r)}function ue(e){return(t,r,n)=>e(t,n)}var le=g((function(e,t,r){return T(e,ue(m(t)),r)}),3),pe=g((function(e,t,r,n){return S(t)(e,ue(m(r)),n)}),4),de=g((function(e,t,r){return pe(e,1,t,r)}),3);function he(e){return f(e)?e:function(...t){var r=t.pop(),n=!0;t.push(((...e)=>{n?l((()=>r(...e))):r(...e)})),e.apply(this,t),n=!1}}var fe=g((function(e,t,r){return te((e=>!e),(e=>!e))(T,e,t,r)}),3),me=g((function(e,t,r,n){return te((e=>!e),(e=>!e))(S(t),e,r,n)}),4),ge=g((function(e,t,r){return te((e=>!e),(e=>!e))(N,e,t,r)}),3);function ye(e,t,r,n){var i=new Array(t.length);e(t,((e,t,n)=>{r(e,((e,r)=>{i[t]=!!r,n(e)}))}),(e=>{if(e)return n(e);for(var r=[],o=0;o<t.length;o++)i[o]&&r.push(t[o]);n(null,r)}))}function ve(e,t,r,n){var i=[];e(t,((e,t,n)=>{r(e,((r,o)=>{if(r)return n(r);o&&i.push({index:t,value:e}),n(r)}))}),(e=>{if(e)return n(e);n(null,i.sort(((e,t)=>e.index-t.index)).map((e=>e.value)))}))}function be(e,t,r,n){return(b(t)?ye:ve)(e,t,m(r),n)}var Ee=g((function(e,t,r){return be(T,e,t,r)}),3),we=g((function(e,t,r,n){return be(S(t),e,r,n)}),4),Ae=g((function(e,t,r){return be(N,e,t,r)}),3),xe=g((function(e,t){var r=A(t),n=m(he(e));return function e(t){if(t)return r(t);!1!==t&&n(e)}()}),2),Se=g((function(e,t,r,n){var i=m(r);return Y(e,t,((e,t)=>{i(e,((r,n)=>r?t(r):t(r,{key:n,val:e})))}),((e,t)=>{for(var r={},{hasOwnProperty:i}=Object.prototype,o=0;o<t.length;o++)if(t[o]){var{key:a}=t[o],{val:s}=t[o];i.call(r,a)?r[a].push(s):r[a]=[s]}return n(e,r)}))}),4);function _e(e,t,r){return Se(e,1/0,t,r)}function ke(e,t,r){return Se(e,1,t,r)}var Ie=oe("log"),Te=g((function(e,t,r,n){n=w(n);var i={},o=m(r);return S(t)(e,((e,t,r)=>{o(e,t,((e,n)=>{if(e)return r(e);i[t]=n,r(e)}))}),(e=>n(e,i)))}),4);function Ce(e,t,r){return Te(e,1/0,t,r)}function Oe(e,t,r){return Te(e,1,t,r)}function Ne(e,t=e=>e){var r=Object.create(null),n=Object.create(null),o=m(e),a=i(((e,i)=>{var a=t(...e);a in r?l((()=>i(null,...r[a]))):a in n?n[a].push(i):(n[a]=[i],o(...e,((e,...t)=>{e||(r[a]=t);var i=n[a];delete n[a];for(var o=0,s=i.length;o<s;o++)i[o](e,...t)})))}));return a.memo=r,a.unmemoized=e,a}var Re=u(s?process.nextTick:a?setImmediate:c),Pe=g(((e,t,r)=>{var n=b(t)?[]:{};e(t,((e,t,r)=>{m(e)(((e,...i)=>{i.length<2&&([i]=i),n[t]=i,r(e)}))}),(e=>r(e,n)))}),3);function Le(e,t){return Pe(T,e,t)}function Me(e,t,r){return Pe(S(t),e,r)}function qe(e,t){var r=m(e);return Q(((e,t)=>{r(e[0],t)}),t,1)}class De{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&je(this.heap[e],this.heap[t=Be(e)]);){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}percDown(e){let t;for(;(t=1+(e<<1))<this.heap.length&&(t+1<this.heap.length&&je(this.heap[t+1],this.heap[t])&&(t+=1),!je(this.heap[e],this.heap[t]));){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let r=0;r<this.heap.length;r++)e(this.heap[r])||(this.heap[t]=this.heap[r],t++);this.heap.splice(t);for(let e=Be(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}function Be(e){return(e+1>>1)-1}function je(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function Ue(e,t){var r=qe(e,t),{push:n,pushAsync:i}=r;function o(e,t){return Array.isArray(e)?e.map((e=>({data:e,priority:t}))):{data:e,priority:t}}return r._tasks=new De,r._createTaskItem=({data:e,priority:t},r)=>({data:e,priority:t,callback:r}),r.push=function(e,t=0,r){return n(o(e,t),r)},r.pushAsync=function(e,t=0,r){return i(o(e,t),r)},delete r.unshift,delete r.unshiftAsync,r}var Fe=g((function(e,t){if(t=w(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)m(e[r])(t)}),2);function ze(e,t,r,n){var i=[...e].reverse();return $(i,t,r,n)}function He(e){var t=m(e);return i((function(e,r){return e.push(((e,...t)=>{let n={};if(e&&(n.error=e),t.length>0){var i=t;t.length<=1&&([i]=t),n.value=i}r(null,n)})),t.apply(this,e)}))}function Qe(e){var t;return Array.isArray(e)?t=e.map(He):(t={},Object.keys(e).forEach((r=>{t[r]=He.call(this,e[r])}))),t}function Ge(e,t,r,n){const i=m(r);return be(e,t,((e,t)=>{i(e,((e,r)=>{t(e,!r)}))}),n)}var Ke=g((function(e,t,r){return Ge(T,e,t,r)}),3),$e=g((function(e,t,r,n){return Ge(S(t),e,r,n)}),4),We=g((function(e,t,r){return Ge(N,e,t,r)}),3);function Ve(e){return function(){return e}}const Ye=5,Xe=0;function Je(e,t,r){var n={times:Ye,intervalFunc:Ve(Xe)};if(arguments.length<3&&"function"==typeof e?(r=t||M(),t=e):(function(e,t){if("object"==typeof t)e.times=+t.times||Ye,e.intervalFunc="function"==typeof t.interval?t.interval:Ve(+t.interval||Xe),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||Ye}}(n,e),r=r||M()),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var i=m(t),o=1;return function e(){i(((t,...i)=>{!1!==t&&(t&&o++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(t))?setTimeout(e,n.intervalFunc(o-1)):r(t,...i))}))}(),r[L]}function Ze(e,t){t||(t=e,e=null);let r=e&&e.arity||t.length;f(t)&&(r+=1);var n=m(t);return i(((t,i)=>{function o(e){n(...t,e)}return(t.length<r-1||null==i)&&(t.push(i),i=M()),e?Je(e,o,i):Je(o,i),i[L]}))}function et(e,t){return Pe(N,e,t)}var tt=g((function(e,t,r){return te(Boolean,(e=>e))(T,e,t,r)}),3),rt=g((function(e,t,r,n){return te(Boolean,(e=>e))(S(t),e,r,n)}),4),nt=g((function(e,t,r){return te(Boolean,(e=>e))(N,e,t,r)}),3),it=g((function(e,t,r){var n=m(t);return C(e,((e,t)=>{n(e,((r,n)=>{if(r)return t(r);t(r,{value:e,criteria:n})}))}),((e,t)=>{if(e)return r(e);r(null,t.sort(i).map((e=>e.value)))}));function i(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}}),3);function ot(e,t,r){var n=m(e);return i(((i,o)=>{var a,s=!1;i.push(((...e)=>{s||(o(...e),clearTimeout(a))})),a=setTimeout((function(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),s=!0,o(n)}),t),n(...i)}))}function at(e,t,r,n){var i=m(r);return Y(function(e){for(var t=Array(e);e--;)t[e]=e;return t}(e),t,i,n)}function st(e,t,r){return at(e,1/0,t,r)}function ct(e,t,r){return at(e,1,t,r)}function ut(e,t,r,n){arguments.length<=3&&"function"==typeof t&&(n=r,r=t,t=Array.isArray(e)?[]:{}),n=w(n||M());var i=m(r);return T(e,((e,r,n)=>{i(t,e,r,n)}),(e=>n(e,t))),n[L]}var lt=g((function(e,t){var r,n=null;return de(e,((e,t)=>{m(e)(((e,...i)=>{if(!1===e)return t(e);i.length<2?[r]=i:r=i,n=e,t(e?null:{})}))}),(()=>t(n,r)))}));function pt(e){return(...t)=>(e.unmemoized||e)(...t)}var dt=g((function(e,t,r){r=A(r);var n=m(t),i=m(e),o=[];function a(e,...t){if(e)return r(e);o=t,!1!==e&&i(s)}function s(e,t){return e?r(e):!1!==e?t?void n(a):r(null,...o):void 0}return i(s)}),3);function ht(e,t,r){const n=m(e);return dt((e=>n(((t,r)=>e(t,!r)))),t,r)}var ft=g((function(e,t){if(t=w(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function n(t){m(e[r++])(...t,A(i))}function i(i,...o){if(!1!==i)return i||r===e.length?t(i,...o):void n(o)}n([])})),mt={apply:n,applyEach:O,applyEachSeries:P,asyncify:p,auto:q,autoInject:F,cargo:G,cargoQueue:K,compose:V,concat:J,concatLimit:X,concatSeries:Z,constant:ee,detect:re,detectLimit:ne,detectSeries:ie,dir:ae,doUntil:ce,doWhilst:se,each:le,eachLimit:pe,eachOf:T,eachOfLimit:_,eachOfSeries:N,eachSeries:de,ensureAsync:he,every:fe,everyLimit:me,everySeries:ge,filter:Ee,filterLimit:we,filterSeries:Ae,forever:xe,groupBy:_e,groupByLimit:Se,groupBySeries:ke,log:Ie,map:C,mapLimit:Y,mapSeries:R,mapValues:Ce,mapValuesLimit:Te,mapValuesSeries:Oe,memoize:Ne,nextTick:Re,parallel:Le,parallelLimit:Me,priorityQueue:Ue,queue:qe,race:Fe,reduce:$,reduceRight:ze,reflect:He,reflectAll:Qe,reject:Ke,rejectLimit:$e,rejectSeries:We,retry:Je,retryable:Ze,seq:W,series:et,setImmediate:l,some:tt,someLimit:rt,someSeries:nt,sortBy:it,timeout:ot,times:st,timesLimit:at,timesSeries:ct,transform:ut,tryEach:lt,unmemoize:pt,until:ht,waterfall:ft,whilst:dt,all:fe,allLimit:me,allSeries:ge,any:tt,anyLimit:rt,anySeries:nt,find:re,findLimit:ne,findSeries:ie,flatMap:J,flatMapLimit:X,flatMapSeries:Z,forEach:le,forEachSeries:de,forEachLimit:pe,forEachOf:T,forEachOfSeries:N,forEachOfLimit:_,inject:$,foldl:$,foldr:ze,select:Ee,selectLimit:we,selectSeries:Ae,wrapSync:p,during:dt,doDuring:se}},1287:e=>{"use strict";e.exports={rE:"6.37.3"}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n=r(286);module.exports=n})();